// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define(["exports","./coordsUtils"],function(r,u){function v(a,e){if(!a||!a.length)return null;const b=[],f=[],d=e?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let g=0,l=a.length;g<l;g++){var h=A(a[g],e,d);h&&f.push(h)}f.sort((g,l)=>{let c=g[2]-l[2];0===c&&e&&(c=g[4]-l[4]);return c});f.length&&(h=6*f[0][2],b[0]=f[0][0]/h,b[1]=f[0][1]/h,e&&(h=6*f[0][4],b[2]=0!==h?f[0][3]/h:0),b[0]<d[0]||b[0]>d[1]||b[1]<d[2]||b[1]>d[3]||e&&(b[2]<d[4]||b[2]>d[5]))&&
(b.length=0);if(!b.length)if(a=a[0]&&a[0].length?w(a[0],e):null)b[0]=a[0],b[1]=a[1],e&&2<a.length&&(b[2]=a[2]);else return null;return b}function A(a,e,b){let f=0,d=0,h=0,g=0,l=0;for(let c=0;c<a.length;c++){const p=a[c],[n,k,m]=p,x=a[(c+1)%a.length],[t,y,z]=x;let q=n*y-t*k;g+=q;f+=(n+t)*q;d+=(k+y)*q;e&&2<p.length&&2<x.length&&(q=n*z-t*m,h+=(m+z)*q,l+=q);n<b[0]&&(b[0]=n);n>b[1]&&(b[1]=n);k<b[2]&&(b[2]=k);k>b[3]&&(b[3]=k);e&&(m<b[4]&&(b[4]=m),m>b[5]&&(b[5]=m))}0<g&&(g*=-1);0<l&&(l*=-1);if(!g)return null;
a=[f,d,.5*g];e&&(a[3]=h,a[4]=.5*l);return a}function w(a,e){const b=e?[0,0,0]:[0,0],f=e?[0,0,0]:[0,0];let d=0,h=0,g=0,l=0;for(let p=0,n=a.length;p<n-1;p++){var c=a[p];const k=a[p+1];if(c&&k){b[0]=c[0];b[1]=c[1];f[0]=k[0];f[1]=k[1];e&&2<c.length&&2<k.length&&(b[2]=c[2],f[2]=k[2]);const m=u.getLength(b,f);m&&(d+=m,c=u.getMidpoint(c,k),h+=m*c[0],g+=m*c[1],e&&2<c.length&&(l+=m*c[2]))}}return 0<d?e?[h/d,g/d,l/d]:[h/d,g/d]:a.length?a[0]:null}r.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,
a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};r.lineCentroid=w;r.polygonCentroid=function(a){return a?v(a.rings,a.hasZ):null};r.ringsCentroid=v;Object.defineProperty(r,"__esModule",{value:!0})});