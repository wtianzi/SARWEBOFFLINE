// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../core/maybe ../../../core/Error ../../../intl/number ../../../renderers/support/rasterRendererHelper ../support/utils".split(" "),function(g,d,e,h,l,m){async function n(a){a=await m.processRasterRendererParameters(a);const f=a.layer,{rasterInfo:b}=f;if(1<b.bandCount)throw new e("raster-class-breaks-renderer:not-supported","Multiband raster is not supported");if(!d.isSome(b.attributeTable)&&!d.isSome(b.histograms)&&(await f.updateRasterInfoWithEstimatedStats({renderingRule:a.renderingRule,
signal:a.signal}),!d.isSome(b.histograms)))throw new e("raster-class-breaks-renderer:not-supported","Histograms or raster attribute table is required on the source raster. Unable to estimate histograms");const {colors:c,numClasses:k}=a;if(c&&k&&c.length!==k)throw new e("raster-class-breaks-renderer:not-supported","The size of the `colors` parameter does not match 'numClasses'");a.field||(a.field="value");a.classificationMethod||(a.classificationMethod="natural-breaks");return a}g.createRenderer=async function(a){a=
await n(a);a=l.createClassBreaksRenderer(a.layer.rasterInfo,a);if(!d.isSome(a))throw new e("raster-class-breaks-renderer:not-supported","Class breaks renderer is not supported on this data");const f={minValue:a.minValue,maxValue:a.classBreakInfos[a.classBreakInfos.length-1].maxValue,normalizationTotal:null,classBreakInfos:a.classBreakInfos.map(b=>{var c=b.maxValue;c=h.formatNumber(b.minValue,{maximumFractionDigits:3})+" - "+h.formatNumber(c,{maximumFractionDigits:3});b.label=c;return{minValue:b.minValue,
maxValue:b.maxValue,label:c}})};return{renderer:a,classBreaksResult:f}};Object.defineProperty(g,"__esModule",{value:!0})});