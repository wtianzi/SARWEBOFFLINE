// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/Error","../../../renderers/support/rasterRendererHelper","./adapters/ImageryLayerAdapter","./adapters/ImageryTileLayerAdapter"],function(c,g,h,m,k){function e(a){var b;if("raster-layer-adapter"===a.type)return a;const d=null==(b=f[a.type])?void 0:b.adapter;return null==d?null:new d({layer:a})}async function l(a){var {layer:b}=a;if(!b)throw new g("raster-renderer-creator:missing-parameters","'layer' parameter is required");b=e(b);if(null==b)throw new g("raster-renderer-creator:invalid-parameters",
"'layer' must be one of these types: "+n.join(", "));await b.load();await b.updateRasterInfo({renderingRule:a.renderingRule,signal:a.signal});return{...a,layer:b}}const f={imagery:{adapter:m,label:"ImageryLayer"},"imagery-tile":{adapter:k,label:"ImageryTileLayer"},wcs:{adapter:k,label:"WCSLayer"}},p={"raster-stretch":"raster-stretch","unique-value":"raster-unique-value","raster-rgb":"raster-rgb","class-breaks":"raster-class-breaks","raster-colormap":"raster-colormap","raster-shaded-relief":"raster-shaded-relief",
"vector-field":"raster-vector-field"},n=Object.keys(f).map(a=>f[a].label);c.createRasterLayerAdapter=e;c.getSupportedRendererInfo=async function(a){a=await l(a);var b=await e(a.layer).generateRasterInfo(a);a=h.getSupportedRendererTypes(b).map(q=>p[q]);const d=h.createDefaultRenderer(b);({bandCount:b}=b);1<b&&a.push("raster-rgb");return{supportedTypes:a,defaultRenderer:d}};c.processRasterRendererParameters=l;Object.defineProperty(c,"__esModule",{value:!0})});