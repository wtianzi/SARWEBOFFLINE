// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Logger ./accessorSupport/decorators/subclass ./accessorSupport/tracking ./accessorSupport/tracking/SimpleTrackingTarget ./Accessor".split(" "),function(h,k,l,p,m,q,r,t){function u(e,f){const g=()=>{if(!b||a)return f();b.clear();a=!0;const c=q.runTracked(b,f);a=!1;return c};let b=new r.SimpleTrackingTarget(()=>{b&&!a&&e(g)}),a=!1;e(g);return{remove:()=>{b&&(b.destroy(),b=null)}}}const n=e=>{e=function(f){function g(){var a=f.apply(this,
arguments)||this;a.asyncUpdateState=new Map;return a}k._inheritsLoose(g,f);var b=g.prototype;b.autoUpdateAsync=function(a,c){return u(d=>this.updateAsync(a,d),c)};b.updateAsync=async function(a,c){if(!this.startAsyncUpdate(a)){try{const d=await c();this._set(a,d)}catch(d){p.getLogger(this.declaredClass).warn(`Async update of "${a}" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(a)&&this.updateAsync(a,c)}};b.startAsyncUpdate=function(a){var c;const d=null!=(c=this.asyncUpdateState.get(a))?
c:0;if(d&1)return this.asyncUpdateState.set(a,d|2),!0;this.asyncUpdateState.set(a,d|1);return!1};b.endAsyncUpdate=function(a){var c;const d=(null!=(c=this.asyncUpdateState.get(a))?c:0)&-2;if(d&2)return this.asyncUpdateState.set(a,d&-3),!0;this.asyncUpdateState.set(a,d);return!1};return g}(e);return e=l.__decorate([m.subclass("esri.core.AsyncUpdate")],e)};h.AsyncUpdate=function(e){function f(){return e.apply(this,arguments)||this}k._inheritsLoose(f,e);return f}(n(t));h.AsyncUpdate=l.__decorate([m.subclass("esri.core.AsyncUpdate")],
h.AsyncUpdate);h.AsyncUpdateMixin=n;Object.defineProperty(h,"__esModule",{value:!0})});