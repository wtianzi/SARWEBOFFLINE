// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../geometry/SpatialReference ../geometry/Extent ./Task ../rest/geoprocessor/GPOptions ../rest/geoprocessor/execute ../rest/geoprocessor/submitJob".split(" "),function(p,f,c,A,B,h,C,q,D,E,F,m,r,t,k,u,v){c=function(n){function l(a){a=
n.call(this,a)||this;a._jobs=new Map;a.outSpatialReference=null;a.processExtent=null;a.processSpatialReference=null;a.returnFeatureCollection=!1;a.returnM=!1;a.returnZ=!1;return a}p._inheritsLoose(l,n);var d=l.prototype;d.destroy=function(){this._jobs.forEach(a=>a.destroy());this._jobs.clear()};d.cancelJob=function(a,b){return this._jobs.get(a).cancelJob({...this.requestOptions,...b})};d.checkJobStatus=function(a,b){return this._jobs.get(a).checkJobStatus({...this.requestOptions,...b})};d.execute=
function(a,b){const g=new k({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ});return u.execute(this.url,a,g,{...this.requestOptions,...b})};d.getResultData=function(a,b,g){a=this._jobs.get(a);const {returnFeatureCollection:e,returnM:w,returnZ:x,outSpatialReference:y}=this,z=new k({returnFeatureCollection:e,returnM:w,returnZ:x,
outSpatialReference:y,url:this.url});return a.fetchResultData(b,z,{...this.requestOptions,...g})};d.getResultImage=function(a,b,g,e){return this._jobs.get(a).fetchResultImage(b,g,{...this.requestOptions,...e})};d.getResultMapImageLayer=async function(a){return this._jobs.get(a).fetchResultMapImageLayer()};d.submitJob=function(a,b){const g=new k({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,
returnM:this.returnM,returnZ:this.returnZ});return v.submitJob(this.url,a,g,{...this.requestOptions,...b}).then(e=>{e.sourceUrl=this.url;this._jobs.set(e.jobId,e);return e})};d.waitForJobCompletion=function(a,b={}){return this._jobs.get(a).waitForJobCompletion(b)};return l}(t);f.__decorate([h.property({type:m})],c.prototype,"outSpatialReference",void 0);f.__decorate([h.property({type:r})],c.prototype,"processExtent",void 0);f.__decorate([h.property({type:m})],c.prototype,"processSpatialReference",
void 0);f.__decorate([h.property({nonNullable:!0})],c.prototype,"returnFeatureCollection",void 0);f.__decorate([h.property({nonNullable:!0})],c.prototype,"returnM",void 0);f.__decorate([h.property({nonNullable:!0})],c.prototype,"returnZ",void 0);return c=f.__decorate([q.subclass("esri/tasks/Geoprocessor")],c)});