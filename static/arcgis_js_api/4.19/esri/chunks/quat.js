// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ./vec3f64 ./common ./vec3 ./mat3f64 ./quatf64 ./vec4".split(" "),function(g,r,t,q,ca,E,k){function F(b){b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b}function B(b,a,c){c*=.5;const d=Math.sin(c);b[0]=d*a[0];b[1]=d*a[1];b[2]=d*a[2];b[3]=Math.cos(c);return b}function G(b,a){const c=2*Math.acos(a[3]),d=Math.sin(c/2);d>t.EPSILON?(b[0]=a[0]/d,b[1]=a[1]/d,b[2]=a[2]/d):(b[0]=1,b[1]=0,b[2]=0);return c}function v(b,a,c){const d=a[0],e=a[1],f=a[2];a=a[3];const h=c[0],n=c[1],p=c[2];c=c[3];b[0]=d*c+a*h+
e*p-f*n;b[1]=e*c+a*n+f*h-d*p;b[2]=f*c+a*p+d*n-e*h;b[3]=a*c-d*h-e*n-f*p;return b}function H(b,a,c){c*=.5;const d=a[0],e=a[1],f=a[2];a=a[3];const h=Math.sin(c);c=Math.cos(c);b[0]=d*c+a*h;b[1]=e*c+f*h;b[2]=f*c-e*h;b[3]=a*c-d*h;return b}function I(b,a,c){c*=.5;const d=a[0],e=a[1],f=a[2];a=a[3];const h=Math.sin(c);c=Math.cos(c);b[0]=d*c-f*h;b[1]=e*c+a*h;b[2]=f*c+d*h;b[3]=a*c-e*h;return b}function J(b,a,c){c*=.5;const d=a[0],e=a[1],f=a[2];a=a[3];const h=Math.sin(c);c=Math.cos(c);b[0]=d*c+e*h;b[1]=e*c-d*
h;b[2]=f*c+a*h;b[3]=a*c-f*h;return b}function K(b,a){const c=a[0],d=a[1];a=a[2];b[0]=c;b[1]=d;b[2]=a;b[3]=Math.sqrt(Math.abs(1-c*c-d*d-a*a));return b}function u(b,a,c,d){const e=a[0],f=a[1],h=a[2];a=a[3];let n=c[0],p=c[1],w=c[2];c=c[3];let x;let C;var l=e*n+f*p+h*w+a*c;0>l&&(l=-l,n=-n,p=-p,w=-w,c=-c);1-l>t.EPSILON?(x=Math.acos(l),C=Math.sin(x),l=Math.sin((1-d)*x)/C,d=Math.sin(d*x)/C):l=1-d;b[0]=l*e+d*n;b[1]=l*f+d*p;b[2]=l*h+d*w;b[3]=l*a+d*c;return b}function L(b){var a=t.RANDOM();const c=t.RANDOM(),
d=t.RANDOM(),e=Math.sqrt(1-a);a=Math.sqrt(a);b[0]=e*Math.sin(2*Math.PI*c);b[1]=e*Math.cos(2*Math.PI*c);b[2]=a*Math.sin(2*Math.PI*d);b[3]=a*Math.cos(2*Math.PI*d);return b}function M(b,a){const c=a[0],d=a[1],e=a[2];a=a[3];var f=c*c+d*d+e*e+a*a;f=f?1/f:0;b[0]=-c*f;b[1]=-d*f;b[2]=-e*f;b[3]=a*f;return b}function N(b,a){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b}function D(b,a){var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+1),b[3]=.5*c,c=.5/c,b[0]=(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*
c;else{let d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);const e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(a[3*d+d]-a[3*e+e]-a[3*f+f]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*e+f]-a[3*f+e])*c;b[e]=(a[3*e+d]+a[3*d+e])*c;b[f]=(a[3*f+d]+a[3*d+f])*c}return b}function O(b,a,c,d){var e=.5*Math.PI/180;a*=e;c*=e;d*=e;e=Math.sin(a);a=Math.cos(a);const f=Math.sin(c);c=Math.cos(c);const h=Math.sin(d);d=Math.cos(d);b[0]=e*c*d-a*f*h;b[1]=a*f*d+e*c*h;b[2]=a*c*h-e*f*d;b[3]=a*c*d+e*f*h;return b}function P(b){return"quat("+b[0]+", "+b[1]+", "+
b[2]+", "+b[3]+")"}function Q(b,a,c){const d=q.dot(a,c);if(-.999999>d)return q.cross(m,da,a),1E-6>q.len(m)&&q.cross(m,ea,a),q.normalize(m,m),B(b,m,Math.PI),b;if(.999999<d)return b[0]=0,b[1]=0,b[2]=0,b[3]=1,b;q.cross(m,a,c);b[0]=m[0];b[1]=m[1];b[2]=m[2];b[3]=1+d;return y(b,b)}function R(b,a,c,d,e,f){u(S,a,e,f);u(T,c,d,f);u(b,S,T,2*f*(1-f));return b}function U(b,a,c,d){const e=fa;e[0]=c[0];e[3]=c[1];e[6]=c[2];e[1]=d[0];e[4]=d[1];e[7]=d[2];e[2]=-a[0];e[5]=-a[1];e[8]=-a[2];return y(b,D(b,e))}const V=
k.copy,W=k.set,X=k.add,Y=k.scale,Z=k.dot,aa=k.lerp,z=k.length,A=k.squaredLength,y=k.normalize,ba=k.exactEquals;k=k.equals;const m=r.create(),da=r.fromValues(1,0,0),ea=r.fromValues(0,1,0),S=E.create(),T=E.create(),fa=ca.create();r=Object.freeze({__proto__:null,identity:F,setAxisAngle:B,getAxisAngle:G,multiply:v,rotateX:H,rotateY:I,rotateZ:J,calculateW:K,slerp:u,random:L,invert:M,conjugate:N,fromMat3:D,fromEuler:O,str:P,copy:V,set:W,add:X,mul:v,scale:Y,dot:Z,lerp:aa,length:z,len:z,squaredLength:A,sqrLen:A,
normalize:y,exactEquals:ba,equals:k,rotationTo:Q,sqlerp:R,setAxes:U});g.add=X;g.calculateW=K;g.conjugate=N;g.copy=V;g.dot=Z;g.equals=k;g.exactEquals=ba;g.fromEuler=O;g.fromMat3=D;g.getAxisAngle=G;g.identity=F;g.invert=M;g.len=z;g.length=z;g.lerp=aa;g.mul=v;g.multiply=v;g.normalize=y;g.quat=r;g.random=L;g.rotateX=H;g.rotateY=I;g.rotateZ=J;g.rotationTo=Q;g.scale=Y;g.set=W;g.setAxes=U;g.setAxisAngle=B;g.slerp=u;g.sqlerp=R;g.sqrLen=A;g.squaredLength=A;g.str=P});