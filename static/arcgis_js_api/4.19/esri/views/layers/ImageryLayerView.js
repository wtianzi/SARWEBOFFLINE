// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../geometry/Point ../../layers/support/commonProperties ../../tasks/support/Query ./support/popupUtils".split(" "),function(h,r,
e,k,t,C,D,f,E,u,n,F,G,H,p,v,w,x){k=b=>{b=function(l){function m(){var a=l.apply(this,arguments)||this;a.view=null;return a}r._inheritsLoose(m,l);var q=m.prototype;q.fetchPopupFeatures=async function(a,d){const {layer:g}=this;if(!a)throw new n("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:g});var {popupEnabled:c}=g;d=x.getFetchPopupTemplate(g,d);if(!c||!t.isSome(d))throw new n("imagerylayerview:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:c,
popupTemplate:d});const y=await d.getRequiredFields();c=new w;c.geometry=a;c.outFields=y;c.outSpatialReference=a.spatialReference;a=this.view.resolution;a="2d"===this.view.type?new p(a,a,this.view.spatialReference):new p(.5*a,.5*a,this.view.spatialReference);const {returnTopmostRaster:z,showNoDataRecords:A}=d.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1};return g.queryVisibleRasters(c,{returnDomainValues:!0,returnTopmostRaster:z,pixelSize:a,showNoDataRecords:A}).then(B=>B)};q.canResume=
function(){var a;return!l.prototype.canResume.call(this)||null!=(a=this.timeExtent)&&a.isEmpty?!1:!0};return m}(b);e.__decorate([f.property()],b.prototype,"layer",void 0);e.__decorate([f.property()],b.prototype,"suspended",void 0);e.__decorate([f.property(v.combinedViewLayerTimeExtentProperty)],b.prototype,"timeExtent",void 0);e.__decorate([f.property()],b.prototype,"view",void 0);return b=e.__decorate([u.subclass("esri.views.layers.ImageryLayerView")],b)};h.ImageryLayerView=k;h.default=k;Object.defineProperty(h,
"__esModule",{value:!0})});