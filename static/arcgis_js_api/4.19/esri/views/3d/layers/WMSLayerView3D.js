// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/Error ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../geometry/Extent ../../layers/WMSLayerView ./DynamicLayerView3D".split(" "),function(m,g,c,v,w,n,x,p,q,y,z,A,r,
t,u){c=function(h){function d(){return h.apply(this,arguments)||this}m._inheritsLoose(d,h);var e=d.prototype;e.initialize=function(){this.layer.supportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new q("layerview:spatial-reference-incompatible","The spatial references supported by this WMS layer are incompatible with the spatial reference of the view")));this.updatingHandles.add(this.exportImageParameters,"version",()=>{this.updatingHandles.addPromise(this.refreshDebounced())})};
e.createFetchPopupFeaturesQuery=function(f){var b=this.findExtentInfoAt(f),a=b.extent;a=new r(a[0],a[1],a[2],a[3],b.spatialReference);b=b.imageSize;const k=b.width,l=a.width/k;return{extent:a,width:k,height:b.height,x:Math.round((f.x-a.xmin)/l),y:Math.round((a.ymax-f.y)/l)}};e.getFetchOptions=function(){return{timeExtent:this.timeExtent}};return d}(t.WMSLayerView(u));g.__decorate([n.property()],c.prototype,"suspended",void 0);return c=g.__decorate([p.subclass("esri.views.3d.layers.WMSLayerView3D")],
c)});