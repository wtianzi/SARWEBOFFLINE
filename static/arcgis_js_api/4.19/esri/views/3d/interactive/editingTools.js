// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/interactive/editingTools/draw/DrawOperation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/lang ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/promiseUtils ../../../../../geometry/Point ../../../../../geometry ../../../../../core/Evented ../../../../../core/screenUtils ../../../../../core/Handles ../../../../support/Scheduler ../../../../../layers/graphics/dehydratedFeatureComparison ../../../../interactive/coordinateHelper ../../../../interactive/editGeometry/EditGeometry ../../../../interactive/editGeometry/EditGeometryHelper ../../../../interactive/snapping/SnappingContext ../../../../interactive/dragEventPipeline ../../SnappingDragPipelineStep ../../SnappingVisualizer3D ./DrawManipulator ../../../../draw/DrawingMode".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia,la,pa,oa){z.DrawOperation=function(na){function xa(ra){var Ca,Da;var ba=na.call(this)||this;ba._manipulator=null;ba._stagedVertex=null;ba.geometryType=null;ba.elevationInfo=null;ba.snapToSceneEnabled=null;ba._handles=new C;ba._defaultZ=0;ba._elevationDrawSurface=null;ba._snappingDrawSurface=null;ba._snappingManager=null;ba._snappingPipeline=new ia.SnappingPipeline;ba._createOperationCompleted=!1;ba._pointerDownStates=new Set;ba._snappingTask=
null;ba.view=ra.view;ba.drawingMode=B.unwrapOr(ra.drawingMode,oa.defaultDrawingMode);ba.geometryType=ra.geometryType;ba.elevationInfo=ra.elevationInfo;ba.coordinateHelper=Q.createCoordinateHelper(ra.hasZ,ra.hasM,ba.view.spatialReference,ba.view.viewingMode);ba._defaultZ=ra.defaultZ;ba.snapToSceneEnabled=ra.snapToSceneEnabled;ba._snappingDrawSurface=B.unwrap(ra.snappingDrawSurface);ba._snappingManager=ra.snappingManager;const wa=null==(Ca=ra.view)?void 0:null==(Da=Ca.resourceController)?void 0:Da.scheduler;
ba._frameTask=wa?wa.registerTask(N.Task.SNAPPING,ua=>ba._frameTask.processQueue(ua),()=>!1):N.ImmediateTask;ba._elevationDrawSurface=ra.elevationDrawSurface;ba._editGeometry=new V.EditGeometryHelper(new I.EditGeometry(ba.coordinateHelper),"segment"===ba.geometryType?"polyline":ba.geometryType);ba._activeComponent=new I.Component(ba._editGeometry.editGeometry);ba._editGeometry.editGeometry.components.push(ba._activeComponent);ba._editGeometry.on(["vertex-add","vertex-update","vertex-remove"],ua=>{const Aa=
ua.vertices.map(ta=>({componentIndex:0,vertexIndex:ta.index,coordinates:ba.coordinateHelper.toArray(ta.pos)})),Ea=Aa.map(ta=>ta.coordinates);switch(ua.type){case "vertex-add":ba.emit(ua.type,{...ua,added:Ea,vertices:Aa});break;case "vertex-update":ba.emit(ua.type,{...ua,updated:Ea,vertices:Aa});break;case "vertex-remove":ba.emit(ua.type,{...ua,removed:Ea,vertices:Aa})}});ba._manipulator=new pa.DrawManipulator({grabbableForEvent:ua=>"click"!==ba.drawingMode?!0:"touch"===ua.pointerType&&ba._snappingEnabled&&
1===ba._pointerDownStates.size});ra.manipulators.add(ba._manipulator);ba._manipulator.grabbable="point"!==ba.geometryType;ra=ba.createManipulatorDragPipeline(ba._manipulator);Ca=ba._manipulator.events.on("immediate-double-click",ua=>{ba._manipulator.dragging||"point"===ba.geometryType||(ba.complete(),ua.stopPropagation())});Da=ba._manipulator.events.on("immediate-click",ua=>{if(!ba._manipulator.dragging){var Aa=ba._activeComponent,Ea=ba._closeOnClickVertexIndex(ua.screenPoint);if(B.isSome(Ea))ba.discardStagedVertex(),
ba.complete();else if(Ea=ba._screenToMap(ua.screenPoint),B.isSome(Ea))switch(ba.drawingMode){case "click":case "hybrid":ba._snappingTask=B.abortMaybe(ba._snappingTask),ba.hasStagedVertex?ba.commitStagedVertex():ba._editGeometry.appendVertex(ba.coordinateHelper.fromPoint(Ea)),("point"===ba.geometryType||"segment"===ba.geometryType&&2===Aa.vertices.length||"segment"===ba.geometryType&&"hybrid"===ba.drawingMode&&1===Aa.vertices.length)&&ba.complete()}ua.stopPropagation()}});ba._handles.add([ra,Da,Ca]);
return ba}W._inheritsLoose(xa,na);var za=xa.prototype;za.createManipulatorDragPipeline=function(ra){switch(this.drawingMode){case "click":return this.createManipulatorDragPipelineClick(ra);case "freehand":return this.createManipulatorDragPipelineFreehand(ra);case "hybrid":return this.createManipulatorDragPipelineHybrid(ra)}};za.createManipulatorDragPipelineClick=function(ra){return ja.createManipulatorDragEventPipeline(ra,(Ca,Da,ba,wa)=>{const ua="touch"===wa&&this._snappingEnabled;!this.isCompleted&&
ua&&(Da.next(this._screenToMapDragEventStep()).next(Aa=>{"start"===Aa.action&&(this.stagedVertex=Aa.mapStart,("segment"===this.geometryType||ua&&0===this.vertices.length)&&this.commitStagedVertex());return Aa}).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>ua,cancel:ba,snappingManager:this._snappingManager,snappingContext:new R.SnappingContext({geometry:this._editGeometry,elevationInfo:this.elevationInfo,pointer:wa,visualizer:new la.SnappingVisualizer3D})}),this._snappingPipeline.next).next(Aa=>
{ua&&(this.stagedVertex=Aa.mapEnd,"end"===Aa.action&&this.commitStagedVertex());return Aa}).next(Aa=>{"end"!==Aa.action||"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete();return Aa}),ba.next(()=>{ua&&B.isSome(this._snappingManager)&&this._snappingManager.doneSnapping()}))})};za.createManipulatorDragPipelineFreehand=function(ra){return ja.createManipulatorDragEventPipeline(ra,(Ca,Da)=>{this.isCompleted||Da.next(this._screenToMapDragEventStep()).next(ba=>{"start"===ba.action&&
(this.stagedVertex=ba.mapStart,"segment"===this.geometryType&&this.commitStagedVertex());return ba}).next(ba=>{switch(ba.action){case "start":case "update":this.stagedVertex=ba.mapEnd;"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case "end":this.complete()}return ba})})};za.createManipulatorDragPipelineHybrid=function(ra){return ja.createManipulatorDragEventPipeline(ra,(Ca,Da)=>{this.isCompleted||Da.next(this._screenToMapDragEventStep()).next(ba=>{"start"===
ba.action&&(this.stagedVertex=ba.mapStart,this.commitStagedVertex());return ba}).next(ba=>{switch(ba.action){case "start":case "update":this.stagedVertex=ba.mapEnd;"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case "end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return ba})})};za.destroy=function(){this._handles.destroy();this._handles=null;this._editGeometry.destroy();this._frameTask.remove()};za.onInputEvent=function(ra){switch(ra.type){case "pointer-down":this._pointerDownStates.add(ra.pointerId);
break;case "pointer-up":this._pointerDownStates.delete(ra.pointerId)}switch(ra.type){case "pointer-move":return this._onPointerMove(ra);case "hold":return this._onHold(ra)}};za.redo=function(){this._editGeometry.redo()};za.undo=function(){B.isSome(this._snappingManager)&&this._snappingManager.doneSnapping();this._editGeometry.undo()};za.complete=function(ra=!1){B.abortMaybe(this._snappingTask);this.commitStagedVertex();this._createOperationCompleted=!0;B.isSome(this._snappingManager)&&this._snappingManager.doneSnapping();
this.emit("complete",{vertices:this.vertices.map((Ca,Da)=>({componentIndex:0,vertexIndex:Da,coordinates:Ca})),aborted:ra,type:"complete"})};za.cancel=function(){this.complete(!0)};za.commitStagedVertex=function(){this._snappingTask=B.abortMaybe(this._snappingTask);if(B.isSome(this._stagedVertex)){const ra=this._stagedVertex;this._stagedVertex=null;this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(ra))}};za.discardStagedVertex=function(){this._stagedVertex=null};za._onPointerMove=function(ra){B.abortMaybe(this._snappingTask);
if(!(this._manipulator.dragging||this._pointerDownStates.has(ra.pointerId)||this._manipulator.grabbing)&&this._manipulator.interactive){var Ca=w.createScreenPoint(ra.x,ra.y),Da=this._closeOnClickVertexIndex(Ca);if(B.isSome(Da))this.discardStagedVertex(),Ca={componentIndex:0,vertexIndex:Da,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[Da].pos)},this.emit("cursor-update",{updated:null,vertices:[Ca],operation:"apply",type:"vertex-update"});else{const ba=this._screenToMap(Ca);
this._manipulator.cursor=B.isSome(ba)?"crosshair":null;if(B.isSome(ba))if(B.isSome(this._snappingManager)){const wa=this._snappingManager,ua=new R.SnappingContext({geometry:this._editGeometry,elevationInfo:this.elevationInfo,pointer:ra.pointerType,visualizer:new la.SnappingVisualizer3D});this.stagedVertex=wa.update(ba,ua);this._snappingTask=U.createTask(async Aa=>{const Ea=await this._frameTask.schedule(()=>wa.snap(ba,ua,Aa),Aa);Ea.valid&&await this._frameTask.schedule(()=>{this.stagedVertex=Ea.apply()},
Aa)})}else this.stagedVertex=ba}ra.stopPropagation()}};za._onHold=function(ra){B.abortMaybe(this._snappingTask);"click"===this.drawingMode&&"touch"===ra.pointerType&&this._snappingEnabled&&(this.stagedVertex=ra.mapPoint);ra.stopPropagation()};za._screenToMapDragEventStep=function(){let ra=null;return Ca=>{"start"===Ca.action&&(ra=this._screenToMap(Ca.screenStart));if(B.isNone(ra))return null;const Da=this._screenToMap(Ca.screenEnd);return B.isSome(Da)?{...Ca,mapStart:ra,mapEnd:Da}:null}};za._screenToMap=
function(ra){return this._getDrawSurface().screenToMap(ra)};za._mapToScreen=function(ra){return this._getDrawSurface().mapToScreen(ra)};za._getDrawSurface=function(){var ra=null;if(this.coordinateHelper.hasZ){ra=this._defaultZ;let Ca=!1;B.isSome(this.elevationInfo)&&"absolute-height"===this.elevationInfo.mode&&(Ca=!0);B.isSome(this.snapToSceneEnabled)&&(Ca=this.snapToSceneEnabled);B.isSome(this.elevationInfo)&&"on-the-ground"===this.elevationInfo.mode&&(Ca=!1);const Da=this._activeComponent.vertices.length;
("segment"===this.geometryType||"polygon"===this.geometryType)&&0<Da&&(ra=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),Ca=!1);Ca?ra=this._snappingDrawSurface:(this._elevationDrawSurface.defaultZ=ra,ra=this._elevationDrawSurface)}else this._elevationDrawSurface.defaultZ=null,ra=this._elevationDrawSurface;return ra};za._vertexWithinPointerDistance=function(ra,Ca){const Da=this._mapToScreen(ra);B.isSome(Da)?(ra=Da.x-Ca.x,Ca=Da.y-Ca.y,Ca=25>=ra*ra+Ca*Ca):Ca=!1;return Ca};za._closeOnClickVertexIndex=
function(ra){const Ca=this._activeComponent;if("polygon"===this.geometryType&&2<Ca.vertices.length){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(Ca.vertices[0].pos,va),ra))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(Ca.vertices[Ca.vertices.length-1].pos,va),ra))return Ca.vertices.length-1}return null};W._createClass(xa,[{key:"isCompleted",get:function(){return this._createOperationCompleted}},{key:"_snappingEnabled",get:function(){return B.isSome(this._snappingManager)&&
this._snappingManager.options.effectiveEnabled}},{key:"canRedo",get:function(){return this._editGeometry.canRedo}},{key:"canUndo",get:function(){return this._editGeometry.canUndo}},{key:"interactive",get:function(){return this._manipulator.interactive},set:function(ra){this._manipulator.interactive=ra}},{key:"numVertices",get:function(){return B.isSome(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}},{key:"numCommittedVertices",get:function(){return this._activeComponent.vertices.length}},
{key:"vertices",get:function(){const ra=this._activeComponent.vertices.map(Ca=>this.coordinateHelper.toArray(Ca.pos));B.isSome(this._stagedVertex)&&ra.push(this.coordinateHelper.pointToArray(this._stagedVertex));return ra}},{key:"spatialReference",get:function(){return this.view.spatialReference}},{key:"hasStagedVertex",get:function(){return B.isSome(this._stagedVertex)}},{key:"stagedVertex",get:function(){return this._stagedVertex},set:function(ra){B.isNone(ra)?this.discardStagedVertex():B.isSome(this._stagedVertex)&&
T.pointEquals(this._stagedVertex,ra)||(B.isNone(this._stagedVertex)?this._stagedVertex=L.clone(ra):(this._stagedVertex.x=ra.x,this._stagedVertex.y=ra.y,this._stagedVertex.z=ra.z,this._stagedVertex.m=ra.m,this._stagedVertex.hasZ=ra.hasZ,this._stagedVertex.hasM=ra.hasM,this._stagedVertex.spatialReference=ra.spatialReference),ra={componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(ra)},this.emit("cursor-update",{updated:null,vertices:[ra],
operation:"apply",type:"vertex-update"}))}}]);return xa}(y);z.DrawOperation=F.__decorate([H.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawOperation")],z.DrawOperation);const va=new K({x:0,y:0,z:0});Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/coordinateHelper":function(){define("exports ../../geometry/support/spatialReferenceUtils ../../geometry/Point ../../geometry ../../chunks/vec3f64 ../../chunks/vec3 ../../chunks/vec2f64 ../../chunks/vec4f64 ../../chunks/vec2 ../../chunks/vec4 ../3d/support/stack".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H){function Y(A,y){if(y.supported){var w=Infinity,C=-Infinity,N=y.upperBoundX-y.lowerBoundX;A.forEach(Q=>{let I=Q.pos[0];for(;I<y.lowerBoundX;)I+=N;for(;I>y.upperBoundX;)I-=N;w=Math.min(w,I);C=Math.max(C,I);Q.pos[0]=I});var T=C-w;N-T<T&&A.forEach(Q=>{0>Q.pos[0]&&(Q.pos[0]+=N)})}}function aa(A,y){A=W.getInfo(A);return"global"===y&&A?{supported:!0,lowerBoundX:A.valid[0],upperBoundX:A.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}let X=function(){function A(w,
C){this.spatialReference=w;this.viewingMode=C;this._unnormalizationInfo=aa(w,C)}var y=A.prototype;y.tag=function(w){return w};y.createNew=function(){return this.tag(P.create())};y.fromPoint=function(w){return this.tag(P.fromValues(w.x,w.y))};y.fromArray=function(w){return this.tag(P.fromValues(w[0],w[1]))};y.toArray=function(w){return[w[0],w[1]]};y.clone=function(w){return this.tag(P.fromArray(w))};y.toPoint=function(w,C){C.x=w[0];C.y=w[1];C.hasZ=!1;C.hasM=!1;C.spatialReference=this.spatialReference;
return C};y.createPoint=function(w){return new F({x:w[0],y:w[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};y.createPointFromArray=function(w){return new F({x:w[0],y:w[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};y.createDehydratedPoint=function(w){return{x:w[0],y:w[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:"point"}};y.lerp=function(w,C,N,T){return G.lerp(T,w,C,N)};y.addDelta=function(w,C,N){w[0]+=C;w[1]+=N};y.scale=function(w,
C,N,T){const Q=H.sv2d.get();C=G.subtract(Q,w,C);N=G.scale(Q,N,G.dot(N,C));G.scaleAndAdd(w,w,N,T-1)};y.rotate=function(w,C,N){G.rotate(w,w,C,N)};y.pointToArray=function(w){return[w.x,w.y]};y.getZ=function(w,C){return C};y.hasZ=function(){return!1};y.unnormalize=function(w){Y(w,this._unnormalizationInfo)};y.fromXYZ=function(w){return this.tag(P.fromValues(w[0],w[1]))};y.toXYZ=function(w,C=0){return L.fromValues(w[0],w[1],C)};return A}(),U=function(){function A(w,C,N){this.valueType=w;this.spatialReference=
C;this._unnormalizationInfo=aa(C,N)}var y=A.prototype;y.tag=function(w){return w};y.createNew=function(){return this.tag(L.create())};y.fromPoint=function(w){return this.tag(L.fromValues(w.x,w.y,0===this.valueType?w.z:w.m))};y.fromArray=function(w){return this.tag(L.fromValues(w[0],w[1],w[2]||0))};y.toArray=function(w){return[w[0],w[1],w[2]]};y.clone=function(w){return this.tag(L.fromArray(w))};y.toPoint=function(w,C){C.x=w[0];C.y=w[1];0===this.valueType?(C.z=w[2],C.hasZ=!0,C.hasM=!1):(C.m=w[2],C.hasZ=
!1,C.hasM=!0);C.spatialReference=this.spatialReference;return C};y.createPoint=function(w){return new F({x:w[0],y:w[1],z:0===this.valueType?w[2]:void 0,m:1===this.valueType?w[2]:void 0,spatialReference:this.spatialReference})};y.createPointFromArray=function(w){return new F({x:w[0],y:w[1],z:0===this.valueType?w[2]:void 0,m:1===this.valueType?w[2]:void 0,spatialReference:this.spatialReference})};y.createDehydratedPoint=function(w){const C=0===this.valueType,N=1===this.valueType;return{x:w[0],y:w[1],
z:C?w[2]:void 0,m:N?w[2]:void 0,hasZ:C,hasM:N,spatialReference:this.spatialReference,type:"point"}};y.lerp=function(w,C,N,T){return B.lerp(T,w,C,N)};y.addDelta=function(w,C,N,T){w[0]+=C;w[1]+=N;0===this.valueType&&(w[2]+=T)};y.scale=function(w,C,N,T){const Q=H.sv2d.get();C=G.subtract(Q,w,C);N=G.scale(Q,N,G.dot(N,C));G.scaleAndAdd(w,w,N,T-1)};y.rotate=function(w,C,N){G.rotate(w,w,C,N)};y.pointToArray=function(w){return 0===this.valueType?[w.x,w.y,w.z]:[w.x,w.y,w.m]};y.getZ=function(w,C){return 0===
this.valueType?w[2]:C};y.hasZ=function(){return 0===this.valueType};y.unnormalize=function(w){Y(w,this._unnormalizationInfo)};y.fromXYZ=function(w,C=0,N=0){return this.tag(L.fromValues(w[0],w[1],0===this.valueType?2<w.length?w[2]:C:N))};y.toXYZ=function(w,C=0){return this.tag(L.fromValues(w[0],w[1],0===this.valueType?w[2]:C))};return A}(),K=function(){function A(w,C){this.spatialReference=w;this._unnormalizationInfo=aa(w,C)}var y=A.prototype;y.tag=function(w){return w};y.createNew=function(){return this.tag(x.create())};
y.fromPoint=function(w){return this.tag(x.fromValues(w.x,w.y,w.z,w.m))};y.fromArray=function(w){return this.tag(x.fromValues(w[0],w[1],w[2]||0,w[3]||0))};y.toArray=function(w){return[w[0],w[1],w[2],w[3]]};y.clone=function(w){return this.tag(x.fromArray(w))};y.toPoint=function(w,C){C.x=w[0];C.y=w[1];C.z=w[2];C.m=w[3];C.hasZ=!0;C.hasM=!0;C.spatialReference=this.spatialReference;return C};y.createPoint=function(w){return new F({x:w[0],y:w[1],z:w[2],m:w[3],spatialReference:this.spatialReference})};y.createPointFromArray=
function(w){return new F({x:w[0],y:w[1],z:w[2],m:w[3],spatialReference:this.spatialReference})};y.createDehydratedPoint=function(w){return{x:w[0],y:w[1],z:w[2],m:w[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:"point"}};y.lerp=function(w,C,N,T){return D.lerp(T,w,C,N)};y.addDelta=function(w,C,N,T){w[0]+=C;w[1]+=N;w[2]+=T};y.scale=function(w,C,N,T){const Q=H.sv2d.get();C=G.subtract(Q,w,C);N=G.scale(Q,N,G.dot(N,C));G.scaleAndAdd(w,w,N,T-1)};y.rotate=function(w,C,N){G.rotate(w,w,C,N)};
y.pointToArray=function(w){return[w.x,w.y,w.z,w.m]};y.getZ=function(w){return w[2]};y.hasZ=function(){return!0};y.unnormalize=function(w){Y(w,this._unnormalizationInfo)};y.fromXYZ=function(w,C=0,N=0){return this.tag(x.fromValues(w[0],w[1],2<w.length?w[2]:C,N))};y.toXYZ=function(w){return L.fromValues(w[0],w[1],w[2])};return A}();z.CoordinateHelper2D=X;z.CoordinateHelper3D=U;z.CoordinateHelper4D=K;z.createCoordinateHelper=function(A,y,w,C){return A&&y?new K(w,C):y?new U(1,w,C):A?new U(0,w,C):new X(w,
C)};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/EditGeometry":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/Polygon ../../../geometry/Polyline ../../../geometry ../../../core/Evented ../coordinateHelper".split(" "),function(z,W,F,Z,L,B,P,x){let G=function(){function Y(aa){this.right=this.left=null;this.type="vertex";this.index=null;this.component=aa}W._createClass(Y,[{key:"pos",get:function(){return this._pos},
set:function(aa){this._pos=aa;this.component.unnormalizeVertexPositions()}}]);return Y}(),D=function(Y,aa,X){this.type="edge";this.component=Y;this.left=aa;this.right=X;aa.right=this;X.left=this},H=function(){function Y(X){this.vertices=[];this.edges=[];this.data=X}var aa=Y.prototype;aa.unnormalizeVertexPositions=function(){1>=this.vertices.length||this.data.coordinateHelper.unnormalize(this.vertices)};aa.updateVertexIndex=function(X,U){if(0!==this.vertices.length){var K=this.vertices[0],A=null;do A=
X,A.index=U++,X=A.right?A.right.right:null;while(null!=X&&X!==K);A.left&&A!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(A),this.vertices.length-1)}};aa.getFirstVertex=function(){return 0===this.vertices.length?null:this.vertices[0]};aa.getLastVertex=function(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]};aa.swapVertices=function(X,U){const K=this.vertices[X];this.vertices[X]=this.vertices[U];this.vertices[U]=K};aa.iterateVertices=
function(X){if(0!==this.vertices.length){var U=this.vertices[0],K=U;do X(K,K.index),K=F.isSome(K.right)?K.right.right:null;while(K!==U&&null!=K)}};return Y}();B=function(Y){function aa(U){var K=Y.call(this)||this;K.coordinateHelper=U;K.undoStack=[];K.redoStack=[];K.components=[];return K}W._inheritsLoose(aa,Y);var X=aa.prototype;X.apply=function(U,K=1){if(0===K||F.isNone(this.lastOperation)||!this.lastOperation.accumulate(U))U.apply(),this.undoStack.push(U),this.redoStack=[]};X.undo=function(){if(0<
this.undoStack.length){const U=this.undoStack.pop();U.undo();this.redoStack.push(U);return U}return null};X.redo=function(){if(0<this.redoStack.length){const U=this.redoStack.pop();U.apply();this.undoStack.push(U);return U}return null};X.toPoint=function(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)};X.toPolyline=function(){const U=[],K=this.coordinateHelper.toArray;this.components.forEach((A,
y)=>{y=[];const w=A=A.vertices.find(C=>null==C.left);do y.push(K(A.pos)),A=A.right?A.right.right:null;while(A&&A!==w);U.push(y)});return new L({paths:U,spatialReference:this.coordinateHelper.spatialReference})};X.toPolygon=function(){const U=[],K=this.coordinateHelper.toArray;this.components.forEach((A,y)=>{y=[];let w=A=A.vertices[0];const C=w;do y.push(K(w.pos)),w=F.isSome(w.right)?w.right.right:null;while(w&&w!==C);y.push(K(A.pos));U.push(y)});return new Z({rings:U,spatialReference:this.coordinateHelper.spatialReference})};
aa.fromGeometry=function(U,K){var A=x.createCoordinateHelper(U.hasZ,U.hasM,U.spatialReference,K);K=new aa(A);switch(U.type){case "polygon":var y=U.rings;for(U=0;U<y.length;++U){var w=y[U],C=new H(K),N=w.length-1;for(var T=0;T<N;++T){const Q=A.fromArray(w[T]),I=new G(C);C.vertices.push(I);I.pos=Q;I.index=T}w=C.vertices.length-1;for(N=0;N<w;++N)T=new D(C,C.vertices[N],C.vertices[N+1]),C.edges.push(T);w=new D(C,C.vertices[C.vertices.length-1],C.vertices[0]);C.edges.push(w);K.components.push(C)}break;
case "polyline":for(y of U.paths){U=new H(K);C=y.length;for(w=0;w<C;++w)N=A.fromArray(y[w]),T=new G(U),U.vertices.push(T),T.pos=N,T.index=w;C=U.vertices.length-1;for(w=0;w<C;++w)N=new D(U,U.vertices[w],U.vertices[w+1]),U.edges.push(N);K.components.push(U)}break;case "point":A=new H(K),y=new G(A),y.index=0,y.pos=K.coordinateHelper.fromPoint(U),A.vertices.push(y),K.components.push(A)}return K};W._createClass(aa,[{key:"canUndo",get:function(){return 0<this.undoStack.length}},{key:"lastOperation",get:function(){return 0<
this.undoStack.length?this.undoStack[this.undoStack.length-1]:null}},{key:"canRedo",get:function(){return 0<this.redoStack.length}}]);return aa}(P);z.Component=H;z.Edge=D;z.EditGeometry=B;z.Vertex=G;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/EditGeometryHelper":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Evented ./EditGeometry ./operations/AppendVertex ./operations/UpdateVertices ./operations/RemoveVertices ./operations/SplitEdge ./operations/SetVertexPosition ./operations/MoveVertex ./operations/RotateVertex ./operations/ScaleVertex".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y){F=function(aa){function X(K,A){var y=aa.call(this)||this;y.editGeometry=K;y.type=A;y._geometry=null;y._dirty=!0;y._listener=y.editGeometry.on("change",w=>{w.addedVertices&&y.emit("vertex-add",{type:"vertex-add",vertices:w.addedVertices,operation:w.operation});w.removedVertices&&y.emit("vertex-remove",{type:"vertex-remove",vertices:w.removedVertices,operation:w.operation});w.updatedVertices&&y.emit("vertex-update",{type:"vertex-update",vertices:w.updatedVertices,operation:w.operation});
y._dirty=!0});return y}W._inheritsLoose(X,aa);var U=X.prototype;U.destroy=function(){this._listener.remove()};U.splitEdge=function(K,A){K=new x.SplitEdge(this.editGeometry,K,A);this.editGeometry.apply(K);return K};U.updateVertices=function(K,A,y=1){K=new B.UpdateVertices(this.editGeometry,K,A);this.editGeometry.apply(K,y);return K};U.moveVertices=function(K,A,y,w,C=1){return this.updateVertices(K,new D.MoveVertex(this.editGeometry.coordinateHelper,A,y,w),C)};U.scaleVertices=function(K,A,y,w,C,N=1,
T=0){return this.updateVertices(K,new Y.ScaleVertex(this.editGeometry.coordinateHelper,A,y,w,C,T),N)};U.rotateVertices=function(K,A,y,w=1,C=0){return this.updateVertices(K,new H.RotateVertex(this.editGeometry.coordinateHelper,A,y,C),w)};U.removeVertices=function(K){let A=0;switch(this.type){case "point":A=1;break;case "polyline":A=2;break;case "polygon":A=3}K=new P.RemoveVertices(this.editGeometry,K,A);this.editGeometry.apply(K);return K};U.appendVertex=function(K){if(0===this.editGeometry.components.length)return null;
K=new L.AppendVertex(this.editGeometry,this.editGeometry.components[0],K);this.editGeometry.apply(K);return K};U.canRemoveVertex=function(){let K=0;switch(this.type){case "point":K=1;break;case "polyline":K=2;break;case "polygon":K=3}return this.editGeometry.components[0].vertices.length>K};U.undo=function(){return this.editGeometry.undo()};U.redo=function(){return this.editGeometry.redo()};W._createClass(X,[{key:"canUndo",get:function(){return this.editGeometry.canUndo}},{key:"canRedo",get:function(){return this.editGeometry.canRedo}},
{key:"geometry",get:function(){if(this._dirty){switch(this.type){case "point":this._geometry=this.editGeometry.toPoint();break;case "polyline":this._geometry=this.editGeometry.toPolyline();break;case "polygon":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}}]);return X}(F);z.Component=Z.Component;z.Edge=Z.Edge;z.EditGeometry=Z.EditGeometry;z.Vertex=Z.Vertex;z.EditGeometryHelper=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/AppendVertex":function(){define(["exports",
"../../../../core/maybe","../EditGeometry"],function(z,W,F){let Z=function(){function L(P,x,G){this.editGeometry=P;this.component=x;this.pos=G;this.right=this.left=this.originalEdge=this.addedVertex=null}var B=L.prototype;B.apply=function(){let P="redo";W.isNone(this.addedVertex)&&(P="apply",this.addedVertex=new F.Vertex(this.component));if(0===this.component.vertices.length)this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{const x=W.unwrap(this.component.getLastVertex());
let G=null;x.right&&(this.originalEdge=x.right,G=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1));this.component.vertices.push(this.addedVertex);this.addedVertex.pos=this.pos;W.isNone(this.left)&&(this.left=new F.Edge(this.component,x,this.addedVertex));this.component.edges.push(this.left);x.right=this.left;W.isSome(this.originalEdge)&&W.isSome(G)&&(W.isNone(this.right)&&(this.right=new F.Edge(this.component,this.addedVertex,G)),this.component.edges.push(this.right),
G.left=this.right);this.component.updateVertexIndex(this.addedVertex,x.index+1)}this.editGeometry.emit("change",{addedVertices:[this.addedVertex],operation:P})};B.undo=function(){if(W.isNone(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1);W.isSome(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null);W.isSome(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),
1),this.right.right.left=null);W.isSome(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge);W.isSome(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);this.editGeometry.emit("change",{removedVertices:[this.addedVertex],operation:"undo"})};B.accumulate=function(P){return!1};return L}();z.AppendVertex=Z;Object.defineProperty(z,
"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/UpdateVertices":function(){define(["exports"],function(z){let W=function(){function F(L,B,P){this.editGeometry=L;this.vertices=B;this.operation=P;this.undone=!1}var Z=F.prototype;Z.apply=function(){this.vertices.forEach(L=>this.operation.apply(L));this.editGeometry.components.forEach(L=>L.unnormalizeVertexPositions());this.editGeometry.emit("change",{updatedVertices:this.vertices,operation:this.undone?"redo":"apply"})};Z.undo=
function(){this.vertices.forEach(L=>{this.operation.undo(L)});this.editGeometry.emit("change",{updatedVertices:this.vertices,operation:"undo"});this.undone=!0};Z.canAccumulate=function(L){if(this.undone||L.vertices.length!==this.vertices.length)return!1;for(let B=0;B<L.vertices.length;++B)if(L.vertices[B]!==this.vertices[B])return!1;return this.operation.canAccumulate(L.operation)};Z.accumulate=function(L){return L instanceof F&&this.canAccumulate(L)?(this.vertices.forEach(B=>this.operation.accumulate(B,
L.operation)),this.operation.accumulateParams(L.operation),this.editGeometry.components.forEach(B=>B.unnormalizeVertexPositions()),this.editGeometry.emit("change",{updatedVertices:this.vertices,operation:"apply"}),!0):!1};return F}();z.PerVertexOperation=function(F){this.helper=F};z.UpdateVertices=W;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/RemoveVertices":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(z,
W,F){let Z=function(){function L(P,x,G=0){this.editGeometry=P;this.removedVertices=null;this._minNumberOfVertices=0;this.vertices=x;this._minNumberOfVertices=G}var B=L.prototype;B.apply=function(){let P="redo";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach(x=>{x=this._removeVertex(x);W.isSome(x)&&this.removedVertices.push(x)}),P="apply"):this.removedVertices.forEach(x=>{this._redoRemoveVertex(x)});this.editGeometry.emit("change",{removedVertices:this.vertices,operation:P})};
B.undo=function(){this.removedVertices.forEach(P=>{this._undoRemoveVertex(P)});this.editGeometry.emit("change",{addedVertices:this.vertices,operation:"undo"})};B.accumulate=function(P){return!1};B._removeVertex=function(P){const x=P.component;if(x.vertices.length<=this._minNumberOfVertices)return null;const G={removedVertex:P,createdEdge:null},D=P.left,H=P.right;x.vertices.splice(x.vertices.indexOf(P),1);D&&(x.edges.splice(x.edges.indexOf(D),1),D.left.right=null);H&&(x.edges.splice(x.edges.indexOf(H),
1),H.right.left=null);0===P.index&&H&&0<this.vertices.length&&x.swapVertices(x.vertices.indexOf(H.right),0);D&&H&&(G.createdEdge=new F.Edge(x,D.left,H.right),x.edges.push(G.createdEdge));H&&x.updateVertexIndex(H.right,H.right.index-1);return G};B._redoRemoveVertex=function(P){console.warn("redo remove vertex not implemented yet")};B._undoRemoveVertex=function(P){const x=P.removedVertex,G=P.removedVertex.component,D=x.left,H=x.right;P.createdEdge&&G.edges.splice(G.edges.indexOf(P.createdEdge),1);G.vertices.push(x);
D&&(G.edges.push(D),D.left.right=D);H&&(G.edges.push(H),H.right.left=H);G.updateVertexIndex(x,x.index)};return L}();z.RemoveVertices=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/SplitEdge":function(){define(["exports","../../../../core/maybe","../EditGeometry"],function(z,W,F){let Z=function(){function L(P,x,G){this.editGeometry=P;this.edge=x;this.t=G;this.right=this.left=this.createdVertex=null}var B=L.prototype;B.apply=function(){let P="redo";
const x=this.edge,G=x.component,D=x.component.data,H=x.left,Y=x.right;G.edges.splice(G.edges.indexOf(x),1);W.isNone(this.createdVertex)&&(P="apply",this.createdVertex=new F.Vertex(x.component));G.vertices.push(this.createdVertex);this.createdVertex.pos=D.coordinateHelper.lerp(x.left.pos,x.right.pos,this.t,D.coordinateHelper.createNew());W.isNone(this.left)&&(this.left=new F.Edge(G,H,this.createdVertex));this.left.left.left?G.edges.push(this.left):G.edges.unshift(this.left);H.right=this.left;W.isNone(this.right)&&
(this.right=new F.Edge(G,this.createdVertex,Y));G.edges.push(this.right);Y.left=this.right;G.updateVertexIndex(this.createdVertex,H.index+1);this.editGeometry.emit("change",{addedVertices:[this.createdVertex],operation:P})};B.undo=function(){if(W.isNone(this.createdVertex)||W.isNone(this.left)||W.isNone(this.right))return null;const P=this.edge,x=P.component,G=this.createdVertex.left.left,D=this.createdVertex.right.right;x.vertices.splice(x.vertices.indexOf(this.createdVertex),1);x.edges.splice(x.edges.indexOf(this.left),
1);x.edges.splice(x.edges.indexOf(this.right),1);this.edge.left.left?x.edges.push(this.edge):x.edges.unshift(this.edge);G.right=P;D.left=P;x.updateVertexIndex(G,G.index);this.editGeometry.emit("change",{removedVertices:[this.createdVertex],operation:"undo"})};B.accumulate=function(P){return!1};return L}();z.SplitEdge=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/SetVertexPosition":function(){define(["exports","../../../../core/maybe"],function(z,
W){let F=function(){function Z(B,P,x){this.editGeometry=B;this.vertex=P;this.pos=x}var L=Z.prototype;L.apply=function(){let B="redo";W.isNone(this.originalPosition)&&(B="apply",this.originalPosition=this.vertex.pos);this._apply(B)};L.undo=function(){this.vertex.pos=W.unwrap(this.originalPosition);this.editGeometry.emit("change",{updatedVertices:[this.vertex],operation:"undo"})};L.accumulate=function(B){return B instanceof Z&&B.vertex===this.vertex?(this.pos=B.pos,this._apply("apply"),!0):!1};L._apply=
function(B){this.vertex.pos=this.pos;this.editGeometry.components.forEach(P=>P.unnormalizeVertexPositions());this.editGeometry.emit("change",{updatedVertices:[this.vertex],operation:B})};return Z}();z.SetVertexPosition=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/MoveVertex":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./UpdateVertices"],function(z,W,F){F=function(Z){function L(P,x,G,D){P=Z.call(this,P)||this;
P.dx=x;P.dy=G;P.dz=D;return P}W._inheritsLoose(L,Z);var B=L.prototype;B.move=function(P,x,G,D){this.helper.addDelta(P.pos,x,G,D)};B.apply=function(P){this.move(P,this.dx,this.dy,this.dz)};B.undo=function(P){this.move(P,-this.dx,-this.dy,-this.dz)};B.canAccumulate=function(P){return P instanceof L};B.accumulate=function(P,x){this.move(P,x.dx,x.dy,x.dz)};B.accumulateParams=function(P){this.dx+=P.dx;this.dy+=P.dy;this.dz+=P.dz};return L}(F.PerVertexOperation);z.MoveVertex=F;Object.defineProperty(z,"__esModule",
{value:!0})})},"esri/views/interactive/editGeometry/operations/RotateVertex":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/arrayUtils","./UpdateVertices"],function(z,W,F,Z){Z=function(L){function B(x,G,D,H=0){x=L.call(this,x)||this;x.origin=G;x.angle=D;x.accumulationType=H;return x}W._inheritsLoose(B,L);var P=B.prototype;P.rotate=function(x,G){this.helper.rotate(x.pos,this.origin,G)};P.apply=function(x){this.rotate(x,this.angle)};P.undo=function(x){this.rotate(x,
-this.angle)};P.canAccumulate=function(x){return x instanceof B&&F.equals(this.origin,x.origin)};P.accumulate=function(x,G){this.rotate(x,1===G.accumulationType?G.angle-this.angle:G.angle)};P.accumulateParams=function(x){this.angle=1===x.accumulationType?x.angle:this.angle+x.angle};return B}(Z.PerVertexOperation);z.RotateVertex=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/operations/ScaleVertex":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/arrayUtils ../../../../chunks/vec2f64 ../../../../chunks/vec2 ./UpdateVertices".split(" "),
function(z,W,F,Z,L,B){B=function(P){function x(D,H,Y,aa,X,U=0){D=P.call(this,D)||this;D.origin=H;D.axis1=Y;D.factor1=aa;D.factor2=X;D.accumulationType=U;D.axis2=L.set(Z.create(),Y[1],-Y[0]);return D}W._inheritsLoose(x,P);var G=x.prototype;G.scale=function(D,H,Y){this.helper.scale(D.pos,this.origin,this.axis1,H);this.helper.scale(D.pos,this.origin,this.axis2,Y)};G.apply=function(D){this.scale(D,this.factor1,this.factor2)};G.undo=function(D){this.scale(D,1/this.factor1,1/this.factor2)};G.canAccumulate=
function(D){return D instanceof x&&F.equals(this.origin,D.origin)&&F.equals(this.axis1,D.axis1)};G.accumulate=function(D,H){1===H.accumulationType?this.scale(D,H.factor1/this.factor1,H.factor2/this.factor2):this.scale(D,H.factor1,H.factor2)};G.accumulateParams=function(D){const H=1===D.accumulationType;this.factor1=H?D.factor1:this.factor1*D.factor1;this.factor2=H?D.factor2:this.factor2*D.factor2};return x}(B.PerVertexOperation);z.ScaleVertex=B;Object.defineProperty(z,"__esModule",{value:!0})})},
"esri/views/interactive/snapping/SnappingContext":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers"],function(z,W){let F=function(){function Z(L){this.visualizer=this.excludeFeature=this.vertexHandle=null;this.geometry=L.geometry;this.elevationInfo=L.elevationInfo;this.pointer=L.pointer;this.vertexHandle=L.vertexHandle;this.excludeFeature=L.excludeFeature;this.visualizer=L.visualizer}W._createClass(Z,[{key:"coordinateHelper",get:function(){return this.geometry.editGeometry.coordinateHelper}}]);
return Z}();z.SnappingContext=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/dragEventPipeline":function(){define("exports ../../core/lang ../../core/maybe ../../core/handleUtils ../../geometry/support/webMercatorUtils ../../core/mathUtils ../../core/screenUtils ../draw/support/drawUtils".split(" "),function(z,W,F,Z,L,B,P,x){function G(K,A){let y=null,w=null;return C=>{if("cancel"===C.action)F.isSome(w)&&(w.execute({action:"cancel"}),w=y=null);else{var N={action:C.action,
screenStart:C.start,screenEnd:C.screenPoint};"start"===C.action&&F.isNone(y)&&(y=new U,w=new U,A(K,y,w,C.pointerType,N));F.isSome(y)&&y.execute(N);"end"===C.action&&F.isSome(y)&&(w=y=null)}}}function D(K,A){return K.events.on("drag",G(K,A))}function H(K,A){let y=null;const w=F.isSome(K[A])?K[A].spatialReference:null;return C=>{if("start"===C.action&&F.isSome(K[A])){var N=K[A],T=C.mapStart.spatialReference;y=F.isNone(N)||"mesh"===N.type?null:N.spatialReference.equals(T)?N.clone():L.canProject(N,T)?
L.project(N,T):null}if(F.isNone(y))return null;N=C.mapEnd.x-C.mapStart.x;T=C.mapEnd.y-C.mapStart.y;const Q=C.mapEnd.z-C.mapStart.z,I=x.move(y.clone(),N,T,Q);I.spatialReference.equals(w)?K[A]=I:K[A]=L.project(I,w);return{...C,translationX:N,translationY:T,translationZ:Q}}}function Y(K){return H(K,"geometry")}function aa(K,A){const y=new Map;for(const w of A)y.set(w,W.clone(K[w]));return w=>{y.forEach((C,N)=>{K[N]=C});return w}}function X(K){return aa(K,["geometry"])}let U=function(){function K(){this.execute=
()=>{}}K.prototype.next=function(A,y=new K){F.isSome(A)&&(this.execute=w=>{w=A(w);F.isSome(w)&&y.execute(w)});return y};return K}();z.EventPipeline=U;z.addMapDelta=function(){let K=0,A=0,y=0;return w=>{"start"===w.action&&(K=w.mapStart.x,A=w.mapStart.y,y=w.mapStart.z);const C=w.mapEnd.x-K,N=w.mapEnd.y-A,T=w.mapEnd.z-y;K=w.mapEnd.x;A=w.mapEnd.y;y=w.mapEnd.z;return{...w,mapDeltaX:C,mapDeltaY:N,mapDeltaZ:T,mapDeltaSpatialReference:w.mapStart.spatialReference}}};z.addScreenDelta=function(){let K=0,A=
0;return y=>{"start"===y.action&&(K=y.screenStart.x,A=y.screenStart.y);const w=y.screenEnd.x-K,C=y.screenEnd.y-A;K=y.screenEnd.x;A=y.screenEnd.y;return{...y,screenDeltaX:w,screenDeltaY:C}}};z.constrainToMapAxis=function(K,A){const y=[K.x,K.y,K.z],w=[Math.cos(A),Math.sin(A)];K=Math.sqrt(w[0]*w[0]+w[1]*w[1]);if(0===K)return null;w[0]/=K;w[1]/=K;const C=N=>{const T=(N.x-y[0])*w[0]+(N.y-y[1])*w[1];N.x=y[0]+T*w[0];N.y=y[1]+T*w[1]};return N=>{C(N.mapStart);C(N.mapEnd);return N}};z.createDragEventPipelineCallback=
G;z.createManipulatorDragEventPipeline=D;z.createManipulatorDragEventPipelineMany=function(K,A){const y=[];for(const w of K)y.push(D(w,A));return Z.handlesGroup(y)};z.dragAtLocation=function(K,A){let y=null,w=0,C=0;return N=>{"start"===N.action&&(y=K.toScreen(A),0>y.x||y.x>K.width||0>y.y||y.y>K.height?y=null:(w=N.screenStart.x-y.x,C=N.screenStart.y-y.y));if(null==y)return null;var T=B.clamp(N.screenEnd.x-w,0,K.width);const Q=B.clamp(N.screenEnd.y-C,0,K.height);T=P.createScreenPoint(T,Q);N.screenStart=
y;N.screenEnd=T;return N}};z.dragGeometry=H;z.dragGraphic=Y;z.dragGraphicMany=function(K){const A=K.map(y=>F.unwrap(Y(y))).filter(y=>F.isSome(y));return y=>{const w=y.mapEnd.x-y.mapStart.x,C=y.mapEnd.y-y.mapStart.y,N=y.mapEnd.z-y.mapStart.z;A.forEach(T=>T(y));return{...y,translationX:w,translationY:C,translationZ:N}}};z.resetGraphic=X;z.resetGraphicMany=function(K){const A=K.map(y=>F.unwrap(X(y))).filter(y=>F.isSome(y));return y=>{A.forEach(w=>w(y));return y}};z.resetProperties=aa;z.resetSymbol=function(K){const A=
F.isSome(K.symbol)?K.symbol.clone():null;return y=>{K.symbol=A;return y}};z.screenToMap=function(K,A=null,y){let w=null;const C=F.isSome(A)&&!K.spatialReference.equals(A)?T=>F.isSome(T)?L.project(T,A):T:T=>T,N={exclude:[],...y};return T=>{"start"===T.action&&(w=C(K.toMap(T.screenStart,N)));if(F.isNone(w))return null;const Q=C(K.toMap(T.screenEnd,N));return F.isSome(Q)?{...T,mapStart:w,mapEnd:Q}:null}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/draw/support/drawUtils":function(){define(["exports",
"../../../geometry/support/coordsUtils","../../../geometry/support/boundsUtils","../../../geometry/support/aaBoundingRect"],function(z,W,F,Z){function L(x,G,D,H){null==H||x.hasZ||(H=void 0);if("point"===x.type)return x.x+=G,x.y+=D,x.hasZ&&null!=H&&(x.z+=H),x;if("multipoint"===x.type){var Y=x.points;for(var aa=0;aa<Y.length;aa++)Y[aa]=B(Y[aa],G,D,H);return x}if("extent"===x.type)return x.xmin+=G,x.xmax+=G,x.ymin+=D,x.ymax+=D,null!=H&&(x.zmin+=H,x.zmax+=H),x;Y=W.geometryToCoordinates(x);aa="polyline"===
x.type?x.paths:x.rings;for(let X=0;X<Y.length;X++){const U=Y[X];for(let K=0;K<U.length;K++)U[K]=B(U[K],G,D,H)}"paths"in x?x.paths=aa:x.rings=aa;return x}function B(x,G,D,H){return P(x,x[0]+G,x[1]+D,null!=x[2]&&null!=H?x[2]+H:void 0)}function P(x,G,D,H){G=[G,D];2<x.length&&G.push(null!=H?H:x[2]);3<x.length&&G.push(x[3]);return G}z.cloneMove=function(x,G,D,H,Y){x=x.clone();var aa=H.resolution;if("point"===x.type)return Y?L(x,G*aa,-D*aa):(Y=H.state.transform,H=H.state.inverseTransform,aa=Y[0]*x.x+Y[2]*
x.y+Y[4],Y=Y[1]*x.x+Y[3]*x.y+Y[5],x.x=H[0]*(aa+G)+H[2]*(Y+D)+H[4],x.y=H[1]*(aa+G)+H[3]*(Y+D)+H[5]),x;if("multipoint"===x.type){if(Y)L(x,G*aa,-D*aa);else{Y=x.points;aa=H.state.transform;H=H.state.inverseTransform;for(var X=0;X<Y.length;X++){var U=Y[X],K=aa[0]*U[0]+aa[2]*U[1]+aa[4],A=aa[1]*U[0]+aa[3]*U[1]+aa[5];Y[X]=P(U,H[0]*(K+G)+H[2]*(A+D)+H[4],H[1]*(K+G)+H[3]*(A+D)+H[5],void 0)}}return x}if("extent"===x.type)return Y?L(x,G*aa,-D*aa):(Y=H.state.transform,H=H.state.inverseTransform,aa=Y[0]*x.xmin+
Y[2]*x.ymin+Y[4],X=Y[1]*x.xmin+Y[3]*x.ymin+Y[5],U=Y[0]*x.xmax+Y[2]*x.ymax+Y[4],Y=Y[1]*x.xmax+Y[3]*x.ymax+Y[5],x.xmin=H[0]*(aa+G)+H[2]*(X+D)+H[4],x.ymin=H[1]*(aa+G)+H[3]*(X+D)+H[5],x.xmax=H[0]*(U+G)+H[2]*(Y+D)+H[4],x.ymax=H[1]*(U+G)+H[3]*(Y+D)+H[5]),x;if(Y)L(x,G*aa,-D*aa);else{Y=W.geometryToCoordinates(x);aa="polyline"===x.type?x.paths:x.rings;X=H.state.transform;H=H.state.inverseTransform;for(U=0;U<Y.length;U++)for(K=Y[U],A=0;A<K.length;A++){const y=K[A],w=X[0]*y[0]+X[2]*y[1]+X[4],C=X[1]*y[0]+X[3]*
y[1]+X[5];K[A]=P(y,H[0]*(w+G)+H[2]*(C+D)+H[4],H[1]*(w+G)+H[3]*(C+D)+H[5],void 0)}"paths"in x?x.paths=aa:x.rings=aa}return x};z.getRotationAngle=function(x,G,D,H,Y,aa){return 180*Math.atan2(G-aa,x-Y)/Math.PI-180*Math.atan2(G-H,x-D)/Math.PI};z.getScaleRatio=function(x,G,D,H,Y,aa){return Math.sqrt((Y-x)*(Y-x)+(aa-G)*(aa-G))/Math.sqrt((D-x)*(D-x)+(H-G)*(H-G))};z.move=L;z.scale=function(x,G,D,H){if("point"===x.type){const {x:C,y:N}=x;var Y=H?H[0]:C,aa=H?H[1]:N;x=x.clone();D=(N-aa)*D+aa;x.x=(C-Y)*G+Y;x.y=
D;return x}if("multipoint"===x.type){Y=W.geometryToCoordinates(x);aa=Z.create();const [C,N,T,Q]=F.getRingsOrPathsBounds(aa,[Y]);Y=H?H[0]:(C+T)/2;aa=H?H[1]:(Q+N)/2;x=x.clone();H=x.points;for(var X=0;X<H.length;X++){var U=H[X];const [I,V]=U;H[X]=P(U,(I-Y)*G+Y,(V-aa)*D+aa,void 0)}return x}if("extent"===x.type){const {xmin:C,xmax:N,ymin:T,ymax:Q}=x;Y=H?H[0]:(C+N)/2;aa=H?H[1]:(Q+T)/2;x=x.clone();x.xmin=(C-Y)*G+Y;x.ymax=(Q-aa)*D+aa;x.xmax=(N-Y)*G+Y;x.ymin=(T-aa)*D+aa;x.xmin>x.xmax&&(G=x.xmin,x.xmin=x.xmax,
x.xmax=G);x.ymin>x.ymax&&(G=x.ymin,x.ymin=x.ymax,x.ymax=G);return x}Y=W.geometryToCoordinates(x);aa=Z.create();const [K,A,y,w]=F.getRingsOrPathsBounds(aa,Y);aa=H?H[0]:(K+y)/2;H=H?H[1]:(w+A)/2;x=x.clone();X="polyline"===x.type?x.paths:x.rings;for(U=0;U<Y.length;U++){const C=Y[U];for(let N=0;N<C.length;N++){const T=C[N],[Q,I]=T;X[U][N]=P(T,(Q-aa)*G+aa,(I-H)*D+H,void 0)}}"paths"in x?x.paths=X:x.rings=X;return x};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/SnappingDragPipelineStep":function(){define("exports ../../../core/maybe ../../../core/promiseUtils ../../support/Scheduler ../../../layers/graphics/dehydratedFeatureComparison ../../interactive/snapping/SnappingContext ../../interactive/dragEventPipeline".split(" "),
function(z,W,F,Z,L,B,P){let x=function(){function G(){this.next=new P.EventPipeline}G.prototype.createSnapDragEventPipelineStep=function({predicate:D=()=>!0,cancel:H,snappingManager:Y,snappingContext:aa}){if(W.isNone(Y))return A=>A;let X=null,U=null;const K=()=>{X=W.abortMaybe(X);Y.doneSnapping();W.isSome(U)&&U.frameTask.remove();U=null};H.next(A=>{K();return A});this.next=new P.EventPipeline;return A=>{if(!D(A))return A;X=W.abortMaybe(X);if("start"===A.action){const y="3d"===Y.view.type?Y.view.resourceController.scheduler.registerTask(Z.Task.SNAPPING,
w=>W.unwrap(y).processQueue(w),()=>!1):Z.ImmediateTask;U={context:new B.SnappingContext({geometry:aa.geometry,elevationInfo:aa.elevationInfo,pointer:aa.pointer,vertexHandle:W.isSome(A.info)?A.info.handle:null,excludeFeature:aa.excludeFeature,visualizer:aa.visualizer}),originalPos:W.isSome(A.snapOrigin)?aa.coordinateHelper.createDehydratedPoint(A.snapOrigin):A.mapStart,frameTask:y}}if(W.isSome(U)){const y=U.context.coordinateHelper.createDehydratedPoint(U.context.coordinateHelper.fromArray([U.originalPos.x,
U.originalPos.y,U.originalPos.z]));y.x+=A.mapEnd.x-A.mapStart.x;y.y+=A.mapEnd.y-A.mapStart.y;const w=A.mapStart.x-U.originalPos.x,C=A.mapStart.y-U.originalPos.y,N={...A,action:"udpate"},T=U.context,Q=Y.update(y,U.context);A.mapEnd.x=Q.x+w;A.mapEnd.y=Q.y+C;if("end"!==A.action){const I=U.frameTask;X=F.createTask(async V=>{const R=await I.schedule(()=>Y.snap(y,T,V),V);if(R.valid){const ja=await I.schedule(()=>R.apply(),V);L.pointEquals(ja,Q)||(N.mapEnd.x=ja.x+w,N.mapEnd.y=ja.y+C,this.next.execute(N))}})}}"end"===
A.action&&K();return A}};return G}();z.SnappingPipeline=x;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/SnappingVisualizer3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/has ../../../core/handleUtils ../../../Color ../../../chunks/vec3f64 ../../../chunks/vec3 ../../interactive/snapping/Settings ../../interactive/snapping/snappingUtils ../../interactive/snapping/SnappingVisualizer ./visualElements/ExtendedLineVisualElement ./visualElements/ParallelLineVisualElement ./visualElements/PointVisualElement ./visualElements/RightAngleQuadVisualElement".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X){F=function(U){function K(){return U.apply(this,arguments)||this}W._inheritsLoose(K,U);var A=K.prototype;A.visualizeIntersectionPoint=function(y,w){const {coordinateHelper:C,elevationInfo:N,view:T}=w;return Z.destroyHandle(new aa.PointVisualElement({view:T,primitive:"circle",geometry:C.createPoint(y.intersectionPoint),elevationInfo:N,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:L.toUnitRGBA(x.defaults.orange),pixelSnappingEnabled:!1}))};A.visualizePoint=
function(y,w){const {coordinateHelper:C,elevationInfo:N,view:T}=w;return Z.destroyHandle(new aa.PointVisualElement({view:T,primitive:"circle",geometry:C.createPoint(y.point),elevationInfo:N,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:L.toUnitRGBA(x.defaults.orange),pixelSnappingEnabled:!1}))};A.visualizeLine=function(y,w){const {coordinateHelper:C,elevationInfo:N,view:T}=w;return Z.destroyHandle(this.createLineSegmentHintFromMap(y.type,y.lineStart,y.lineEnd,C,N,T,y.fadeLeft,y.fadeRight))};
A.visualizeParallelSign=function(y,w){const {coordinateHelper:C,elevationInfo:N,view:T}=w,Q=G.anyMapPointToRender(y.lineStart,C,N,w.view);y=G.anyMapPointToRender(y.lineEnd,C,N,w.view);y=P.lerp(y,Q,y,.5);w=new Y.ParallelLineVisualElement({view:T,attached:!1,offset:x.defaults.parallelLineHintOffset,length:x.defaults.parallelLineHintLength,width:x.defaults.parallelLineHintWidth,color:L.toUnitRGBA(x.defaults.orange),location:y,renderOccluded:16});w.setDirectionFromPoints(Q,y);w.attached=!0;return Z.destroyHandle(w)};
A.visualizeRightAngleQuad=function(y,w){const {coordinateHelper:C,elevationInfo:N,view:T}=w;return Z.destroyHandle(new X.RightAngleQuadVisualElement({view:T,attached:!0,color:L.toUnitRGBA(x.defaults.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:L.toUnitRGBA(x.defaults.orange),outlineSize:x.defaults.rightAngleHintOutlineSize,size:x.defaults.rightAngleHintSize,geometry:{previous:G.anyMapPointToRender(y.previousVertex,C,N,T),center:G.anyMapPointToRender(y.centerVertex,C,N,T),next:G.anyMapPointToRender(y.nextVertex,
C,N,T)}}))};A.createLineSegmentHintFromMap=function(y,w,C,N,T,Q,I=!0,V=!0){const R=B.create(),ja=B.create();G.anyMapPointsToRenderWithEqualZ(w,C,N,T,Q,R,ja);return this.createLineSegmentHint(y,Q,R,ja,I,V)};A.createLineSegmentHint=function(y,w,C,N,T=!0,Q=!0){w=new H.ExtendedLineVisualElement({view:w,extensionType:3,start:C,end:N,color:L.toUnitRGBA(x.defaults.orange),renderOccluded:16});switch(y){case 0:w.width=x.defaults.lineHintWidthTarget;w.fadedExtensions={start:0,end:x.defaults.lineHintFadedExtensions};
break;case 2:w.width=x.defaults.lineHintWidthReference;w.fadedExtensions={start:0,end:0};break;case 1:w.width=x.defaults.lineHintWidthReference,w.fadedExtensions={start:T?x.defaults.lineHintFadedExtensions:0,end:Q?x.defaults.lineHintFadedExtensions:0}}w.attached=!0;return w};return K}(D.SnappingVisualizer);z.SnappingVisualizer3D=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/Settings":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ../../../core/JSONSupport ../../../Color".split(" "),
function(z,W,F,Z,L,B,P){let x=function(G){function D(){var H=G.apply(this,arguments)||this;H.enabled=!0;return H}W._inheritsLoose(D,G);return D}(B.JSONSupport);F.__decorate([Z.property({type:Boolean})],x.prototype,"enabled",void 0);x=F.__decorate([L.subclass("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],x);B=function(G){function D(H){H=G.call(this,H)||this;H.lineSnapper=new x;H.parallelLineSnapper=new x;H.rightAngleSnapper=new x;H.rightAngleTriangleSnapper=new x;H.shortLineThreshold=
15;H.distance=5;H.pointThreshold=1E-6;H.intersectionParallelLineThreshold=1E-6;H.parallelLineThreshold=1E-6;H.touchSensitivityMultiplier=1.5;H.pointOnLineThreshold=1E-6;H.orange=new P([255,127,0]);H.lineHintWidthReference=3;H.lineHintWidthTarget=3;H.lineHintFadedExtensions=.3;H.parallelLineHintWidth=2;H.parallelLineHintLength=24;H.parallelLineHintOffset=1.5;H.rightAngleHintSize=24;H.rightAngleHintOutlineSize=1.5;return H}W._inheritsLoose(D,G);return D}(B.JSONSupport);F.__decorate([Z.property({type:x,
constructOnly:!0,nonNullable:!0,json:{write:!0}})],B.prototype,"lineSnapper",void 0);F.__decorate([Z.property({type:x,constructOnly:!0,nonNullable:!0,json:{write:!0}})],B.prototype,"parallelLineSnapper",void 0);F.__decorate([Z.property({type:x,constructOnly:!0,nonNullable:!0,json:{write:!0}})],B.prototype,"rightAngleSnapper",void 0);F.__decorate([Z.property({type:x,constructOnly:!0,nonNullable:!0,json:{write:!0}})],B.prototype,"rightAngleTriangleSnapper",void 0);F.__decorate([Z.property({type:Number,
nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],B.prototype,"shortLineThreshold",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],B.prototype,"distance",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],B.prototype,"pointThreshold",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],B.prototype,"intersectionParallelLineThreshold",
void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],B.prototype,"parallelLineThreshold",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],B.prototype,"touchSensitivityMultiplier",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:1E-5},json:{write:!0}})],B.prototype,"pointOnLineThreshold",void 0);F.__decorate([Z.property({type:P,nonNullable:!0})],B.prototype,"orange",void 0);
F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],B.prototype,"lineHintWidthReference",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],B.prototype,"lineHintWidthTarget",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],B.prototype,"lineHintFadedExtensions",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],
B.prototype,"parallelLineHintWidth",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],B.prototype,"parallelLineHintLength",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],B.prototype,"parallelLineHintOffset",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],B.prototype,"rightAngleHintSize",void 0);F.__decorate([Z.property({type:Number,nonNullable:!0,
range:{min:0,max:6},json:{write:!0}})],B.prototype,"rightAngleHintOutlineSize",void 0);B=F.__decorate([L.subclass("esri.views.interactive.snapping.Settings.Defaults")],B);F=new B;z.defaults=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/snappingUtils":function(){define("exports ../../../geometry/Point ../../../core/screenUtils ../../../chunks/vec3f64 ../../../chunks/vec2 ../../../support/elevationInfoUtils".split(" "),function(z,W,F,Z,L,B){function P(H,Y,aa,
X,U=Z.create()){H=Y.toXYZ(H);H[2]=B.getConvertedElevationFromVector(X,H,Y.spatialReference,aa)||0;X.renderCoordsHelper.toRenderCoords(H,Y.spatialReference,U);return U}const x=Z.create(),G=F.createScreenPointArray(),D=new W;z.anyMapPointToRender=P;z.anyMapPointToScreenPoint=function(H,Y,aa,X){if("2d"===X.type)return X.toScreen(Y.toPoint(H,D));P(H,Y,aa,X,x);X.state.camera.projectToScreen(x,G);return F.createScreenPoint(G[0],G[1])};z.anyMapPointsToRenderWithEqualZ=function(H,Y,aa,X,U,K,A){H=aa.toXYZ(H);
Y=aa.toXYZ(Y);const y=B.getConvertedElevationFromVector(U,H,aa.spatialReference,X);X=B.getConvertedElevationFromVector(U,Y,aa.spatialReference,X);X=(null==y?X:null==X?y:Math.min(y,X))||0;H[2]=X;Y[2]=X;U.renderCoordsHelper.toRenderCoords(H,aa.spatialReference,K);U.renderCoordsHelper.toRenderCoords(Y,aa.spatialReference,A)};z.objectEqual=function(H,Y){const aa=H.length===Y.length&&H[0]===Y[0]&&H[1]===Y[1];switch(H.length){case 2:return aa;case 3:return aa&&H[2]===Y[2];case 4:return aa&&H[3]===Y[3]}return!1};
z.sortCandidatesInPlace=function(H,Y){Y.sort((aa,X)=>{aa=L.squaredDistance(aa.targetPoint,H);X=L.squaredDistance(X.targetPoint,H);return aa-X})};z.squareDistance=function(H,Y){const aa=H.x-Y.x;H=H.y-Y.y;return aa*aa+H*H};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/support/elevationInfoUtils":function(){define(["exports","../core/maybe","../symbols/support/unitConversionUtils"],function(z,W,F){function Z(D,H){return W.isNone(H)||!H.mode?D?"absolute-height":"on-the-ground":H.mode}function L(D,
H){return Z(W.isSome(D)?D.hasZ:!1,H)}function B(D){const H=P(D);return L(D.geometry,H)}function P(D){return D.layer&&"elevationInfo"in D.layer?D.layer.elevationInfo:null}function x(D,H,Y,aa,X,U,K=null){if(!W.isNone(U)){var A=W.isSome(K)?K.mode:"absolute-height";if("on-the-ground"===A)return 0;a:{U=G(H,Y,aa,X,D,U);K=W.isSome(K)&&W.isSome(K.offset)?K.offset:0;switch(A){case "absolute-height":D=U-K;break a;case "relative-to-ground":D=U-(W.unwrapOr(D.elevationProvider.getElevation(H,Y,aa,X,"ground"),
0)+K);break a;case "relative-to-scene":D=U-(W.unwrapOr(D.elevationProvider.getElevation(H,Y,aa,X,"scene"),0)+K);break a}D=void 0}return D}}function G(D,H,Y,aa,X,U){const K=W.isSome(U.offset)?U.offset:0;switch(U.mode){case "absolute-height":return Y+K;case "on-the-ground":return W.unwrapOr(X.elevationProvider.getElevation(D,H,0,aa,"ground"),0);case "relative-to-ground":return Y+W.unwrapOr(X.elevationProvider.getElevation(D,H,Y,aa,"ground"),0)+K;case "relative-to-scene":return Y+W.unwrapOr(X.elevationProvider.getElevation(D,
H,Y,aa,"scene"),0)+K}}z.getConvertedElevation=function(D,H,Y,aa=null){return x(D,H.x,H.y,H.hasZ?H.z:0,H.spatialReference,Y,aa)};z.getConvertedElevationFromVector=function(D,H,Y,aa,X=null){return x(D,H[0],H[1],2<H.length?H[2]:0,Y,aa,X)};z.getEffectiveElevationMode=Z;z.getGeometryEffectiveElevationMode=L;z.getGraphicEffectiveElevationInfo=function(D){var H=P(D);D=L(D.geometry,H);H=W.isSome(H)&&"on-the-ground"!==D?W.unwrapOr(H.offset,0)*F.getMetersPerUnit(W.unwrapOr(H.unit,"meters")):0;return{mode:D,
offset:H}};z.getGraphicEffectiveElevationMode=B;z.getZForElevationMode=function(D,H,Y){if(!W.isNone(Y)&&Y.mode){var aa=D.hasZ?D.z:0,X=W.isSome(Y.offset)?Y.offset:0;switch(Y.mode){case "absolute-height":return aa-X;case "on-the-ground":return 0;case "relative-to-ground":return D=W.unwrapOr(H.elevationProvider.getElevation(D.x,D.y,D.z,D.spatialReference,"ground"),0)+X,aa-D;case "relative-to-scene":return D=W.unwrapOr(H.elevationProvider.getElevation(D.x,D.y,D.z,D.spatialReference,"scene"),0)+X,aa-D}}};
z.hasGraphicFeatureExpressionInfo=function(D){if("on-the-ground"===B(D))return!1;D=P(D);D=W.isSome(D)&&D.featureExpressionInfo?D.featureExpressionInfo.expression:null;return!(!D||"0"===D)};z.zValueInAbsoluteHeightMode=G;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/SnappingVisualizer":function(){define("exports ../../../core/handleUtils ./hints/IntersectionSnappingHint ./hints/LineSnappingHint ./hints/ParallelSnappingHint ./hints/PointSnappingHint ./hints/RightAngleSnappingHint".split(" "),
function(z,W,F,Z,L,B,P){let x=function(){function G(){}var D=G.prototype;D.draw=function(H,Y){H=this.getUniqueHints(H);const aa=[];for(const X of H)X instanceof F.IntersectionSnappingHint&&aa.push(this.visualizeIntersectionPoint(X,Y)),X instanceof Z.LineSnappingHint&&aa.push(this.visualizeLine(X,Y)),X instanceof L.ParallelSnappingHint&&aa.push(this.visualizeParallelSign(X,Y)),X instanceof P.RightAngleSnappingHint&&aa.push(this.visualizeRightAngleQuad(X,Y)),X instanceof B.PointSnappingHint&&aa.push(this.visualizePoint(X,
Y));return W.handlesGroup(aa)};D.getUniqueHints=function(H){const Y=[];for(const aa of H){H=!0;for(const X of Y)if(aa.equals(X)){H=!1;break}H&&Y.push(aa)}return Y};return G}();z.SnappingVisualizer=x;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/IntersectionSnappingHint":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../snappingUtils","./SnappingHint"],function(z,W,F,Z){Z=function(L){function B(P){var x=L.call(this)||this;x.intersectionPoint=
P;return x}W._inheritsLoose(B,L);B.prototype.equals=function(P){return P instanceof B?F.objectEqual(this.intersectionPoint,P.intersectionPoint):!1};return B}(Z.SnappingHint);z.IntersectionSnappingHint=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/SnappingHint":function(){define(["exports"],function(z){z.SnappingHint=function(){};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/LineSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),
function(z,W,F,Z,L,B){Z.getLogger("esri.views.interactive.snapping.hints.LineSnappingHint");F=function(P){function x(G,D,H,Y=!0,aa=!0){var X=P.call(this)||this;X.type=G;X.lineStart=D;X.lineEnd=H;X.fadeLeft=Y;X.fadeRight=aa;return X}W._inheritsLoose(x,P);x.prototype.equals=function(G){return G instanceof x?this.type===G.type&&L.objectEqual(this.lineStart,G.lineStart)&&L.objectEqual(this.lineEnd,G.lineEnd)&&this.fadeLeft===G.fadeLeft&&this.fadeRight===G.fadeRight:!1};return x}(B.SnappingHint);z.LineSnappingHint=
F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/ParallelSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),function(z,W,F,Z,L,B){Z.getLogger("esri.views.interactive.snapping.hints.ParallelSnappingHint");F=function(P){function x(G,D){var H=P.call(this)||this;H.lineStart=G;H.lineEnd=D;return H}W._inheritsLoose(x,P);x.prototype.equals=
function(G){return G instanceof x?L.objectEqual(this.lineStart,G.lineStart)&&L.objectEqual(this.lineEnd,G.lineEnd):!1};return x}(B.SnappingHint);z.ParallelSnappingHint=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/PointSnappingHint":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../snappingUtils","./SnappingHint"],function(z,W,F,Z){Z=function(L){function B(P){var x=L.call(this)||this;x.point=P;return x}W._inheritsLoose(B,
L);B.prototype.equals=function(P){return P instanceof B?F.objectEqual(this.point,P.point):!1};return B}(Z.SnappingHint);z.PointSnappingHint=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/snapping/hints/RightAngleSnappingHint":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/Logger ../snappingUtils ./SnappingHint".split(" "),function(z,W,F,Z,L,B){Z.getLogger("esri.views.interactive.snapping.hints.RightAngleSnappingHint");
F=function(P){function x(G,D,H){var Y=P.call(this)||this;Y.previousVertex=G;Y.centerVertex=D;Y.nextVertex=H;return Y}W._inheritsLoose(x,P);x.prototype.equals=function(G){return G instanceof x?L.objectEqual(this.previousVertex,G.previousVertex)&&L.objectEqual(this.centerVertex,G.centerVertex)&&L.objectEqual(this.nextVertex,G.nextVertex):!1};return x}(B.SnappingHint);z.RightAngleSnappingHint=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/ExtendedLineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/has ../../../../core/maybe ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../core/Handles ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../../../chunks/clipRay ../../support/geometryUtils ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial ./LaserlineVisualElement ./Object3DVisualElement".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U){F=function(N){function T(I){var V=N.call(this,I)||this;V._ray=H.ray.create();V._externalResources=null;V._handles=new P;V._isWorldDown=!1;V._start=L.create();V._end=L.fromValues(1,0,0);V._width=1;V._color=G.fromValues(1,0,1,1);V._polygonOffset=!1;V._writeDepthEnabled=!0;V._innerWidth=0;V._innerColor=G.fromValues(1,1,1,1);V._stippleIntegerRepeats=!0;V._stipplePattern=null;V._stippleOffColor=null;V._falloff=0;V._extensionType=0;V._laserlineStyle=null;V._laserlineEnabled=
!1;V._renderOccluded=4;V._fadedExtensions=C;V.applyProps(I);return V}W._inheritsLoose(T,N);var Q=T.prototype;Q.createExternalResources=function(){const I=new aa.RibbonLineMaterial(this.materialParameters);this._handles.add(this.view.state.watch("camera",()=>{this.updateGeometry()}));const V=new X.LaserlineVisualElement({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:I,laserline:V}};Q.destroyExternalResources=function(){Z.isSome(this._externalResources)&&this._externalResources.laserline.destroy();
this._externalResources=null;this._handles.removeAll()};Q.forEachExternalMaterial=function(I){Z.isSome(this._externalResources)&&I(this._externalResources.material)};Q.createGeometries=function(I){var V=[L.create(),L.create()],R=3===this.extensionType;R&&V.push(L.create(),L.create());R=R?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null;V=Y.createPolylineGeometry(V,null,R);I.addGeometry(V,Z.unwrap(this._externalResources).material);this.updateVertices(V)};Q.updateVisibility=function(I){N.prototype.updateVisibility.call(this,
I);Z.isSome(this._externalResources)&&(this._externalResources.laserline.visible=I)};Q.setStartEndFromWorldDownAtLocation=function(I){this._isWorldDown=!0;B.copy(this._start,I);this.view.renderCoordsHelper.worldUpAtPosition(I,this._end);B.subtract(this._end,I,this._end);H.ray.fromPoints(this._start,this._end,this._ray);this.updateGeometry()};Q.updateMaterial=function(){Z.isNone(this._externalResources)||this._externalResources.material.setParameterValues(this.materialParameters)};Q.updateGeometry=
function(){Z.isSome(this.object)&&this.updateVertices(this.object.geometries[0])};Q.updateVertices=function(I){const V=3===this._extensionType?this.updateLineSegmentFinite(w):this.updateLineSegmentInfinite(this._extensionType,w);this.updateVertexAttributes(I,V);Z.isSome(this._externalResources)&&(this._externalResources.laserline.intersectsLine=V)};Q.updateLineSegmentFinite=function(I){return H.lineSegment.fromPoints(this._start,this._end,I)};Q.updateLineSegmentInfinite=function(I,V){var R=this.view.state.camera;
D.fromRay(this._ray,K);switch(I){case 0:K.c0=-Number.MAX_VALUE;break;case 1:case 2:var ja=this._ray.origin;I=Z.unwrapOr(this.view.elevationProvider.getElevation(ja[0],ja[1],ja[2],this.view.renderCoordsHelper.spatialReference,"ground"),0);ja=this.view.renderCoordsHelper.getAltitude(ja);this._isWorldDown&&ja<I&&B.negate(K.ray.direction,K.ray.direction);2===this._extensionType&&null!=I&&(K.c1=Math.abs(ja-I))}if(!H.frustum.intersectClipRay(R.frustum,K))return H.lineSegment.fromPoints(this._start,this._end,
V);R=D.getStart(K,A);I=D.getEnd(K,y);return H.lineSegment.fromPoints(R,I,V)};Q.updateVertexAttributes=function(I,V){I=I.getMutableAttribute("position").data;if(3===this.extensionType){var R=H.lineSegment.pointAt(V,-this.fadedExtensions.start,A);I[0]=R[0];I[1]=R[1];I[2]=R[2];R=H.lineSegment.pointAt(V,0,A);I[3]=R[0];I[4]=R[1];I[5]=R[2];R=H.lineSegment.pointAt(V,1,A);I[6]=R[0];I[7]=R[1];I[8]=R[2];V=H.lineSegment.pointAt(V,1+this.fadedExtensions.end,A);I[9]=V[0];I[10]=V[1];I[11]=V[2]}else R=H.lineSegment.pointAt(V,
0,A),I[0]=R[0],I[1]=R[1],I[2]=R[2],V=H.lineSegment.pointAt(V,1,A),I[3]=V[0],I[4]=V[1],I[5]=V[2];Z.isSome(this.object)&&this.object.geometryVertexAttrsUpdated(0)};W._createClass(T,[{key:"start",get:function(){return this._start},set:function(I){this._isWorldDown=!1;B.exactEquals(this._start,I)||(B.copy(this._start,I),H.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}},{key:"end",get:function(){return this._end},set:function(I){this._isWorldDown=!1;B.exactEquals(this._end,I)||
(B.copy(this._end,I),H.ray.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}},{key:"width",get:function(){return this._width},set:function(I){I!==this._width&&(this._width=I,this.updateMaterial())}},{key:"color",get:function(){return this._color},set:function(I){x.exactEquals(I,this._color)||(x.copy(this._color,I),this.updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(I){I!==this._polygonOffset&&(this._polygonOffset=I,this.updateMaterial())}},
{key:"writeDepthEnabled",get:function(){return this._writeDepthEnabled},set:function(I){this._writeDepthEnabled!==I&&(this._writeDepthEnabled=I,this.updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(I){I!==this._innerWidth&&(this._innerWidth=I,this.updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(I){x.exactEquals(I,this._innerColor)||(x.copy(this._innerColor,I),this.updateMaterial())}},{key:"stippleIntegerRepeats",
get:function(){return this._stippleIntegerRepeats},set:function(I){I!==this._stippleIntegerRepeats&&(this._stippleIntegerRepeats=I,this.updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(I){const V=Z.isSome(I)!==Z.isSome(this._stipplePattern);this._stipplePattern=I;V?this.recreate():this.updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(I){if(Z.isNone(I)||Z.isNone(this._stippleOffColor)||!x.exactEquals(I,
this._stippleOffColor))this._stippleOffColor=Z.isSome(I)?G.clone(I):null,this.updateMaterial()}},{key:"falloff",get:function(){return this._falloff},set:function(I){I!==this._falloff&&(this._falloff=I,this.updateMaterial())}},{key:"extensionType",get:function(){return this._extensionType},set:function(I){I!==this._extensionType&&(this._extensionType=I,this.updateGeometry())}},{key:"_laserlineAttached",get:function(){return this._laserlineEnabled&&Z.isSome(this._laserlineStyle)}},{key:"laserlineStyle",
get:function(){return this._laserlineStyle},set:function(I){this._laserlineStyle=I;Z.isSome(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,Z.isSome(I)&&(this._externalResources.laserline.style=I))}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(I){this._laserlineEnabled!==I&&(this._laserlineEnabled=I,Z.isSome(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}},{key:"renderOccluded",
get:function(){return this._renderOccluded},set:function(I){I!==this._renderOccluded&&(this._renderOccluded=I,this.updateMaterial())}},{key:"fadedExtensions",get:function(){return this._fadedExtensions},set:function(I){this._fadedExtensions=Z.unwrapOr(I,C);this.recreateGeometry()}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stippleIntegerRepeats:this._stippleIntegerRepeats,innerWidth:this._innerWidth,
innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}}]);return T}(U.Object3DVisualElement);const K=D.create(),A=L.create(),y=L.create(),w=H.lineSegment.create();U=1/3;const C={start:U,end:U};z.ExtendedLineVisualElement=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/LaserlineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../support/geometryUtils ./VisualElement ../../../../chunks/Laserlines.glsl ../../support/LaserLineRenderer".split(" "),
function(z,W,F,Z,L,B,P,x,G){P=function(H){function Y(X){var U=H.call(this,X.view)||this;U._angleCutoff=x.defaultAngleCutoff;U._style={};U._heightManifoldTarget=Z.create();U._heightManifoldEnabled=!1;U._intersectsLine=B.lineSegment.create();U._intersectsLineEnabled=!1;U._intersectsLineInfinite=!1;U._lineVerticalPlaneSegment=null;U._pathVerticalPlaneBuffers=null;U._pointDistanceLine=null;U.applyProps(X);return U}W._inheritsLoose(Y,H);var aa=Y.prototype;aa.createResources=function(){this.ensureRenderer()};
aa.destroyResources=function(){this.disposeRenderer()};aa.updateVisibility=function(){this.syncHeightManifold();this.syncIntersectsLine();this.syncPathVerticalPlane();this.syncLineVerticalPlane();this.syncPointDistance()};aa.syncRenderer=function(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||F.isSome(this._pointDistanceLine)||F.isSome(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()};aa.ensureRenderer=function(){F.isSome(this.renderer)||(this.renderer=
new G.LaserLineRenderer(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))};aa.syncStyle=function(){F.isNone(this.renderer)||(this.renderer.setParameterValues(this._style),null!=this._style.intersectsLineRadius&&
(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))};aa.syncAngleCutoff=function(){F.isNone(this.renderer)||this.renderer.setParameterValues({angleCutoff:this._angleCutoff})};aa.syncHeightManifold=function(){F.isNone(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))};aa.syncIntersectsLine=function(){F.isNone(this.renderer)||(this.renderer.intersectsLineEnabled=
this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))};aa.syncIntersectsLineInfinite=function(){F.isNone(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)};aa.syncPathVerticalPlane=function(){F.isNone(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=F.isSome(this._pathVerticalPlaneBuffers)&&this.visible,F.isSome(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=
this._pathVerticalPlaneBuffers))};aa.syncLineVerticalPlane=function(){F.isNone(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=F.isSome(this._lineVerticalPlaneSegment)&&this.visible,F.isSome(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))};aa.syncPointDistance=function(){F.isNone(this.renderer)||(this.renderer.pointDistanceEnabled=F.isSome(this._pointDistanceLine)&&this.visible,F.isSome(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=
this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))};aa.disposeRenderer=function(){F.isSome(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)};W._createClass(Y,[{key:"testData",get:function(){return this.renderer}},{key:"angleCutoff",get:function(){return this._angleCutoff},set:function(X){this._angleCutoff!==X&&(this._angleCutoff=X,this.syncAngleCutoff())}},{key:"style",get:function(){return this._style},
set:function(X){this._style=X;this.syncStyle()}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldEnabled?this._heightManifoldTarget:null},set:function(X){F.isSome(X)?(L.copy(this._heightManifoldTarget,X),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1;this.syncRenderer();this.syncHeightManifold()}},{key:"intersectsWorldUpAtLocation",set:function(X){if(F.isNone(X))this.intersectsLine=null;else{var U=this.view.renderCoordsHelper.worldUpAtPosition(X,D);this.intersectsLine=
B.lineSegment.fromValues(X,U);this.intersectsLineInfinite=!0}}},{key:"intersectsLine",get:function(){return this._intersectsLineEnabled?this._intersectsLine:null},set:function(X){F.isSome(X)?(B.lineSegment.copy(X,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1;this.syncIntersectsLine();this.syncRenderer()}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(X){this._intersectsLineInfinite=X;this.syncIntersectsLineInfinite()}},
{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(X){this._lineVerticalPlaneSegment=F.isSome(X)?B.lineSegment.copy(X):null;this.syncLineVerticalPlane();this.syncRenderer()}},{key:"pathVerticalPlane",get:function(){return this._pathVerticalPlaneBuffers},set:function(X){this._pathVerticalPlaneBuffers=X;this.syncPathVerticalPlane();this.syncLineVerticalPlane();this.syncPointDistance();this.syncRenderer()}},{key:"pointDistanceLine",get:function(){return this._pointDistanceLine},
set:function(X){this._pointDistanceLine=F.isSome(X)?{origin:Z.clone(X.origin),target:Z.clone(X.target)}:null;this.syncPointDistance();this.syncRenderer()}}]);return Y}(P.VisualElement);const D=Z.create();z.LaserlineVisualElement=P;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/VisualElement":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(z,W){let F=function(){function Z(B){this._resourcesCreated=this._attached=!1;
this._visible=!0;this.view=B;this.view.watch("ready",P=>{this._resourcesCreated&&(P?this._createResources():this._destroyResources())})}var L=Z.prototype;L.applyProps=function(B){let P=!1;for(const x in B)x in this?"attached"===x?P=B[x]:this[x]=B[x]:console.error("Cannot set unknown property",x);this.attached=P};L.destroy=function(){this.attached=!1};L._createResources=function(){this.createResources();this._resourcesCreated=!0;this.visible||this.updateVisibility(!1)};L._destroyResources=function(){this.destroyResources();
this._resourcesCreated=!1};W._createClass(Z,[{key:"attached",get:function(){return this._attached},set:function(B){B!==this._attached&&this.view._stage&&((this._attached=B)&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}},{key:"visible",get:function(){return this._visible},set:function(B){B!==this._visible&&(this._visible=B,this.attached&&this.updateVisibility(B))}}]);return Z}();z.VisualElement=F;Object.defineProperty(z,"__esModule",
{value:!0})})},"esri/chunks/Laserlines.glsl":function(){define("exports ../core/mathUtils ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl".split(" "),function(z,W,F,Z,L,B){function P(G){const D=new Z.ShaderBuilder;D.extensions.add("GL_OES_standard_derivatives");D.include(L.ScreenSpacePass);D.include(B.Laserline,G);D.fragment.uniforms.add("angleCutoff",
"vec2");D.fragment.uniforms.add("globalAlpha","float");G.heightManifoldEnabled&&D.fragment.uniforms.add("heightPlane","vec4");G.pointDistanceEnabled&&D.fragment.uniforms.add("pointDistanceSphere","vec4");G.lineVerticalPlaneEnabled&&D.fragment.uniforms.add("lineVerticalPlane","vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd","vec3");(G.heightManifoldEnabled||G.pointDistanceEnabled||G.lineVerticalPlaneEnabled)&&D.fragment.uniforms.add("maxPixelDistance","float");G.intersectsLineEnabled&&
D.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius","float").add("perScreenPixelRatio","float");(G.lineVerticalPlaneEnabled||G.heightManifoldEnabled)&&D.fragment.code.add(F.glsl`
      float planeDistancePixels(vec4 plane, vec3 pos) {
        float dist = dot(plane.xyz, pos) + plane.w;
        float width = fwidth(dist);
        dist /= min(width, maxPixelDistance);
        return abs(dist);
      }`);G.pointDistanceEnabled&&D.fragment.code.add(F.glsl`
    float sphereDistancePixels(vec4 sphere, vec3 pos) {
      float dist = distance(sphere.xyz, pos) - sphere.w;
      float width = fwidth(dist);
      dist /= min(width, maxPixelDistance);
      return abs(dist);
    }
    `);G.intersectsLineEnabled&&D.fragment.code.add(F.glsl`
    float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
      float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
      return abs(dist) - radius;
    }
    `);(G.lineVerticalPlaneEnabled||G.intersectsLineEnabled)&&D.fragment.code.add(F.glsl`
    bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
      vec3 dir = end - start;
      float t2 = dot(dir, pos - start);
      float l2 = dot(dir, dir);
      return t2 >= 0.0 && t2 <= l2;
    }
    `);D.fragment.code.add(F.glsl`
  void main() {
    vec3 pos;
    vec3 normal;
    float depthDiscontinuityAlpha;

    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
      discard;
    }

    vec4 color = vec4(0, 0, 0, 0);
  `);G.heightManifoldEnabled&&D.fragment.code.add(F.glsl`
    {
      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));
      vec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));
      color = max(color, heightManifoldColor * heightManifoldAlpha);
    }
    `);G.pointDistanceEnabled&&D.fragment.code.add(F.glsl`
    {
      // distance to sphere
      float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
      vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
      float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));

      color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
    }
    `);G.lineVerticalPlaneEnabled&&D.fragment.code.add(F.glsl`
    {
      if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
        float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);

        vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
        float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));

        color = max(color, lineVerticalColor * lineVerticalAlpha);
      }
    }
    `);G.intersectsLineEnabled&&D.fragment.code.add(F.glsl`
    {
      if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
        float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
        vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
        float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));

        color = max(color, intersectsLineColor * intersectsLineAlpha);
      }
    }
    `);D.fragment.code.add(F.glsl`
    gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);
  }
  `);return D}W=W.deg2rad(6);var x=Object.freeze({__proto__:null,defaultAngleCutoff:W,build:P});z.LaserlinesShader=x;z.build=P;z.defaultAngleCutoff=W})},"esri/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl":function(){define(["exports","../shaderModules/interfaces","./output/ReadLinearDepth.glsl","./util/CameraSpace.glsl"],function(z,W,F,Z){z.Laserline=function(L,B){L.extensions.add("GL_OES_standard_derivatives");L.fragment.include(F.ReadLinearDepth);L.include(Z.CameraSpace);L.fragment.uniforms.add("glowColor",
"vec3");L.fragment.uniforms.add("glowWidth","float");L.fragment.uniforms.add("glowFalloff","float");L.fragment.uniforms.add("innerColor","vec3");L.fragment.uniforms.add("innerWidth","float");L.fragment.uniforms.add("depthMap","sampler2D");L.fragment.uniforms.add("nearFar","vec2");L.fragment.uniforms.add("frameColor","sampler2D");B.contrastControlEnabled&&L.fragment.uniforms.add("globalAlphaContrastBoost","float");L.fragment.code.add(W.glsl`
  vec4 blendPremultiplied(vec4 source, vec4 dest) {
    float oneMinusSourceAlpha = 1.0 - source.a;

    return vec4(
      source.rgb + dest.rgb * oneMinusSourceAlpha,
      source.a + dest.a * oneMinusSourceAlpha
    );
  }
  `);L.fragment.code.add(W.glsl`
  vec4 premultipliedColor(vec3 rgb, float alpha) {
    return vec4(rgb * alpha, alpha);
  }
  `);L.fragment.code.add(W.glsl`
  vec4 laserlineProfile(float dist) {
    if (dist > glowWidth) {
      return vec4(0.0);
    }

    float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
    float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);

    return blendPremultiplied(
      premultipliedColor(innerColor, innerAlpha),
      premultipliedColor(glowColor, glowAlpha)
    );
  }
  `);L.fragment.code.add(W.glsl`
  bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
    float depth = linearDepthFromTexture(depthMap, uv, nearFar);

    if (-depth == nearFar[0]) {
      return false;
    }

    pos = reconstructPosition(gl_FragCoord.xy, depth);
    normal = normalize(cross(dFdx(pos), dFdy(pos)));

    float ddepth = fwidth(depth);
    depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);

    return true;
  }
  `);B.contrastControlEnabled?L.fragment.code.add(W.glsl`
    float rgbToLuminance(vec3 color) {
      return dot(vec3(0.2126, 0.7152, 0.0722), color);
    }

    vec4 laserlineOutput(vec4 color) {
      float backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);
      float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);

      return color * alpha;
    }
    `):L.fragment.code.add(W.glsl`
    vec4 laserlineOutput(vec4 color) {
      return color * globalAlpha;
    }
    `)};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/support/LaserLineRenderer":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../core/mathUtils ../../../chunks/vec3f64 ../../../chunks/vec3 ../../../chunks/vec2f64 ../../../chunks/vec4f64 ../../../chunks/vec4 ./geometryUtils ../webgl-engine/lib/Util ../webgl-engine/lib/glUtil3D ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/shaders/LaserlinePathTechnique ./LaserlinePathData ../webgl-engine/shaders/LaserlineTechnique".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){function A(I,V,R,ja){const ia=y,la=w;B.transformMat4(ia,V,ja);B.copy(la,R);la[3]=0;G.transformMat4(la,la,ja);D.plane.fromPositionAndNormal(ia,la,I)}const y=L.create(),w=x.create(),C={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:Z.deg2rad(6),globalAlphaContrastBoost:2};Z=function(){function I(R,ja={},ia={contrastControlEnabled:!1}){this._renderCoordsHelper=R;this._config=ia;this._technique=null;this._projInfo=
x.create();this._zScale=P.create();this._heightManifoldEnabled=!1;this._heightManifoldTarget=L.create();this._pointDistanceEnabled=!1;this._pointDistanceOrigin=L.create();this._pointDistanceTarget=L.create();this._lineVerticalPlaneEnabled=!1;this._lineVerticalPlaneSegment=D.lineSegment.create();this._intersectsLineEnabled=!1;this._intersectsLineSegment=D.lineSegment.create();this._intersectsLineRadius=3;this._pathVerticalPlaneEnabled=this._intersectsLineInfinite=!1;this._pathTechnique=this._pathVerticalPlaneData=
null;this.canRender=!0;this._tempNormal=L.create();this._tempDir=L.create();this._tempUp=L.create();this._tempVec3A=L.create();this._tempVec3B=L.create();this._tempVec4=x.create();this._tempPlane=D.plane.create();this._tempSphere=D.sphere.create();this._params=aa.copyParameters(ja,C)}var V=I.prototype;V.setParameterValues=function(R){aa.updateParameters(this._params,R)&&this._requestRender()};V.initializeRenderContext=function(R){this._context=R;this._quadVAO=Y.createQuadVAO(R.renderContext.rctx);
this._techniqueRepository=R.shaderTechniqueRep;this._techniqueConfig=new K.LaserlineTechniqueConfiguration;this._pathTechniqueConfig=new X.LaserlinePathTechniqueConfiguration};V.uninitializeRenderContext=function(){this._quadVAO=F.disposeMaybe(this._quadVAO);this._techniqueRepository.release(this._technique);this._technique=null;this._pathVerticalPlaneData=F.disposeMaybe(this._pathVerticalPlaneData);this._techniqueRepository.release(this._pathTechnique);this._pathTechnique=null};V.render=function(R){const ja=
this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,ia=this.pathVerticalPlaneEnabled;if(!ja&&!ia)return!0;const la=R.camera;H.inverseProjectionInfo(la.projectionMatrix,la.fullWidth,la.fullHeight,this._projInfo,this._zScale);ja&&this.renderUnified(R);ia&&this.renderPath(R);return!0};V.renderUnified=function(R){const ja=R.rctx,ia=this._selectTechnique(),la=ia.program;ja.bindProgram(la);ia.bindPipelineState(ja);this.bindGlobalUniforms(R,la);
this.bindHeightManifoldUniforms(R,la);this.bindPointDistanceUniforms(R,la);this.bindLineVerticalPlaneUniforms(R,la);this.bindIntersectsLineUniforms(R,la);ia.bind(this._params,R.camera);ja.bindVAO(this._quadVAO);ja.drawArrays(5,0,4)};V.renderPath=function(R){if(!F.isNone(this._pathVerticalPlaneData)){this._pathTechniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;this._pathTechnique=this._techniqueRepository.acquireAndReleaseExisting(X.LaserlinePathTechnique,this._pathTechniqueConfig,
this._pathTechnique);var ja=R.rctx,ia=this._pathTechnique,la=ia.program;ja.bindProgram(la);ia.bindPipelineState(ja);this.bindGlobalUniforms(R,la);ia.bind(this._params,this._pathVerticalPlaneData.origin,R.camera);this._pathVerticalPlaneData.draw(R.rctx)}};V.bindHeightManifoldUniforms=function(R,ja){if(this.heightManifoldEnabled){var ia=this._tempVec3A,la=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,ia);A(la,this._heightManifoldTarget,ia,R.camera.viewMatrix);
ja.setUniform4fv("heightPlane",la)}};V.bindPointDistanceUniforms=function(R,ja){if(this._pointDistanceEnabled){R=R.camera;var ia=this._tempSphere;B.copy(ia,this._pointDistanceOrigin);B.transformMat4(ia,ia,R.viewMatrix);ia[3]=B.distance(this._pointDistanceOrigin,this._pointDistanceTarget);ja.setUniform4f("pointDistanceSphere",ia[0],ia[1],ia[2],ia[3])}};V.bindLineVerticalPlaneUniforms=function(R,ja){if(this._lineVerticalPlaneEnabled){var ia=this._renderCoordsHelper;R=R.camera;var la=this._tempPlane,
pa=this._tempVec3A,oa=this._tempUp,va=this._tempDir,na=this._tempNormal;D.lineSegment.pointAt(this._lineVerticalPlaneSegment,.5,pa);ia.worldUpAtPosition(pa,oa);B.normalize(va,this._lineVerticalPlaneSegment.vector);B.cross(na,oa,va);B.normalize(na,na);A(la,this._lineVerticalPlaneSegment.origin,na,R.viewMatrix);ja.setUniform4fv("lineVerticalPlane",la);la=this._tempVec3A;B.copy(la,this._lineVerticalPlaneSegment.origin);ia.setAltitude(0,la);B.transformMat4(la,la,R.viewMatrix);ja.setUniform3fv("lineVerticalStart",
la);la=this._tempVec3B;B.add(la,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector);ia.setAltitude(0,la);B.transformMat4(la,la,R.viewMatrix);ja.setUniform3fv("lineVerticalEnd",la)}};V.bindIntersectsLineUniforms=function(R,ja){if(this._intersectsLineEnabled){var ia=T,la=Q;if(this._intersectsLineInfinite){var pa=R.camera;D.clipRay.fromRay(D.ray.wrap(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),N);N.c0=-Number.MAX_VALUE;if(!D.frustum.intersectClipRay(pa.frustum,
N))return;D.clipRay.getStart(N,ia);D.clipRay.getEnd(N,la)}else B.copy(ia,this._intersectsLineSegment.origin),B.add(la,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);pa=this._tempVec3A;B.transformMat4(pa,ia,R.camera.viewMatrix);ja.setUniform3fv("intersectsLineStart",pa);ia=this._tempVec4;B.copy(ia,this._intersectsLineSegment.vector);this._tempVec4[3]=0;G.transformMat4(this._tempVec4,this._tempVec4,R.camera.viewMatrix);B.transformMat4(la,la,R.camera.viewMatrix);ja.setUniform3fv("intersectsLineEnd",
la);B.normalize(ia,ia);ja.setUniform3f("intersectsLineDirection",ia[0],ia[1],ia[2]);ja.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}};V.bindGlobalUniforms=function(R,ja){const ia=R.camera;ja.setUniform4fv("projInfo",this._projInfo);ja.setUniform2fv("zScale",this._zScale);ja.setUniform2f("nearFar",ia.near,ia.far);this._heightManifoldEnabled?ja.setUniform1f("maxPixelDistance",2*ia.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?ja.setUniform1f("maxPixelDistance",
2*ia.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&ja.setUniform1f("maxPixelDistance",2*ia.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin));ja.setUniform1i("depthMap",0);R.rctx.bindTexture(R.offscreenRenderingHelper.linearDepthTexture,0);ja.setUniform1i("frameColor",1);R.rctx.bindTexture(R.offscreenRenderingHelper.mainColorTexture,1)};V._requestRender=function(){this._context&&this._context.requestRender()};V._selectTechnique=function(){this._techniqueConfig.heightManifoldEnabled=
this.heightManifoldEnabled;this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled;this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled;this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled;this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled;return this._technique=this._techniqueRepository.acquireAndReleaseExisting(K.LaserlineTechnique,this._techniqueConfig,this._technique)};W._createClass(I,[{key:"renderSlots",get:function(){return[this._config.contrastControlEnabled?
17:16]}},{key:"needsLinearDepth",get:function(){return!0}},{key:"heightManifoldEnabled",get:function(){return this._heightManifoldEnabled},set:function(R){this._heightManifoldEnabled!==R&&(this._heightManifoldEnabled=R,this._requestRender())}},{key:"heightManifoldTarget",get:function(){return this._heightManifoldTarget},set:function(R){B.copy(this._heightManifoldTarget,R);this._requestRender()}},{key:"pointDistanceEnabled",get:function(){return this._pointDistanceEnabled},set:function(R){R!==this._pointDistanceEnabled&&
(this._pointDistanceEnabled=R,this._requestRender())}},{key:"pointDistanceTarget",get:function(){return this._pointDistanceTarget},set:function(R){B.copy(this._pointDistanceTarget,R);this._requestRender()}},{key:"pointDistanceOrigin",get:function(){return this._pointDistanceOrigin},set:function(R){B.copy(this._pointDistanceOrigin,R);this._requestRender()}},{key:"lineVerticalPlaneEnabled",get:function(){return this._lineVerticalPlaneEnabled},set:function(R){R!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=
R,this._requestRender())}},{key:"lineVerticalPlaneSegment",get:function(){return this._lineVerticalPlaneSegment},set:function(R){D.lineSegment.copy(R,this._lineVerticalPlaneSegment);this._requestRender()}},{key:"intersectsLineEnabled",get:function(){return this._intersectsLineEnabled},set:function(R){R!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=R,this._requestRender())}},{key:"intersectsLineSegment",get:function(){return this._intersectsLineSegment},set:function(R){D.lineSegment.copy(R,
this._intersectsLineSegment);this._requestRender()}},{key:"intersectsLineRadius",get:function(){return this._intersectsLineRadius},set:function(R){R!==this._intersectsLineRadius&&(this._intersectsLineRadius=R,this._requestRender())}},{key:"intersectsLineInfinite",get:function(){return this._intersectsLineInfinite},set:function(R){R!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=R,this._requestRender())}},{key:"pathVerticalPlaneEnabled",get:function(){return this._pathVerticalPlaneEnabled},
set:function(R){R!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=R,F.isSome(this._pathVerticalPlaneData)&&this._requestRender())}},{key:"pathVerticalPlaneVertices",set:function(R){F.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new U.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.vertices=R;this.pathVerticalPlaneEnabled&&this._requestRender()}},{key:"pathVerticalPlaneBuffers",set:function(R){F.isNone(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=
new U.LaserlinePathData(this._renderCoordsHelper));this._pathVerticalPlaneData.buffers=R;this.pathVerticalPlaneEnabled&&this._requestRender()}}]);return I}();const N=D.clipRay.create(),T=L.create(),Q=L.create();z.LaserLineRenderer=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/LaserlinePathTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../../../webgl/Program ../../../webgl/renderState ../../../../chunks/LaserlinePath.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y){x=function(X){function U(){return X.apply(this,arguments)||this}F._inheritsLoose(U,X);var K=U.prototype;K.initializeProgram=function(A){const y=U.shader.get().build(this.configuration);return new D(A.rctx,y.generateSource("vertex"),y.generateSource("fragment"),U.attributeLocations)};K.bind=function(A,y,w){this.program.setUniform3fv("innerColor",A.innerColor);this.program.setUniform1f("innerWidth",A.innerWidth*w.pixelRatio);this.program.setUniform3fv("glowColor",A.glowColor);
this.program.setUniform1f("glowWidth",A.glowWidth*w.pixelRatio);this.program.setUniform1f("glowFalloff",A.glowFalloff);this.program.setUniform1f("globalAlpha",A.globalAlpha);this.program.setUniform1f("perScreenPixelRatio",w.perScreenPixelRatio);this.program.setUniform2f("pixelToNDC",2/w.fullWidth,2/w.fullHeight);this.program.setUniformMatrix4fv("uProjectionMatrix",w.projectionMatrix);L.translate(aa,w.viewMatrix,y);this.program.setUniformMatrix4fv("uModelViewMatrix",aa);this.configuration.contrastControlEnabled&&
this.program.setUniform1f("globalAlphaContrastBoost",null!=A.globalAlphaContrastBoost?A.globalAlphaContrastBoost:1)};K.initializePipeline=function(){return H.makePipelineState({blending:H.simpleBlendingParams(1,771),colorWrite:H.defaultColorWriteParams})};K.bindPipelineState=function(A){A.setPipelineState(this.pipeline)};return U}(x.ShaderTechnique);x.shader=new P.ReloadableShaderModule(Y.LaserlinePathShader,()=>new Promise(function(X,U){z(["./LaserlinePath.glsl"],X,U)}));x.attributeLocations={start:0,
end:1,up:2,extrude:3};P=function(X){function U(){var K=X.apply(this,arguments)||this;K.contrastControlEnabled=!1;return K}F._inheritsLoose(U,X);return U}(G.ShaderTechniqueConfiguration);Z.__decorate([G.parameter()],P.prototype,"contrastControlEnabled",void 0);const aa=B.create();W.LaserlinePathTechnique=x;W.LaserlinePathTechniqueConfiguration=P;Object.defineProperty(W,"__esModule",{value:!0})})},"esri/chunks/LaserlinePath.glsl":function(){define(["exports","../views/3d/webgl-engine/core/shaderModules/interfaces",
"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder","../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl"],function(z,W,F,Z){function L(P){const x=new F.ShaderBuilder;x.include(Z.Laserline,P);x.vertex.uniforms.add("uModelViewMatrix","mat4");x.vertex.uniforms.add("uProjectionMatrix","mat4");x.attributes.add("start","vec3");x.attributes.add("end","vec3");x.attributes.add("up","vec3");x.attributes.add("extrude","vec2");x.varyings.add("uv","vec2");x.varyings.add("vViewStart","vec3");x.varyings.add("vViewEnd",
"vec3");x.varyings.add("vViewPlane","vec4");x.vertex.uniforms.add("glowWidth","float");x.vertex.uniforms.add("pixelToNDC","vec2");x.vertex.code.add(W.glsl`
  void main() {
    vec3 pos = mix(start, end, extrude.x);

    vec4 viewPos = uModelViewMatrix * vec4(pos, 1);
    vec4 projPos = uProjectionMatrix * viewPos;
    vec2 ndcPos = projPos.xy / projPos.w;

    vec3 viewUp = (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;
    vec4 projPosUp = uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);
    vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);

    vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
    ndcPos += length(lxy) * projExtrudeDir;

    vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
    vec3 viewPlaneNormal = (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;

    vViewStart = (uModelViewMatrix * vec4(start, 1)).xyz;
    vViewEnd = (uModelViewMatrix * vec4(end, 1)).xyz;
    vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));

    // Add enough padding in the X screen space direction for glow
    float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
    ndcPos.x += xPaddingPixels * pixelToNDC.x;

    uv = ndcPos * 0.5 + 0.5;
    gl_Position = vec4(ndcPos, 0, 1);
  }
  `);x.fragment.uniforms.add("globalAlpha","float");x.fragment.uniforms.add("perScreenPixelRatio","float");x.fragment.code.add(W.glsl`
  float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
    vec3 origin = mix(start, end, 0.5);
    vec3 basis = end - origin;
    vec3 posAtOrigin = pos - origin;

    float x = dot(normalize(basis), posAtOrigin);
    float y = dot(plane.xyz, posAtOrigin);

    float dx = max(abs(x) - length(basis), 0.0);
    float dy = y;

    float dist = length(vec2(dx, dy));

    float width = fwidth(y);
    float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
    float pixelDist = dist / min(width, maxPixelDistance);
    return abs(pixelDist);
  }

  void main() {
    vec3 pos;
    vec3 normal;
    float depthDiscontinuityAlpha;

    if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
      discard;
    }

    float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);

    vec4 color = laserlineProfile(distance);
    float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));

    gl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
  }
  `);return x}var B=Object.freeze({__proto__:null,build:L});z.LaserlinePathShader=B;z.build=L})},"esri/views/3d/support/LaserlinePathData":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../chunks/vec3f64 ../../../chunks/vec3 ../../webgl/Program ./buffer/glUtil ./buffer/InterleavedLayout ../../webgl/BufferObject ../../webgl/Texture ../../webgl/VertexArrayObject ../../webgl/Renderbuffer ../../webgl/FramebufferObject ../../webgl/ProgramCache ../../webgl/RenderingContext ../../webgl/ShaderCompiler ../webgl-engine/shaders/LaserlinePathTechnique".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A){B=function(){function N(Q){this._renderCoordsHelper=Q;this._buffers=null;this._origin=Z.create();this._dirty=!1;this._count=0;this._vao=null}var T=N.prototype;T.draw=function(Q){const I=this.ensureVAO(Q);F.isSome(I)&&(Q.bindVAO(I),Q.drawArrays(4,0,this._count))};T.dispose=function(){F.isSome(this._vao)&&this._vao.dispose()};T.ensureVAO=function(Q){if(F.isNone(this._buffers))return null;F.isNone(this._vao)&&(this._vao=this.createVAO(Q,this._buffers));this.ensureVertexData(this._vao,
this._buffers);return this._vao};T.createVAO=function(Q,I){I=this.createDataBuffer(I);this._dirty=!1;return new H(Q,A.LaserlinePathTechnique.attributeLocations,{data:P.glLayout(C)},{data:G.createVertex(Q,35044,I)})};T.ensureVertexData=function(Q,I){this._dirty&&(I=this.createDataBuffer(I),Q.vertexBuffers.data.setData(I),this._dirty=!1)};T.numberOfRenderVertices=function(Q){return 6*(Q.length/3-1)};T.createDataBuffer=function(Q){var I=Q.reduce((pa,oa)=>pa+this.numberOfRenderVertices(oa),0);this._count=
I;I=C.createBuffer(I);const V=this._origin;let R=0,ja=0;for(const pa of Q){for(Q=0;Q<pa.length;Q+=3){var ia=L.set(w,pa[Q+0],pa[Q+1],pa[Q+2]);0===Q?ja=this._renderCoordsHelper.getAltitude(ia):this._renderCoordsHelper.setAltitude(ja,ia);var la=this._renderCoordsHelper.worldUpAtPosition(ia,y);const oa=R+2*Q;ia=L.subtract(w,ia,V);if(Q<pa.length-3){I.up.setVec(oa,la);I.up.setVec(oa+3,la);I.up.setVec(oa+5,la);for(let va=0;6>va;va++)I.start.setVec(oa+va,ia);I.extrude.setValues(oa+0,0,-1);I.extrude.setValues(oa+
1,1,-1);I.extrude.setValues(oa+2,1,1);I.extrude.setValues(oa+3,0,-1);I.extrude.setValues(oa+4,1,1);I.extrude.setValues(oa+5,0,1)}if(0<Q)for(I.up.setVec(oa-2,la),I.up.setVec(oa-4,la),I.up.setVec(oa-5,la),la=-6;0>la;la++)I.end.setVec(oa+la,ia)}R+=this.numberOfRenderVertices(pa)}return I.buffer};W._createClass(N,[{key:"vertices",set:function(Q){const I=new Float64Array(3*Q.length);let V=0;for(const R of Q)I[V++]=R[0],I[V++]=R[1],I[V++]=R[2];this.buffers=[I]}},{key:"buffers",set:function(Q){this._buffers=
Q;if(0<this._buffers.length){Q=this._buffers[0];const I=3*Math.floor(Q.length/3/2);L.set(this._origin,Q[I+0],Q[I+1],Q[I+2])}else L.set(this._origin,0,0,0);this._dirty=!0}},{key:"origin",get:function(){return this._origin}}]);return N}();const y=Z.create(),w=Z.create(),C=x.newLayout().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude");z.LaserlinePathData=B;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/LaserlineTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/mathUtils ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../../../webgl/Program ../../../webgl/renderState ../../../../chunks/Laserlines.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y){P=function(aa){function X(){return aa.apply(this,arguments)||this}F._inheritsLoose(X,aa);var U=X.prototype;U.initializeProgram=function(K){const A=X.shader.get().build(this.configuration);return new D(K.rctx,A.generateSource("vertex"),A.generateSource("fragment"),G.Default3D)};U.bind=function(K,A){this.program.setUniform3fv("innerColor",K.innerColor);this.program.setUniform1f("innerWidth",K.innerWidth*A.pixelRatio);this.program.setUniform3fv("glowColor",K.glowColor);
this.program.setUniform1f("glowWidth",K.glowWidth*A.pixelRatio);this.program.setUniform1f("glowFalloff",K.glowFalloff);this.program.setUniform1f("globalAlpha",K.globalAlpha);this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=K.globalAlphaContrastBoost?K.globalAlphaContrastBoost:1);K=null!=K.angleCutoff?K.angleCutoff:Y.defaultAngleCutoff;this.program.setUniform2f("angleCutoff",Math.cos(K),Math.cos(Math.max(0,K-L.deg2rad(2))));this.configuration.intersectsLineEnabled&&
this.program.setUniform1f("perScreenPixelRatio",A.perScreenPixelRatio)};U.initializePipeline=function(){return H.makePipelineState({blending:H.simpleBlendingParams(1,771),colorWrite:H.defaultColorWriteParams})};return X}(P.ShaderTechnique);P.shader=new B.ReloadableShaderModule(Y.LaserlinesShader,()=>new Promise(function(aa,X){z(["./Laserlines.glsl"],aa,X)}));B=function(aa){function X(){var U=aa.apply(this,arguments)||this;U.heightManifoldEnabled=!1;U.pointDistanceEnabled=!1;U.lineVerticalPlaneEnabled=
!1;U.intersectsLineEnabled=!1;U.contrastControlEnabled=!1;return U}F._inheritsLoose(X,aa);return X}(x.ShaderTechniqueConfiguration);Z.__decorate([x.parameter()],B.prototype,"heightManifoldEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,"pointDistanceEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,"lineVerticalPlaneEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,"intersectsLineEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,"contrastControlEnabled",void 0);W.LaserlineTechnique=
P;W.LaserlineTechniqueConfiguration=B;Object.defineProperty(W,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/Object3DVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/WebGLLayer ./VisualElement".split(" "),function(z,W,F,Z,L,B,P,x){x=function(G){function D(Y){Y=G.call(this,Y.view)||this;Y._resources=null;Y._transform=
L.create();return Y}W._inheritsLoose(D,G);var H=D.prototype;H.recreate=function(){this.attached&&this.createResources()};H.recreateGeometry=function(){if(!F.isNone(this._resources)){var Y=this._resources.object,aa=this.view._stage;aa.removeMany(Y.geometries);Y.removeAllGeometries();this.createGeometries(Y);this.visible||Y.setVisible(this.visible);aa.addMany(Y.geometries);this._resources.layer.commit()}};H.createResources=function(){this.destroyResources();const Y=this.view._stage;if(Y){var aa=new P.WebGLLayer({isPickable:!1});
Y.add(aa);var X=new B.Object3D({castShadow:!1});X.transformation=this._transform;this.createExternalResources();this.createGeometries(X);Y.addMany(X.geometries);this.forEachExternalMaterial(U=>Y.add(U));Y.add(X);aa.add(X);aa.commit();this.visible||(X.setVisible(!1),aa.commit());this._resources={layer:aa,object:X}}};H.destroyResources=function(){const Y=this.view._stage;!F.isNone(this._resources)&&Y&&(Y.remove(this._resources.object),Y.remove(this._resources.layer),this.forEachExternalMaterial(aa=>
{Y.remove(aa);aa.dispose()}),Y.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)};H.updateVisibility=function(Y){F.isNone(this._resources)||(this._resources.object.setVisible(Y),this._resources.layer.commit())};W._createClass(D,[{key:"object",get:function(){return F.isSome(this._resources)?this._resources.object:null}},{key:"transform",get:function(){return this._transform},set:function(Y){Z.copy(this._transform,Y);
F.isSome(this._resources)&&(this._resources.object.transformation=this._transform,this._resources.layer.commit())}}]);return D}(x.VisualElement);z.Object3DVisualElement=x;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/ParallelLineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/screenUtils ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../core/Handles ../../../../chunks/mat4f64 ../../../../chunks/vec2 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial ./Object3DVisualElement".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X){X=function(N){function T(I){var V=N.call(this,I)||this;V._handles=new P;V._location=L.create();V._direction=L.fromValues(1,0,0);V._width=1;V._offset=1;V._length=18;V._color=H.fromValues(1,0,1,1);V._renderOccluded=4;V.applyProps(I);return V}W._inheritsLoose(T,N);var Q=T.prototype;Q.setDirectionFromPoints=function(I,V){B.normalize(this._direction,B.subtract(this._direction,V,I));this.updateGeometry()};Q.createExternalResources=function(){const I=new aa.RibbonLineMaterial(this.materialParameters);
this._handles.add(this.view.state.watch("camera",()=>{this.updateGeometry()}));this._externalResources={material:I}};Q.destroyExternalResources=function(){this._handles.removeAll();this._externalResources=null};Q.createGeometries=function(I){const V=Y.createPolylineGeometry([L.create(),L.create()]),R=Y.createPolylineGeometry([L.create(),L.create()]),ja=F.unwrap(this._externalResources).material;I.addGeometry(V,ja,x.IDENTITY);I.addGeometry(R,ja,x.IDENTITY);this.updateVertices(I)};Q.forEachExternalMaterial=
function(I){F.isSome(this._externalResources)&&I(this._externalResources.material)};Q.updateMaterial=function(){F.isNone(this._externalResources)||this._externalResources.material.setParameterValues(this.materialParameters)};Q.updateGeometry=function(){const I=this.object;F.isNone(I)||this.updateVertices(I)};Q.updateVertices=function(I){const V=this.view.state.camera;V.projectToScreen(this.location,K);B.add(U,this.location,this.direction);V.projectToScreen(U,A);G.normalize(A,G.subtract(A,A,K));this.updateVertexAttributes(V,
I,0,K,A,1);this.updateVertexAttributes(V,I,1,K,A,-1)};Q.updateVertexAttributes=function(I,V,R,ja,ia,la){const pa=V.geometryRecords[R].geometry.getMutableAttribute("position").data;la=G.scale(y,G.set(y,ia[1]*la,ia[0]*-la),this.offset+this.width/2);ja=G.add(w,G.add(w,G.add(w,ja,G.scale(w,ia,this.length/2)),la),la);ia=G.add(C,ja,G.scale(C,ia,-this.length));I.unprojectFromScreen(ja,U);pa[0]=U[0];pa[1]=U[1];pa[2]=U[2];I.unprojectFromScreen(ia,U);pa[3]=U[0];pa[4]=U[1];pa[5]=U[2];V.geometryVertexAttrsUpdated(R)};
W._createClass(T,[{key:"location",get:function(){return this._location},set:function(I){B.exactEquals(this._location,I)||(B.copy(this._location,I),this.updateGeometry())}},{key:"direction",get:function(){return this._direction},set:function(I){B.exactEquals(this._direction,I)||(B.copy(this._direction,I),this.updateGeometry())}},{key:"width",get:function(){return this._width},set:function(I){I!==this._width&&(this._width=I,this.updateMaterial())}},{key:"offset",get:function(){return this._offset},
set:function(I){I!==this._offset&&(this._offset=I,this.updateGeometry())}},{key:"length",get:function(){return this._length},set:function(I){I!==this._length&&(this._length=I,this.updateGeometry())}},{key:"color",get:function(){return this._color},set:function(I){D.exactEquals(I,this._color)||(D.copy(this._color,I),this.updateMaterial())}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(I){I!==this._renderOccluded&&(this._renderOccluded=I,this.updateMaterial())}},{key:"materialParameters",
get:function(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}}]);return T}(X.Object3DVisualElement);const U=L.create(),K=Z.createScreenPointArray(),A=Z.createScreenPointArray(),y=Z.createScreenPointArray(),w=Z.createScreenPointArray(),C=Z.createScreenPointArray();z.ParallelLineVisualElement=X;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/PointVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/mathUtils ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../geometry/projection ../../../../chunks/vec4f64 ../../../../chunks/vec4 ../../../../geometry/support/aaBoundingBox ../../support/stack ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/HUDMaterial ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../../layers/graphics/sdfPrimitives ../../webgl-engine/lib/Texture ./VisualElementResources".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y){let w=function(){function T(I){this._geometry=this.view=null;this._size=3;this._color=x.fromValues(1,0,1,1);this._pixelSnappingEnabled=!0;this._primitive="square";this._outlineSize=1;this._outlineColor=x.fromValues(1,1,1,1);this._elevationInfo=null;this.resources=new y.VisualElementResources({view:I.view,createResources:R=>this.createResources(R),recreateGeometry:(R,ja)=>{R.geometry=this.recreateGeometry(ja,R.material);return F.isSome(R.geometry)?[R.geometry]:
[]}});let V=!0;for(const R in I)R in this?"attached"===R?V=I[R]:this[R]=I[R]:console.error("Cannot set unknown property",R);this.attached=V}var Q=T.prototype;Q.destroy=function(){this.resources.destroy()};Q.updateMaterial=function(){const I=this.resources.resources;F.isNone(I)||I.material.setParameterValues(this.materialParameters(I.texture.id))};Q.updateSizeAttribute=function(){var I=this.resources.resources;const V=this.resources.object;if(!F.isNone(I)&&!F.isNone(V)&&(I=I.geometry,!F.isNone(I))){I=
I.getMutableAttribute("size").data;var R=this.geometrySize;I[0]=R;I[1]=R;V.geometryVertexAttrsUpdated(0)}};Q.materialParameters=function(I){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:C,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:I,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}};Q.recreateGeometry=function(I,V){const R=this.createRenderGeometry();
F.isSome(R)&&I.addGeometry(R,V);return R};Q.createResources=function(I){const V=this.createTexture(),R=new aa.HUDMaterial(this.materialParameters(V.id));I=this.recreateGeometry(I,R);return{material:R,texture:V,geometry:I,forEach(ja){ja(V);ja(R);F.isSome(this.geometry)&&ja(this.geometry)}}};Q.createTexture=function(){const I=this.preferredTextureSize;return new A.Texture(K.createType(this._primitive,I,.5*I),{mipmap:!1,wrap:{s:33071,t:33071},width:I,height:I,components:4,noUnpackFlip:!0})};Q.calculateMapBounds=
function(I){if(F.isNone(this.resources.resources)||F.isNone(this.resources.resources.geometry))return!1;const V=this.resources.resources.geometry.vertexAttributes.get("position");P.projectVectorToVector(V.data,this.view.renderCoordsHelper.spatialReference,N,this.view.spatialReference);D.expandWithBuffer(I,N);return!0};Q.createRenderGeometry=function(){var I=this.geometry;if(F.isNone(I))return null;const {renderCoordsHelper:V,elevationProvider:R}=this.view;var ja=X.evaluateElevationAlignmentAtPoint(I,
R,U.ElevationContext.fromElevationInfo(this.elevationInfo),V);const ia=B.set(H.sv3d.get(),I.x,I.y,ja);ja=H.sv3d.get();P.projectVectorToVector(ia,I.spatialReference,ja,V.spatialReference);I=this.geometrySize;return Y.createPointGeometry(null,ja,null,[I,I],[0,0,0,1])};W._createClass(T,[{key:"visible",get:function(){return this.resources.visible},set:function(I){this.resources.visible=I}},{key:"attached",get:function(){return this.resources.attached},set:function(I){this.resources.attached=I}},{key:"geometry",
get:function(){return this._geometry},set:function(I){this._geometry=I;this.resources.recreateGeometry()}},{key:"size",get:function(){return this._size},set:function(I){if(I!==this._size){const V=this.preferredTextureSize;this._size=I;V<this.preferredTextureSize?F.isSome(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}},{key:"color",get:function(){return this._color},set:function(I){G.exactEquals(I,this._color)||(G.copy(this._color,I),this.updateMaterial())}},{key:"pixelSnappingEnabled",
get:function(){return this._pixelSnappingEnabled},set:function(I){this._pixelSnappingEnabled!==I&&(this._pixelSnappingEnabled=I,this.updateMaterial())}},{key:"primitive",get:function(){return this._primitive},set:function(I){this._primitive!==I&&(this._primitive=I,F.isSome(this.resources)&&this.resources.recreate())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(I){I!==this._outlineSize&&(this._outlineSize=I,this.updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},
set:function(I){G.exactEquals(I,this._outlineColor)||(G.copy(this._outlineColor,I),this.updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(I){this._elevationInfo=I;this.resources&&this.resources.recreateGeometry()}},{key:"geometrySize",get:function(){return this._size/.5}},{key:"preferredTextureSize",get:function(){return Z.clamp(Z.nextHighestPowerOfTwo(2*this.geometrySize),16,128)}}]);return T}();const C=[.25,.25,.75,.75],N=L.create();z.PointVisualElement=
w;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/VisualElementResources":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/watchUtils ../../webgl-engine/lib/Object3D ../../webgl-engine/lib/WebGLLayer".split(" "),function(z,W,F,Z,L,B){let P=function(){function x(D){this.resourceFactory=D;this._resources=null;this._visible=!0;this._attached=!1}var G=x.prototype;G.destroy=function(){this._destroyResources()};
G.recreate=function(){this.attached&&this._createResources()};G.recreateGeometry=function(){if(this.resourceFactory.recreateGeometry){var D=this.resourceFactory.view._stage;if(!F.isNone(this._resources)&&D){var H=this._resources.object;this._resources.external.forEach(Y=>{2===Y.type&&D.remove(Y)});H.removeAllGeometries();H=this.resourceFactory.recreateGeometry(this._resources.external,H,this._resources.layer);D.addMany(H);this._resources.layer.commit()}}else this.recreate()};G._createOrDestroyResources=
function(){this._attached?this._resources||this._createResources():this._destroyResources()};G._createResources=function(){this._destroyResources();const D=this.resourceFactory.view._stage;if(D){var H=new B.WebGLLayer({isPickable:!1});D.add(H);var Y=new L.Object3D({castShadow:!1}),aa=this.resourceFactory.createResources(Y,H);aa.forEach(U=>D.add(U));D.add(Y);H.add(Y);H.commit();this._syncVisible();var X=this.resourceFactory.cameraChanged?Z.init(this.resourceFactory.view.state,"camera",U=>this.resourceFactory.cameraChanged(U)):
null;this._resources={layer:H,object:Y,external:aa,cameraHandle:X}}};G._destroyResources=function(){if(!F.isNone(this._resources)){var D=this.resourceFactory.view._stage;null==D?void 0:D.remove(this._resources.object);null==D?void 0:D.remove(this._resources.layer);this._resources.external.forEach(H=>{null==D?void 0:D.remove(H);"dispose"in H&&H.dispose()});this._resources.object.dispose();this._resources.cameraHandle&&this._resources.cameraHandle.remove();this._resources=null}};G._syncVisible=function(){F.isNone(this._resources)||
(this._resources.object.setVisible(this._visible),this._resources.layer.commit())};W._createClass(x,[{key:"object",get:function(){return F.isSome(this._resources)?this._resources.object:null}},{key:"resources",get:function(){return F.isSome(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(D){D!==this._visible&&(this._visible=D,this._syncVisible())}},{key:"attached",get:function(){return this._attached},set:function(D){D!==this._attached&&
(this._attached=D,this._createOrDestroyResources())}}]);return x}();z.VisualElementResources=P;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/RightAngleQuadVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../core/Handles ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../support/stack ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/materials/ColorMaterial ./Object3DVisualElement".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){K=function(y){function w(N){var T=y.call(this,N)||this;T._handles=new B;T._quadMaterial=null;T._outlineMaterial=null;T._maxSize=0;T._position=Z.create();T._up=Z.create();T._right=Z.create();T._renderOccluded=4;T._color=D.fromValues(1,0,0,1);T._outlineColor=D.fromValues(0,0,0,1);T._outlineSize=0;T._size=32;T._outlineRenderOccluded=16;T.applyProps(N);return T}W._inheritsLoose(w,y);var C=w.prototype;C.createExternalResources=function(){this._quadMaterial=new U.ColorMaterial(this.quadMaterialParameters);
this._outlineMaterial=new X.RibbonLineMaterial(this.outlineMaterialParameters);this._handles.add(this.view.state.watch("camera",()=>this._updateTransform()))};C.destroyExternalResources=function(){this._outlineMaterial=this._quadMaterial=null;this._handles.removeAll()};C.forEachExternalMaterial=function(N){N(this._quadMaterial);N(this._outlineMaterial)};C.createGeometries=function(N){this._createQuadGeometry(N);this._createOutlineGeometry(N);this._updateTransform(N)};C._createQuadGeometry=function(N){const T=
this._quadGeometryData(this._up,this._right);N.addGeometry(T,this._quadMaterial)};C._createOutlineGeometry=function(N){if(0!==this._outlineSize){var T=L.add(H.sv3d.get(),this._up,this._right);T=aa.createPolylineGeometry([this._up,T,this._right]);N.addGeometry(T,this._outlineMaterial)}};C._updateTransform=function(N=this.object){var T=this._size*this.view.state.camera.computeScreenPixelSizeAt(this._position);T=Math.min(this._maxSize,T);P.identity(A);P.translate(A,A,this._position);P.scale(A,A,[T,T,
T]);F.isSome(N)&&(N.transformation=A)};C._quadGeometryData=function(N,T){const Q=L.add(H.sv3d.get(),N,T);return new Y.Geometry([["position",{size:3,data:[0,0,0,...T,...N,...Q],exclusive:!0}]],[["position",new Uint16Array([0,1,2,1,2,3])]])};C._updateQuadMaterial=function(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)};C._updateOutlineMaterial=function(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)};W._createClass(w,
[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(N){N!==this._renderOccluded&&(this._renderOccluded=N,this._updateQuadMaterial())}},{key:"color",get:function(){return this._color},set:function(N){G.copy(this._color,N);this._updateQuadMaterial()}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(N){G.copy(this._outlineColor,N);this._updateOutlineMaterial()}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(N){const T=
0===this._outlineSize!==(0===N);this._outlineSize=N;T?this.recreateGeometry():this._updateOutlineMaterial()}},{key:"size",get:function(){return this._size},set:function(N){N!==this._size&&(this._size=N,this._updateTransform())}},{key:"outlineRenderOccluded",get:function(){return this._outlineRenderOccluded},set:function(N){this._outlineRenderOccluded=N;this._updateOutlineMaterial()}},{key:"geometry",set:function({previous:N,center:T,next:Q}){this._maxSize=Math.min(L.distance(T,N),L.distance(T,Q))/
3;L.normalize(this._up,L.subtract(this._up,N,T));L.normalize(this._right,L.subtract(this._right,Q,T));L.copy(this._position,T);this.recreateGeometry()}},{key:"quadMaterialParameters",get:function(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}},{key:"outlineMaterialParameters",get:function(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}}]);return w}(K.Object3DVisualElement);const A=
x.create();z.RightAngleQuadVisualElement=K;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/draw/DrawManipulator":function(){define(["exports","../../../../../core/Evented"],function(z,W){let F=function(){function Z({grabbableForEvent:B}){this.events=new W;this.interactive=!0;this.selectable=!1;this.cursor=null;this.grabbable=!0;this.grabbableForEvent=B}var L=Z.prototype;L.intersectionDistance=function(B,P){return 0};L.attach=function(){};L.detach=function(){};
return Z}();z.DrawManipulator=F;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/draw/DrawingMode":function(){define(["exports"],function(z){z.defaultDrawingMode="click";z.drawingModes=["freehand","hybrid","click"];Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/draw/DrawGraphicTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ../../../../../Graphic ../../../../../core/watchUtils ../../../../../core/HandleOwner ../../../../../layers/GraphicsLayer ../../../../../support/elevationInfoUtils ./DrawOperation ./drawSurfaces ../../../../interactive/InteractiveToolBase ../../../../draw/support/surfaceCoordinateSystems ../settings ../../visualElements/OutlineVisualElement ../../visualElements/VerticesVisualElement ../../../layers/graphics/GraphicState ../../../../draw/support/createUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia){function la(pa){switch(pa){case "point":case "polyline":case "polygon":return pa;case "circle":case "rectangle":return"segment";default:return null}}z.DrawGraphicTool=function(pa){function oa(na){na=pa.call(this,na)||this;na.drawOperation=null;na._createGraphic=null;na._createGraphicState=null;na._outlineVisualElement=null;na._verticesVisualElement=null;na._stagedVerticesVisualElement=null;na.hasZ=!0;na.defaultZ=0;na.elevationInfo=
null;na.snapToScene=!1;na.snappingManager=null;na.mode=null;na.geometryType=null;na.type="draw-3d";return na}W._inheritsLoose(oa,pa);var va=oa.prototype;va.initialize=function(){const na=L.unwrapOr(this.elevationInfo,{mode:this.hasZ?"absolute-height":"on-the-ground",offset:0});this._internalGraphicsLayer=new y({elevationInfo:na,listMode:"hide",internal:!0});this.view.map.layers.add(this._internalGraphicsLayer);this.drawOperation=new C.DrawOperation({view:this.view,manipulators:this.manipulators,geometryType:la(this.geometryType),
drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new N.SceneDrawSurface(this.view,na,[this._internalGraphicsLayer]),elevationDrawSurface:new N.ElevationDrawSurface(na,this.defaultZ,this.view,this._internalGraphicsLayer),hasM:!1,elevationInfo:na,snappingManager:this.snappingManager});this.drawOperation.on("vertex-add",xa=>this.onVertexAdd(xa));this.drawOperation.on("vertex-remove",xa=>this.onVertexRemove(xa));this.drawOperation.on("vertex-update",
xa=>this.onVertexUpdate(xa));this.drawOperation.on("cursor-update",xa=>this.onCursorUpdate(xa));this.drawOperation.on("complete",xa=>this.onComplete(xa))};va.destroy=function(){this.drawOperation.destroy();this.drawOperation=null;this._destroyAllVisualisations();this.view.map.remove(this._internalGraphicsLayer);this._set("view",null)};va.onInputEvent=function(na){this.drawOperation.onInputEvent(na)};va._getCreateGeometry=function(na,xa=!1){if(null==this.drawOperation)return null;var za=L.isSome(na)?
na:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null;na=this.drawOperation.vertices;if(0===na.length)return null;const ra=this.drawOperation.spatialReference;var Ca=na.slice(),Da=[];L.isSome(za)&&(Ca.splice(za,1),Da.push(na[za]));za={regularVertices:null,stagedVertices:null,full:null,outline:null};const ba="3d"===this.view.type&&"global"===this.view.viewingMode;switch(this.geometryType){case "point":za.regularVertices=Ca;za.stagedVertices=Da;za.full=this.drawOperation.coordinateHelper.createPointFromArray(na[0]);
break;case "polyline":za.regularVertices=Ca;za.stagedVertices=Da;0<na.length&&(za.full=ia.createPolyline([na],ra,ba));break;case "polygon":za.regularVertices=Ca;za.stagedVertices=Da;0<na.length&&(za.full=ia.createPolygon([na],ra,ba,!0));break;case "circle":0<na.length&&(Ca=Q.createViewAlignedCoordinateSystem(this.view,na[0]),1===na.length&&xa?(xa=na[0],Da=Ca.makeMapPoint(xa[0]+48*this.view.resolution,xa[1]),za.full=ia.createCircle([xa,Da],Ca,!0)):2===na.length&&(za.full=this.forceUniformSize?ia.createCircle(na,
Ca,this.centered):ia.createEllipse(na,Ca,this.centered)));break;case "rectangle":0<na.length&&(Ca=Q.createViewAlignedCoordinateSystem(this.view,na[0]),1===na.length&&xa?(xa=na[0],Da=Ca.makeMapPoint(xa[0]+48*this.view.resolution,xa[1]),za.full=ia.createSquare([xa,Da],Ca,!0)):2===na.length&&(za.full=this.forceUniformSize?ia.createSquare(na,Ca,this.centered):ia.createRectangle(na,Ca,this.centered)));break;default:return null}switch(this.geometryType){case "polyline":1<na.length&&(za.outline=ia.createPolyline([na],
ra,ba));break;case "polygon":1<na.length&&(za.outline=ia.createPolygon([na],ra,ba));break;case "circle":case "rectangle":L.isSome(za.full)&&"polygon"===za.full.type&&(za.outline=ia.createPolygon(za.full.rings,ra,ba))}return za};va._destroyAllVisualisations=function(){this._destroyCreateGraphic();this._destroyOutlineVisualElement();this._destroyVerticesVisualElement();this._destroyStagedVerticesVisualElement()};va._destroyCreateGraphic=function(){L.isSome(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),
this._createGraphic.destroy(),this._createGraphic=null);this._createGraphicState=null;this.handles.remove("create-graphic")};va._destroyOutlineVisualElement=function(){L.isSome(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)};va._destroyVerticesVisualElement=function(){L.isSome(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)};va._destroyStagedVerticesVisualElement=function(){L.isSome(this._stagedVerticesVisualElement)&&
(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)};va._updateCreateGraphic=function(na=null){na=this._getCreateGeometry(na);if(L.isNone(na))this._destroyAllVisualisations();else{var xa=this._internalGraphicsLayer.elevationInfo;L.isSome(na.outline)?L.isNone(this._outlineVisualElement)?(this._outlineVisualElement=new V.OutlineVisualElement({view:this.view,geometry:na.outline,elevationInfo:L.unwrap(xa),isDraped:L.isSome(this._createGraphicState)?this._createGraphicState.isDraped:
"on-the-ground"===w.getEffectiveElevationMode(this.hasZ,xa),attached:!1}),I.settings.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),I.settings.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=na.outline:this._destroyOutlineVisualElement();L.isSome(na.regularVertices)?L.isNone(this._verticesVisualElement)?(this._verticesVisualElement=
new R.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:na.regularVertices,elevationInfo:L.unwrap(this._internalGraphicsLayer.elevationInfo),renderOccluded:I.settings.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=na.regularVertices:this._destroyVerticesVisualElement();L.isSome(na.stagedVertices)?L.isNone(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=
new R.VerticesVisualElement({view:this.view,spatialReference:this.view.spatialReference,vertices:na.stagedVertices,elevationInfo:L.unwrap(this._internalGraphicsLayer.elevationInfo),renderOccluded:I.settings.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=I.settings.colorToVec4(I.settings.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=na.stagedVertices:this._destroyStagedVerticesVisualElement();
L.isSome(na.full)?L.isNone(this._createGraphic)?(this._createGraphic=new U({geometry:na.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this._createGraphicState=new ja.GraphicState({graphic:this._createGraphic}),this.handles.add([this.view.trackGraphicState(this._createGraphicState),K.init(this._createGraphicState,"isDraped",za=>{L.isSome(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=za)})],
"create-graphic"),this.notifyChange("createGraphic")):this._createGraphic.geometry=na.full:this._destroyCreateGraphic()}};va.reset=function(){};va.redo=function(){this.drawOperation.redo()};va.undo=function(){this.drawOperation.undo()};va.completeCreateOperation=function(){this.drawOperation.complete()};va.activate=function(){};va.deactivate=function(){this.drawOperation.isCompleted||this.drawOperation.cancel()};va.getVertexCoords=function(){return this.drawOperation.vertices};va.onVertexAdd=function(na){this._updateCreateGraphic();
this.emit("vertex-add",na)};va.onVertexRemove=function(na){this._updateCreateGraphic();this.emit("vertex-remove",na)};va.onVertexUpdate=function(na){this._updateCreateGraphic();this.emit("vertex-update",na)};va.onCursorUpdate=function(na){this._updateCreateGraphic(1===na.vertices.length?na.vertices[0].vertexIndex:null);this.emit("cursor-update",na)};va.onComplete=function(na){this._updateCreateGraphic();let xa=null;if(this.drawOperation.isCompleted){const za=this._getCreateGeometry(null,!0);L.isSome(za)&&
(xa=new U({geometry:za.full,symbol:this.createGraphicSymbol}))}this.emit("complete",{graphic:xa,...na})};W._createClass(oa,[{key:"createGraphic",get:function(){return this._createGraphic}},{key:"enabled",set:function(na){this.drawOperation.interactive=na;this._set("enabled",na)}},{key:"centered",set:function(na){this._set("centered",na);this._updateCreateGraphic()}},{key:"forceUniformSize",set:function(na){this._set("forceUniformSize",na);this._updateCreateGraphic()}},{key:"canRedo",get:function(){return this.drawOperation.canRedo}},
{key:"canUndo",get:function(){return this.drawOperation.canUndo}}]);return oa}(A.HandleOwnerMixin(X.EventedMixin(T.InteractiveToolBase)));F.__decorate([x.property({constructOnly:!0,nonNullable:!0})],z.DrawGraphicTool.prototype,"view",void 0);F.__decorate([x.property()],z.DrawGraphicTool.prototype,"createGraphicSymbol",void 0);F.__decorate([x.property()],z.DrawGraphicTool.prototype,"createGraphic",null);F.__decorate([x.property({value:!0})],z.DrawGraphicTool.prototype,"enabled",null);F.__decorate([x.property({value:!0})],
z.DrawGraphicTool.prototype,"centered",null);F.__decorate([x.property({value:!0})],z.DrawGraphicTool.prototype,"forceUniformSize",null);F.__decorate([x.property({constructOnly:!0})],z.DrawGraphicTool.prototype,"hasZ",void 0);F.__decorate([x.property({nonNullable:!0})],z.DrawGraphicTool.prototype,"defaultZ",void 0);F.__decorate([x.property({constructOnly:!0})],z.DrawGraphicTool.prototype,"elevationInfo",void 0);F.__decorate([x.property()],z.DrawGraphicTool.prototype,"snapToScene",void 0);F.__decorate([x.property()],
z.DrawGraphicTool.prototype,"snappingManager",void 0);F.__decorate([x.property({constructOnly:!0})],z.DrawGraphicTool.prototype,"mode",void 0);F.__decorate([x.property({constructOnly:!0})],z.DrawGraphicTool.prototype,"geometryType",void 0);F.__decorate([x.property({readOnly:!0})],z.DrawGraphicTool.prototype,"type",void 0);z.DrawGraphicTool=F.__decorate([D.subclass("esri.views.3d.interactive.editingTools.draw3D.DrawTool")],z.DrawGraphicTool);Object.defineProperty(z,"__esModule",{value:!0})})},"esri/layers/GraphicsLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Layer ../symbols/support/ElevationInfo ./mixins/BlendLayer ./mixins/ScaleRangeLayer ../support/GraphicsCollection".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){F=function(A){function y(C){C=A.call(this,C)||this;C.elevationInfo=null;C.graphics=new K["default"];C.screenSizePerspectiveEnabled=!0;C.type="graphics";C.internal=!1;return C}z._inheritsLoose(y,A);var w=y.prototype;w.destroy=function(){this.removeAll();this.graphics.destroy()};w.add=function(C){this.graphics.add(C);return this};w.addMany=function(C){this.graphics.addMany(C);return this};w.removeAll=function(){this.graphics.removeAll();return this};w.remove=
function(C){this.graphics.remove(C)};w.removeMany=function(C){this.graphics.removeMany(C)};w.on=function(C,N){return A.prototype.on.call(this,C,N)};w.graphicChanged=function(C){this.emit("graphic-update",C)};return y}(X.BlendLayer(U.ScaleRangeLayer(Y)));W.__decorate([B.property({type:aa})],F.prototype,"elevationInfo",void 0);W.__decorate([B.property(K.graphicsCollectionProperty())],F.prototype,"graphics",void 0);W.__decorate([B.property({type:["show","hide"]})],F.prototype,"listMode",void 0);W.__decorate([B.property()],
F.prototype,"screenSizePerspectiveEnabled",void 0);W.__decorate([B.property({readOnly:!0})],F.prototype,"type",void 0);W.__decorate([B.property({constructOnly:!0})],F.prototype,"internal",void 0);return F=W.__decorate([x.subclass("esri.layers.GraphicsLayer")],F)})},"esri/views/3d/interactive/editingTools/draw/drawSurfaces":function(){define(["exports","../../../../../core/maybe","../../../../../core/screenUtils","../../../../../support/elevationInfoUtils","../../../../../layers/graphics/dehydratedFeatures"],
function(z,W,F,Z,L){let B=function(){function x(D,H,Y,aa=null){this.elevationInfo=D;this.defaultZ=H;this.view=Y;this.excludeGraphics=aa}var G=x.prototype;G.screenToMap=function(D){if(W.isSome(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(F.createScreenPointArray(D.x,D.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);D=this.view.sceneIntersectionHelper.intersectElevationFromScreen(F.createScreenPointArray(D.x,D.y),this.elevationInfo,0,this.excludeGraphics);
W.isSome(D)&&(D.z=void 0);return D};G.mapToScreen=function(D){D=L.makeDehydratedPoint(D.x,D.y,Z.getConvertedElevation(this.view,D,this.elevationInfo),D.spatialReference);return this.view.toScreen(D)};return x}(),P=function(){function x(D,H,Y=[]){this.view=D;this.elevationInfo=H;this.exclude=Y}var G=x.prototype;G.screenToMap=function(D){D=this.view.toMap(D,{exclude:this.exclude});W.isSome(D)&&(D.z=Z.getZForElevationMode(D,this.view,this.elevationInfo));return D};G.mapToScreen=function(D){let H=D;W.isSome(this.elevationInfo)&&
(H=L.makeDehydratedPoint(D.x,D.y,Z.getConvertedElevation(this.view,D,this.elevationInfo),D.spatialReference));return this.view.toScreen(H)};return x}();z.ElevationDrawSurface=B;z.SceneDrawSurface=P;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/InteractiveToolBase":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../core/Accessor ./interactiveToolUtils ./ManipulatorCollection".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){z.InteractiveToolBase=function(A){function y(C){C=A.call(this,C)||this;C.attached=!1;C.created=!1;C.completed=!1;C.manipulators=new K.ManipulatorCollection;C.deferCreation=!1;C._editableFlags=[];C._creationResolver=aa.createResolver();return C}W._inheritsLoose(y,A);var w=y.prototype;w.attach=function(){if(!this.attached&&this.isSupported){this.manipulators.attach();this.onAttach();if(this.visible)this.onShow();this._set("attached",!0)}};w.detach=function(){this.attached&&
(this.onHide(),this.onDetach(),this.manipulators.detach(),this._set("attached",!1))};w.handleInputEvent=function(C){if(this.attached)this.onInputEvent(C)};w.handleInputEventAfter=function(C){if(this.attached)this.onInputEventAfter(C)};w.destroy=function(){this.manipulators.destroy();this._set("view",null);this._set("created",!1);this._set("completed",!1)};w.setEditableFlag=function(C,N){this._editableFlags[C]=N;this.manipulators.isToolEditable=this._editableFlags.every(T=>null==T||T);this._updateManipulatorAttachment();
0===C&&this.notifyChange("editable");this.onEditableChange()};w.hasEditableFlag=function(C){C=this._editableFlags[C];return null==C?!0:C};w.when=function(){return this._creationResolver.promise};w.rejectCreation=function(C){this._creationResolver.reject(C)};w.initialize=function(){this.deferCreation||this.complete()};w.onAttach=function(){};w.onDetach=function(){};w.onShow=function(){};w.onHide=function(){};w.onEditableChange=function(){};w.onInputEvent=function(C){};w.onInputEventAfter=function(C){};
w.create=function(){this.created||(this._set("created",!0),this._creationResolver.resolve(this))};w.complete=function(){this.create();this._set("completed",!0)};w._show=function(){this._updateManipulatorAttachment();this.onShow()};w._hide=function(){this._updateManipulatorAttachment();this.onHide()};w._updateManipulatorAttachment=function(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()};W._createClass(y,[{key:"active",get:function(){return null!=this.view&&this.view.activeTool===
this}},{key:"isSupported",get:function(){return!0}},{key:"visible",set:function(C){this._set("visible",C);C||U.setActive(this,!1);this.attached&&(C?this._show():this._hide())}},{key:"editable",get:function(){return this.hasEditableFlag(0)},set:function(C){this.setEditableFlag(0,C)}},{key:"internallyEditable",get:function(){return this.hasEditableFlag(0)&&this.hasEditableFlag(1)}}]);return y}(X);F.__decorate([P.property({constructOnly:!0})],z.InteractiveToolBase.prototype,"view",void 0);F.__decorate([P.property({readOnly:!0})],
z.InteractiveToolBase.prototype,"active",null);F.__decorate([P.property({value:!0})],z.InteractiveToolBase.prototype,"visible",null);F.__decorate([P.property({value:!0})],z.InteractiveToolBase.prototype,"editable",null);F.__decorate([P.property({readOnly:!0})],z.InteractiveToolBase.prototype,"attached",void 0);F.__decorate([P.property({readOnly:!0})],z.InteractiveToolBase.prototype,"created",void 0);F.__decorate([P.property({readOnly:!0})],z.InteractiveToolBase.prototype,"completed",void 0);F.__decorate([P.property({readOnly:!0})],
z.InteractiveToolBase.prototype,"manipulators",void 0);F.__decorate([P.property({constructOnly:!0})],z.InteractiveToolBase.prototype,"deferCreation",void 0);z.InteractiveToolBase=F.__decorate([G.subclass("esri.views.interactive.InteractiveToolBase")],z.InteractiveToolBase);Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/ManipulatorCollection":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe","../../core/Collection"],function(z,W,F,
Z){let L=function(){function B(){this._isToolEditable=!0;this._manipulators=new Z;this._nextManipulatorId=0;this._resourceContexts={manipulator3D:{}};this._attached=!1}var P=B.prototype;P.add=function(x,G=0){return this.addMany([x],G)[0]};P.addMany=function(x,G=0){return x.map(D=>{const H=this._nextManipulatorId++;D={id:H,manipulator:D,visibilityPredicate:G,attached:!1};this._manipulators.add(D);this._attached&&this._updateManipulatorAttachment(D);return H})};P.remove=function(x){if("number"===typeof x){for(var G=
0;G<this._manipulators.length;G++)if(this._manipulators.getItemAt(G).id===x)return x=this._manipulators.splice(G,1)[0],this._detachManipulator(x),x.id;return null}for(G=0;G<this._manipulators.length;G++)if(this._manipulators.getItemAt(G).manipulator===x)return x=this._manipulators.splice(G,1)[0],this._detachManipulator(x),x.id;return null};P.removeAll=function(){this._manipulators.forEach(x=>{this._detachManipulator(x)});this._manipulators.removeAll()};P.attach=function(){this._manipulators.forEach(x=>
{this._updateManipulatorAttachment(x)});this._attached=!0};P.detach=function(){this._manipulators.forEach(x=>{this._detachManipulator(x)});this._attached=!1};P.destroy=function(){this._manipulators.forEach(({manipulator:x})=>{x.destroy&&x.destroy()});this._manipulators.destroy();this._resourceContexts=null};P.on=function(x,G){return this._manipulators.on(x,D=>{G(D)})};P.forEach=function(x){for(const G of this._manipulators.items)x(G)};P.some=function(x){return this._manipulators.items.some(x)};P.toArray=
function(){const x=[];this.forEach(G=>x.push(G.manipulator));return x};P.intersect=function(x,G){let D=null,H=Number.MAX_VALUE;this._manipulators.forEach(({id:Y,manipulator:aa,attached:X})=>{X&&aa.interactive&&(X=aa.intersectionDistance(x,G),F.isSome(X)&&X<H&&(H=X,D={id:Y,manipulator:aa}))});return D};P.findById=function(x){if(F.isNone(x))return null;for(const G of this._manipulators.items)if(x===G.id)return G.manipulator;return null};P._updateManipulatorAttachment=function(x){this._isManipulatorItemVisible(x)?
this._attachManipulator(x):this._detachManipulator(x)};P._attachManipulator=function(x){x.attached||(x.manipulator.attach&&x.manipulator.attach(this._resourceContexts),x.attached=!0)};P._detachManipulator=function(x){if(x.attached){var G=x.manipulator;G.grabbing=!1;G.dragging=!1;G.hovering=!1;G.selected=!1;G.detach&&G.detach(this._resourceContexts);x.attached=!1}};P._isManipulatorItemVisible=function(x){return 2===x.visibilityPredicate?!0:this._isToolEditable?0===x.visibilityPredicate:1===x.visibilityPredicate};
W._createClass(B,[{key:"isToolEditable",set:function(x){this._isToolEditable=x}},{key:"length",get:function(){return this._manipulators.length}}]);return B}();z.ManipulatorCollection=L;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/draw/support/surfaceCoordinateSystems":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/Point ../../../geometry ../../../chunks/vec3f64 ../../../chunks/vec3 ../../../chunks/quatf64 ../../../chunks/quat ../../../chunks/mat2d ../../../chunks/mat2df64".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H){function Y(K,A,y=null){return F.isSome(y)?[K,A,y]:[K,A]}function aa(K,A,y=null){return F.isSome(y)?{x:K,y:A,z:y}:{x:K,y:A}}L=function(){function K(A){this.spatialReference=A}K.prototype.mapToLocalMultiple=function(A){return F.filterNones(A.map(y=>this.mapToLocal(y)))};W._createClass(K,[{key:"doUnnormalization",get:function(){return!1}}]);return K}();let X=function(K){function A(w,C,N=null){C=K.call(this,C)||this;C.defaultZ=N;C.transform=H.create();C.transformInv=H.create();
C.transform=H.clone(w);D.invert(C.transformInv,C.transform);return C}W._inheritsLoose(A,K);var y=A.prototype;y.makeMapPoint=function(w,C){return Y(w,C,this.defaultZ)};y.mapToLocal=function(w){return aa(this.transform[0]*w[0]+this.transform[2]*w[1]+this.transform[4],this.transform[1]*w[0]+this.transform[3]*w[1]+this.transform[5])};y.localToMap=function(w){return Y(this.transformInv[0]*w.x+this.transformInv[2]*w.y+this.transformInv[4],this.transformInv[1]*w.x+this.transformInv[3]*w.y+this.transformInv[5],
this.defaultZ)};return A}(L),U=function(K){function A(w,C){var N=K.call(this,w.spatialReference)||this;N.view=w;N.defaultZ=null;N.pWS=B.create();N.tangentFrameUpWS=B.create();N.tangentFrameRightWS=B.create();N.tangentFrameForwardWS=B.create();N.localFrameRightWS=B.create();N.localFrameUpWS=B.create();N.worldToLocalTransform=x.create();N.localToWorldTransform=x.create();N.scale=1;N.scale=w.resolution;N.referenceMapPoint=C;N.defaultZ=C.hasZ?C.z:null;w=w.state.camera.viewRight;N.view.renderCoordsHelper.toRenderCoords(N.referenceMapPoint,
N.pWS);N.view.renderCoordsHelper.worldBasisAtPosition(N.pWS,0,N.tangentFrameRightWS);N.view.renderCoordsHelper.worldBasisAtPosition(N.pWS,1,N.tangentFrameUpWS);N.view.renderCoordsHelper.worldBasisAtPosition(N.pWS,2,N.tangentFrameForwardWS);C=B.create();P.scale(C,N.tangentFrameForwardWS,P.dot(w,N.tangentFrameForwardWS));P.subtract(N.localFrameRightWS,w,C);P.normalize(N.localFrameRightWS,N.localFrameRightWS);P.cross(N.localFrameUpWS,N.tangentFrameForwardWS,N.localFrameRightWS);G.rotationTo(N.worldToLocalTransform,
N.localFrameRightWS,N.tangentFrameRightWS);G.invert(N.localToWorldTransform,N.worldToLocalTransform);return N}W._inheritsLoose(A,K);var y=A.prototype;y.makeMapPoint=function(w,C){return Y(w,C,this.defaultZ)};y.mapToLocal=function(w){const C=B.create();this.view.renderCoordsHelper.toRenderCoords(new Z({x:w[0],y:w[1],spatialReference:this.spatialReference}),C);P.transformQuat(C,C,this.worldToLocalTransform);w=this.view.renderCoordsHelper.fromRenderCoords(C,this.view.spatialReference);return F.isSome(w)?
aa(w.x/this.scale,w.y/this.scale):null};y.localToMap=function(w){const C=B.create();this.view.renderCoordsHelper.toRenderCoords(new Z({x:w.x*this.scale,y:w.y*this.scale,spatialReference:this.spatialReference}),C);P.transformQuat(C,C,this.localToWorldTransform);w=this.view.renderCoordsHelper.fromRenderCoords(C,this.view.spatialReference);return F.isSome(w)?Y(w.x,w.y,this.defaultZ):null};W._createClass(A,[{key:"doUnnormalization",get:function(){return"global"===this.view.viewingMode}}]);return A}(L);
z.AffineCoordinateSystem=X;z.SceneViewCoordinateSystem=U;z.SurfaceCoordinateSystem=L;z.createViewAlignedCoordinateSystem=function(K,A){return"2d"===K.type?new X(K.state.transform,K.spatialReference,2<A.length?A[2]:null):"3d"===K.type?(A=2<A.length?new Z({x:A[0],y:A[1],z:A[2],spatialReference:K.spatialReference}):new Z({x:A[0],y:A[1],spatialReference:K.spatialReference}),new U(K,A)):null};z.makeMapPoint=Y;z.makeSurfacePoint=aa;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/settings":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../Color ../../../../core/colorUtils ../../../../chunks/vec4f64 ../../webgl-engine/materials/lineStippleUtils".split(" "),
function(z,W,F,Z,L,B){function P(T,Q){T=T.clone();T.a*=Q;return T}function x(T,Q){if(Q)for(const I in Q)T[I]=Q[I]}function G(T){return L.fromArray(F.toUnitRGBA(T))}const D={main:new F([255,127,0]),selected:new F([255,255,255]),staged:new F([12,207,255]),outline:new F([0,0,0,.5]),selectedOutline:new F([255,255,255])};let H=function(T){this.color=D.main;this.height=90;this.coneHeight=40;this.coneWidth=23;this.width=3;this.renderOccluded=16;x(this,T)},Y=function(){function T(Q){this.size=11;this.outlineSize=
1;this.collisionPadding=9;this.color=D.main;this.outlineColor=D.outline;this.renderOccluded=16;this.hoverOutlineColor=D.selectedOutline;x(this,Q)}T.prototype.apply=function(Q,I){const V=this[Q];I.setParameterValues({color:G(V),transparent:"color"===Q?1>V.a:!0,renderOccluded:this.renderOccluded})};return T}(),aa=function(T){this.vertex=new Y({color:D.main,outlineColor:D.outline});var Q=P(D.main,2/3).clone();var I=Z.toHSV(Q);I.s*=.5;I=Z.toRGB(I);Q.r=I.r;Q.g=I.g;Q.b=I.b;this.edge=new Y({color:Q,outlineColor:P(D.outline,
.5),size:8,collisionPadding:8});this.selected=new Y({color:D.selected,outlineColor:D.outline});x(this,T)},X=function(){function T(Q){this.color=D.selected;this.width=1.5;this.stipplePattern=B.createStipplePattern([5,5]);this.stippleOffColor=D.outline;this.falloff=0;this.innerWidth=1.5;this.innerColor=D.selected;this.renderOccluded=4;x(this,Q)}T.prototype.apply=function(Q){Q.color=G(this.color);Q.width=this.width;Q.stipplePattern=this.stipplePattern;Q.stippleOffColor=G(this.stippleOffColor);Q.falloff=
this.falloff;Q.innerWidth=this.innerWidth;Q.innerColor=G(this.innerColor);Q.renderOccluded=this.renderOccluded};return T}(),U=function(){function T(Q){this.color=D.selected;this.size=4;this.outlineSize=1;this.outlineColor=D.outline;this.shape="square";x(this,Q)}T.prototype.apply=function(Q){Q.color=G(this.color);Q.size=this.size;Q.outlineSize=this.outlineSize;Q.outlineColor=G(this.outlineColor);Q.primitive=this.shape};return T}(),K=function(){function T(Q){this.innerColor=D.selected;this.innerWidth=
1;this.glowColor=D.main;this.glowFalloff=this.glowWidth=8;this.globalAlpha=.3;this.globalAlphaContrastBoost=1.5;this.radius=3;this.heightFillColor=D.main;x(this,Q)}T.prototype.apply=function(Q,I=1){I={glowColor:F.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:F.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*I,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in Q?Q.style=I:
Q.laserlineStyle=I};return T}(),A=function(T){this.outline=new X({color:D.outline,renderOccluded:8,stippleOffColor:D.selected,stipplePattern:B.createStipplePattern([5,5]),width:1.5,innerWidth:0});this.staged=new X({color:D.selected,renderOccluded:8,innerColor:D.staged,stippleOffColor:D.outline,stipplePattern:B.createStipplePattern([5,5]),width:1.5});this.shadowStyle=new K({globalAlpha:.3,glowColor:D.main,glowFalloff:8,glowWidth:8,innerColor:D.selected,innerWidth:1});x(this,T)},y=function(T){this.outline=
new U({color:D.selected,outlineColor:D.outline,outlineSize:1,shape:"circle",size:4});this.shadowStyle=new K({globalAlpha:.3,glowColor:D.main,glowFalloff:1.5,glowWidth:6,innerColor:D.selected,innerWidth:1,radius:2});x(this,T)},w=function(T){function Q(I){var V=T.call(this)||this;V.extensionType=2;x(W._assertThisInitialized(V),I);return V}W._inheritsLoose(Q,T);return Q}(X),C=function(T){this.lineGraphics=new A;this.pointGraphics=new y;this.heightPlane=new K({globalAlpha:.3,glowColor:D.main,glowFalloff:8,
glowWidth:8,innerColor:D.selected,innerWidth:1});this.heightBox=new K({globalAlpha:.3,glowColor:D.main,glowFalloff:8,glowWidth:8,innerColor:D.selected,innerWidth:0,heightFillColor:D.main});this.zVerticalLine=new w({color:P(D.main,.5),falloff:2,innerColor:P(D.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2});this.laserlineAlphaMultiplier=1.5;this.heightPlaneAngleCutoff=20;x(this,T)};const N=new (function(){function T(Q){this.visualElements=new C;this.reshapeManipulators=new aa;
this.zManipulator=new H;x(this,Q)}T.prototype.colorToVec4=function(Q){return G(Q)};return T}());z.colors=D;z.settings=N;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/OutlineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/Evented ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../geometry/projection ../../../../chunks/vec4 ../../../../geometry/support/aaBoundingBox ../../../../chunks/vec4f32 ../../../../layers/graphics/dehydratedFeatures ../../webgl-engine/lib/geometryDataUtils ../../layers/graphics/ElevationContext ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/lib/RenderGeometry ../../layers/graphics/lineUtils ./LaserlineVisualElement ./VisualElementResources ./DrapedVisualElementResources".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w){let C=function(){function I(R){this.view=null;this._attachmentOrigin=H.makeDehydratedPoint(0,0,0,null);this._attachmentOriginDirty=!0;this.events=new Z;this._isDraped=!1;this._geometry=null;this._width=1;this._color=D.fromValues(1,0,1,1);this._innerWidth=0;this._innerColor=D.fromValues(1,1,1,1);this._stippleOffColor=this._stipplePattern=null;this._falloff=0;this._laserlineStyle=this._elevationInfo=null;this._laserlineEnabled=!1;this._renderOccluded=
8;this.resources=new y.VisualElementResources({view:R.view,createResources:ia=>this.createResources(ia),recreateGeometry:(ia,la)=>{ia.geometries.length=0;this.recreateGeometry(la,ia.material,ia.geometries);return ia.geometries}});this._attachmentOrigin.spatialReference=R.view.spatialReference;this.drapedResources=new w.DrapedVisualElementResources({view:R.view,createResources:()=>this.createDrapedResources(),recreateGeometry:ia=>{ia.geometries=this.createRenderGeometriesDraped(ia.material);this.attachmentOriginChanged()}});
let ja=!0;this._laserline=new A.LaserlineVisualElement({view:R.view});for(const ia in R)ia in this?"attached"===ia?ja=R[ia]:this[ia]=R[ia]:console.error("Cannot set unknown property",ia);this.attached=ja}var V=I.prototype;V.destroy=function(){this.resources.destroy();this.drapedResources.destroy();this._laserline.destroy()};V.updateAttached=function(R){this.resources.attached=!this.isDraped&&R;this.drapedResources.attached=this.isDraped&&R;this._laserline.attached=this.laserlineAttached;this.attached&&
this.attachmentOriginChanged()};V.updateMaterial=function(){F.isSome(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters);F.isSome(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)};V.recreateGeometry=function(R,ja,ia){const la=this.createRenderGeometries();for(const pa of la)R.addGeometry(pa,ja),ia.push(pa);this.attachmentOriginChanged()};V.attachmentOriginChanged=function(){this._attachmentOriginDirty=
!0;this.events.emit("attachment-origin-changed")};V.createResources=function(R){const ja=new X.RibbonLineMaterial(this.materialParameters),ia=[];this.recreateGeometry(R,ja,ia);return{material:ja,geometries:ia,forEach:la=>{la(ja);ia.forEach(la)}}};V.createDrapedResources=function(){const R=new X.RibbonLineMaterial(this.materialParameters),ja=this.createRenderGeometriesDraped(R);return{material:R,geometries:ja}};V.createRenderGeometriesDraped=function(R){var ja=this.geometry;if(F.isNone(ja))return[];
var ia=K.geometryToRenderInfoDraped(ja,this.view.basemapTerrain.spatialReference);ja=[];for(const {position:la}of ia.lines){ia=new U.RenderGeometry(K.createGeometry({attributeData:{position:la},removeDuplicateStartEnd:this.isClosed?1:0}),R);const pa=G.empty(N);G.expandWithBuffer(pa,la);x.set(ia.boundingSphere,.5*(pa[0]+pa[3]),.5*(pa[1]+pa[4]),0,.5*Math.sqrt((pa[3]-pa[0])*(pa[3]-pa[0])+(pa[4]-pa[1])*(pa[4]-pa[1])));ja.push(ia)}return ja};V.calculateMapBounds=function(R){if(F.isNone(this.resources.resources))return!1;
const ja=this.view.renderCoordsHelper;for(const ia of this.resources.resources.geometries){const la=ia.vertexAttributes.get("position"),pa=new Float64Array(la.data.length);P.projectBuffer(la.data,ja.spatialReference,0,pa,this.view.spatialReference,0,la.data.length/3);G.expandWithBuffer(R,pa)}return!0};V.createRenderGeometries=function(){var R=this.geometry;if(F.isNone(R))return[];R=K.geometryToRenderInfo(R,this.view.elevationProvider,this.view.renderCoordsHelper,aa.ElevationContext.fromElevationInfo(this.elevationInfo));
const ja=[],ia=[];for(const {position:la,mapPosition:pa}of R.lines)ja.push(K.createGeometry({attributeData:{position:la,mapPosition:pa},removeDuplicateStartEnd:this.isClosed?1:0})),ia.push(la);this._laserline.pathVerticalPlane=ia;return ja};W._createClass(I,[{key:"isDraped",get:function(){return this._isDraped},set:function(R){R!==this._isDraped&&(this._isDraped=R,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}},{key:"laserlineAttached",get:function(){return this.attached&&
this.visible&&F.isSome(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}},{key:"visible",get:function(){return this.resources.visible},set:function(R){this.resources.visible=R;this.drapedResources.visible=R;this._laserline.attached=this.laserlineAttached}},{key:"attached",get:function(){return this.resources.attached||this.drapedResources.attached},set:function(R){this.updateAttached(R)}},{key:"geometry",get:function(){return this._geometry},set:function(R){this._geometry=R;this.resources.recreateGeometry();
this.drapedResources.recreateGeometry()}},{key:"width",get:function(){return this._width},set:function(R){R!==this._width&&(this._width=R,this.updateMaterial())}},{key:"color",get:function(){return this._color},set:function(R){x.exactEquals(R,this._color)||(x.copy(this._color,R),this.updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(R){R!==this._innerWidth&&(this._innerWidth=R,this.updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},
set:function(R){x.exactEquals(R,this._innerColor)||(x.copy(this._innerColor,R),this.updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(R){const ja=F.isSome(R)!==F.isSome(this._stipplePattern);this._stipplePattern=R;ja?this.resources.recreate():this.updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(R){R&&this._stippleOffColor&&x.exactEquals(R,this._stippleOffColor)||(this._stippleOffColor=R?D.clone(R):
null,this.updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(R){R!==this._falloff&&(this._falloff=R,this.updateMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(R){this._elevationInfo=R;this.resources.recreateGeometry()}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(R){this._laserlineStyle=R;this._laserline.attached=this.laserlineAttached;F.isSome(R)&&(this._laserline.style=R)}},{key:"laserlineEnabled",
get:function(){return this._laserlineEnabled},set:function(R){this._laserlineEnabled!==R&&(this._laserlineEnabled=R,this._laserline.attached=this.laserlineAttached)}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(R){R!==this._renderOccluded&&(this._renderOccluded=R,this.updateMaterial())}},{key:"attachmentOrigin",get:function(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;var R=F.isSome(this.resources.resources)?this.resources.resources.geometries:
null;if(!R||0===R.length)return null;B.set(Q,0,0,0);let ja=0;for(const ia of R){R=ia.vertexAttributes.get("position");const la=ia.indices.get("position"),pa=F.unwrap(this.resources.resources).material.isClosed(R.data,la);Y.computeAttachmentOriginLines(R,la,pa,T)&&(B.add(Q,Q,T),ja++)}if(0===ja)return null;B.scale(Q,Q,1/ja);this.view.renderCoordsHelper.fromRenderCoords(Q,this._attachmentOrigin);this._attachmentOriginDirty=!1;return this._attachmentOrigin}},{key:"isClosed",get:function(){return F.isSome(this.geometry)&&
"polygon"===this.geometry.type}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}},{key:"normalizedRenderOccluded",get:function(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}}]);
return I}();const N=G.create(),T=L.create(),Q=L.create();z.OutlineVisualElement=C;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/DrapedVisualElementResources":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/has ../../../../core/maybe ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/property ../../../../core/jsonMap ../../../../core/accessorSupport/decorators/subclass ../../../../core/urlUtils ../../../../core/uuid ../../../../portal/support/resourceExtension ../../../../core/Accessor ../../../../core/Identifiable".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U){Z=function(){function A(w){this.resourceFactory=w;this._resources=null;this._visible=!0;this._attached=!1}var y=A.prototype;y.destroy=function(){this._destroyResources()};y.recreate=function(){this.attached&&this._createResources()};y.recreateGeometry=function(){this.resourceFactory.recreateGeometry?L.isNone(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):
this.recreate()};y._createOrDestroyResources=function(){this._attached?L.isNone(this._resources)&&this._createResources():this._destroyResources()};y._createResources=function(){var w;this._destroyResources();var C=this.resourceFactory.createResources();this._resources={layerView:new K({view:this.resourceFactory.view}),external:C,geometriesAdded:!1};this._syncGeometriesToRenderer();(C=null==(w=this.resourceFactory.view.basemapTerrain)?void 0:w.overlayManager)&&C.registerDrapeSource(this._resources.layerView)};
y._destroyResources=function(){var w;if(!L.isNone(this._resources)){this.ensureRenderGeometriesRemoved();var C=null==(w=this.resourceFactory.view.basemapTerrain)?void 0:w.overlayManager;C&&C.unregisterDrapeSource(this._resources.layerView);this._resources=null}};y._syncGeometriesToRenderer=function(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()};y.ensureRenderGeometriesRemoved=function(){var w;!L.isNone(this._resources)&&null!=(w=this.resourceFactory.view)&&
w.basemapTerrain&&this._resources.geometriesAdded&&(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1)};y.ensureRenderGeometriesAdded=function(){L.isNone(this._resources)||this._resources.geometriesAdded||(this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=
!0)};W._createClass(A,[{key:"resources",get:function(){return L.isSome(this._resources)?this._resources.external:null}},{key:"visible",get:function(){return this._visible},set:function(w){w!==this._visible&&(this._visible=w,this._syncGeometriesToRenderer())}},{key:"attached",get:function(){return this._attached},set:function(w){w!==this._attached&&(this._attached=w,this._createOrDestroyResources())}}]);return A}();let K=function(A){function y(w){w=A.call(this,w)||this;w.drapeSourceType=1;return w}
W._inheritsLoose(y,A);return y}(U.IdentifiableMixin(X));F.__decorate([x.property({constructOnly:!0})],K.prototype,"view",void 0);F.__decorate([x.property({readOnly:!0})],K.prototype,"drapeSourceType",void 0);K=F.__decorate([D.subclass("DrapedVisualElementLayerView")],K);z.DrapedVisualElementResources=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/VerticesVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../chunks/vec4 ../../webgl-engine/lib/GeometryUtil ../../layers/graphics/ElevationContext ../../layers/graphics/pointUtils ./Object3DVisualElement ../../webgl-engine/materials/ShadedColorMaterial ../editingTools/settings".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y){D=function(X){function U(A){var y=X.call(this,A)||this;y.view=null;y._renderOccluded=4;y._vertices=null;y._spatialReference=null;y._color=Y.settings.colorToVec4(Y.settings.reshapeManipulators.vertex.color);y._size=Y.settings.reshapeManipulators.vertex.size;y._outlineColor=Y.settings.colorToVec4(Y.settings.reshapeManipulators.vertex.outlineColor);y._outlineSize=Y.settings.reshapeManipulators.vertex.outlineSize;y._elevationInfo=null;y.applyProps(A);return y}W._inheritsLoose(U,
X);var K=U.prototype;K.updateMaterial=function(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)};K.updateOutlineMaterial=function(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)};K.createRenderGeometries=function(){var A=this.vertices;if(F.isNone(A)||0===A.length)return[];var y=G.geometryToRenderInfo(A,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,x.ElevationContext.fromElevationInfo(this.elevationInfo));
A=[];const w=y.numVertices;y=y.position;for(let N=0;N<w;++N){var C=L.set(aa,y[3*N],y[3*N+1],y[3*N+2]);const T=P.createSphereGeometry(.5,16,16,{offset:C});C=P.createSphereGeometry(.5,16,16,{offset:C});A.push({vertexGeometry:T,vertexOutlineGeometry:C})}return A};K.createGeometries=function(A){const y=this.createRenderGeometries();for(const {vertexGeometry:w,vertexOutlineGeometry:C}of y)A.addGeometry(w,this.vertexMaterial),A.addGeometry(C,this.vertexOutlineMaterial)};K.createExternalResources=function(){this.vertexMaterial=
new H.ShadedColorMaterial({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0});this.vertexOutlineMaterial=new H.ShadedColorMaterial({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})};K.destroyExternalResources=function(){this.vertexOutlineMaterial=this.vertexMaterial=null};K.forEachExternalMaterial=function(A){A(this.vertexMaterial);A(this.vertexOutlineMaterial)};W._createClass(U,[{key:"renderOccluded",
get:function(){return this._renderOccluded},set:function(A){A!==this._renderOccluded&&(this._renderOccluded=A,this.updateMaterial(),this.updateOutlineMaterial())}},{key:"vertices",get:function(){return this._vertices},set:function(A){this._vertices=A;this.recreateGeometry()}},{key:"spatialReference",get:function(){return this._spatialReference},set:function(A){this._spatialReference=A;this.recreateGeometry()}},{key:"color",get:function(){return this._color},set:function(A){B.exactEquals(A,this._color)||
(B.copy(this._color,A),this.updateMaterial())}},{key:"size",get:function(){return this._size},set:function(A){A!==this._size&&(this._size=A,this.updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(A){B.exactEquals(A,this._outlineColor)||(B.copy(this._outlineColor,A),this.updateOutlineMaterial())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(A){A!==this._outlineSize&&(this._outlineSize=A,this.updateOutlineMaterial())}},{key:"elevationInfo",
get:function(){return this._elevationInfo},set:function(A){this._elevationInfo=A;this.recreateGeometry()}},{key:"vertexMaterialParameters",get:function(){return{color:this._color,transparent:1>this._color[3],screenSize:this.size,renderOccluded:this._renderOccluded}}},{key:"vertexOutlineMaterialParameters",get:function(){return{color:this._outlineColor,transparent:1>this._outlineColor[3],screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}}]);return U}(D.Object3DVisualElement);
const aa=Z.create();z.VerticesVisualElement=D;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/materials/ShadedColorMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../support/buffer/BufferView ../../../../geometry/support/aaBoundingBox ../../support/buffer/InterleavedLayout ../lib/Util ../lib/GLMaterial ./internal/MaterialUtil ../lib/Material ./internal/bufferWriterUtils ../shaders/ShadedColorMaterialTechnique".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa){let X=function(C){function N(Q){Q=C.call(this,Q,K)||this;Q.supportsEdges=!0;Q.techniqueConfig=new aa.ShadedColorMaterialTechniqueConfiguration;Q._vertexAttributeLocations=aa.ShadedColorMaterialVertexAttrLocations;return Q}W._inheritsLoose(N,C);var T=N.prototype;T.getTechniqueConfig=function(Q,I){this.techniqueConfig.output=Q;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=
this.params.transparent;this.techniqueConfig.writeDepth=this.params.writeDepth;this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled;this.techniqueConfig.shadingEnabled=this.params.shadingEnabled;this.techniqueConfig.transparencyPassType=I?I.transparencyPassType:3;this.techniqueConfig.multipassTerrainEnabled=I?I.multipassTerrainEnabled:!1;this.techniqueConfig.cullAboveGround=I?I.cullAboveGround:!0;return this.techniqueConfig};T.getPassParameters=function(){return this.params};T.intersect=
function(Q,I,V,R,ja,ia,la){if(this.params.screenSizeEnabled){const pa=Q.vertexAttributes.get("offset");D.intersectTriangleGeometry(Q,I,R,ja,ia,{applyToVertex:(oa,va,na,xa)=>{xa=Z.set(y,pa.data[3*xa],pa.data[3*xa+1],pa.data[3*xa+2]);oa=Z.set(w,oa,va,na);Z.scale(xa,xa,this.params.screenSize*R.camera.computeRenderPixelSizeAt(xa));Z.add(oa,oa,xa);return[oa[0],oa[1],oa[2]]},applyToAabb:oa=>{const va=B.center(oa,y);return B.scale(oa,this.params.screenSize*R.camera.computeRenderPixelSizeAt(va))}},la)}else D.intersectTriangleGeometry(Q,
I,R,ja,ia,void 0,la)};T.getGLMaterial=function(Q){return 0===Q.output||7===Q.output||4===Q.output?new U(Q):void 0};T.createBufferWriter=function(){return new A(this.params.screenSizeEnabled)};return N}(H.Material),U=function(C){function N(Q){Q=C.call(this,Q)||this;Q.updateParameters();return Q}W._inheritsLoose(N,C);var T=N.prototype;T.updateParameters=function(Q){this.technique=this.techniqueRep.acquireAndReleaseExisting(aa.ShadedColorMaterialTechnique,this.material.getTechniqueConfig(this.output,
Q),this.technique)};T.beginSlot=function(Q){if(4===this.output)return 3===Q;let I=3;this.technique.configuration.transparent&&(I=this.technique.configuration.writeDepth?5:8);return Q===I};T.ensureParameters=function(Q){this.updateParameters(Q)};T.bind=function(Q,I){Q.bindProgram(this.technique.program);this.technique.bindPass(Q,this.material.getPassParameters(),I)};return N}(G);const K={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:Z.normalize(F.create(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,
slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...H.materialParametersDefaults};let A=function(){function C(T){this.screenSizeEnabled=T;T=P.newLayout().vec3f("position").vec3f("normal");this.screenSizeEnabled&&T.vec3f("offset");this.vertexBufferLayout=T}var N=C.prototype;N.allocate=function(T){return this.vertexBufferLayout.createBuffer(T)};N.elementCount=function(T){return T.indices.get("position").length};N.write=function(T,Q,I,V){Y.writeDefaultAttributes(Q,
this.vertexBufferLayout,T.transformation,T.invTranspTransformation,I,V);if(this.screenSizeEnabled)if(Q.vertexAttributes.has("offset")){const R=Q.vertexAttributes.get("offset");Q=Q.indices.get("offset");x.assert(3===R.size);if(I=I.getField("offset",L.BufferViewVec3f))Y.writePosition(Q,R.data,T.invTranspTransformation,I,V);else throw Error("unable to acquire view for offset");}else throw Error("offset vertex attribute required for screenSizeEnabled ShadedColorMaterial");};return C}();const y=F.create(),
w=F.create();z.ShadedColorMaterial=X;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../chunks/vec4f64 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../../../webgl/Program ../../../webgl/renderState ../core/shaderLibrary/util/View.glsl ../core/shaderLibrary/Slice.glsl ../lib/OrderIndependentTransparency ../core/shaderLibrary/shading/MultipassTerrainTest.glsl ../core/shaderLibrary/ScreenSizeScaling.glsl ../../../../chunks/ShadedColorMaterial.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){P=function(w){function C(){return w.apply(this,arguments)||this}F._inheritsLoose(C,w);var N=C.prototype;N.initializeProgram=function(T){var Q=C.shader.get();const I=this.configuration;Q=Q.build({output:I.output,slicePlaneEnabled:I.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:I.screenSizeEnabled,shadingEnabled:I.shadingEnabled,OITEnabled:0===I.transparencyPassType,multipassTerrainEnabled:I.multipassTerrainEnabled,
cullAboveGround:I.cullAboveGround});return new G(T.rctx,Q.generateSource("vertex"),Q.generateSource("fragment"),A)};N.bindPass=function(T,Q,I){const {screenSizeEnabled:V,shadingEnabled:R}=this.configuration,{color:ja,shadingTint:ia,shadingDirection:la}=Q;H.View.bindProjectionMatrix(this.program,I.camera.projectionMatrix);this.program.setUniform4fv("color",ja);I.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",I.camera.nearFar),this.program.setUniform2fv("inverseViewport",I.inverseViewport),
X.bindMultipassTerrainUniforms(this.program,T,I));R&&(this.program.setUniform4fv("shadedColor",this.blendColor(y,ia,ja)),this.program.setUniform3fv("shadingDirection",la),this.program.setUniformMatrix4fv("viewNormal",I.camera.viewInverseTransposeMatrix));V&&U.ScreenSizeScaling.bindPassUniforms(this.program,Q,I)};N.blendColor=function(T,Q,I){const V=1-Q[3],R=Q[3]+I[3]*V;if(0===R)return T[3]=R,T;T[0]=(Q[0]*Q[3]+I[0]*I[3]*V)/R;T[1]=(Q[1]*Q[3]+I[1]*I[3]*V)/R;T[2]=(Q[2]*Q[3]+I[2]*I[3]*V)/R;T[3]=I[3];return T};
N.bindDraw=function(T){H.View.bindView(this.program,T);H.View.bindCamPosition(this.program,T.origin,T.camera.viewInverseTransposeMatrix);Y.Slice.bindUniformsWithOrigin(this.program,this.configuration,T)};N.setPipelineState=function(T){const Q=this.configuration,I=3===T,V=2===T;return D.makePipelineState({blending:0!==Q.output&&7!==Q.output||!Q.transparent?null:I?aa.blendingDefault:aa.OITBlending(T),culling:(R=>0!==R&&{face:1===R?1028:1029,mode:2305})(Q.cullFace),depthTest:{func:V?513:Q.shadingEnabled?
515:513},depthWrite:I?Q.writeDepth&&D.defaultDepthWriteParams:aa.OITDepthWrite(T),colorWrite:D.defaultColorWriteParams,polygonOffset:I||V?null:aa.OITPolygonOffset})};N.initializePipeline=function(){return this.setPipelineState(this.configuration.transparencyPassType)};return C}(P.ShaderTechnique);P.shader=new B.ReloadableShaderModule(K.ShadedColorMaterialShader,()=>new Promise(function(w,C){z(["./ShadedColorMaterial.glsl"],w,C)}));B=function(w){function C(){var N=w.apply(this,arguments)||this;N.output=
0;N.cullFace=0;N.slicePlaneEnabled=!1;N.transparent=!1;N.writeDepth=!0;N.screenSizeEnabled=!0;N.shadingEnabled=!0;N.transparencyPassType=3;N.multipassTerrainEnabled=!1;N.cullAboveGround=!0;return N}F._inheritsLoose(C,w);return C}(x.ShaderTechniqueConfiguration);Z.__decorate([x.parameter({count:8})],B.prototype,"output",void 0);Z.__decorate([x.parameter({count:3})],B.prototype,"cullFace",void 0);Z.__decorate([x.parameter()],B.prototype,"slicePlaneEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,
"transparent",void 0);Z.__decorate([x.parameter()],B.prototype,"writeDepth",void 0);Z.__decorate([x.parameter()],B.prototype,"screenSizeEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,"shadingEnabled",void 0);Z.__decorate([x.parameter({count:4})],B.prototype,"transparencyPassType",void 0);Z.__decorate([x.parameter()],B.prototype,"multipassTerrainEnabled",void 0);Z.__decorate([x.parameter()],B.prototype,"cullAboveGround",void 0);const A={position:0,normal:1,offset:2},y=L.create();W.ShadedColorMaterialTechnique=
P;W.ShadedColorMaterialTechniqueConfiguration=B;W.ShadedColorMaterialVertexAttrLocations=A;Object.defineProperty(W,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl":function(){define(["exports","../shaderModules/interfaces"],function(z,W){(function(F){F.builder=function(Z,L){Z.vertex.uniforms.add("camPos","vec3").add("perScreenPixelRatio","float").add("screenSize","float");Z.vertex.code.add(W.glsl`
    float computeRenderPixelSizeAt( vec3 pWorld ){
      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));
      return viewDirectionDistance*perScreenPixelRatio;
    }

    vec3 screenSizeScaling(vec3 position, vec3 anchor){
      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;
    }
  `)};F.bindPassUniforms=function(Z,L,B){Z.setUniform1f("perScreenPixelRatio",B.camera.perScreenPixelRatio);Z.setUniform1f("screenSize",L.screenSize)}})(z.ScreenSizeScaling||(z.ScreenSizeScaling={}));Object.defineProperty(z,"__esModule",{value:!0})})},"esri/chunks/ShadedColorMaterial.glsl":function(){define("exports ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl ../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G,D){function H(aa){const X=new Z.ShaderBuilder;X.include(F.Transform,{linearDepth:!1});X.include(D.ScreenSizeScaling.builder,{});X.include(B.Slice,aa);X.fragment.include(L.ColorConversion);X.vertex.uniforms.add("proj","mat4").add("view","mat4");X.fragment.uniforms.add("color","vec4");X.attributes.add("position","vec3");X.varyings.add("vWorldPosition","vec3");aa.multipassTerrainEnabled&&X.varyings.add("depth","float");aa.screenSizeEnabled&&X.attributes.add("offset","vec3");
aa.shadingEnabled&&(X.vertex.uniforms.add("viewNormal","mat4"),X.fragment.uniforms.add("shadedColor","vec4").add("shadingDirection","vec3"),X.attributes.add("normal","vec3"),X.varyings.add("vViewNormal","vec3"));X.vertex.code.add(W.glsl`
    void main(void) {
      vWorldPosition = ${aa.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `);aa.shadingEnabled&&X.vertex.code.add(W.glsl`
      vec3 worldNormal = normal;
      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;
    `);X.vertex.code.add(W.glsl`
    ${aa.multipassTerrainEnabled?"depth \x3d (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `);aa.multipassTerrainEnabled&&(X.fragment.include(P.ReadLinearDepth),X.include(G.multipassTerrainTest,aa));X.fragment.code.add(W.glsl`
    void main() {
      discardBySlice(vWorldPosition);
      ${aa.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
    `);aa.shadingEnabled?X.fragment.code.add(W.glsl`
      vec3 viewNormalNorm = normalize(vViewNormal);
      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
      vec4 finalColor = mix(color, shadedColor, shadingFactor);
    `):X.fragment.code.add(W.glsl`
      vec4 finalColor = color;
    `);X.fragment.code.add(W.glsl`
      if (finalColor.a < ${W.glsl.float(x.symbolAlphaCutoff)}) {
        discard;
      }
      ${7===aa.output?W.glsl`gl_FragColor = vec4(finalColor.a);`:""}

      ${0===aa.output?W.glsl`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${aa.OITEnabled?"gl_FragColor \x3d premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `);return X}var Y=Object.freeze({__proto__:null,build:H});z.ShadedColorMaterialShader=Y;z.build=H})},"esri/views/3d/layers/graphics/GraphicState":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/has ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/property ../../../../core/jsonMap ../../../../core/accessorSupport/decorators/subclass ../../../../core/urlUtils ../../../../core/uuid ../../../../portal/support/resourceExtension ../../../../core/Evented".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa){z.GraphicState=function(X){function U(K){K=X.call(this,K)||this;K.tracking=!1;K.displaying=!1;K.isDraped=!1;return K}W._inheritsLoose(U,X);return U}(aa.EventedAccessor);F.__decorate([P.property({constructOnly:!0})],z.GraphicState.prototype,"graphic",void 0);F.__decorate([P.property()],z.GraphicState.prototype,"tracking",void 0);F.__decorate([P.property()],z.GraphicState.prototype,"displaying",void 0);F.__decorate([P.property()],z.GraphicState.prototype,"isDraped",
void 0);z.GraphicState=F.__decorate([G.subclass("esri.views.3d.layers.graphics.GraphicState")],z.GraphicState);Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/draw/support/createUtils":function(){define("exports ../../../core/lang ../../../core/maybe ../../../core/arrayUtils ../../../geometry/support/spatialReferenceUtils ../../../geometry/Point ../../../geometry/Multipoint ../../../geometry/support/coordsUtils ../../../geometry/Polygon ../../../geometry/Polyline ../../../geometry ../../../core/unitUtils ../../../geometry/Circle ../../../geometry/geometryEngine ./surfaceCoordinateSystems".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U){function K(y,w){w=new B({x:y[0],y:y[1],spatialReference:w});2<y.length&&(w.z=y[2]);return w}function A(y,w,C,N=!0){y=W.clone(y);y.forEach(T=>{Z.equals(T[0],T[T.length-1])&&1!==T.length||T.push(T[0])});y=new G({rings:y,spatialReference:w});y.rings.forEach(T=>{x.isClockwise(T,!1,!1)||T.reverse()});C&&x.unnormalizeGeometryOnDatelineCrossing(y);N&&y.isSelfIntersecting&&L.isValid(w)&&(y=X.simplify(y));return y}z.createCircle=function(y,w,C,N){var T=w.mapToLocalMultiple(y),
Q=y=null;C?(y=T[0],Q=T[1]):(y=T[0],C=T[1],Q=Math.round(C.x-y.x),C=Math.round(C.y-y.y),T=Math.max(Math.abs(Q),Math.abs(C)),y=U.makeSurfacePoint(0<Q?y.x+T/2:y.x-T/2,0<C?y.y+T/2:y.y-T/2),Q=U.makeSurfacePoint(Math.abs(Q)>Math.abs(C)?y.x-T/2:y.x,Math.abs(Q)>Math.abs(C)?y.y:y.y-T/2));C=w.localToMap(y);T=w.localToMap(Q);if(F.isNone(C)||F.isNone(T))return null;w.doUnnormalization&&x.unnormalizeVerticesOnDatelineCrossing([[C,T]],w.spatialReference);C=K(C,w.spatialReference);var I=K(T,w.spatialReference);T=
Y.getMetersPerUnitForSR(w.spatialReference);let V=0;L.isValid(w.spatialReference)?V=T*X.distance(C,I,null):(I=y.x-Q.x,y=y.y-Q.y,V=T*Math.sqrt(I*I+y*y)*(N||1));w=new aa({center:C,radius:V,radiusUnit:"meters",spatialReference:w.spatialReference});return A(w.rings,w.spatialReference,!1)};z.createEllipse=function(y,w,C){var N=w.mapToLocalMultiple(y);y=N[0];var T=N[1];N=Math.round(T.x-y.x);T=Math.round(T.y-y.y);y=U.makeSurfacePoint(C?y.x:y.x+N/2,C?y.y:y.y+T/2);N=C?N:N/2;C=C?T:T/2;T=[];const Q=2*Math.PI/
60;for(let I=0;60>I;I++){const V=U.makeSurfacePoint(N*Math.cos(I*Q)+y.x,C*Math.sin(I*Q)+y.y);T.push(V)}T.push(T[0]);return A([F.filterNones(T.map(I=>w.localToMap(I)))],w.spatialReference,w.doUnnormalization,!1)};z.createMultipoint=function(y,w){return new P({points:y,spatialReference:w})};z.createPoint=K;z.createPolygon=A;z.createPolyline=function(y,w,C){y=new D({paths:y,spatialReference:w});C&&x.unnormalizeGeometryOnDatelineCrossing(y);return y};z.createRectangle=function(y,w,C){var N=w.mapToLocalMultiple(y);
1===N.length&&(y=N[0],N=[U.makeSurfacePoint(y.x-48,y.y+48),U.makeSurfacePoint(y.x+48,y.y-48),U.makeSurfacePoint(y.x+48,y.y-48),U.makeSurfacePoint(y.x-48,y.y+48)]);y=[];var T=N[0].x,Q=N[0].y,I=N[1].x;N=N[1].y;if(C){C=Math.round(I-T);const V=Math.round(N-Q);y.push(U.makeSurfacePoint(T-C,Q-V),U.makeSurfacePoint(I,Q-V),U.makeSurfacePoint(I,N),U.makeSurfacePoint(T-C,N))}else y.push(U.makeSurfacePoint(T,Q),U.makeSurfacePoint(I,Q),U.makeSurfacePoint(I,N),U.makeSurfacePoint(T,N));return A([F.filterNones(y.map(V=>
w.localToMap(V)))],w.spatialReference,w.doUnnormalization,!0)};z.createSquare=function(y,w,C){var N=w.mapToLocalMultiple(y);y=[];var T=N[0].x,Q=N[0].y,I=Math.round(N[1].x-T);const V=Math.round(N[1].y-Q);N=Math.max(Math.abs(I),Math.abs(V));C?(C=T+N,I=Q+N,T-=N,Q-=N,y.push(U.makeSurfacePoint(C,Q),U.makeSurfacePoint(T,Q),U.makeSurfacePoint(T,I),U.makeSurfacePoint(C,I))):(C=0<I?T+N:T-N,N=0<V?Q+N:Q-N,y.push(U.makeSurfacePoint(T,Q),U.makeSurfacePoint(C,Q),U.makeSurfacePoint(C,N),U.makeSurfacePoint(T,N)));
return A([F.filterNones(y.map(R=>w.localToMap(R)))],w.spatialReference,w.doUnnormalization,!0)};z.makeMapPoint=function(y,w,C=null){return F.isSome(C)?[y,w,C]:[y,w]};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/geometry/Circle":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/WKIDUnitConversion ./support/webMercatorUtils ./Point ./Polygon ./projectionEllipsoid ../core/unitUtils ./support/geodesicUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y){var w;F=w=function(C){function N(...Q){Q=C.call(this,...Q)||this;Q.center=null;Q.geodesic=!1;Q.numberOfPoints=60;Q.radius=1E3;Q.radiusUnit="meters";return Q}z._inheritsLoose(N,C);var T=N.prototype;T.normalizeCtorArgs=function(Q,I){if(!Q||!Q.center){if(Q&&Q.rings)return C.prototype.normalizeCtorArgs.call(this,Q,I);Q={center:Q}}return{...C.prototype.normalizeCtorArgs.call(this),...Q,...I}};T.initialize=function(){var Q=this.center;const I=this.numberOfPoints;
this.hasZ=Q&&Q.hasZ;if(0===this.rings.length&&Q){var V=A.convertUnit(this.radius,this.radiusUnit,"meters"),R=Q.spatialReference,ja="geographic";if(R.isWebMercator)ja="webMercator";else if(null!=Y[R.wkid]||R.wkt&&0===R.wkt.indexOf("PROJCS"))ja="projected";if(this.geodesic){let ia;switch(ja){case "webMercator":ia=aa.webMercatorToGeographic(Q);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":ia=
Q}Q=this._createGeodesicCircle(ia,V,I);"webMercator"===ja&&(Q=aa.geographicToWebMercator(Q))}else{let ia;"webMercator"===ja||"projected"===ja?ia=V/this._convert2Meters(1,Q.spatialReference):"geographic"===ja&&(ia=A.lengthToDegrees(V,"meters",K.getReferenceEllipsoid(Q.spatialReference).radius));Q=this._createPlanarCircle(Q,ia,I)}this.spatialReference=Q.spatialReference;this.addRing(Q.rings[0])}};T.clone=function(){const {center:Q,numberOfPoints:I,radius:V,radiusUnit:R,geodesic:ja}=this;return new w({center:Q.clone(),
numberOfPoints:I,radius:V,radiusUnit:R,geodesic:ja})};T._createGeodesicCircle=function(Q,I,V){let R=0;const ja=[];for(;360>R;){const ia=[0,0];y.directGeodeticSolver(ia,[Q.x,Q.y],R,I);this.hasZ&&ia.push(Q.z);ja.push(ia);R+=360/V}ja.push(ja[0]);return new U(ja)};T._createPlanarCircle=function(Q,I,V){let R=0;const ja=[];for(;R<2*Math.PI;){const ia=[Q.x+Math.cos(-R)*I,Q.y+Math.sin(-R)*I];this.hasZ&&ia.push(Q.z);ja.push(ia);R+=Math.PI/(V/2)}ja.push(ja[0]);return new U({spatialReference:Q.spatialReference,
rings:[ja]})};T._convert2Meters=function(Q,I){if(null!=Y[I.wkid])I=Y.values[Y[I.wkid]];else{I=I.wkt;const V=I.lastIndexOf(",")+1,R=I.lastIndexOf("]]");I=parseFloat(I.substring(V,R))}return Q*I};return N}(U);W.__decorate([B.property({type:X})],F.prototype,"center",void 0);W.__decorate([B.property()],F.prototype,"geodesic",void 0);W.__decorate([B.property()],F.prototype,"numberOfPoints",void 0);W.__decorate([B.property()],F.prototype,"radius",void 0);W.__decorate([B.property()],F.prototype,"radiusUnit",
void 0);return F=w=W.__decorate([x.subclass("esri.geometry.Circle")],F)})},"esri/geometry/support/geodesicUtils":function(){define("exports ../../core/Error ../SpatialReference ../Point ../Polygon ../Polyline ../../geometry ../../core/unitUtils ./geodesicConstants".split(" "),function(z,W,F,Z,L,B,P,x,G){function D(A){if(!A)return null;if(A.isGeographic&&A.wkid){var y=G.spheroids[A.wkid];if(y)return y}if(A.wkt){A=G.WKT_SPHEROID_REGEX.exec(A.wkt);if(!A||2!==A.length)return null;y=A[1].split(",");if(!y||
3>y.length)return null;A=parseFloat(y[1]);y=parseFloat(y[2]);return isNaN(A)||isNaN(y)?null:{a:A,f:0===y?0:1/y}}return null}function H(A){A=D(A||F.WGS84);if("b"in A&&"eSq"in A&&"radius"in A)return A;const y=A.a*(1-A.f);return Object.assign(A,{b:y,eSq:1-(y/A.a)**2,radius:(2*A.a+y)/3,densificationRatio:1E4/((2*A.a+y)/3)})}function Y(A,y,w){const {a:C,eSq:N}=H(w);w=Math.sqrt(N);const T=Math.sin(y[1]*G.toRadians);y=C*y[0]*G.toRadians;w=0<N?C*(1-N)*(T/(1-N*T*T)-1/(2*w)*Math.log((1-w*T)/(1+w*T)))*.5:C*
T;A[0]=y;A[1]=w;return A}function aa(A){return null!==D(A)}function X(A,y){if("polyline"!==A.type&&"polygon"!==A.type)throw new W("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const {spatialReference:w}=A;if(!aa(w))throw new W("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var C="polyline"===A.type?A.paths:A.rings;const N=[],T=[0,0],Q={distance:null};for(const R of C){C=[];N.push(C);C.push([R[0][0],
R[0][1]]);var I=R[0][0],V=R[0][1];let ja,ia;for(let la=0;la<R.length-1;la++){ja=R[la+1][0];ia=R[la+1][1];if(I===ja&&V===ia)continue;const pa=[I,V];K(Q,[I,V],[ja,ia],w);const {azimuth:oa,distance:va}=Q;I=va/y;if(1<I){for(V=1;V<=I-1;V++)U(T,pa,oa,V*y,w),C.push(T.slice(0));U(T,pa,oa,(va+Math.floor(I-1)*y)/2,w);C.push(T.slice(0))}U(T,pa,oa,va,w);C.push(T.slice(0));I=T[0];V=T[1]}}return"polyline"===A.type?new B({paths:N,spatialReference:w}):new L({rings:N,spatialReference:w})}function U(A,y,w,C,N){const T=
y[0]*G.toRadians;y=y[1]*G.toRadians;w*=G.toRadians;const {a:Q,b:I,f:V}=H(N);N=Math.sin(w);w=Math.cos(w);var R=(1-V)*Math.tan(y);y=1/Math.sqrt(1+R*R);const ja=R*y,ia=Math.atan2(R,w);R=y*N;const la=R*R;var pa=1-la,oa=pa*(Q*Q-I*I)/(I*I);const va=1+oa/16384*(4096+oa*(-768+oa*(320-175*oa))),na=oa/1024*(256+oa*(-128+oa*(74-47*oa)));oa=C/(I*va);let xa=2*Math.PI,za,ra,Ca,Da;for(;1E-12<Math.abs(oa-xa);)Ca=Math.cos(2*ia+oa),za=Math.sin(oa),ra=Math.cos(oa),Da=na*za*(Ca+na/4*(ra*(-1+2*Ca*Ca)-na/6*Ca*(-3+4*za*
za)*(-3+4*Ca*Ca))),xa=oa,oa=C/(I*va)+Da;C=ja*za-y*ra*w;pa=V/16*pa*(4+V*(4-3*pa));C=Math.atan2(ja*ra+y*za*w,(1-V)*Math.sqrt(la+C*C))/G.toRadians;A[0]=(T+(Math.atan2(za*N,y*ra-ja*za*w)-(1-pa)*V*R*(oa+pa*za*(Ca+pa*ra*(-1+2*Ca*Ca)))))/G.toRadians;A[1]=C;return A}function K(A,y,w,C){var N=y[0]*G.toRadians;y=y[1]*G.toRadians;var T=w[0]*G.toRadians;w=w[1]*G.toRadians;const {a:Q,b:I,f:V,radius:R}=H(C),ja=T-N;var ia=Math.atan((1-V)*Math.tan(y)),la=Math.atan((1-V)*Math.tan(w));C=Math.sin(ia);ia=Math.cos(ia);
const pa=Math.sin(la);la=Math.cos(la);let oa=1E3,va=ja,na,xa,za;let ra,Ca,Da;do{var ba=Math.sin(va);var wa=Math.cos(va);za=Math.sqrt(la*ba*la*ba+(ia*pa-C*la*wa)*(ia*pa-C*la*wa));if(0===za)return A.distance=0,A.azimuth=void 0,A.reverseAzimuth=void 0,A;wa=C*pa+ia*la*wa;ra=Math.atan2(za,wa);Ca=ia*la*ba/za;xa=1-Ca*Ca;ba=wa-2*C*pa/xa;isNaN(ba)&&(ba=0);Da=V/16*xa*(4+V*(4-3*xa));na=va;va=ja+(1-Da)*V*Ca*(ra+Da*za*(ba+Da*wa*(-1+2*ba*ba)))}while(1E-12<Math.abs(va-na)&&0<--oa);if(0===oa)return C=Math.acos(Math.sin(y)*
Math.sin(w)+Math.cos(y)*Math.cos(w)*Math.cos(T-N))*R,N=T-N,A.azimuth=Math.atan2(Math.sin(N)*Math.cos(w),Math.cos(y)*Math.sin(w)-Math.sin(y)*Math.cos(w)*Math.cos(N))/G.toRadians,A.distance=C,A.reverseAzimuth=void 0,A;N=xa*(Q*Q-I*I)/(I*I);y=N/1024*(256+N*(-128+N*(74-47*N)));T=Math.atan2(ia*Math.sin(va),ia*pa*Math.cos(va)-C*la);A.azimuth=Math.atan2(la*Math.sin(va),ia*pa-C*la*Math.cos(va))/G.toRadians;A.distance=I*(1+N/16384*(4096+N*(-768+N*(320-175*N))))*(ra-y*za*(ba+y/4*(wa*(-1+2*ba*ba)-y/6*ba*(-3+
4*za*za)*(-3+4*ba*ba))));A.reverseAzimuth=T/G.toRadians;return A}z.directGeodeticSolver=U;z.geodesicAreas=function(A,y="square-meters"){if(A.some(T=>!aa(T.spatialReference)))throw new W("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const w=[];for(var C=0;C<A.length;C++){var N=A[C];const {radius:T,densificationRatio:Q}=H(N.spatialReference);w.push(X(N,T*Q))}A=[];C=[0,0];N=[0,0];for(let T=0;T<w.length;T++){const {rings:Q,spatialReference:I}=w[T];
let V=0;for(let R=0;R<Q.length;R++){const ja=Q[R];Y(C,ja[0],I);Y(N,ja[ja.length-1],I);let ia=N[0]*C[1]-C[0]*N[1];for(let la=0;la<ja.length-1;la++)Y(C,ja[la+1],I),Y(N,ja[la],I),ia+=N[0]*C[1]-C[0]*N[1];V+=ia}V=x.convertUnit(V,"square-meters",y);A.push(V/-2)}return A};z.geodesicDensify=X;z.geodesicDistance=function(A,y,w="meters"){if(!A||!y)throw new W("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!A.spatialReference||!y.spatialReference)throw new W("geodesic-distance:invalid-parameters",
"one or both input points do not have a spatial reference");if(!A.spatialReference.equals(y.spatialReference))throw new W("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const {spatialReference:C}=A;if(!aa(C))throw new W("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(A.equals(y))return{distance:0,azimuth:0,reverseAzimuth:0};const N={distance:null};K(N,[A.x,A.y],[y.x,y.y],C);N.distance=x.convertUnit(N.distance,
"meters",w);return N};z.geodesicLengths=function(A,y="meters"){if(!A&&!A)throw new W("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(A.some(N=>!aa(N.spatialReference)))throw new W("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const w=[];for(let N=0;N<A.length;N++){var C=A[N];const {spatialReference:T}=C;C="polyline"===C.type?C.paths:C.rings;let Q=0;for(let I=0;I<C.length;I++){const V=C[I];let R=0;for(let ja=
1;ja<V.length;ja++){const ia=V[ja-1][0],la=V[ja][0],pa=V[ja-1][1],oa=V[ja][1];if(pa!==oa||ia!==la){const va={distance:null};K(va,[ia,pa],[la,oa],T);R+=va.distance}}Q+=R}Q=x.convertUnit(Q,"meters",y);w.push(Q)}return w};z.inverseGeodeticSolver=K;z.isSupported=aa;z.pointFromDistance=function(A,y,w){if(!A||null==y||null==w)throw new W("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>w||360<w)throw new W("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");
if(!A.spatialReference)throw new W("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const {spatialReference:C}=A;if(!aa(C))throw new W("geodesic-distance:not-supported","input geometry spatial reference is not supported");const N=[0,0];U(N,[A.x,A.y],w,y,C);return new Z({x:N[0],y:N[1],spatialReference:C})};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/geometry/geometryEngine":function(){define(["exports","../chunks/geometryEngineBase","./geometryAdapters/hydrated"],
function(z,W,F){function Z(B){return Array.isArray(B)?B[0].spatialReference:B&&B.spatialReference}function L(B){return"xmin"in B?"center"in B?B.center:null:"x"in B?B:"extent"in B?B.extent.center:null}z.buffer=function(B,P,x,G=!1){return W.geometryEngineBase$1.buffer(F.hydratedAdapter,Z(B),B,P,x,G)};z.clip=function(B,P){return W.geometryEngineBase$1.clip(F.hydratedAdapter,Z(B),B,P)};z.contains=function(B,P){return W.geometryEngineBase$1.contains(F.hydratedAdapter,Z(B),B,P)};z.convexHull=function(B,
P=!1){return W.geometryEngineBase$1.convexHull(F.hydratedAdapter,Z(B),B,P)};z.crosses=function(B,P){return W.geometryEngineBase$1.crosses(F.hydratedAdapter,Z(B),B,P)};z.cut=function(B,P){return W.geometryEngineBase$1.cut(F.hydratedAdapter,Z(B),B,P)};z.densify=function(B,P,x){return W.geometryEngineBase$1.densify(F.hydratedAdapter,Z(B),B,P,x)};z.difference=function(B,P){return W.geometryEngineBase$1.difference(F.hydratedAdapter,Z(B),B,P)};z.disjoint=function(B,P){return W.geometryEngineBase$1.disjoint(F.hydratedAdapter,
Z(B),B,P)};z.distance=function(B,P,x){return W.geometryEngineBase$1.distance(F.hydratedAdapter,Z(B),B,P,x)};z.equals=function(B,P){return W.geometryEngineBase$1.equals(F.hydratedAdapter,Z(B),B,P)};z.extendedSpatialReferenceInfo=function(B){return W.geometryEngineBase$1.extendedSpatialReferenceInfo(B)};z.flipHorizontal=function(B,P){var x;if(null==B)throw Error("Illegal Argument Exception");const G=B.spatialReference;P=null!=(x=P)?x:L(B);if(null==P)throw Error("Illegal Argument Exception");B=B.constructor.fromJSON(W.geometryEngineBase$1.flipHorizontal(B,
P));B.spatialReference=G;return B};z.flipVertical=function(B,P){var x;if(null==B)throw Error("Illegal Argument Exception");const G=B.spatialReference;P=null!=(x=P)?x:L(B);if(null==P)throw Error("Illegal Argument Exception");B=B.constructor.fromJSON(W.geometryEngineBase$1.flipVertical(B,P));B.spatialReference=G;return B};z.generalize=function(B,P,x,G){return W.geometryEngineBase$1.generalize(F.hydratedAdapter,Z(B),B,P,x,G)};z.geodesicArea=function(B,P,x){return W.geometryEngineBase$1.geodesicArea(F.hydratedAdapter,
Z(B),B,P,x)};z.geodesicBuffer=function(B,P,x,G,D,H){return W.geometryEngineBase$1.geodesicBuffer(F.hydratedAdapter,Z(B),B,P,x,G,D,H)};z.geodesicDensify=function(B,P,x,G=0){return W.geometryEngineBase$1.geodesicDensify(F.hydratedAdapter,Z(B),B,P,x,G)};z.geodesicLength=function(B,P,x){return W.geometryEngineBase$1.geodesicLength(F.hydratedAdapter,Z(B),B,P,x)};z.intersect=function(B,P){return W.geometryEngineBase$1.intersect(F.hydratedAdapter,Z(B),B,P)};z.intersects=function(B,P){return W.geometryEngineBase$1.intersects(F.hydratedAdapter,
Z(B),B,P)};z.isSimple=function(B){return W.geometryEngineBase$1.isSimple(F.hydratedAdapter,Z(B),B)};z.nearestCoordinate=function(B,P,x=!0){return W.geometryEngineBase$1.nearestCoordinate(F.hydratedAdapter,Z(B),B,P,x)};z.nearestVertex=function(B,P){return W.geometryEngineBase$1.nearestVertex(F.hydratedAdapter,Z(B),B,P)};z.nearestVertices=function(B,P,x,G){return W.geometryEngineBase$1.nearestVertices(F.hydratedAdapter,Z(B),B,P,x,G)};z.offset=function(B,P,x,G,D,H){return W.geometryEngineBase$1.offset(F.hydratedAdapter,
Z(B),B,P,x,G,D,H)};z.overlaps=function(B,P){return W.geometryEngineBase$1.overlaps(F.hydratedAdapter,Z(B),B,P)};z.planarArea=function(B,P){return W.geometryEngineBase$1.planarArea(F.hydratedAdapter,Z(B),B,P)};z.planarLength=function(B,P){return W.geometryEngineBase$1.planarLength(F.hydratedAdapter,Z(B),B,P)};z.relate=function(B,P,x){return W.geometryEngineBase$1.relate(F.hydratedAdapter,Z(B),B,P,x)};z.rotate=function(B,P,x){var G;if(null==B)throw Error("Illegal Argument Exception");const D=B.spatialReference;
x=null!=(G=x)?G:L(B);if(null==x)throw Error("Illegal Argument Exception");B=B.constructor.fromJSON(W.geometryEngineBase$1.rotate(B,P,x));B.spatialReference=D;return B};z.simplify=function(B){return W.geometryEngineBase$1.simplify(F.hydratedAdapter,Z(B),B)};z.symmetricDifference=function(B,P){return W.geometryEngineBase$1.symmetricDifference(F.hydratedAdapter,Z(B),B,P)};z.touches=function(B,P){return W.geometryEngineBase$1.touches(F.hydratedAdapter,Z(B),B,P)};z.union=function(B,P=null){return W.geometryEngineBase$1.union(F.hydratedAdapter,
Z(B),B,P)};z.within=function(B,P){return W.geometryEngineBase$1.within(F.hydratedAdapter,Z(B),B,P)};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/chunks/geometryEngineBase":function(){define(["exports","./_commonjsHelpers"],function(z,W){W=W.createCommonjsModule(function(Z,L){L=function(){function B(g){if("number"===typeof g)return J.Uc.hh(g);if(null==g)return null;if(null!=gb[g])return J.Uc.hh(gb[g]);throw Error("Unrecognised Unit Type");}function P(g){if("number"===typeof g)return J.Uc.hh(g);
if(null==g)return null;if(null!=hb[g])return J.Uc.hh(hb[g]);throw Error("Unrecognised Unit Type");}function x(g){if(g)switch(g){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function G(g,u,l,c){if(null==l||l.u())return null;switch(l.F()){case J.In.Point:return g.exportPoint(u,l,c);case J.In.Polygon:return g.exportPolygon(u,l,c);case J.In.Polyline:return g.exportPolyline(u,l,c);case J.In.MultiPoint:return g.exportMultipoint(u,
l,c);case J.In.Envelope:return g.exportExtent(u,l,c)}return null}function D(g,u,l,c){if(l.F()!==J.In.Point)throw Error("Geometry not Point");return g.exportPoint(u,l,c)}function H(g){var u=g.wkid;g=g.wkt;var l=fb.get(u||g);null==l&&(-1!==u&&null!=u?(l=J.je.create(u),fb.set(u,l)):g&&(l=J.je.AQ(g),fb.set(g,l)));return l}function Y(g){var u;if(null==g)return null;var l=H(g);g=l.Ld();l=l.co();return u={},u.tolerance=l,u.unitType=null==g?-1:g.od,u.unitID=null==g?-1:g.xc(),u.unitBaseFactor=null==g?0:g.gi,
u.unitSquareDerivative=null==g?0:J.Uc.MG(g).xc(),u}function aa(g,u,l,c){if(null==l)return null;l=J.bc.clip(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u));return G(g,Na,l,u)}function X(g,u,l,c){l=J.bc.jl(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u));c=[];for(var a=0;a<l.length;a++)c.push(G(g,Na,l[a],u));return c}function U(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.contains(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),
H(u))}function K(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.MQ(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function A(g,u,l,c,a){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.vb(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u),B(a))}function y(g,u,l,c){return null==l&&null!=c||null==c&&null!=l?!1:J.bc.Ib(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function w(g,u,l,c){if(null==l||null==
c)throw Error("Illegal Argument Exception");return J.bc.mU(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function C(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.touches(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function N(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.XZ(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function T(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");
return J.bc.dR(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function Q(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.WV(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u))}function I(g,u,l,c,a){if(null==l||null==c)throw Error("Illegal Argument Exception");return J.bc.hC(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u),a)}function V(g,u,l){if(null==l)throw Error("Illegal Argument Exception");return J.bc.AU(g.convertToGEGeometry(Na,
l),H(u))}function R(g,u,l){if(null==l)throw Error("Illegal Argument Exception");l=J.bc.MC(g.convertToGEGeometry(Na,l),H(u));return G(g,Na,l,u)}function ja(g,u,l,c){void 0===c&&(c=!1);if(null==l)throw Error("Illegal Argument Exception");if(Array.isArray(l)){var a=c,b=[];for(c=0;c<l.length;c++)b.push(g.convertToGEGeometry(Na,l[c]));l=J.bc.tQ(b,a);a=Array(l.length);for(c=0;c<l.length;c++)a[c]=G(g,Na,l[c],u);return a}c=J.bc.sQ(g.convertToGEGeometry(Na,l),H(u));return G(g,Na,c,u)}function ia(g,u,l,c){if(null==
l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(g.convertToGEGeometry(Na,l[b]));l=J.bc.aR(a,g.convertToGEGeometry(Na,c),H(u));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=G(g,Na,l[b],u);return c}b=J.bc.tm(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u));return G(g,Na,b,u)}function la(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(g.convertToGEGeometry(Na,
l[b]));l=J.bc.AZ(a,g.convertToGEGeometry(Na,c),H(u));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=G(g,Na,l[b],u);return c}b=J.bc.tp(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u));return G(g,Na,b,u)}function pa(g,u,l,c){if(null==l||null==c)throw Error("Illegal Argument Exception");if(Array.isArray(l)){for(var a=[],b=0;b<l.length;b++)a.push(g.convertToGEGeometry(Na,l[b]));l=J.bc.kU(a,g.convertToGEGeometry(Na,c),H(u));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=G(g,Na,l[b],u);return c}b=
J.bc.Ia(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),H(u));return G(g,Na,b,u)}function oa(g,u,l,c){if(null==l)return null;var a=[];if(Array.isArray(l)){if(0===l.length)return null;for(c=0;c<l.length;c++)a.push(g.convertToGEGeometry(Na,l[c]))}else a.push(g.convertToGEGeometry(Na,l)),null!=c&&a.push(g.convertToGEGeometry(Na,c));return G(g,Na,J.bc.SZ(a,H(u)),u)}function va(g,u,l,c,a,b,d,e){var f=0;if(null!=b)switch(b){case "round":f=0;break;case "bevel":f=1;break;case "miter":f=2;break;case "square":f=
3}if(Array.isArray(l)){if(null==l)g=null;else if(0===l.length)g=[];else{var h=[];for(b=0;b<l.length;b++)h.push(g.convertToGEGeometry(Na,l[b]));l=J.bc.UV(h,H(u),c,f,d,e,B(a));c=Array(l.length);for(b=0;b<l.length;b++)c[b]=G(g,Na,l[b],u);g=c}return g}l=J.bc.offset(g.convertToGEGeometry(Na,l),H(u),c,f,d,e,B(a));return G(g,Na,l,u)}function na(g,u,l,c,a,b){void 0===b&&(b=!1);if(Array.isArray(l)){if(!Array.isArray(c)){for(var d=[],e=0;e<l.length;e++)d.push(c);c=d}if(c.length!=l.length){if(0==c.length)throw Error("Illegal Argument Exception");
d=[];var f=0;for(e=0;e<l.length;e++)void 0===c[e]?d.push(f):(d.push(c[e]),f=c[e]);c=d}return za(g,u,l,c,a,!1,b,"geodesic",NaN)}l=J.bc.buffer(g.convertToGEGeometry(Na,l),H(u),c,B(a),!1,0,NaN);return G(g,Na,l,u)}function xa(g,u,l,c,a,b,d,e){if(Array.isArray(l)){if(!Array.isArray(c)){for(var f=[],h=0;h<l.length;h++)f.push(c);c=f}if(c.length!==l.length){if(0===c.length)throw Error("Illegal Argument Exception");f=[];var k=0;for(h=0;h<l.length;h++)void 0===c[h]?f.push(k):(f.push(c[h]),k=c[h]);c=f}return za(g,
u,l,c,a,!0,b,d,e)}void 0===d&&(d=NaN);l=J.bc.buffer(g.convertToGEGeometry(Na,l),H(u),c,B(a),!0,x(b),d);return G(g,Na,l,u)}function za(g,u,l,c,a,b,d,e,f){void 0===f&&(f=NaN);if(null==l)return null;if(0===l.length)return[];for(var h=[],k=0;k<l.length;k++)h.push(g.convertToGEGeometry(Na,l[k]));l=J.bc.XO(h,H(u),c,B(a),b,d,x(e),f);c=Array(l.length);for(k=0;k<l.length;k++)c[k]=G(g,Na,l[k],u);return c}function ra(g,u,l,c,a){var b;void 0===a&&(a=!0);l=J.bc.Xz(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,
c),a);return b={},b.coordinate=D(g,Na,l.Lz(),u),b.distance=l.Oz(),b.isRightSide=l.AA(),b.vertexIndex=l.Ua(),b.isEmpty=l.u(),b}function Ca(g,u,l,c){var a;l=J.bc.Yz(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c));return a={},a.coordinate=D(g,Na,l.Lz(),u),a.distance=l.Oz(),a.isRightSide=l.AA(),a.vertexIndex=l.Ua(),a.isEmpty=l.u(),a}function Da(g,u,l,c,a,b){var d;l=J.bc.Zz(g.convertToGEGeometry(Na,l),g.convertToGEGeometry(Na,c),a,b);c=[];for(a=0;a<l.length;a++)!1===l[a].u()&&c.push((d={},d.coordinate=
D(g,Na,l[a].Lz(),u),d.distance=l[a].Oz(),d.isRightSide=l[a].AA(),d.vertexIndex=l[a].Ua(),d.isEmpty=l[a].u(),d));return c}function ba(g,u,l,c,a,b){l=J.bc.bS(g.convertToGEGeometry(Na,l),H(u),c,a,B(b));return G(g,Na,l,u)}function wa(g,u,l,c,a){l=J.bc.rs(g.convertToGEGeometry(Na,l),H(u),c,B(a));return G(g,Na,l,u)}function ua(g,u,l,c,a,b){void 0===b&&(b=0);l=J.bc.Bz(g.convertToGEGeometry(Na,l),H(u),c,B(a),b);return G(g,Na,l,u)}function Aa(g,u,l,c){if(null==l)throw Error("Illegal Argument Exception");return J.bc.bW(g.convertToGEGeometry(Na,
l),H(u),P(c))}function Ea(g,u,l,c){if(null==l)throw Error("Illegal Argument Exception");return J.bc.cW(g.convertToGEGeometry(Na,l),H(u),B(c))}function ta(g,u,l,c,a){if(null==l)throw Error("Illegal Argument Exception");return J.bc.hS(g.convertToGEGeometry(Na,l),H(u),P(c),x(a))}function ha(g,u,l,c,a){if(null==l)throw Error("Illegal Argument Exception");return J.bc.lS(g.convertToGEGeometry(Na,l),H(u),B(c),x(a))}function sa(g){J.VM.bind(g)}function Ba(g,u,l,c,a){var b=null,d=null;if(c){if(!a)throw J.f.I("AOI missing Spatial Reference");
b=g.convertToGEGeometry(Na,c);d=H(a).mh()}g=J.Nu.nT(H(u).mh(),H(l).mh(),b,d);return null!==g?g:null}function Ha(g,u,l,c,a){var b=null,d=null;if(c){if(!a)throw J.f.I("AOI missing Spatial Reference");b=g.convertToGEGeometry(Na,c);d=H(a).mh()}return J.Nu.oT(H(u).mh(),H(l).mh(),b,d)}function Fa(g,u,l,c,a){void 0===a&&(a=null);if(!1===this.z_)throw Error("Projection Engine must be enabled using enableProjection");if(0===u.length)return[];if(a){var b=a.getCachedGeTransformation(l,c);if(!b)a:{b=a;a=null;
if(b){var d=b.getGTListEntry();if(null!==d){a=new J.hy(null);for(var e=0,f=d.steps;e<f.length;e++){d=f[e];var h=new J.Hn(d.geogtran);d.isInverse&&h.Xs();a.add(h)}a=J.Ur.os(H(l).mh(),H(c).mh(),a);b.assignCachedGe(l,c,a);b=a;break a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new J.hy(null);e=0;for(f=b.steps;e<f.length;e++)d=f[e],-1!=d.wkid&&null!=d.wkid?a.add(J.Hn.create(d.wkid,d.isInverse)):a.add(J.Hn.LF(d.wkt,d.isInverse));a=J.Ur.os(H(l).mh(),H(c).mh(),a);b.assignCachedGe(l,c,a);b=a}else b=J.Ur.os(H(l).mh(),
H(c).mh(),a)}}else b=J.Ur.os(H(l).mh(),H(c).mh(),null);l=[];for(d=0;d<u.length;d++)a=u[d],l.push(ka(g,a,c,b));return l}function ka(g,u,l,c){u=J.bc.$g(g.convertToGEGeometry(Na,u),c);return G(g,Na,u,l)}var ea,ma=this&&this.__extends||function(){function g(u,l){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])};return g(u,l)}return function(u,l){function c(){this.constructor=u}g(u,l);u.prototype=null===
l?Object.create(l):(c.prototype=l.prototype,new c)}}(),J;(function(g){(function(l){l[l.Unknown=0]="Unknown";l[l.Point=33]="Point";l[l.Line=322]="Line";l[l.Envelope=197]="Envelope";l[l.MultiPoint=550]="MultiPoint";l[l.Polyline=1607]="Polyline";l[l.Polygon=1736]="Polygon"})(g.In||(g.In={}));(function(l){l[l.enumMild=0]="enumMild";l[l.enumMedium=1]="enumMedium";l[l.enumHot=2]="enumHot"})(g.gM||(g.gM={}));var u=function(){function l(){this.description=null;this.FB=0}l.prototype.F=function(){return 0};
l.prototype.pb=function(){return-1};l.prototype.rg=function(c){this.vc();c!=this.description&&this.Ln(c)};l.prototype.Ln=function(){};l.prototype.Tl=function(c){this.vc();c!=this.description&&(c=g.ke.SS(this.description,c),c!=this.description&&this.Ln(c))};l.prototype.hasAttribute=function(c){return this.description.hasAttribute(c)};l.prototype.le=function(c){this.vc();this.description.hasAttribute(c)||(c=g.ke.RS(this.description,c),this.Ln(c))};l.prototype.Qf=function(){return null};l.prototype.qn=
function(){};l.prototype.s=function(){};l.prototype.ip=function(){};l.prototype.Zb=function(c){this.s(c)};l.prototype.u=function(){return!0};l.prototype.Ka=function(){};l.prototype.Qc=function(){};l.prototype.Ea=function(){return null};l.prototype.copyTo=function(){};l.prototype.Pe=function(){return 0};l.prototype.Pb=function(){return 0};l.prototype.VG=function(){return this.hasAttribute(1)};l.Se=function(c){return((c&192)>>6)+1>>1};l.lo=function(c){return 0!=(c&32)};l.m0=function(c){return 0!=(c&
64)};l.nU=function(c){return 0!=(c&128)};l.Ic=function(c){return 0!=(c&256)};l.Rg=function(c){return 0!=(c&512)};l.Bc=function(c){return 0!=(c&1024)};l.prototype.Cf=function(){var c=this.Ea();this.copyTo(c);return c};l.prototype.sg=function(){return null};l.$d=function(c){var a=c.Ea();c.copyTo(a);return a};l.prototype.vc=function(){0<=this.FB&&(this.FB+=2147483649)};l.fy=function(c){var a=c.F();if(l.Rg(a))return c.D();if(c.u())return 0;if(197==a)return 4;if(33==a)return 1;if(l.Ic(a))return 2;throw g.f.Y("missing type");
};return l}();g.R=u})(J||(J={}));(function(g){var u=function(){function l(){this.y=this.x=0}l.construct=function(c,a){var b=new l;b.x=c;b.y=a;return b};l.gl=function(c){var a=new l;a.x=c.x;a.y=c.y;return a};l.prototype.ka=function(c,a){this.x=c;this.y=a};l.prototype.K=function(c){this.x=c.x;this.y=c.y};l.prototype.wq=function(c,a){return this.x===c&&this.y===a};l.prototype.xA=function(c){return 2.220446049250313E-16>=Math.abs(this.x-c.x)&&2.220446049250313E-16>=Math.abs(this.y-c.y)};l.prototype.qb=
function(c){return this.x===c.x&&this.y===c.y};l.prototype.Ib=function(c){return c==this?!0:c instanceof l?this.x==c.x&&this.y==c.y:!1};l.prototype.sub=function(c){this.x-=c.x;this.y-=c.y};l.prototype.tc=function(c,a){this.x=c.x-a.x;this.y=c.y-a.y};l.prototype.add=function(c,a){void 0!==a?(this.x=c.x+a.x,this.y=c.y+a.y):(this.x+=c.x,this.y+=c.y)};l.prototype.lr=function(){this.x=-this.x;this.y=-this.y};l.prototype.Vt=function(c){this.x=-c.x;this.y=-c.y};l.prototype.hU=function(c,a,b){this.x=c.x*(1-
b)+a.x*b;this.y=c.y*(1-b)+a.y*b};l.prototype.nu=function(c,a){this.x=this.x*c+a.x;this.y=this.y*c+a.y};l.prototype.mY=function(c,a,b){this.x=a.x*c+b.x;this.y=a.y*c+b.y};l.prototype.scale=function(c){this.x*=c;this.y*=c};l.prototype.compare=function(c){return this.y<c.y?-1:this.y>c.y?1:this.x<c.x?-1:this.x>c.x?1:0};l.prototype.normalize=function(){var c=this.length();0==c&&(this.x=1,this.y=0);this.x/=c;this.y/=c};l.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.En=
function(){return this.x*this.x+this.y*this.y};l.vb=function(c,a){return Math.sqrt(this.oc(c,a))};l.uz=function(c,a,b,d){c-=b;a-=d;return Math.sqrt(c*c+a*a)};l.prototype.Vh=function(c){return this.x*c.x+this.y*c.y};l.prototype.PD=function(c){return Math.abs(this.x*c.x)+Math.abs(this.y*c.y)};l.prototype.Di=function(c){return this.x*c.y-this.y*c.x};l.prototype.mu=function(c,a){var b=-this.x*a+this.y*c;this.x=this.x*c+this.y*a;this.y=b};l.prototype.pw=function(){var c=this.x;this.x=-this.y;this.y=c};
l.prototype.yH=function(c){this.x=-c.y;this.y=c.x};l.prototype.ur=function(){var c=this.x;this.x=this.y;this.y=-c};l.prototype.iE=function(){this.y=this.x=NaN};l.prototype.Ey=function(){return isNaN(this.x)};l.prototype.Xu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};l.Wr=function(c,a){var b=c.Xu(),d=a.Xu();return d==b?(c=c.Di(a),0>c?1:0<c?-1:0):b<d?-1:1};l.I_=function(c,a){return l.Wr(c,a)};l.oc=function(c,a){var b=c.x-a.x;c=c.y-a.y;return b*b+c*c};l.prototype.toString=function(){return"("+
this.x+" , "+this.y+")"};l.prototype.Tc=function(){this.y=this.x=NaN};l.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};l.prototype.ZN=function(){return this.Ey()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};l.prototype.offset=function(c,a){var b=l.vb(c,a),d=l.construct(this.x,this.y);if(0==b)return l.vb(d,c);var e=new l;e.K(a);e.sub(c);d.sub(c);return d.Di(e)/b};l.fp=function(c,a,b){var d=new g.Wb;d.set(a.x);d.sub(c.x);var e=new g.Wb;e.set(b.y);e.sub(c.y);
var f=new g.Wb;f.set(a.y);f.sub(c.y);var h=new g.Wb;h.set(b.x);h.sub(c.x);d.Gg(e);f.Gg(h);d.sub(f);if(!d.Ys())return b=d.value(),0>b?-1:0<b?1:0;d=new g.xp(a.x);e=new g.xp(c.x);f=new g.xp(c.y);d=d.St(e);c=new g.xp(b.y);c=c.St(f);a=new g.xp(a.y);a=a.St(f);b=new g.xp(b.x);b=b.St(e);d=d.Hr(c);a=a.Hr(b);d=d.Hr(a);return d.JU()?-1:d.AT()?1:0};l.prototype.fc=function(){return g.L.Aj(g.L.Aj())};return l}();g.b=u})(J||(J={}));(function(g){var u=function(){function l(c){this.jz=this.wu=0;this.tZ=c}l.prototype.reset=
function(){this.jz=this.wu=0};l.prototype.add=function(c){c-=this.jz;var a=this.wu+c;this.jz=a-this.wu-c;this.wu=a};l.prototype.sub=function(c){this.add(-c)};l.prototype.Dm=function(){return this.tZ+this.wu};return l}();g.ky=u;g.Tb=function(){function l(){}l.hl=function(c,a){return 0<=a?Math.abs(c):-Math.abs(c)};l.sign=function(c){return 0>c?-1:0<c?1:0};l.ZL=function(c){return c-360*Math.floor(c/360)};l.round=function(c){return Math.floor(c+.5)};l.Wx=function(c){return c*c};l.Aq=function(c,a,b){return.5>=
b?c+(a-c)*b:a-(a-c)*(1-b)};l.AH=function(c,a,b,d){.5>=b?(d.x=c.x+(a.x-c.x)*b,d.y=c.y+(a.y-c.y)*b):(d.x=a.x-(a.x-c.x)*(1-b),d.y=a.y-(a.y-c.y)*(1-b))};l.HU=function(c,a,b,d,e,f){.5>=e?(f.x=c+(b-c)*e,f.y=a+(d-a)*e):(f.x=b-(b-c)*(1-e),f.y=d-(d-a)*(1-e))};return l}()})(J||(J={}));(function(g){var u=function(l){function c(){var a=l.call(this)||this;a.ra=0;a.na=0;a.pa=0;a.ma=0;a.ia=null;return a}ma(c,l);c.prototype.ac=function(){return g.b.construct(this.ra,this.na)};c.prototype.qq=function(a){a.x=this.ra;
a.y=this.na};c.prototype.Fc=function(a){this.pm(0,a)};c.prototype.GC=function(a,b){this.pm(0,g.b.construct(a,b))};c.prototype.jp=function(a){this.SD(0,a)};c.prototype.setStart=function(a){this.fE(0,a)};c.prototype.Ks=function(a,b){return this.Pd(0,a,b)};c.prototype.Qx=function(a,b,d){this.Nn(0,a,b,d)};c.prototype.wc=function(){return g.b.construct(this.pa,this.ma)};c.prototype.vs=function(a){a.x=this.pa;a.y=this.ma};c.prototype.Sc=function(a){this.pm(1,a)};c.prototype.am=function(a,b){this.pm(1,g.b.construct(a,
b))};c.prototype.hp=function(a){this.SD(1,a)};c.prototype.setEnd=function(a){this.fE(1,a)};c.prototype.us=function(a,b){return this.Pd(1,a,b)};c.prototype.Hx=function(a,b,d){this.Nn(1,a,b,d)};c.prototype.pb=function(){return 1};c.prototype.u=function(){return this.Ac()};c.prototype.Ka=function(){};c.prototype.Pe=function(){return 0};c.prototype.Ia=function(a,b,d,e,f){return this.SN(a,b,d,e,f)};c.prototype.isIntersecting=function(a,b){return 0!=this.Zr(a,b,!1)};c.prototype.Zs=function(a,b){return this.Yu(a,
b,!1)};c.prototype.Yu=function(){return null};c.prototype.Ac=function(){return!1};c.prototype.Hy=function(a){this.vc();if(null==this.ia&&0<a)this.ia=g.L.Xf(2*a);else if(null!=this.ia&&this.ia.length<2*a){for(var b=this.ia.slice(0),d=this.ia.length;d<2*a;d++)b[d]=0;this.ia=b}};c.nN=function(a,b,d){if(0<d)var e=0;for(var f=0;f<d;f++)b[0+e]=a[0],e++};c.prototype.pm=function(a,b){0!=a?(this.pa=b.x,this.ma=b.y):(this.ra=b.x,this.na=b.y)};c.prototype.Ln=function(a){if(null!=this.ia){for(var b=g.ke.ox(a,
this.description),d=[],e=c.Mg(this.description,0),f=c.Mg(this.description,1),h=c.Mg(a,0),k=c.Mg(a,1),m=0,n=1,p=a.Ca;n<p;n++){var q=a.kd(n),r=g.oa.Sa(q);if(-1==b[n]){var t=g.oa.me(q);for(q=0;q<r;q++)d[h+m]=t,d[k+m]=t,m++}else for(t=this.description.dk(b[n])-2,q=0;q<r;q++)d[h+m]=this.ia[e+t],d[k+m]=this.ia[f+t],m++,t++}this.ia=d}this.description=a};c.prototype.SD=function(a,b){if(this.Ac())throw g.f.Y("empty geometry");b.rg(this.description);b.Ac()&&b.Mp();for(var d=0;d<this.description.Ca;d++)for(var e=
this.description.Jd(d),f=0,h=g.oa.Sa(e);f<h;f++){var k=this.Pd(a,e,f);b.setAttribute(e,f,k)}};c.prototype.fE=function(a,b){this.vc();if(b.Ac())throw g.f.Y("empty geometry");for(var d=b.description,e=0,f=d.Ca;e<f;e++)for(var h=d.Jd(e),k=g.oa.Sa(h),m=0;m<k;m++){var n=b.Rc(h,m);this.Nn(a,h,m,n)}};c.prototype.Pd=function(a,b,d){if(this.Ac())throw g.f.Y("This operation was performed on an Empty Geometry.");if(0==b)return 0!=a?0!=d?this.ma:this.pa:0!=d?this.na:this.ra;if(d>=g.oa.Sa(b))throw g.f.Gd();var e=
this.description.Yf(b);return 0<=e?(null!=this.ia&&this.Hy(this.description.Ge.length-2),this.ia[c.Mg(this.description,a)+this.description.dk(e)-2+d]):g.oa.me(b)};c.prototype.Nn=function(a,b,d,e){this.vc();if(d>=g.oa.Sa(b))throw g.f.Gd();var f=this.description.Yf(b);0>f&&(this.le(b),f=this.description.Yf(b));0==b?0!=a?0!=d?this.ma=e:this.pa=e:0!=d?this.na=e:this.ra=e:(null==this.ia&&this.Hy(this.description.Ge.length-2),this.ia[c.Mg(this.description,a)+this.description.dk(f)-2+d]=e)};c.prototype.copyTo=
function(a){if(a.F()!=this.F())throw g.f.I();a.description=this.description;a.Hy(this.description.Ge.length-2);c.nN(this.ia,a.ia,2*(this.description.Ge.length-2));a.ra=this.ra;a.na=this.na;a.pa=this.pa;a.ma=this.ma;a.vc();this.Hp(a)};c.prototype.Qf=function(a,b){var d=new g.uc;if(this.Ac())return d.Ka(),d;d.fa=this.Pd(0,a,b);d.ja=d.fa;d.Sk(this.Pd(1,a,b));return d};c.prototype.QJ=function(a){this.Ac()?a.Ka():(a.fa=this.Pd(0,0,0),a.ja=a.fa,a.Sk(this.Pd(1,0,0)))};c.prototype.zx=function(a,b){b.rg(this.description);
b.nb(this.cc(a));for(var d=1,e=this.description.Ca;d<e;d++)for(var f=this.description.Jd(d),h=g.oa.Sa(f),k=0;k<h;k++){var m=this.Rc(a,f,k);b.setAttribute(f,k,m)}};c.prototype.NN=function(a){if(this.description!=a.description||this.ra!=a.ra||this.pa!=a.pa||this.na!=a.na||this.ma!=a.ma)return!1;for(var b=0;b<2*(this.description.Ge.length-2);b++)if(this.ia[b]!=a.ia[b])return!1;return!0};c.prototype.nH=function(){return this.ra==this.pa&&this.na==this.ma};c.prototype.reverse=function(){var a=this.ra;
this.ra=this.pa;this.pa=a;a=this.na;this.na=this.ma;this.ma=a;a=1;for(var b=this.description.Ca;a<b;a++)for(var d=this.description.kd(a),e=0,f=g.oa.Sa(d);e<f;e++){var h=this.Pd(0,d,e),k=this.Pd(1,d,e);this.Nn(0,d,e,k);this.Nn(1,d,e,h)}};c.prototype.Zr=function(a,b,d){var e=a.F();switch(this.F()){case 322:if(322==e)return g.zb.WN(this,a,b,d);throw g.f.za();default:throw g.f.za();}};c.prototype.SN=function(a,b,d,e,f){var h=a.F();switch(this.F()){case 322:if(322==h)return g.zb.Dy(this,a,b,d,e,f);throw g.f.za();
default:throw g.f.za();}};c.prototype.yy=function(){return null};c.Mg=function(a,b){return b*(a.Ge.length-2)};c.prototype.cc=function(a,b){if(void 0===b)return b=new g.b,this.cc(a,b),b;g.Tb.HU(this.ra,this.na,this.pa,this.ma,a,b)};c.prototype.ae=function(){return null};c.prototype.QG=function(){return null};c.prototype.uq=function(){return null};c.prototype.Qg=function(){return null};c.prototype.jo=function(){return null};c.prototype.qg=function(){return null};c.prototype.zy=function(a,b){return void 0!==
b?this.by(b)-this.by(a):this.by(a)};c.prototype.Hp=function(){};c.prototype.jl=function(){return null};c.prototype.jh=function(){};c.prototype.Rc=function(){return null};c.prototype.Te=function(){return null};c.prototype.by=function(){return null};c.prototype.zH=function(){return null};c.prototype.vb=function(a,b){if(!b&&0!=this.Zr(a,0,!1))return 0;b=1.7976931348623157E308;var d=this.ac(),e=a.ae(d,!1);d.sub(a.cc(e));d=d.length();d<b&&(b=d);d=this.wc();e=a.ae(d,!1);d.sub(a.cc(e));d=d.length();d<b&&
(b=d);d=a.ac();e=this.ae(d,!1);d.sub(this.cc(e));d=d.length();d<b&&(b=d);d=a.wc();e=this.ae(d,!1);d.sub(this.cc(e));d=d.length();d<b&&(b=d);return b};c.prototype.sg=function(){return g.yi.qm(this,null)};return c}(g.R);g.zD=u})(J||(J={}));new J.b;(function(g){(function(l){l[l.Unknown=-1]="Unknown";l[l.Not=0]="Not";l[l.Weak=1]="Weak";l[l.Strong=2]="Strong"})(g.iM||(g.iM={}));(function(l){l[l.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";l[l.IsWeakSimple=2]="IsWeakSimple";l[l.IsStrongSimple=4]="IsStrongSimple";
l[l.DirtyOGCFlags=8]="DirtyOGCFlags";l[l.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";l[l.DirtyExactIntervals=64]="DirtyExactIntervals";l[l.DirtyLooseIntervals=128]="DirtyLooseIntervals";l[l.DirtyIntervals=192]="DirtyIntervals";l[l.DirtyIsEnvelope=256]="DirtyIsEnvelope";l[l.DirtyLength2D=512]="DirtyLength2D";l[l.DirtyRingAreas2D=1024]="DirtyRingAreas2D";l[l.DirtyCoordinates=1993]="DirtyCoordinates";l[l.DirtyAllInternal=65535]="DirtyAllInternal";l[l.DirtyAll=16777215]="DirtyAll"})(g.VL||(g.VL={}));
var u=function(l){function c(){var a=l.call(this)||this;a.Sm=65535;a.sa=0;a.Vg=-1;a.ib=null;return a}ma(c,l);c.prototype.Hp=function(){};c.prototype.Gy=function(){};c.prototype.Oy=function(){};c.prototype.D=function(){return this.sa};c.prototype.u=function(){return this.Ac()};c.prototype.Ac=function(){return 0==this.sa};c.prototype.ek=function(a){return 0!=(this.Sm&a)};c.prototype.Vf=function(a,b){this.Sm=b?this.Sm|a:this.Sm&~a};c.prototype.rc=function(){this.ek(32)&&this.lO()};c.prototype.yu=function(){if(this.Ac())throw g.f.Y("This operation was performed on an Empty Geometry.");
};c.prototype.ne=function(a,b){if(0>a||a>=this.sa)throw g.f.Y("index out of bounds");this.rc();b.rg(this.description);b.u()&&b.Mp();for(var d=0;d<this.description.Ca;d++)for(var e=this.description.Jd(d),f=0,h=g.oa.Sa(e);f<h;f++){var k=this.va[d].Ig(h*a+f);b.setAttribute(e,f,k)}};c.prototype.ru=function(a,b){this.rc();for(var d=b.description,e=0;e<d.Ca;e++)for(var f=d.Jd(e),h=g.oa.Sa(f),k=0;k<h;k++){var m=b.Rc(f,k);this.setAttribute(f,a,k,m)}};c.prototype.w=function(a,b){if(0>a||a>=this.D())throw g.f.Gd();
this.rc();this.va[0].mc(2*a,b)};c.prototype.xa=function(a){var b=new g.b;this.w(a,b);return b};c.prototype.Hc=function(a,b){this.va[0].mc(2*a,b)};c.prototype.nb=function(a,b,d){if(0>a||a>=this.sa)throw g.f.Gd();this.rc();var e=this.va[0];void 0!==d?(e.write(2*a,b),e.write(2*a+1,d)):e.Bu(2*a,b);this.Oc(1993)};c.prototype.kA=function(){if(void 0>=this.D())throw g.f.Gd();this.rc();var a=this.va[0],b=new g.Id;b.x=a.read(NaN);b.y=a.read(NaN);b.z=this.hasAttribute(1)?this.va[1].Ig(void 0):g.oa.me(1);return b};
c.prototype.LC=function(a){if(0>a||a>=this.D())throw g.f.Gd();this.le(1);this.rc();this.Oc(1993);var b=this.va[0];b.write(2*a,(void 0).x);b.write(2*a+1,(void 0).y);this.va[1].Mr(a,(void 0).z)};c.prototype.Rc=function(a,b,d){if(0>b||b>=this.sa)throw g.f.Gd();var e=g.oa.Sa(a);if(d>=e)throw g.f.Gd();this.rc();var f=this.description.Yf(a);return 0<=f?this.va[f].Ig(b*e+d):g.oa.me(a)};c.prototype.lG=function(a,b){return this.Rc(a,b,void 0)};c.prototype.setAttribute=function(a,b,d,e){if(0>b||b>=this.sa)throw g.f.Gd();
var f=g.oa.Sa(a);if(d>=f)throw g.f.Gd();this.le(a);this.rc();a=this.description.Yf(a);this.Oc(1993);this.va[a].Mr(b*f+d,e)};c.prototype.Va=function(a){this.yu();this.le(a);this.rc();return this.va[this.description.Yf(a)]};c.prototype.yn=function(a,b){if(null!=b&&g.oa.sl(a)!=b.sl())throw g.f.I();this.le(a);a=this.description.Yf(a);null==this.va&&(this.va=g.Xc.gJ(this.description.Ca));this.va[a]=b;this.Oc(16777215)};c.prototype.Ln=function(a){var b=null;if(null!=this.va){var d=g.ke.ox(a,this.description);
b=[];for(var e=0,f=a.Ca;e<f;e++)-1!=d[e]&&(b[e]=this.va[d[e]])}this.description=a;this.va=b;this.Vg=-1;this.Oc(16777215)};c.prototype.mE=function(a){this.cv(!0);a instanceof g.g?this.X.s(a):this.X.ip(a)};c.prototype.kO=function(a){this.cv(!1);a instanceof g.g?this.X.s(a):this.X.ip(a)};c.prototype.qn=function(a){this.cv(!0);this.X.copyTo(a)};c.prototype.s=function(a){this.mE(a)};c.prototype.ip=function(a){this.mE(a)};c.prototype.Zb=function(a){this.kO(a)};c.prototype.Qf=function(a,b){var d=new g.uc;
if(this.Ac())return d.Ka(),d;this.cv(!0);return this.X.Qf(a,b)};c.prototype.fc=function(){var a=this.description.fc();if(!this.Ac())for(var b=this.D(),d=0,e=this.description.Ca;d<e;d++)a=this.va[d].Un(a,0,b*g.oa.Sa(this.description.Jd(d)));return a};c.prototype.Ib=function(a){if(a==this)return!0;if(!(a instanceof c&&this.description.Ib(a.description))||this.Ac()!=a.Ac())return!1;if(this.Ac())return!0;var b=this.D();if(b!=a.D())return!1;for(var d=0;d<this.description.Ca;d++){var e=this.description.kd(d),
f=this.Va(e),h=a.Va(e);if(!f.Ib(h,0,b*g.oa.Sa(e)))return!1}return!0};c.prototype.copyTo=function(a){if(a.F()!=this.F())throw g.f.I();this.ND(a)};c.prototype.ND=function(a){this.rc();a.description=this.description;a.va=null;var b=this.description.Ca,d=null;if(null!=this.va){d=[];for(var e=0;e<b;e++)null!=this.va[e]&&(d[e]=this.va[e].qC(this.D()*g.oa.Sa(this.description.Jd(e))))}null!=this.X?(a.X=this.X.Ea(),this.X.copyTo(a.X)):a.X=null;a.sa=this.sa;a.Sm=this.Sm;a.va=d;try{this.Hp(a)}catch(f){throw a.Ka(),
g.f.Mu();}};c.prototype.hE=function(){this.sa=0;this.Vg=-1;this.va=null;this.Oc(16777215)};c.prototype.Oc=function(a){16777215==a&&(this.Vg=-1,this.Gy());this.Sm|=a;this.tN();this.vc()};c.prototype.cv=function(a){this.rc();if(this.ek(192))if(null==this.X?this.X=new g.Ih(this.description):this.X.rg(this.description),this.u())this.X.Ka();else{this.Ny(a);for(var b=1;b<this.description.Ca;b++)for(var d=this.description.Jd(b),e=g.oa.Sa(d),f=this.va[b],h=0;h<e;h++){var k=new g.uc;k.Ka();for(var m=0;m<this.sa;m++){var n=
f.Ig(m*e+h);k.Nb(n)}this.X.setInterval(d,h,k)}a&&this.Vf(192,!1)}};c.prototype.Ny=function(){this.X.Ka();for(var a=this.va[0],b=new g.b,d=0;d<this.sa;d++)a.mc(2*d,b),this.X.Nb(b)};c.prototype.Tn=function(a){a.Ka();for(var b=this.va[0],d=new g.b,e=0;e<this.sa;e++)b.mc(2*e,d),a.Nb(d)};c.prototype.lO=function(){if(this.Vg<this.sa){null==this.va&&(this.va=g.Xc.gJ(this.description.Ca));this.Vg=2147483647;for(var a=0;a<this.description.Ca;a++){var b=this.description.Jd(a);if(null!=this.va[a]){var d=g.oa.Sa(b),
e=g.L.truncate(this.va[a].size/d);e<this.sa&&(e=g.L.truncate(this.Vg>this.sa+5?(5*this.sa+3)/4:this.sa),this.va[a].resize(e*d,g.oa.me(b)));e<this.Vg&&(this.Vg=e)}else this.va[a]=g.Xc.JF(b,this.sa),this.Vg=this.sa}}this.Oy();this.Vf(32,!1)};c.prototype.bl=function(a){if(0>a)throw g.f.I();a!=this.sa&&(this.sa=a,this.Oc(65535))};c.prototype.rk=function(a){if(!this.ek(1)){if(!this.ek(2))return 0;if(this.iV>=a)return this.ek(8)?1:2}return-1};c.prototype.Jg=function(a,b){this.iV=b;if(-1==a)this.Vf(1,!0),
this.Vf(8,!0);else if(this.Vf(1,!1),this.Vf(8,!0),0==a)this.Vf(2,!1),this.Vf(4,!1);else if(1==a)this.Vf(2,!0),this.Vf(4,!1);else if(2==a)this.Vf(2,!0),this.Vf(4,!0);else throw g.f.Y("internal error.");};c.prototype.tN=function(){null!=this.ib&&(this.ib=null)};c.prototype.VD=function(a,b,d,e){if(0>a||a>=this.sa)throw g.f.Y("index out of bounds");if(0>b||b>=this.sa)throw g.f.Y("index out of bounds");this.rc();e.rg(this.description);e.u()&&e.Mp();for(var f=0;f<this.description.Ca;f++)for(var h=this.description.Jd(f),
k=0,m=g.oa.Sa(h);k<m;k++){var n=this.va[f].Ig(m*a+k),p=this.va[f].Ig(m*b+k);e.setAttribute(h,k,g.Tb.Aq(n,p,d))}};c.prototype.Yr=function(a,b){var d=this.va[0].i,e=d[2*a]-d[2*b];a=d[2*a+1]-d[2*b+1];return Math.sqrt(e*e+a*a)};c.prototype.Hh=function(a,b){if(0>a||a>=this.sa)throw g.f.Gd();if(b.u())throw g.f.I();this.rc();for(var d=b.description,e=0;e<d.Ca;e++)for(var f=d.kd(e),h=g.oa.Sa(f),k=0;k<h;k++){var m=b.Rc(f,k);this.setAttribute(f,a,k,m)}};c.prototype.Tu=function(){return null};c.prototype.lj=
function(){return null};return c}(g.R);g.ly=u})(J||(J={}));(function(g){var u=function(){function l(){this.lb=this.so=null;this.fn=124234251;this.yw=!0;this.Ve=-1;this.lb=new g.ad(7);this.so=null}l.prototype.kp=function(c){this.so=c};l.prototype.bR=function(){this.yw=!1};l.prototype.Le=function(c){this.lb.Le(c)};l.prototype.qs=function(c){var a=this.lb.Ke();this.VY(a);this.YY(c,a);return a};l.prototype.XQ=function(c){this.lb.jd(c)};l.prototype.addElement=function(c,a){-1==a&&(-1==this.Ve&&(this.Ve=
this.qs(-1)),a=this.Ve);return this.rE(c,0,a)};l.prototype.wE=function(c){-1==this.Ve&&(this.Ve=this.qs(-1));return this.rE(c,1,this.Ve)};l.prototype.Qn=function(c){-1==this.Ve&&(this.Ve=this.qs(-1));var a=this.Ve,b=this.lb.i;if(-1==a||-1==b[7*a])return c=this.lb.Vl([-1,-1,-1,c,this.nl(),-1,-1]),b=this.lb.i,b[7*a]=c,this.Pp(-1,c,a,b),c;var d=-1==a?-1:b[7*a+2];c=this.lb.Vl([-1,-1,d,c,this.nl(),-1,-1]);b=this.lb.i;b[7*d+1]=c;this.Uy(c,b);-1===b[7*c+2]&&(b[7*a]=c);this.Pp(-1,c,a,b);return c};l.prototype.fv=
function(c,a,b,d){var e=-1;-1==e&&(-1==this.Ve&&(this.Ve=this.qs(-1)),e=this.Ve);var f=this.lb.i;if(-1==e||-1==f[7*e])return b=this.lb.Vl([-1,-1,-1,b,this.nl(),-1,-1]),f=this.lb.i,f[7*e]=b,this.Pp(-1,b,e,f),b;if(d){d=-1!=a?this.so.compare(this,b,a):-1;var h=-1!=c?this.so.compare(this,b,c):1}else d=-1,h=1;if(0==d||0==h)return f[7*e+3]=0==d?a:c,-1;(-1!=a&&-1!=c?this.fn>g.L.MB(this.fn)>>1:-1!=a)?c=a:d=h;for(a=!0;;){if(0>d)if(h=f[7*c],-1!=h)c=h;else{d=c;b=this.lb.Vl([-1,-1,c,b,this.nl(),-1,-1]);f=this.lb.i;
f[7*c]=b;break}else if(h=f[7*c+1],-1!=h)c=h;else{d=f[7*c+6];b=this.lb.Vl([-1,-1,c,b,this.nl(),-1,-1]);f=this.lb.i;f[7*c+1]=b;break}a&&(d*=-1,a=!1)}this.Uy(b,f);-1===f[7*b+2]&&(f[7*e]=b);this.Pp(d,b,e,f);return b};l.prototype.rG=function(){return this.wS(this.Ve)};l.prototype.zd=function(c,a){a=-1==a?this.Ve:a;this.yw?this.WQ(c,a):this.RZ(c,a)};l.prototype.search=function(c,a){for(a=this.aw(a);-1!=a;){var b=this.so.compare(this,c,a);if(0==b)return a;a=0>b?this.rl(a):this.pq(a)}return-1};l.prototype.nY=
function(c){for(var a=this.aw(-1),b=-1;-1!=a;){var d=c.compare(this,a);if(0==d)return a;0>d?a=this.rl(a):(b=a,a=this.pq(a))}return b};l.prototype.yK=function(c){for(var a=this.aw(-1),b=-1;-1!=a;){var d=c.compare(this,a);if(0==d)return a;0>d?(b=a,a=this.rl(a)):a=this.pq(a)}return b};l.prototype.ga=function(c){return this.lb.S(c,3)};l.prototype.rl=function(c){return this.lb.S(c,0)};l.prototype.pq=function(c){return this.lb.S(c,1)};l.prototype.getParent=function(c){return this.lb.S(c,2)};l.prototype.hb=
function(c){return this.lb.S(c,6)};l.prototype.Be=function(c){return this.lb.S(c,5)};l.prototype.sc=function(c){return-1==c?this.ql(this.Ve):this.ql(c)};l.prototype.Gc=function(c){return-1==c?this.Fs(this.Ve):this.Fs(c)};l.prototype.qT=function(c){return-1==c?this.NG(this.Ve):this.NG(c)};l.prototype.Tj=function(c,a){this.xC(c,a)};l.prototype.aw=function(c){return-1==c?this.JG(this.Ve):this.JG(c)};l.prototype.clear=function(){this.lb.rj(!1);this.Ve=-1};l.prototype.size=function(c){return-1==c?this.LG(this.Ve):
this.LG(c)};l.prototype.VO=function(c,a){for(var b=a[7*c],d=a[7*c+1],e=a[7*c+4];-1!=b||-1!=d;){var f=-1!=b?a[7*b+4]:2147483647;d=-1!=d?a[7*d+4]:2147483647;if(e<=Math.min(f,d))break;f<=d?this.wK(b,a):this.vK(c,a);b=a[7*c];d=a[7*c+1]}};l.prototype.Uy=function(c,a){if(this.yw)for(var b=a[7*c+4],d=a[7*c+2];-1!=d&&a[7*d+4]>b;)a[7*d]==c?this.wK(c,a):this.vK(d,a),d=a[7*c+2]};l.prototype.vK=function(c,a){var b=a[7*c+1];a[7*b+2]=a[7*c+2];a[7*c+2]=b;var d=a[7*b];a[7*c+1]=d;-1!=d&&(a[7*d+2]=c);a[7*b]=c;d=a[7*
b+2];-1!=d&&(a[7*d]==c?a[7*d]=b:a[7*d+1]=b)};l.prototype.wK=function(c,a){var b=a[7*c+2];a[7*c+2]=a[7*b+2];a[7*b+2]=c;var d=a[7*c+1];a[7*b]=d;-1!=d&&(a[7*d+2]=b);a[7*c+1]=b;d=a[7*c+2];-1!=d&&(a[7*d]===b?a[7*d]=c:a[7*d+1]=c)};l.prototype.Wk=function(c,a){this.lb.P(c,2,a)};l.prototype.BC=function(c,a){this.lb.P(c,0,a)};l.prototype.FC=function(c,a){this.lb.P(c,1,a)};l.prototype.EC=function(c,a){this.lb.P(c,5,a)};l.prototype.Mx=function(c,a){this.lb.P(c,6,a)};l.prototype.aL=function(c,a){this.lb.P(a,
0,c)};l.prototype.VY=function(c){this.lb.P(c,4,0)};l.prototype.YY=function(c,a){this.lb.P(a,5,c)};l.prototype.JG=function(c){return-1==c?-1:this.lb.S(c,0)};l.prototype.ql=function(c){return-1==c?-1:this.lb.S(c,1)};l.prototype.Fs=function(c){return-1==c?-1:this.lb.S(c,2)};l.prototype.wS=function(c){return-1==c?-1:this.lb.S(c,3)};l.prototype.LG=function(c){return-1==c?0:this.lb.S(c,4)};l.prototype.NG=function(c){return this.lb.S(c,5)};l.prototype.vx=function(){return this.lb.Vl([-1,-1,-1,void 0,this.nl(),
-1,-1])};l.prototype.ml=function(c){-1!=c&&this.lb.jd(c)};l.prototype.nl=function(){this.fn=g.L.MB(this.fn);return this.fn&1073741823};l.prototype.rE=function(c,a,b){var d=this.lb.i;if(-1==b||-1==d[7*b])return c=this.lb.Vl([-1,-1,-1,c,this.nl(),-1,-1]),d=this.lb.i,d[7*b]=c,this.Pp(-1,c,b,d),c;for(var e=-1==b?-1:d[7*b];;){var f=-1==a?1:this.so.compare(this,c,e);if(0>f)if(f=this.rl(e),-1!=f)e=f;else{a=e;c=this.lb.Vl([-1,-1,e,c,this.nl(),-1,-1]);d=this.lb.i;d[7*e]=c;break}else{if(1==a&&0==f)return d[7*
b+3]=e,-1;f=d[7*e+1];if(-1!=f)e=f;else{a=d[7*e+6];c=this.lb.Vl([-1,-1,e,c,this.nl(),-1,-1]);d=this.lb.i;d[7*e+1]=c;break}}}this.Uy(c,d);-1===d[7*c+2]&&(d[7*b]=c);this.Pp(a,c,b,d);return c};l.prototype.Pp=function(c,a,b,d){if(-1!=c){var e=d[7*c+5];d[7*c+5]=a}else e=-1==b?-1:d[7*b+2];d[7*a+5]=e;-1!=e&&(d[7*e+6]=a);d[7*a+6]=c;c==(-1==b?-1:d[7*b+1])&&(d[7*b+1]=a);-1==c&&(d[7*b+2]=a);d[7*b+4]=(-1==b?0:d[7*b+4])+1};l.prototype.jC=function(c,a){var b=this.lb.i,d=b[7*c+5];c=b[7*c+6];-1!=d?b[7*d+6]=c:b[7*
a+1]=c;-1!=c?b[7*c+5]=d:b[7*a+2]=d;b[7*a+4]=-1===a?-1:b[7*a+4]-1};l.prototype.RZ=function(c,a){this.jC(c,a);var b=this.rl(c),d=this.pq(c),e=this.getParent(c),f=c;if(-1!=b&&-1!=d){this.fn=g.L.MB(this.fn);var h=1073741823<this.fn?this.hb(c):this.Be(c),k=this.getParent(h)==c;this.lb.PC(c,h,0);this.lb.PC(c,h,1);this.lb.PC(c,h,2);-1!=e?this.rl(e)==c?this.BC(e,h):this.FC(e,h):this.aL(h,a);k?(b==h?(this.BC(h,c),this.Wk(d,h)):d==h&&(this.FC(h,c),this.Wk(b,h)),this.Wk(c,h),e=h):(this.Wk(b,h),this.Wk(d,h),
e=this.getParent(c),f=h);b=this.rl(c);d=this.pq(c);-1!=b&&this.Wk(b,c);-1!=d&&this.Wk(d,c)}b=-1!=b?b:d;-1==e?this.aL(b,a):this.rl(e)==f?this.BC(e,b):this.FC(e,b);-1!=b&&this.Wk(b,e);this.ml(c)};l.prototype.WQ=function(c,a){var b=this.lb.i;b[7*c+4]=2147483647;var d=-1,e=-1,f=-1===a?-1:b[7*a],h=f==c;h&&(d=b[7*f],e=b[7*f+1],-1==d&&-1==e)?(this.jC(f,a),this.ml(f),b[7*a]=-1):(this.VO(c,b),f=b[7*c+2],-1!=f&&(b[7*f]==c?b[7*f]=-1:b[7*f+1]=-1),this.jC(c,a),this.ml(c),h&&(b[7*a]=-1==d||-1!=b[7*d+2]?e:d))};
l.prototype.xC=function(c,a){this.lb.P(c,3,a)};return l}();g.bk=u})(J||(J={}));(function(g){var u=function(){function l(c,a){void 0!==c&&this.H(c,a)}l.prototype.H=function(c,a){this.fa=c;this.ja=a;this.normalize()};l.prototype.isIntersecting=function(c){return this.fa<=c.fa?this.ja>=c.fa:c.ja>=this.fa};l.prototype.move=function(c){this.u()||(this.fa+=c,this.ja+=c)};l.prototype.normalize=function(){if(!isNaN(this.fa)){if(this.fa>this.ja){var c=this.fa;this.fa=this.ja;this.ja=c}isNaN(this.ja)&&this.Ka()}};
l.prototype.Ka=function(){this.ja=this.fa=NaN};l.prototype.u=function(){return isNaN(this.fa)};l.prototype.Nb=function(c){"number"===typeof c?this.u()?this.ja=this.fa=c:this.Sk(c):c.u()||(this.u()?(this.fa=c.fa,this.ja=c.ja):(this.fa>c.fa&&(this.fa=c.fa),this.ja<c.ja&&(this.ja=c.ja),this.fa>this.ja&&this.Ka()))};l.prototype.Sk=function(c){c<this.fa?this.fa=c:c>this.ja&&(this.ja=c)};l.prototype.contains=function(c){return"number"===typeof c?c>=this.fa&&c<=this.ja:c.fa>=this.fa&&c.ja<=this.ja};l.prototype.Ia=
function(c){this.u()||c.u()?this.Ka():(this.fa<c.fa&&(this.fa=c.fa),this.ja>c.ja&&(this.ja=c.ja),this.fa>this.ja&&this.Ka())};l.prototype.O=function(c){this.u()||(this.fa-=c,this.ja+=c,this.ja<this.fa&&this.Ka())};l.prototype.Mn=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.fa)+Math.abs(this.ja)+1)};l.prototype.uC=function(c,a){c>a?(this.fa=a,this.ja=c):(this.fa=c,this.ja=a)};l.prototype.su=function(c){return g.L.Yj(c,this.fa,this.ja)};l.prototype.N=function(){return this.ja-
this.fa};l.prototype.hf=function(){return.5*(this.fa+this.ja)};l.prototype.Ib=function(c){return c==this?!0:c instanceof l?this.u()&&c.u()?!0:this.fa!=c.fa||this.ja!=c.ja?!1:!0:!1};l.prototype.fc=function(){return g.L.Aj(g.L.Aj())};return l}();g.uc=u})(J||(J={}));(function(g){var u=new g.uc,l=new g.uc,c=function(){return function(){this.ue=null;this.mb=-1;this.sb=new g.zb;this.aB=55555555;this.Aw=this.Cw=!1;this.cg=new g.uc;this.cg.uC(0,0)}}();g.s_=c;var a=function(){function b(d,e,f){this.a=d;this.Ok=
NaN;this.CI=this.cr=0;this.DI=NaN;this.qa=e;this.fr=10*e;this.EI=this.FI=NaN;this.yg=!1;this.Qm=this.Pt=this.bp=this.Ft=this.Et=-1;this.SA=f;this.DB=new c;this.MI=new c;g.L.truncate(3*d.hd/2)}b.prototype.ZG=function(d,e,f,h){d.ue=null===h?null:h[f[5*e]];d.Aw=null!=d.ue;d.Aw||(h=f[5*e+2],-1!==h&&this.a.DX(f[5*e],f[5*h],d.sb),d.ue=d.sb,d.cg.uC(d.sb.ra,d.sb.pa),d.cg.ja+=this.qa,d.sb.hJ(),d.Cw=d.sb.ma==d.sb.na,d.Cw||(d.aB=(d.sb.pa-d.sb.ra)/(d.sb.ma-d.sb.na)))};b.prototype.YP=function(d,e){var f=d.Zr(e,
this.qa,!0);if(0!=f)return 2==f?this.wz():this.Ei();d.qq(Ka);d.vs(Qa);e.qq(Ua);e.vs(cb);Ja.ka(this.cr,this.Ok);Ka.qb(Ua)&&this.Ok==Ka.y?0>Qa.compare(cb)?Ja.K(Qa):Ja.K(cb):Ka.qb(cb)&&this.Ok==Ka.y?0>Qa.compare(Ua)?Ja.K(Qa):Ja.K(Ua):Ua.qb(Qa)&&this.Ok==Ua.y?0>Ka.compare(cb)?Ja.K(Ka):Ja.K(cb):Qa.qb(cb)&&this.Ok==Qa.y&&(0>Ka.compare(Ua)?Ja.K(Ka):Ja.K(Ua));return d.Te(Ja.y,Ja.x)<e.Te(Ja.y,Ja.x)?-1:1};b.prototype.WP=function(d,e){if(d.sb.na==e.sb.na&&d.sb.ra==e.sb.ra)return d.sb.ma==e.sb.ma&&d.sb.pa==e.sb.pa?
this.SA?this.wz():0:this.AF(d,e);if(d.sb.ma==e.sb.ma&&d.sb.pa==e.sb.pa)return this.zF(d,e);var f=this.zF(d,e);d=this.AF(d,e);return 0>f&&0>d?-1:0<f&&0<d?1:this.Ei()};b.prototype.SP=function(d,e){if(d.pa>e.pa){if(e.pa>e.ra&&e.ma-e.na<2*this.qa&&d.Ci(e.pa,e.ma,this.qa))return this.Ei()}else if((e.ma-e.na)/(e.pa-e.ra)*(d.pa-d.ra)<this.fr&&e.Ci(d.pa,d.ma,this.qa))return this.Ei();return 1};b.prototype.TP=function(d,e){if(d.ra<e.ra){if(e.pa>e.ra&&e.ma-e.na<2*this.qa&&d.Ci(e.pa,e.ma,this.qa))return this.Ei()}else if((e.ma-
e.na)/(e.pa-e.ra)*(d.ra-d.pa)<this.fr&&e.Ci(d.ra,d.na,this.qa))return this.Ei();return-1};b.prototype.UP=function(d,e){var f=new g.b;f.tc(e.wc(),e.ac());f.ur();f.normalize();var h=new g.b;h.tc(d.ac(),e.ac());var k=new g.b;k.tc(d.wc(),e.ac());h=h.Vh(f);f=k.Vh(f);k=Math.abs(h);var m=Math.abs(f);if(k<m){if(k<this.fr&&e.Ci(d.ra,d.na,this.qa))return this.Ei()}else if(m<this.fr&&e.Ci(d.pa,d.ma,this.qa))return this.Ei();return 0>h&&0>f?-1:0<h&&0<f?1:this.Ei()};b.prototype.yF=function(d,e){return d.na==e.na&&
d.ra==e.ra?this.SP(d,e):d.ma==e.ma&&d.pa==e.pa?this.TP(d,e):this.UP(d,e)};b.prototype.VP=function(d,e){return d.ma==e.ma&&d.pa==e.pa&&d.na==e.na&&d.ra==e.ra?this.SA?this.wz():0:this.Ei()};b.prototype.zF=function(d,e){var f=1;if(d.sb.na<e.sb.na){f=-1;var h=d;d=e;e=h}d=d.sb;h=e.sb;var k=d.ra-h.ra;e=e.aB*(d.na-h.na);var m=this.fr;return k<e-m?-f:k>e+m?f:h.Ci(d.ra,d.na,this.qa)?this.Ei():k<e?-f:f};b.prototype.AF=function(d,e){var f=1;if(e.sb.ma<d.sb.ma){f=-1;var h=d;d=e;e=h}d=d.sb;h=e.sb;var k=d.pa-h.ra;
e=e.aB*(d.ma-h.na);var m=this.fr;return k<e-m?-f:k>e+m?f:h.Ci(d.pa,d.ma,this.qa)?this.Ei():k<e?-f:f};b.prototype.wz=function(){this.yg=!0;this.Ti=new g.Od(5,this.bp,this.Pt);return-1};b.prototype.Ei=function(){this.yg=!0;this.SA?this.Ti=new g.Od(4,this.bp,this.Pt):this.Pt=this.bp=this.Ft=this.Et=-1;return-1};b.prototype.XP=function(d,e,f,h){if(this.yg)return-1;var k=this.DI==this.Ok&&this.CI==this.cr;if(k&&d==this.Et)var m=this.EI;else m=NaN,this.Et=-1;k&&e==this.Ft?k=this.FI:(k=NaN,this.Ft=-1);f.ue.QJ(u);
h.ue.QJ(l);if(u.ja<l.fa)return-1;if(l.ja<u.fa)return 1;this.DI=this.Ok;this.CI=this.cr;isNaN(m)&&(this.Et=d,this.EI=m=d=f.ue.Te(this.Ok,this.cr));isNaN(k)&&(this.Ft=e,this.FI=k=d=h.ue.Te(this.Ok,this.cr));return Math.abs(m-k)<=this.qa?this.YP(f.ue,h.ue):m<k?-1:m>k?1:0};b.prototype.ks=function(){this.yg=!1};b.prototype.Dm=function(){return this.Ti};b.prototype.dL=function(d,e){this.Ok=d;this.cr=e;this.Pt=this.bp=this.Ft=this.Et=-1};b.prototype.compare=function(d,e,f){if(this.yg)return-1;d=d.ga(f);
this.Qm=f;return this.CF(e,e,d,d)};b.prototype.CF=function(d,e,f,h){if(this.bp==e)var k=this.DB;else this.bp=e,k=this.DB,this.DB.mb=d,this.ZG(k,e,this.a.ud.i,this.a.bf);if(null==m){this.Pt=h;var m=this.MI;this.MI.mb=f;this.ZG(m,h,this.a.ud.i,this.a.bf)}if(k.Aw||m.Aw)return this.XP(e,h,k,m);if(k.cg.ja<m.cg.fa)return-1;if(m.cg.ja<k.cg.fa)return 1;d=k.Cw?1:0;d|=m.Cw?2:0;return 0==d?this.WP(k,m):1==d?this.yF(k.sb,m.sb):2==d?-1*this.yF(m.sb,k.sb):this.VP(k.sb,m.sb)};return b}();g.CD=a})(J||(J={}));(function(g){var u=
function(){function l(c,a){this.a=c;this.qa=a;this.yg=!1;this.bp=-1;this.cg=new g.uc;this.$q=new g.b;this.$q.Tc();this.qe=new g.zb;this.Qm=-1;this.kB=1.7976931348623157E308}l.prototype.ks=function(){this.yg=!1;this.kB=1.7976931348623157E308};l.prototype.Hh=function(c){this.$q.K(c)};l.prototype.compare=function(c,a){return this.DF(a,c.ga(a))};l.prototype.DF=function(c,a){var b=null!=this.a.ec(a);b||(this.a.gd(a,this.qe),this.cg.uC(this.qe.ra,this.qe.pa));if(b)throw g.f.Y("not implemented");if(this.$q.x+
this.qa<this.cg.fa)return-1;if(this.$q.x-this.qa>this.cg.ja)return 1;if(this.qe.na==this.qe.ma)return this.Qm=c,this.yg=!0,0;this.qe.hJ();b=this.qe.ac();a=new g.b;a.tc(this.qe.wc(),b);a.ur();var d=new g.b;d.tc(this.$q,b);b=a.Vh(d);b/=a.length();return b<10*-this.qa?-1:b>10*this.qa?1:this.qe.Zs(this.$q,this.qa)&&(a=Math.abs(b),a<this.kB&&(this.Qm=c,this.kB=a),this.yg=!0,a<.25*this.qa)?0:0>b?-1:1};return l}();g.hN=u})(J||(J={}));(function(g){function u(c,a,b,d){b=new Float64Array(c.subarray(b,d));c.set(b,
a)}var l=function(){function c(a){this.Mb=this.wk=!1;this.i=null;var b=a;2>b&&(b=2);this.i=new Float64Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Mb)throw g.f.Y("invalid_call");if(b<a||b>d||a>d)throw g.f.I();a!=b&&d!=b&&(this.wi(a,b-a,1),this.wi(b,d-b,1),this.wi(a,d-a,1))};c.Af=function(a,b){var d=new c(a),e=d.i;2>a&&(a=2);if(0!==b)for(var f=0;f<a;f++)e[f]=b;return d};c.Vn=function(a){var b=new c(0);b.i=new Float64Array(a.i);b.size=a.size;return b};c.ms=function(a,b){var d=new c(0);
d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.i=new Float64Array(b);d.i.set(a.i.length<=b?a.i:a.i.subarray(0,b),0);return d};c.prototype.Db=function(a){0>=a||(null==this.i?this.i=new Float64Array(a):a<=this.i.length||(0<this.i.length?(a=new Float64Array(a),a.set(this.i),this.i=a):this.i=new Float64Array(a)))};c.prototype.read=function(a){return this.i[a]};c.prototype.mc=function(a,b){b.x=this.i[a];b.y=this.i[a+1]};c.prototype.get=function(a){return this.i[a]};c.prototype.write=function(a,
b){if(this.Mb)throw g.f.Eb();this.i[a]=b};c.prototype.set=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b};c.prototype.Bu=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b.x;this.i[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);this.i[this.size-1]=a};c.prototype.qC=function(a){return c.ms(this,a)};c.prototype.Ig=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.wk)throw g.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");
if(a<=this.size){if(30<this.i.length&&5*a/4<this.i.length){var d=new Float64Array(this.i,0,a);this.i=d}}else{a>this.i.length&&(d=g.L.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Float64Array(d),d.set(this.i),this.i=d);d=this.i;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Gh=function(a){(null==this.i||a>this.i.length)&&this.resize(a);if(this.wk)throw g.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.Mr=function(a,b){this.write(a,b)};c.prototype.Un=
function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=g.L.Aj(this.read(b));return a};c.prototype.Ib=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,f=a.size;if(d>e||d>f&&e!=f)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,f){if(this.Mb)throw g.f.Eb();if(!e&&(1>f||0!=d%f))throw g.f.I();var h=this.size;this.resize(h+d);if(e)this.i.set(a.i.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=f){e-=f;for(var m=0;m<f;m++)this.i[h+
k+m]=a.i[b+e+m]}}};c.prototype.fo=function(a,b,d,e,f,h,k){if(this.Mb)throw g.f.Eb();if(!f&&(1>h||0!=e%h))throw g.f.I();var m=this.size-k;m<e&&this.resize(this.size+e-m);u(this.i,a+e,a,a+(k-a));this.i==b.i&&a<d&&(d+=e);if(f)this.i.set(b.i.subarray(d,d+e),a);else for(f=e,k=0;k<e;k+=h)for(f-=h,m=0;m<h;m++)this.i[a+k+m]=b.i[d+f+m]};c.prototype.qA=function(a,b,d,e,f,h){if(this.Mb)throw g.f.Eb();0>h&&(h=this.size);this.size+2*e>this.i.length?this.resize(this.size+2*e):this.size+=2*e;u(this.i,a+2*e,a,a+
(h-a));if(f)for(f=0;f<e;f++)h=b[d++],this.i[a++]=h.x,this.i[a++]=h.y;else{f=0;for(var k=e-1;f<e;++f)h=b[d+k],this.i[a++]=h.x,this.i[a++]=h.y,k--}};c.prototype.Gm=function(a,b,d,e){if(this.Mb)throw g.f.Eb();e-=a;u(this.i,a+e,a,a+e);for(e=0;e<d;e++)this.i[a+e]=b};c.prototype.Gi=function(a,b,d){if(this.Mb)throw g.f.Eb();u(this.i,a+2,a,a+(d-a));this.i[a]=b.x;this.i[a+1]=b.y};c.prototype.cD=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.f.I();if(d.length<e+b)throw g.f.I();if(0!=b)if(this.size<b+a&&this.resize(b+
a),f)this.i.set(d.subarray(e,b),a);else for(f||(a+=b-1),b=e+b;e<b;e++)this.i[a]=d[e],a--};c.prototype.Cu=function(a,b,d,e,f,h){if(0>a||0>b||0>e)throw g.f.I();if(!f&&(0>=h||0!=b%h))throw g.f.I();if(d.size<e+b)throw g.f.I();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.$r(a,b,e,f,h);else if(f)for(f=0;f<b;f++)this.i[a]=d.i[e],a++,e++;else if(e=e+b-h,1==h)for(f=0;f<b;f++)this.i[a]=d.i[e],a++,e--;else for(f=0,b=g.L.truncate(b/h);f<b;f++){for(var k=0;k<h;k++)this.i[a+k]=d.i[e+k];a+=h;e-=h}};c.prototype.Xn=
function(a,b,d){if(this.Mb)throw g.f.Eb();if(a+b>this.size)throw g.f.Eb();0<d-(a+b)&&u(this.i,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.wi=function(a,b,d){if(this.Mb)throw g.f.Eb();if(1>d||0!=b%d)throw g.f.Eb();for(var e=b>>1,f=0;f<e;f+=d){b-=d;for(var h=0;h<d;h++){var k=this.i[a+f+h];this.i[a+f+h]=this.i[a+b+h];this.i[a+b+h]=k}}};c.prototype.Xj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw g.f.I();for(var e=b;e<b+d;e++)this.i[e]=a};c.prototype.$r=function(a,b,d,e,f){if(!e||a!=d)if(this.i.set(this.i.subarray(d,
d+b),a),!e)for(d=a,a=a+b-f,e=0,b=g.L.truncate(b/2);e<b;e++){for(var h=0;h<f;h++){var k=this.i[d+h];this.i[d+h]=this.i[a+h];this.i[a+h]=k}d+=f;a-=f}};c.prototype.eD=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.f.I();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),f||(a+=b-1<<1),f=f?2:-2,b+=e;e<b;e++)this.i[a]=d[e].x,this.i[a+1]=d[e].y,a+=f};c.prototype.dD=function(a,b,d){if(0>a||0>b)throw g.f.I();if(0!=b){this.size<(b<<1)+a&&this.resize((b<<1)+a);b+=0;for(var e=0;e<b;e++)this.i[a]=d[e][0],this.i[a+
1]=d[e][1],a+=2}};c.prototype.iu=function(a,b,d,e,f){if(0>a||0>b||0>e||this.size<b+a)throw g.f.I();if(f)for(f=0;f<b;f++)d[e+f]=this.i[a+f];else for(e=e+b-1;a<b;a++)d[e]=this.i[a],e--};c.prototype.dC=function(a,b,d){if(0>a||0>b||this.size<(b>>1)+a)throw g.f.I();if(0!=b){b=0+b;for(var e=0;e<b;e++)d[e][0]=this.i[a],d[e][1]=this.i[a+1],a+=2}};c.prototype.clear=function(a){a?this.resize(0):this.Gh(0)};c.prototype.Px=function(){this.wk=this.Mb=!0};c.prototype.Zd=function(a,b,d){Array.prototype.sort.call(this.i.subarray(a,
b),d)};c.prototype.sl=function(){return 1};return c}();g.ie=l})(J||(J={}));(function(g){function u(c,a,b,d){b=new Int32Array(c.subarray(b,d));c.set(b,a)}g.YZ=function(){return function(){this.random=1973}}();var l=function(){function c(a){this.Mb=this.wk=!1;this.i=null;var b=a;2>b&&(b=2);this.i=new Int32Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Mb)throw g.f.Y("invalid_call");if(b<a||b>d||a>d)throw g.f.I();a!=b&&d!=b&&(this.wi(a,b-a,1),this.wi(b,d-b,1),this.wi(a,d-a,1))};c.Af=
function(a,b){var d=new c(a),e=d.i;2>a&&(a=2);if(0!==b)for(var f=0;f<a;f++)e[f]=b;return d};c.Vn=function(a){var b=new c(0);b.i=new Int32Array(a.i);b.size=a.size;return b};c.ms=function(a,b){var d=new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.i=new Int32Array(b);d.i.set(a.i.length<=b?a.i:a.i.subarray(0,b),0);return d};c.prototype.Db=function(a){0>=a||(null==this.i?this.i=new Int32Array(a):a<=this.i.length||(0<this.i.length?(a=new Int32Array(a),a.set(this.i),this.i=a):this.i=new Int32Array(a)))};
c.prototype.read=function(a){return this.i[a]};c.prototype.mc=function(a,b){b.x=this.i[a];b.y=this.i[a+1]};c.prototype.get=function(a){return this.i[a]};c.prototype.write=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b};c.prototype.set=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b};c.prototype.Bu=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b.x;this.i[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);this.i[this.size-1]=a};c.prototype.qC=function(a){return c.ms(this,a)};
c.prototype.Ig=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.wk)throw g.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.i.length&&5*a/4<this.i.length){var d=new Int32Array(this.i,0,a);this.i=d}}else{a>this.i.length&&(d=g.L.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Int32Array(d),d.set(this.i),this.i=d);d=this.i;for(var e=this.size;e<a;e++)d[e]=b}this.size=a};c.prototype.Gh=function(a){(null==this.i||a>
this.i.length)&&this.resize(a);if(this.wk)throw g.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.Mr=function(a,b){this.write(a,b)};c.prototype.Un=function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=g.L.Zh(this.read(b),a);return a};c.prototype.Ib=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,f=a.size;if(d>e||d>f&&e!=f)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=a.read(b))return!1;return!0};c.prototype.addRange=function(a,
b,d,e,f){if(this.Mb)throw g.f.Eb();if(!e&&(1>f||0!=d%f))throw g.f.I();var h=this.size;this.resize(h+d);if(e)this.i.set(a.i.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=f){e-=f;for(var m=0;m<f;m++)this.i[h+k+m]=a.i[b+e+m]}}};c.prototype.fo=function(a,b,d,e,f,h,k){if(this.Mb)throw g.f.Eb();if(!f&&(1>h||0!=e%h))throw g.f.I();u(this.i,a+e,a,a+(k-a));this.i==b.i&&a<d&&(d+=e);if(f)this.i.set(b.i.subarray(d,d+e),a);else for(f=e,k=0;k<e;k+=h){f-=h;for(var m=0;m<h;m++)this.i[a+k+m]=b.i[d+f+m]}};c.prototype.qA=
function(a,b,d,e,f,h){if(this.Mb)throw g.f.Eb();0>h&&(h=this.size);this.size+2*e>this.i.length?this.resize(this.size+2*e):this.size+=2*e;u(this.i,a+2*e,a,a+(h-a));if(f)for(f=0;f<e;f++)h=b[d++],this.i[a++]=h.x,this.i[a++]=h.y;else{f=0;for(var k=e-1;f<e;++f)h=b[d+k],this.i[a++]=h.x,this.i[a++]=h.y,k--}};c.prototype.Gm=function(a,b,d,e){if(this.Mb)throw g.f.Eb();e-=a;u(this.i,a+e,a,a+e);for(e=0;e<d;e++)this.i[a+e]=b};c.prototype.Gi=function(a,b,d){if(this.Mb)throw g.f.Eb();u(this.i,a+2,a,a+(d-a));this.i[a]=
b.x;this.i[a+1]=b.y};c.prototype.cD=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.f.I();if(d.length<e+b)throw g.f.I();if(0!=b)if(this.size<b+a&&this.resize(b+a),f)this.i.set(d.subarray(e,b),a);else for(f||(a+=b-1),b=e+b;e<b;e++)this.i[a]=d[e],a--};c.prototype.Cu=function(a,b,d,e,f,h){if(0>a||0>b||0>e)throw g.f.I();if(!f&&(0>=h||0!=b%h))throw g.f.I();if(d.size<e+b)throw g.f.I();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.$r(a,b,e,f,h);else if(f)for(f=0;f<b;f++)this.i[a]=d.i[e],a++,e++;else if(e=
e+b-h,1==h)for(f=0;f<b;f++)this.i[a]=d.i[e],a++,e--;else for(f=0,b=g.L.truncate(b/h);f<b;f++){for(var k=0;k<h;k++)this.i[a+k]=d.i[e+k];a+=h;e-=h}};c.prototype.Xn=function(a,b,d){if(this.Mb)throw g.f.Eb();if(a+b>this.size)throw g.f.Eb();0<d-(a+b)&&u(this.i,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.wi=function(a,b,d){if(this.Mb)throw g.f.Eb();if(1>d||0!=b%d)throw g.f.Eb();for(var e=b>>1,f=0;f<e;f+=d){b-=d;for(var h=0;h<d;h++){var k=this.i[a+f+h];this.i[a+f+h]=this.i[a+b+h];this.i[a+b+h]=k}}};c.prototype.Xj=
function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw g.f.I();for(var e=b;e<b+d;e++)this.i[e]=a};c.prototype.$r=function(a,b,d,e,f){if(!e||a!=d)if(this.i.set(this.i.subarray(d,d+b),a),!e)for(d=a,a=a+b-f,e=0,b=g.L.truncate(b/2);e<b;e++){for(var h=0;h<f;h++){var k=this.i[d+h];this.i[d+h]=this.i[a+h];this.i[a+h]=k}d+=f;a-=f}};c.prototype.eD=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.f.I();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<1)+a),f||(a+=b-1<<1),f=f?2:-2,b+=e;e<b;e++)this.i[a]=d[e].x,this.i[a+
1]=d[e].y,a+=f};c.prototype.iu=function(a,b,d,e,f){if(0>a||0>b||0>e||this.size<b+a)throw g.f.I();if(f)for(f=0;f<b;f++)d[e+f]=this.i[a+f];else for(e=e+b-1;a<b;a++)d[e]=this.i[a],e--};c.prototype.clear=function(a){a?this.resize(0):this.Gh(0)};c.prototype.Px=function(){this.wk=this.Mb=!0};c.prototype.Zd=function(a,b,d){10>b-a?c.dH(this.i,a,b,d):c.$B(this.i,a,b-1,d)};c.prototype.sl=function(){return 2};c.prototype.Gc=function(){return this.i[this.size-1]};c.prototype.Rf=function(){this.resize(this.size-
1)};c.prototype.EY=function(a){this.i[this.size-1]=a};c.prototype.kX=function(a){a<this.size-1&&(this.i[a]=this.i[this.size-1]);this.resize(this.size-1)};c.prototype.ZF=function(a){for(var b=0,d=this.size;b<d;b++)if(this.i[b]==a)return b;return-1};c.prototype.UG=function(a){return 0<=this.ZF(a)};c.dH=function(a,b,d,e){for(var f=b;f<d;f++){for(var h=a[f],k=f-1;k>=b&&0<e(a[k],h);)a[k+1]=a[k],k--;a[k+1]=h}};c.$x=function(a,b,d){var e=a[d];a[d]=a[b];a[b]=e};c.$B=function(a,b,d,e){if(!(b>=d))for(;;){if(9>
d-b){c.dH(a,b,d+1,e);break}var f=a[b];c.$x(a,b,d);for(var h=b,k=b;k<d;k++)0>=e(a[k],f)&&(c.$x(a,h,k),h+=1);c.$x(a,h,d);h-b<d-h?(c.$B(a,b,h-1,e),b=h+1):(c.$B(a,h+1,d,e),d=h-1)}};return c}();g.ha=l})(J||(J={}));(function(g){function u(c,a,b,d){b=new Int8Array(c.subarray(b,d));c.set(b,a)}var l=function(){function c(a){this.i=null;var b=a;2>b&&(b=2);this.i=new Int8Array(b);this.size=a}c.prototype.rotate=function(a,b,d){if(this.Mb)throw g.f.Y("invalid_call");if(b<a||b>d||a>d)throw g.f.I();a!=b&&d!=b&&
(this.wi(a,b-a,1),this.wi(b,d-b,1),this.wi(a,d-a,1))};c.Af=function(a,b){var d=new c(a),e=d.i;2>a&&(a=2);if(0!==b)for(var f=0;f<a;f++)e[f]=b;return d};c.Vn=function(a){var b=new c(0);b.i=new Int8Array(a.i);b.size=a.size;return b};c.ms=function(a,b){var d=new c(0);d.size=a.size;d.size>b&&(d.size=b);b=d.size;2>b&&(b=2);d.i=new Int8Array(b);d.i.set(a.i.length<=b?a.i:a.i.subarray(0,b),0);return d};c.prototype.Db=function(a){0>=a||(null==this.i?this.i=new Int8Array(a):a<=this.i.length||(0<this.i.length?
(a=new Int8Array(a),a.set(this.i),this.i=a):this.i=new Int8Array(a)))};c.prototype.read=function(a){return this.i[a]};c.prototype.mc=function(a,b){b.x=this.i[a];b.y=this.i[a+1]};c.prototype.get=function(a){return this.i[a]};c.prototype.write=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b};c.prototype.set=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b};c.prototype.Bu=function(a,b){if(this.Mb)throw g.f.Eb();this.i[a]=b.x;this.i[a+1]=b.y};c.prototype.add=function(a){this.resize(this.size+1);
this.i[this.size-1]=a};c.prototype.qC=function(a){return c.ms(this,a)};c.prototype.Ig=function(a){return this.read(a)};c.prototype.resize=function(a,b){void 0===b&&(b=0);if(this.wk)throw g.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.i.length&&5*a/4<this.i.length){var d=new Int8Array(this.i,0,a);this.i=d}}else{a>this.i.length&&(d=g.L.truncate(64>a?Math.max(2*a,4):5*a/4),d=new Int8Array(d),d.set(this.i),this.i=d);d=this.i;for(var e=this.size;e<
a;e++)d[e]=b}this.size=a};c.prototype.Gh=function(a){(null==this.i||a>this.i.length)&&this.resize(a);if(this.wk)throw g.f.Y("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};c.prototype.Mr=function(a,b){this.write(a,b)};c.prototype.Un=function(a,b,d){for(var e=this.size;b<e&&b<d;b++)a=g.L.Zh(this.read(b),a);return a};c.prototype.Ib=function(a,b,d){if(null==a||!(a instanceof c))return!1;var e=this.size,f=a.size;if(d>e||d>f&&e!=f)return!1;for(d>e&&(d=e);b<d;b++)if(this.read(b)!=
a.read(b))return!1;return!0};c.prototype.addRange=function(a,b,d,e,f){if(this.Mb)throw g.f.Eb();if(!e&&(1>f||0!=d%f))throw g.f.I();var h=this.size;this.resize(h+d);if(e)this.i.set(a.i.subarray(b,b+d),h);else{e=d;for(var k=0;k<d;k+=f){e-=f;for(var m=0;m<f;m++)this.i[h+k+m]=a.i[b+e+m]}}};c.prototype.fo=function(a,b,d,e,f,h,k){if(this.Mb)throw g.f.Eb();if(!f&&(1>h||0!=e%h))throw g.f.I();u(this.i,a+e,a,a+(k-a));this.i==b.i&&a<d&&(d+=e);if(f)this.i.set(b.i.subarray(d,d+e),a);else for(f=e,k=0;k<e;k+=h){f-=
h;for(var m=0;m<h;m++)this.i[a+k+m]=b.i[d+f+m]}};c.prototype.Gm=function(a,b,d,e){if(this.Mb)throw g.f.Eb();e-=a;u(this.i,a+e,a,a+e);for(e=0;e<d;e++)this.i[a+e]=b};c.prototype.qA=function(a,b,d,e,f,h){if(this.Mb)throw g.f.Eb();0>h&&(h=this.size);this.size+2*e>this.i.length?this.resize(this.size+2*e):this.size+=2*e;u(this.i,a+2*e,a,a+(h-a));if(f)for(f=0;f<e;f++)h=b[d++],this.i[a++]=h.x,this.i[a++]=h.y;else{f=0;for(var k=e-1;f<e;++f)h=b[d+k],this.i[a++]=h.x,this.i[a++]=h.y,k--}};c.prototype.Gi=function(a,
b,d){if(this.Mb)throw g.f.Eb();u(this.i,a+2,a,a+(d-a));this.i[a]=b.x;this.i[a+1]=b.y};c.prototype.cD=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.f.I();if(d.length<e+b)throw g.f.I();if(0!=b)if(this.size<b+a&&this.resize(b+a),f)this.i.set(d.subarray(e,b),a);else for(f||(a+=b-1),b=e+b;e<b;e++)this.i[a]=d[e],a--};c.prototype.Cu=function(a,b,d,e,f,h){if(0>a||0>b||0>e)throw g.f.I();if(!f&&(0>=h||0!=b%h))throw g.f.I();if(d.size<e+b)throw g.f.I();if(0!=b)if(this.size<b+a&&this.resize(b+a),d==this)this.$r(a,
b,e,f,h);else if(f)for(f=0;f<b;f++)this.i[a]=d.i[e],a++,e++;else if(e=e+b-h,1==h)for(f=0;f<b;f++)this.i[a]=d.i[e],a++,e--;else for(f=0,b=g.L.truncate(b/h);f<b;f++){for(var k=0;k<h;k++)this.i[a+k]=d.i[e+k];a+=h;e-=h}};c.prototype.Xn=function(a,b,d){if(this.Mb)throw g.f.Eb();if(a+b>this.size)throw g.f.Eb();0<d-(a+b)&&u(this.i,a,a+b,a+(d-(a+b))+b);this.size-=b};c.prototype.wi=function(a,b,d){if(this.Mb)throw g.f.Eb();if(1>d||0!=b%d)throw g.f.Eb();for(var e=b>>1,f=0;f<e;f+=d){b-=d;for(var h=0;h<d;h++){var k=
this.i[a+f+h];this.i[a+f+h]=this.i[a+b+h];this.i[a+b+h]=k}}};c.prototype.Xj=function(a,b,d){if(0>b||0>d||0>b||d+b>this.size)throw g.f.I();for(var e=b;e<b+d;e++)this.i[e]=a};c.prototype.$r=function(a,b,d,e,f){if(!e||a!=d)if(this.i.set(this.i.subarray(d,d+b),a),!e)for(d=a,a=a+b-f,e=0,b=g.L.truncate(b/2);e<b;e++){for(var h=0;h<f;h++){var k=this.i[d+h];this.i[d+h]=this.i[a+h];this.i[a+h]=k}d+=f;a-=f}};c.prototype.eD=function(a,b,d,e,f){if(0>a||0>b||0>e)throw g.f.I();if(0!=b)for(this.size<(b<<1)+a&&this.resize((b<<
1)+a),f||(a+=b-1<<1),f=f?2:-2,b+=e;e<b;e++)this.i[a]=d[e].x,this.i[a+1]=d[e].y,a+=f};c.prototype.iu=function(a,b,d,e,f){if(0>a||0>b||0>e||this.size<b+a)throw g.f.I();if(f)for(f=0;f<b;f++)d[e+f]=this.i[a+f];else for(e=e+b-1;a<b;a++)d[e]=this.i[a],e--};c.prototype.clear=function(a){a?this.resize(0):this.Gh(0)};c.prototype.Px=function(){this.wk=this.Mb=!0};c.prototype.Zd=function(a,b,d){b=this.i.subarray(a,b);Array.prototype.sort.call(b,d);this.i.set(b,a)};c.prototype.DK=function(a,b){if(this.Mb)throw g.f.Y("invalid call. Attribute Stream is read only.");
this.i[a]|=b};c.prototype.uF=function(a,b){if(this.Mb)throw g.f.Y("invalid call. Attribute Stream is read only.");this.i[a]&=~b};c.prototype.sl=function(){return 1};return c}();g.Gn=l})(J||(J={}));(function(g){g.Xc=function(){function u(){}u.ns=function(l,c){return g.Gn.Af(l,c)};u.Wn=function(l,c){return g.ie.Af(l,c)};u.zQ=function(l,c,a){switch(l){case 1:l=g.ie.Af(c,a);break;case 2:l=g.ha.Af(c,a);break;case 4:l=g.Gn.Af(c,a);break;default:throw g.f.za();}return l};u.JF=function(l,c){return u.zQ(g.oa.sl(l),
c*g.oa.Sa(l),g.oa.me(l))};u.Sh=function(l,c){return g.ha.Af(l,c)};u.gJ=function(l){var c,a=[];for(c=0;c<l;c++)a.push(null);return a};return u}()})(J||(J={}));(function(g){g.da=function(){return function(u){void 0===u&&(u=0);this.j=u}}()})(J||(J={}));(function(g){g.VM=function(){function u(){}u.bind=function(l){g.Pc=l.PeDefs;g.zf=l.PeFactory;g.uD=l.PeVertcs;g.Kh=l.PeCSTransformations;g.tD=l.PeGTTransformations;g.TM=l.PeGeogtran;g.SM=l.PeFactoryCodechange;g.sD=l.PeGCSExtent;g.ng=l.PePCSInfo;g.UM=l.PeHorizon;
g.RM=l.PeCoordsys;g.Dp=l.PeGTlistExtended;g.Dp.PE_GTLIST_OPTS_USE_DEFAULT=128;g.zf.initialize(null);g.ry=l.PeGTlistExtendedEntry;u.rV=g.zf.fromString(g.Pc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};u.K0=function(){};u.rV=null;return u}();g.zf=null;g.uD=null;g.RM=null;g.UM=null;g.ng=null;g.Dp=null;g.ry=null;g.sD=null;g.SM=null;g.TM=null;g.Pc=null;g.tD=null;g.Kh=null})(J||(J={}));(function(g){var u=function(){function l(){}l.ub=function(c,a){return 0<=a?l.J(c):-l.J(c)};l.J=function(c){return 0>c?-c:c};l.Ai=
function(c){return 3.552713678800501E-15>c};l.rD=function(c,a,b){return l.J(c-a)<=b*(1+(l.J(c)+l.J(a))/2)};l.V=function(c,a){return l.rD(c,a,3.552713678800501E-15)};l.NM=function(c){return 3.552713678800501E-15>=l.J(c)};l.qd=function(c){return l.NM(c)};return l}();g.l=u;g.C=function(){function l(){}l.wp=function(c,a){c=u.J(c);a=u.J(a);var b=0;0!=c+a&&(c>a?(b=a/c,b=c*Math.sqrt(1+b*b)):(b=c/a,b=a*Math.sqrt(1+b*b)));return b};l.pr=function(c,a,b,d,e){for(var f=[0,0,0],h=[0,0,0],k=0;2>=k;k++)a[k]-=c[k],
b[k]-=a[k];b=f[1]*h[2]-f[2]*h[1];a=f[2]*h[0]-f[0]*h[2];f=f[0]*h[1]-f[1]*h[0];c=-1*(b*c[0]+a*c[1]+f*c[2]);d[0]=b;d[1]=a;d[2]=f;d[3]=c;h=l.Fn(d);d[0]/=h;d[1]/=h;d[2]/=h;d[3]/=h;0!=e&&(h=u.qd(f)?u.qd(c)?u.ub(1,a):-u.ub(1,c):u.ub(1,f),h*=u.ub(1,e),d[0]*=h,d[1]*=h,d[2]*=h,d[3]*=h)};l.ey=function(c,a,b){b[0]=c[1]*a[2]-a[1]*c[2];b[1]=c[2]*a[0]-a[2]*c[0];b[2]=c[0]*a[1]-a[0]*c[1]};l.Au=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]};l.Fn=function(c){return l.wp(l.wp(c[0],c[1]),c[2])};l.hk=function(c,a,
b,d,e,f,h,k){c=l.n(c,a,b);var m=Math.cos(b);f.j=(c+e)*m*Math.cos(d);h.j=(c+e)*m*Math.sin(d);k.j=(c*(1-a)+e)*Math.sin(b)};l.sP=function(c,a,b,d,e,f,h){var k=l.wp(a,b),m=1*Math.sqrt(1-c),n=m/1;if(u.V(k,0))f.j=0,e.j=u.ub(1.570796326794897,d),h.j=u.J(d)-m;else{f.j=Math.atan2(b,a);b=Math.atan2(1*d,m*k);f=Math.cos(b);var p=Math.sin(b);a=m*c/(1-c);c*=1;b=Math.atan2(d+a*p*p*p,k-c*f*f*f);3.141592653589793<u.J(b)&&(b=u.ub(3.141592653589793,b)-b);b=Math.atan(n*Math.tan(b));p=Math.sin(b);f=Math.cos(b);e.j=Math.atan2(d+
a*p*p*p,k-c*f*f*f);1.570796326794897<u.J(e.j)&&(e.j=u.ub(3.141592653589793,e.j)-e.j);b=Math.atan(n*Math.tan(e.j));p=Math.sin(b);f=Math.cos(b);h.j=(d-m*p)*Math.sin(e.j)+(k-1*f)*Math.cos(e.j)}};l.n=function(c,a,b){b=Math.sin(b);return c/Math.sqrt(1-a*b*b)};l.Xt=function(c,a){return Math.atan2(Math.sin(a)*(1-c),Math.cos(a))};l.Rj=function(c,a){return Math.atan2(Math.sin(a),Math.cos(a)*(1-c))};l.kr=function(c,a){if(u.Ai(c)||0==a||u.V(u.J(a),1.570796326794897))return a;if(.006884661117170036>c){var b=
Math.sqrt(1-c),d=(1-b)/(1+b),e=d*d,f=d*e,h=d*f,k=d*h,m=d*k,n=d*m,p=1.572916666666667*f-3.2578125*k+4.295068359375*n;c=2.142578125*h-6.071484375*m;b=3.129296875*k-11.249837239583334*n;var q=4.775276692708333*m,r=7.958636765252976*n,t=Math.cos(2*a);return a+Math.sin(2*a)*(1.5*d-.84375*f+.525390625*k-.2688395182291667*n-p+b-r+t*(2*(1.3125*e-1.71875*h+1.650146484375*m)-4*c+6*q+t*(4*p-12*b+24*r+t*(8*c-32*q+t*(16*b-80*r+t*(32*q+64*t*r))))))}b=1-c;d=c/2;e=u.J(a);f=e*l.Gv(c)/(1.570796326794897*b);h=9999;
m=e;for(e=0;1E-16<h&&50>e;e++)n=l.gm(c,m),k=(l.XG(m,c)-d*Math.sin(2*m)/n)/b-f,n=1/(n*n*n),p=k/n,k=m-p,h=u.J(p),m=k;return 0<=a?m:-m};l.WX=function(c,a){return u.Ai(a)?c:c*l.Gv(a)/1.570796326794897};l.ba=function(c){c=l.cG(c,6.283185307179586);return 0>c?c+6.283185307179586:3.141592653589793>u.J(c)||u.V(u.J(c),3.141592653589793)?c:c-6.283185307179586};l.cG=function(c,a){return c-Math.floor(c/a)*a};l.Hg=function(c,a){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var b=a*a,d=b*b;return c/
(1+a)*(1+.25*b+.015625*d+.00390625*b*d)*1.570796326794897}return c*l.Gv(a)};l.nr=function(c,a){var b=u.ub(1,Math.sin(a));a=u.J(l.cG(a,3.141592653589793));a=1.570796326794897>=a?a:3.141592653589793-a;return(u.V(a,1.570796326794897)?a:Math.atan(Math.sqrt(1-c)*Math.tan(a)))*b};l.q=function(c,a,b){if(.006884661117170036>a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a,e=a*d,f=a*e,h=a*f,k=a*h,m=a*k,n=-.7291666666666666*e+.2278645833333333*h+.03987630208333334*m,p=.615234375*f-.21533203125*k,q=-.54140625*h+
.20302734375*m,r=.48876953125*k,t=-.4488699776785715*m,v=Math.cos(2*b);return c/(1+a)*((1+.25*d+.015625*f+.00390625*k)*b+Math.sin(2*b)*(-1.5*a+.1875*e+.0234375*h+.00732421875*m-n+q-t+v*(2*(.9375*d-.234375*f-.03662109375*k)-4*p+6*r+v*(4*n-12*q+24*t+v*(8*p-32*r+v*(16*q-80*t+v*(32*r+64*v*t)))))))}return c*(l.XG(b,a)-.5*a*Math.sin(2*b)/l.gm(a,b))};l.gm=function(c,a){a=Math.sin(a);return Math.sqrt(1-c*a*a)};l.Gv=function(c){return u.rD(c,1,2.220446049250313E-16)?1:1>c?l.Ex(0,1-c)-c/3*l.Cx(0,1-c):NaN};
l.XG=function(c,a){var b=u.ub(1,c);c=u.J(c);var d=Math.floor(c/1.570796326794897);if(1<a)a=0==c?0:NaN;else if(u.qd(d))c=l.sin(c),a=c*l.Ex(1-c*c,1-a*c*c)-a/3*c*c*c*l.Cx(1-c*c,1-a*c*c);else{var e=g.L.truncate(d%2),f=l.Gv(a);0<e?(c=Math.sin(1.570796326794897*(d+1)-c),a=c*l.Ex(1-c*c,1-a*c*c)-a/3*c*c*c*l.Cx(1-c*c,1-a*c*c),a=f*(d+1)-a):(c=Math.sin(c-1.570796326794897*d),a=c*l.Ex(1-c*c,1-a*c*c)-a/3*c*c*c*l.Cx(1-c*c,1-a*c*c),a=f*d+a)}return a*b};l.sin=function(c){c=l.ba(c);var a=u.ub(1,c);c=u.J(c);return u.V(c,
3.141592653589793)?0:u.V(c,1.570796326794897)?1*a:Math.sin(c)*a};l.Cx=function(c,a){var b=c,d=a,e=1;a=0;c=1;for(var f,h,k,m;;){f=.2*(b+d+3*e);h=(f-b)/f;k=(f-d)/f;m=(f-e)/f;if(1E-4>u.J(h)&&1E-4>u.J(k)&&1E-4>u.J(m))break;m=Math.sqrt(d);f=Math.sqrt(e);m=Math.sqrt(b)*(m+f)+m*f;a+=c/(f*(e+m));c*=.25;b=.25*(b+m);d=.25*(d+m);e=.25*(e+m)}b=h*k;e=m*m;d=b-e;e=b-6*e;h=e+d+d;return 3*a+c*(1+e*(-.2142857142857143+.10227272727272728*e-.1730769230769231*m*h)+m*(.1666666666666667*h+m*(-.4090909090909091*d+.1153846153846154*
m*b)))/(f*Math.sqrt(f))};l.Ex=function(c,a){for(var b,d,e,f,h=1;;h=.25*(h+b)){b=(c+a+h)/3;d=2-(b+c)/b;e=2-(b+a)/b;f=2-(b+h)/b;if(1E-4>u.J(d)&&1E-4>u.J(e)&&1E-4>u.J(f))break;b=Math.sqrt(a);d=Math.sqrt(h);b=Math.sqrt(c)*(b+d)+b*d;c=.25*(c+b);a=.25*(a+b)}c=d*e-f*f;a=d*e*f;return(1+(.04166666666666666*c-.1-.06818181818181818*a)*c+.07142857142857142*a)/Math.sqrt(b)};l.wx=function(c,a){if(u.Ai(c)||0==a||u.V(u.J(a),1.570796326794897))return a;if(.006884661117170036>c){var b=c*c,d=c*b,e=c*d,f=c*e,h=c*f,k=
c*h,m=-(.02708333333333333*d+.03430059523809524*e+.03149181547619048*f+.02634359154541446*h+.02156896735835538*k),n=.007669890873015873*e+.01299603174603175*f+.0148051353064374*h+.01454454953803912*k,p=-(.002275545634920635*f+.004830845032667949*h+.006558395368616723*k),q=6.957236677288761E-4*h+.001775193002406544*k,r=-(2.17324089394402E-4*k),t=Math.cos(2*a);return a+Math.sin(2*a)*(-(.5*c+.2083333333333333*b+.09375*d+.04878472222222222*e+.02916666666666667*f+.01938905423280423*h+.01388255931712963*
k)-m+p-r+t*(2*(.1041666666666667*b+.0875*d+.06050347222222222*e+.04151785714285714*f+.02958958540013228*h+.02203667534722222*k)-4*n+6*q+t*(4*m-12*p+24*r+t*(8*n-32*q+t*(16*p-80*r+t*(32*q+64*t*r))))))}0==a||u.V(u.J(a),1.570796326794897)?b=a:(d=Math.sqrt(c),e=d*Math.sin(a),b=Math.tan(.7853981633974483+a/2)*Math.pow((1-e)/(1+e),d/2),b=2*Math.atan(b)-1.570796326794897);return b};l.IP=function(c,a){if(u.Ai(c)||0==a||u.V(u.J(a),1.570796326794897))return a;if(.006884661117170036>c){t=c*c;p=c*t;q=c*p;var b=
c*q;r=c*b;var d=c*r,e=.05833333333333333*p+.07232142857142858*q+.05634300595238095*b+.0355325796406526*r+.020235546186067*d,f=.02653149801587302*q+.04379960317460317*b+.0429211791776896*r+.03255384637546096*d,h=.01294022817460318*b+.02668104344536636*r+.03155651254609588*d,k=.00659454790965208*r+.0163075268674227*d,m=.003463473736911237*d,n=Math.cos(2*a);return a+Math.sin(2*a)*(.5*c+.2083333333333333*t+.08333333333333333*p+.03611111111111111*q+.01875*b+.01195601851851852*r+.008863673941798942*d-e+
h-m+n*(2*(.1458333333333333*t+.1208333333333333*p+.07039930555555556*q+.03616071428571429*b+.01839451058201058*r+.01017113095238095*d)-4*f+6*k+n*(4*e-12*h+24*m+n*(8*f-32*k+n*(16*h-80*m+n*(32*k+64*n*m))))))}var p=Math.sqrt(c),q=p/2,r=Math.tan(.7853981633974483+a/2);c=0;e=1;for(var t=a;0!=e;t=d)if(b=p*Math.sin(t),d=r*Math.pow((1+b)/(1-b),q),d=2*Math.atan(d)-1.570796326794897,c++,u.V(d,t)||3E4<c)e=0;return t};return l}()})(J||(J={}));(function(g){var u=function(){function l(c){this.Dl=this.Ct=null;this.qw=
!1;this.qB=this.rB=0;this.oB=new g.b;this.BB=new g.b;this.bx=!1;this.Oq=new g.g;this.jI=this.Zw=0;this.$w=null;this.Gk=!1;this.Yo=null;this.MA=0;this.Ze=c;this.it=g.Ab.ew(this.Ze,0,!0);this.oB.Tc();this.BB.Tc();this.GI=NaN;var a=c.getCode();0<a?(this.Rk=a,g.zf.getCode(c)):this.Rk=g.zf.getCode(c);0>this.Rk&&(this.Rk=0);var b=this.Ze.getType();this.XH=b==g.Pc.PE_TYPE_PROJCS?2:1;if(b==g.Pc.PE_TYPE_PROJCS&&!c.loadConstants())throw g.f.I("PeProjcs.loadConstants failed");a=b==g.Pc.PE_TYPE_GEOGCS?this.Ze:
this.Ze.getGeogcs();b!=g.Pc.PE_TYPE_GEOGCS&&g.zf.getCode(a);this.Yo=c.getUnit();this.GI=a.getPrimem().getLongitude();this.jI=c=a.getUnit().getUnitFactor();c=Math.PI/(180*c);1E-10>Math.abs(c-1)&&(c=1);this.qB=c;0!=(b&g.Pc.PE_TYPE_PROJCS)?(a=this.Ze,this.rB=1/a.getUnit().getUnitFactor(),this.Zw=.001/this.Ze.getUnit().getUnitFactor(),this.$w=g.ng.generate(a,g.ng.PE_PCSINFO_OPTION_NONE),this.Gk=this.$w.isPannableRectangle(),this.MA=g.Ab.BO(this.$w.getCentralMeridian(),this.qB)):(this.bx=this.Gk=!0,this.rB=
0,b=1/a.getUnit().getUnitFactor(),this.Zw=.001/a.getDatum().getSpheroid().getAxis()*b,this.MA=0);this.Gk&&(this.cy(),this.KL(),this.LL(),this.JL(),this.UZ(),this.VZ())}l.prototype.Gs=function(){return this.Rk};l.prototype.xj=function(){return this.$w};l.vz=function(c,a){return c==a?!0:null!=c&&null!=a&&0==c.Rk&&0==a.Rk?c.it===a.it:!1};l.prototype.Cc=function(){return this.Gk};l.prototype.nh=function(c){c.H(this.Lo)};l.prototype.Xv=function(){return this.Lo.o};l.prototype.Wv=function(){return this.Lo.v};
l.prototype.WS=function(c){c.H(this.ax)};l.prototype.UZ=function(){var c=this.Ze.getType();if(c==g.Pc.PE_TYPE_PROJCS){c=this.Ze;var a=this.xj().getCentralMeridian(),b=c.getGeogcs();if(null==b)throw g.f.Y("internal error");b=1/b.getUnit().getUnitFactor()*Math.PI;a=[[a+b,0]];g.Kh.geogToProj(c,1,a);a=a[0][0];b=c.getParameters()[g.Pc.PE_PARM_X0].getValue();var d=this.sk();c=new g.g;d.s(c);d=Math.abs(a-b);a=d+b;b=-1*d+b;d=c.B;c=c.A;var e=new g.g;e.H(b,c,a,d);null==this.Lo&&(this.Lo=e)}else if(c==g.Pc.PE_TYPE_GEOGCS)b=
1/this.Ze.getUnit().getUnitFactor()*Math.PI,c=new g.g,c.H(-b,-b/2,b,b/2),null==this.Lo&&(this.Lo=c);else throw g.f.Y("internal error");};l.prototype.VZ=function(){var c=this.Ze.getType();if(c==g.Pc.PE_TYPE_PROJCS){var a=this.Ze;c=this.xj().getCentralMeridian();a=a.getGeogcs();if(null==a)throw g.f.Y("internal error");a=1/a.getUnit().getUnitFactor()*Math.PI;var b=this.Bs(),d=new g.g;b.s(d);b=new g.g;b.H(c-a,d.A,c+a,d.B);null==this.ax&&(this.ax=b)}else if(c==g.Pc.PE_TYPE_GEOGCS)a=1/this.Ze.getUnit().getUnitFactor()*
Math.PI,c=new g.g,c.H(-a,-a/2,a,a/2),null==this.ax&&(this.ax=c);else throw g.f.Y("internal error");};l.prototype.Sd=function(){return this.qB};l.prototype.Am=function(){return this.rB};l.prototype.Bs=function(){if(this.Gk)return this.Dl;var c=this.Dl;if(null!=c)return c;this.cy();return this.Dl};l.prototype.Cs=function(){if(this.Gk)return null;if(null!=this.Dl)return this.JH;this.cy();return this.JH};l.prototype.cy=function(){if(this.Ze.getType()==g.Pc.PE_TYPE_PROJCS){var c=this.Ze,a=c.getGeogcs(),
b=c.horizonGcsGenerate();if(null!=b){var d=b[0].getNump(),e=b[0].getKind();c=0<b[0].getInclusive();var f=this.Sd(),h=90*f,k=360*f,m=370*f,n=180*f*g.Pc.PE_HORIZON_DELTA/Math.PI,p=new g.g,q=null;if(1<d)for(var r=1;r<d;r++)if(b[r].getKind()==g.Pc.PE_HORIZON_LINE){null==q&&(q=new g.Oa);var t=b[r].getCoord();q.Zx(t[0][0],t[0][1]);q.Cj(t[1][0],t[1][1])}if(e==g.Pc.PE_HORIZON_RECT)b=b[0].getCoord(),p.H(b[0][0],b[0][1]),p.Nb(b[1][0],b[1][1]),Math.abs(p.B-h)<1E-7*n&&(p.B=h),Math.abs(p.A+h)<1E-7*n&&(p.A=-h),
p.N()>m&&(b=-400*f,p.H(b,p.A,b+5*k,p.B)),b=new g.Ih(p),null==this.Dl&&(this.Dl=b,this.qw=c);else{m=new g.Ga;k=this.xj().isGcsHorizonMultiOverlap();p=g.Nu.OF(a,g.Ou.Integer64);if(k){m=new g.qM;n=g.Jh.local().U(m,p,null);for(r=0;r<d;r++)if(b[r].getKind()==g.Pc.PE_HORIZON_POLY){a=b[r].getSize();f=b[r].getCoord();e=[];for(h=0;h<a;h++)e[h]=g.b.construct(f[h][0],f[h][1]);b[r].getInclusive();k&&(f=new g.Ga,f.dl(e,a-1),m.FZ(f),n.xe())}m=n.next()}else for(r=0;r<d;r++)if(b[r].getKind()==g.Pc.PE_HORIZON_POLY){a=
b[r].getSize();f=b[r].getCoord();k=[];for(h=0;h<a;h++)k[h]=g.b.construct(f[h][0],f[h][1]);b[r].getInclusive();m.dl(k,a-1)}c?g.ak.local().Pn(m,p,1):g.Cp.local().Pn(m,p,1);g.kj.local().Pn(m,p,1);null==this.Dl&&(this.Dl=m,this.qw=c,this.JH=q)}}}};l.prototype.Pv=function(){if(this.Gk)return this.qw;null==this.Dl&&this.cy();return this.qw};l.prototype.KL=function(){if(2==this.XH){var c=this.Ze.horizonPcsGenerate();if(null!=c){var a=c[0].getKind();c[0].getInclusive();var b=c[0].getNump(),d=!1;if(a==g.Pc.PE_HORIZON_RECT)c=
c[0].getCoord(),b=new g.g,b.H(c[0][0],c[0][1]),b.Nb(c[1][0],c[1][1]),c=new g.Ih(b);else{a=-1;for(d=0;d<b;d++)c[d].getKind()==g.Pc.PE_HORIZON_POLY&&(a=d);d=c[a].getSize()-1;c=c[a].getCoord();b=[];for(a=0;a<d;a++)b[a]=g.b.construct(c[a][0],c[a][1]);c=a=new g.Ga;a.dl(b,d);d=!0}this.xj().isDensificationNeeded()&&(b=1E5*this.Am(),c=g.im.local().U(c,b,null));d&&(d=new g.Ih,c.qn(d),c.Pe(),c.Pb(),c.DS(),g.ak.local().Pn(c,null,1));null==this.Ct&&(this.Ct=c)}}};l.prototype.sk=function(){if(this.Gk)return this.Ct;
var c=this.Ct;if(null!=c)return c;this.KL();return this.Ct};l.prototype.LL=function(){if(this.Ze.getType()==g.Pc.PE_TYPE_PROJCS){var c=90*this.Sd();c=[[0,c],[0,-c]];g.Kh.geogToProj(this.Ze,2,c);var a=this.xj(),b=a.getNorthPoleLocation()!=g.ng.PE_POLE_OUTSIDE_BOUNDARY;a=a.getSouthPoleLocation()!=g.ng.PE_POLE_OUTSIDE_BOUNDARY;this.bx||(b&&this.oB.ka(c[0][0],c[0][1]),a&&this.BB.ka(c[1][0],c[1][1]))}this.bx=!0};l.prototype.bA=function(c,a){this.Gk||this.bx||this.LL();c?a.K(this.BB):a.K(this.oB)};l.prototype.JL=
function(){if(1==this.XH){var c=400*this.Sd();this.Oq.H(-c,-c,c,c)}else c=g.ng.generate(this.Ze,g.ng.PE_PCSINFO_OPTION_DOMAIN),c=g.g.construct(c.getDomainMinx(),c.getDomainMiny(),c.getDomainMaxx(),c.getDomainMaxy()),this.Oq.u()&&this.Oq.H(c)};l.prototype.vS=function(c){this.Gk&&c.H(this.Oq);this.Oq.u()&&this.JL();c.H(this.Oq)};l.prototype.Cm=function(){return this.GI};l.prototype.Wh=function(){return this.MA};l.prototype.Ld=function(){return this.Yo};l.prototype.Ds=function(){return this.jI};return l}();
g.vD=u})(J||(J={}));(function(g){var u=function(){function l(c){this.cV=c;this.it=g.Ab.ew(c,0,!0);var a=c.getCode();this.$s=0<a?a:g.zf.getCode(c);0>this.$s&&(this.$s=0);this.Yo=a=this.cV.getUnit();this.xI=1/a.getUnitFactor();g.zf.getCode(c)}l.vz=function(c,a){return c==a?!0:null!=c&&null!=a&&0==c.$s&&0==a.$s?c.it===a.it:!1};l.prototype.Gs=function(){return this.$s};return l}();g.XM=u})(J||(J={}));(function(g){g.gh=function(){function u(){}u.vb=function(l,c,a,b,d,e,f,h){if(null!=e||null!=f||null!=
h){b=g.C.ba(b);c=g.C.ba(c);a=g.C.ba(a);d=g.C.ba(d);1.570796326794897<g.l.J(a)&&(a=g.l.ub(3.141592653589793,a)-a,c=g.C.ba(c+3.141592653589793));1.570796326794897<g.l.J(d)&&(d=g.l.ub(3.141592653589793,d)-d,b=g.C.ba(b+3.141592653589793));var k=g.C.ba(b-c);if(g.l.V(a,d)&&(g.l.V(c,b)||g.l.V(g.l.J(a),1.570796326794897)))null!=e&&(e.j=0),null!=f&&(f.j=0),null!=h&&(h.j=0);else{if(g.l.V(a,-d)){if(g.l.V(g.l.J(a),1.570796326794897)){null!=e&&(e.j=3.141592653589793*l);null!=f&&(f.j=0<a?g.C.ba(3.141592653589793-
g.C.ba(b)):g.C.ba(b));null!=h&&(h.j=0<a?g.C.ba(b):g.C.ba(3.141592653589793-g.C.ba(b)));return}if(g.l.V(g.l.J(k),3.141592653589793)){null!=e&&(e.j=3.141592653589793*l);null!=f&&(f.j=0);null!=h&&(h.j=0);return}}var m=1.570796326794897==g.l.J(a)?0:Math.cos(a),n=Math.sin(a),p=1.570796326794897==g.l.J(d)?0:Math.cos(d),q=Math.sin(d),r=1.570796326794897==g.l.J(k)?0:Math.cos(k),t=3.141592653589793==g.l.J(k)?0:Math.sin(k);if(null!=e){var v=Math.sin((d-a)/2);k=Math.sin(k/2);e.j=2*Math.asin(Math.sqrt(v*v+m*
p*k*k))*l}null!=f&&(f.j=g.l.V(g.l.J(a),1.570796326794897)?0>a?b:g.C.ba(3.141592653589793-b):Math.atan2(p*t,m*q-n*p*r));null!=h&&(g.l.V(g.l.J(d),1.570796326794897)?h.j=0>d?c:g.C.ba(3.141592653589793-c):(h.j=Math.atan2(m*t,q*m*r-p*n),h.j=g.C.ba(h.j+3.141592653589793)))}}};u.Bf=function(l,c,a,b,d,e,f){if(null!=e||null!=f){c=g.C.ba(c);a=g.C.ba(a);1.570796326794897<g.l.J(a)&&(a=g.l.ub(3.141592653589793,a)-a,c=g.C.ba(c+3.141592653589793));g.l.V(g.l.J(a),1.570796326794897)&&(c=0);d=g.C.ba(d);var h=g.l.V(g.l.J(d),
1.570796326794897)?0:Math.cos(d),k=g.l.V(g.l.J(d),3.141592653589793)?0:Math.sin(d),m=g.l.V(g.l.J(a),1.570796326794897)?0:Math.cos(a),n=Math.sin(a);l=b/l;b=g.l.V(g.l.J(l),1.570796326794897)?0:Math.cos(l);var p=g.l.V(g.l.J(l),3.141592653589793)?0:Math.sin(l),q=Math.asin(n*b+m*p*h);null!=f&&(f.j=q);null!=e&&(e.j=g.l.V(g.l.J(q),1.570796326794897)?g.l.V(a,-q)?0>q?d:g.C.ba(3.141592653589793-d):c:g.l.V(g.l.J(a),1.570796326794897)&&g.l.V(l,3.141592653589793)?0>a?d:g.C.ba(3.141592653589793-d):g.C.ba(c+Math.atan2(p*
k,m*b-n*p*h)))}};return u}()})(J||(J={}));(function(g){g.$k=function(){function u(){}u.vb=function(l,c,a,b,d,e,f,h,k){var m=new g.da(0),n=new g.da(0),p=[0,0,0],q=[0,0,0],r=[0,0,0],t=new g.da(0),v=new g.da(0),E=new g.da(0),O=new g.da(0),M=new g.da(0);if(null!=f||null!=h||null!=k)if(g.l.Ai(c))g.gh.vb(l,a,b,d,e,f,h,k);else{d=g.C.ba(d);a=g.C.ba(a);var S=g.C.ba(d-a);if(g.l.V(b,e)&&(g.l.V(a,d)||g.l.V(g.l.J(b),1.570796326794897)))null!=f&&(f.j=0),null!=h&&(h.j=0),null!=k&&(k.j=0);else{if(g.l.V(b,-e)){if(g.l.V(g.l.J(b),
1.570796326794897)){null!=f&&(f.j=2*g.C.Hg(l,c));null!=h&&(h.j=0<b?g.C.ba(3.141592653589793-g.C.ba(d)):g.C.ba(d));null!=k&&(k.j=0<b?g.C.ba(d):g.C.ba(3.141592653589793-g.C.ba(d)));return}g.l.V(g.l.J(S),3.141592653589793)&&(null!=f&&(f.j=2*g.C.Hg(l,c)),null!=h&&(h.j=0),null!=k&&(k.j=0))}else if(g.l.V(g.l.J(b),1.570796326794897)||g.l.V(g.l.J(e),1.570796326794897))g.l.V(g.l.J(b),1.570796326794897)?a=d:d=a;var da=0;if(0>S){da=1;var ca=a;a=d;d=ca;ca=b;b=e;e=ca}S=g.C.Xt(c,b);var fa=g.C.Xt(c,e);if(null!=
h||null!=k)g.gh.vb(l,a,S,d,fa,null,m,n),m=Math.atan2(Math.sin(m.j)*Math.cos(b-S),Math.cos(m.j)),n=Math.atan2(Math.sin(n.j)*Math.cos(e-fa),Math.cos(n.j)),0!=da&&(ca=m,m=n,n=ca),null!=h&&(h.j=m),null!=k&&(k.j=n);null!=f&&(g.C.hk(1,c,b,a,0,E,O,M),p[0]=E.j,p[1]=O.j,p[2]=M.j,g.C.hk(1,c,e,d,0,E,O,M),q[0]=E.j,q[1]=O.j,q[2]=M.j,r[0]=p[1]*q[2]-q[1]*p[2],r[1]=-(p[0]*q[2]-q[0]*p[2]),r[2]=p[0]*q[1]-q[0]*p[1],c=1-g.C.gm(c,g.C.nr(c,g.C.Rj(c,Math.acos(r[2]/Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]))))),c*=2-c,h=Math.atan2(-r[1],
-r[0]),r=g.C.ba(h-1.570796326794897),h=g.C.ba(h+1.570796326794897),r=g.l.J(g.C.ba(a-r))<=g.l.J(g.C.ba(a-h))?r:h,g.gh.vb(1,r,0,a,S,t,null,null),g.gh.vb(1,r,0,d,fa,v,null,null),3.141592653589793<t.j+v.j&&(r=g.C.ba(r+3.141592653589793),g.gh.vb(1,r,0,a,S,t,null,null),g.gh.vb(1,r,0,d,fa,v,null,null)),t.j*=g.l.ub(1,b),v.j*=g.l.ub(1,e),t.j=g.C.Rj(c,t.j),v.j=g.C.Rj(c,v.j),a=g.C.q(l,c,t.j),l=g.C.q(l,c,v.j),f.j=g.l.J(l-a))}}};u.Bf=function(l,c,a,b,d,e,f,h){var k=0,m=new g.da(0),n=new g.da(0),p=[0,0,0],q=[0,
0,0],r=new g.da(0),t=new g.da(0),v=new g.da(0);if(null!=f||null!=h)if(g.l.Ai(c))g.gh.Bf(l,a,b,d,e,f,h);else if(g.l.qd(d))null!=f&&(f.j=a),null!=h&&(h.j=b);else if(e=g.C.ba(e),0>d&&(d=g.l.J(d),e=g.C.ba(e+3.141592653589793)),a=g.C.ba(a),b=g.C.ba(b),1.570796326794897<g.l.J(b)&&(a=g.C.ba(a+3.141592653589793),b=g.l.ub(3.141592653589793,b)-b),g.l.V(g.l.J(b),1.570796326794897)&&(a=0),g.l.qd(b)){var E=g.l.J(1.570796326794897-g.l.J(e));E=g.C.Rj(c,E);E=1-g.C.gm(c,g.C.nr(c,E));E*=2-E;l=d/g.C.Hg(l,E)*1.570796326794897;
l=g.C.kr(E,l);l=g.C.Xt(E,l);g.gh.Bf(1,a,b,l,e,f,m);null!=h&&(k=m.j);null!=h&&(h.j=g.C.Rj(c,k))}else if(g.l.V(g.l.J(b),1.570796326794897))k=g.C.Hg(l,c),m=2*k,l=g.l.ub(1.570796326794897,b),e=0<l?g.C.ba(3.141592653589793-e):e,b=k-d,g.l.J(b)<=k?null!=f&&(f.j=e):(b=Math.floor(d/m),0==g.L.truncate(b%2)?(null!=f&&(f.j=e),d-=b*m):(null!=f&&(f.j=g.C.ba(e+3.141592653589793)),d=(b+1)*m-d),b=k-d),null!=h&&(h.j=g.C.kr(c,b/k*l));else{E=g.C.Xt(c,b);e=Math.atan2(Math.sin(e),Math.cos(e)*Math.cos(b-E));var O=g.L.truncate(g.l.ub(1,
E))*(1.570796326794897>=g.l.J(e)?1:-1);e=g.C.ba(a+Math.atan(Math.tan(e)*-Math.sin(E)));g.gh.vb(l,e,0,a,E,null,n,null);E=g.l.J(1.570796326794897-g.l.J(n.j));E=g.C.Rj(c,E);E=1-g.C.gm(c,g.C.nr(c,E));E*=2-E;g.C.hk(1,c,0,e,0,r,t,v);p[0]=r.j;p[1]=t.j;p[2]=v.j;g.C.hk(1,c,b,a,0,r,t,v);q[0]=r.j;q[1]=t.j;q[2]=v.j;b=Math.acos((p[0]*q[0]+p[1]*q[1]+p[2]*q[2])/Math.sqrt(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]));b=g.C.Rj(E,b);b=g.C.q(l,E,b)+d*O;d=0<b?n.j:g.C.ba(n.j+3.141592653589793);l=g.l.J(b)/g.C.Hg(l,E)*1.570796326794897;
l=g.C.kr(E,l);l=g.C.Xt(E,l);g.gh.Bf(1,e,0,l,d,f,m);null!=h&&(k=m.j);null!=h&&(h.j=g.C.Rj(c,k))}};return u}()})(J||(J={}));(function(g){g.Ku=function(){function u(){}u.vb=function(l,c,a,b,d,e,f,h,k){var m=0,n=0,p=0;if(null!=f||null!=h||null!=k)if(g.l.Ai(c))g.gh.vb(l,a,b,d,e,f,h,k);else{var q=g.C.ba(d-a);if(g.l.V(b,e)&&(g.l.qd(q)||g.l.V(g.l.J(b),1.570796326794897)))null!=f&&(f.j=0),null!=h&&(h.j=0),null!=k&&(k.j=0);else{if(g.l.V(b,-e)){if(g.l.V(g.l.J(b),1.570796326794897)){null!=f&&(f.j=2*g.C.Hg(l,
c));null!=h&&(h.j=0<b?g.C.ba(3.141592653589793-g.C.ba(d)):g.C.ba(d));null!=k&&(k.j=0<b?g.C.ba(d):g.C.ba(3.141592653589793-g.C.ba(d)));return}g.l.V(g.l.J(q),3.141592653589793)&&(null!=f&&(f.j=2*g.C.Hg(l,c)),null!=h&&(h.j=0),null!=k&&(k.j=0))}else{if(g.l.V(g.l.J(b),1.570796326794897)||g.l.V(g.l.J(e),1.570796326794897)){g.$k.vb(l,c,a,b,d,e,f,h,k);return}if(g.l.qd(q)||g.l.V(g.l.J(q),3.141592653589793)){g.$k.vb(l,c,a,b,d,e,f,h,k);return}}var r=1-Math.sqrt(1-c),t=c/(1-c),v=l*(1-r);l=g.C.nr(c,b);var E=g.C.nr(c,
e);c=1.570796326794897==g.l.J(l)?0:Math.cos(l);var O=Math.sin(l),M=1.570796326794897==g.l.J(E)?0:Math.cos(E),S=Math.sin(E),da=q,ca=Math.cos(da),fa=Math.sin(da),qa=1,ya=0;do{var Ia=da,Ga=Math.sqrt(Math.pow(M*fa,2)+Math.pow(c*S-O*M*ca,2)),Ma=O*S+c*M*ca,La=Math.atan2(Ga,Ma);if(0==Ga){qa=0;break}var Oa=c*M*fa/Ga;m=Math.cos(Math.asin(Oa));m*=m;n=Ma-2*O*S/m;1<g.l.J(n)&&(n=g.l.ub(1,n));p=n*n;da=r/16*m*(4+r*(4-3*m));da=q+(1-da)*r*Oa*(La+da*Ga*(n+da*Ma*(2*p-1)));ca=Math.cos(da);fa=Math.sin(da);ya++;if(3.141592653589793<
g.l.J(da)&&30<ya){qa=0;break}}while(5E3>=ya&&!g.l.V(Ia,da));if(0!=qa)t*=m,r=t*(256+t*(-128+t*(74-47*t)))/1024,null!=f&&(f.j=v*(1+t*(4096+t*(-768+t*(320-175*t)))/16384)*(La-r*Ga*(n+r/4*(Ma*(2*p-1)-r/6*n*(4*Ga*Ga-3)*(4*p-3))))),null!=h&&(h.j=g.l.V(g.l.J(b),1.570796326794897)?0>b?d:g.C.ba(3.141592653589793-d):Math.atan2(M*fa,c*S-O*M*ca)),null!=k&&(g.l.V(g.l.J(e),1.570796326794897)?k.j=0>e?a:g.C.ba(3.141592653589793-a):(k.j=Math.atan2(c*fa,c*S*ca-O*M),k.j=g.C.ba(k.j+3.141592653589793)));else{da=g.l.ub(3.141592653589793,
q);Ma=O*S-c*M;La=Math.acos(Ma);Ga=Math.sin(La);m=1;ya=Oa=0;do p=Oa,m*=m,ca=m*m,Oa=r*m*(1+r+r*r),n=r*r*ca*(1+2.25*r),qa=r*r*r*ca*m,ca=1-.25*Oa+.1875*n-.1953125*qa,Oa=.25*Oa-.25*n+.29296875*qa,fa=.03125*n-.05859375*qa,qa*=.00651041666666667,n=Ma-2*O*S/m,1<g.l.J(n)&&(n=g.l.ub(1,n)),m=Math.acos(n),Ma=Math.cos(2*m),Ia=Math.cos(3*m),Oa=g.l.V(b,-e)?g.C.ba(3.141592653589793-q)/(3.141592653589793*r*ca):g.C.ba(da-q)/(r*(ca*La+Oa*Ga*n+fa*Math.sin(2*La)*Ma+qa*Math.sin(3*La)*Ia)),fa=Oa*Ga/(c*M),da=1.570796326794897<
g.l.J(q)?g.l.ub(3.141592653589793,fa)-Math.asin(fa):Math.asin(fa),ca=Math.cos(da),Ga=Math.sqrt(Math.pow(M*fa,2)+Math.pow(c*S-O*M*ca,2)),La=3.141592653589793-Math.asin(g.l.J(Ga)),Ma=Math.cos(La),m=Math.cos(Math.asin(Oa)),ya++;while(70>=ya&&!g.l.V(p,Oa));null!=f&&(m*=m,t*=m,ca=1+t*(4096+t*(-768+t*(320-175*t)))/16384,g.l.V(b,-e)?f.j=3.141592653589793*v*ca:(n=Ma-2*O*S/m,m=Math.acos(n),Ma=Math.cos(2*m),Ia=Math.cos(3*m),f.j=v*(ca*La+t*(-512+t*(128+t*(-60+35*t)))/2048*Ga*n+t*(-4+5*t)/6144*t*t*Math.sin(2*
La)*Ma+qa*Math.sin(3*La)*Ia+-7.62939453125E-5*t*t*t*t*Math.sin(4*La)*Math.cos(4*m))));null!=h&&(g.l.qd(b)&&g.l.qd(e)?(m=Math.sqrt(1-Oa*Oa),h.j=Math.acos(m),0>q&&(h.j*=-1)):g.l.V(g.l.J(b),1.570796326794897)?h.j=0>b?d:g.C.ba(3.141592653589793-d):(f=Oa/c,v=Math.sqrt(1-f*f),0>c*S-O*M*Math.cos(da)&&(v*=-1),h.j=Math.atan2(f,v),g.l.V(b,-e)&&g.l.J(g.C.ba(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(0<b&&1.570796326794897>g.l.J(h.j)||0>b&&1.570796326794897<g.l.J(h.j))&&(h.j=g.l.ub(3.141592653589793,h.j)-h.j)));
if(null!=k)if(g.l.qd(b)&&g.l.qd(e))m=Math.sqrt(1-Oa*Oa),k.j=Math.acos(m),0<=q&&(k.j*=-1);else if(g.l.V(g.l.J(e),1.570796326794897))k.j=0>e?a:g.C.ba(3.141592653589793-a);else if(q=Oa/M,f=Math.sqrt(1-q*q),v=Math.sin(da/2),0>Math.sin(E-l)-2*c*S*v*v&&(f*=-1),k.j=Math.atan2(q,f),k.j=g.C.ba(k.j+3.141592653589793),g.l.V(b,-e)&&!g.l.qd(b)&&!g.l.V(g.l.J(b),1.570796326794897)&&g.l.J(g.C.ba(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(null!=h?v=h.j:(f=Oa/c,v=Math.sqrt(1-f*f),0>c*S-O*M*Math.cos(da)&&(v*=-1),v=
Math.atan2(f,v),g.l.V(b,-e)&&g.l.J(g.C.ba(a-d))>3.141592653589793*(1-r*Math.cos(b))&&(0<b&&1.570796326794897>g.l.J(v)||0>b&&1.570796326794897<g.l.J(v))&&(v=g.l.ub(3.141592653589793,v)-v)),1.570796326794897>=g.l.J(v)&&1.570796326794897<g.l.J(k.j)||1.570796326794897<=g.l.J(v)&&1.570796326794897>g.l.J(k.j)))k.j=-1*g.C.ba(k.j+3.141592653589793)}}}};u.Bf=function(l,c,a,b,d,e,f,h){if(null!=f||null!=h)if(g.l.Ai(c))g.gh.Bf(l,a,b,d,e,f,h);else if(e=g.C.ba(e),g.l.V(g.l.J(b),1.570796326794897)||g.l.qd(e)||g.l.V(g.l.J(e),
3.141592653589793))g.$k.Bf(l,c,a,b,d,e,f,h);else{var k=1.570796326794897==g.l.J(e)?0:Math.cos(e),m=3.141592653589793==g.l.J(e)?0:Math.sin(e);g.l.V(g.l.J(b),1.570796326794897)&&(a=0);e=1-Math.sqrt(1-c);var n=g.C.nr(c,b);b=1.570796326794897==g.l.J(n)?0:Math.cos(n);var p=Math.sin(n);n=Math.atan2(Math.tan(n),k);var q=b*m,r=q*q,t=1-r,v=c/(1-c)*t;c=v*(256+v*(-128+v*(74-47*v)))/1024;var E=c/4,O=c/6,M=d/(l*(1-e)*(1+v*(4096+v*(-768+v*(320-175*v)))/16384)),S=M;do{var da=S;d=1.570796326794897==g.l.J(S)?0:Math.cos(S);
v=3.141592653589793==g.l.J(S)?0:Math.sin(S);var ca=v*v;l=Math.cos(2*n+S);S=l*l;S=c*v*(l+E*(d*(2*S-1)-O*l*(4*ca-3)*(4*S-3)))+M}while(!g.l.V(da,S));d=1.570796326794897==g.l.J(S)?0:Math.cos(S);v=3.141592653589793==g.l.J(S)?0:Math.sin(S);null!=f&&(m=Math.atan2(v*m,b*d-p*v*k),t=e/16*t*(4+e*(4-3*t)),l=Math.cos(2*n+S),f.j=g.C.ba(a+(m-(1-t)*e*q*(S+t*v*(l+t*d*(2*l*l-1))))));null!=h&&(t=p*v-b*d*k,t=(1-e)*Math.sqrt(r+t*t),h.j=Math.atan2(p*d+b*v*k,t))}};return u}()})(J||(J={}));(function(g){g.wD=function(){function u(){}
u.vb=function(l,c,a,b,d,e,f,h,k){var m=g.C.ba(d-a),n=g.l.V(g.l.J(b),1.570796326794897),p=g.l.V(g.l.J(e),1.570796326794897);if(g.l.V(b,e)&&(g.l.qd(m)||n))null!=f&&(f.j=0),null!=h&&(h.j=0),null!=k&&(k.j=0);else{if(g.l.Ai(c)){var q=Math.sin(b),r=Math.sin(e);q=Math.sqrt((1+q)/(1-q));r=Math.sqrt((1+r)/(1-r));q=Math.log(r)-Math.log(q);q=Math.atan2(m,q);null!=f&&(f.j=g.l.V(b,e)?g.l.J(l*Math.cos(b)*m):g.l.J((l*e-l*b)/Math.cos(q)))}else r=g.C.wx(c,e),q=Math.sin(g.C.wx(c,b)),r=Math.sin(r),q=Math.sqrt((1+q)/
(1-q)),r=Math.sqrt((1+r)/(1-r)),q=Math.log(r)-Math.log(q),q=Math.atan2(m,q),null!=f&&(g.l.V(b,e)?f.j=g.l.J(l*m*Math.cos(b)/g.C.gm(c,b)):(m=g.C.q(l,c,b),l=g.C.q(l,c,e),f.j=g.l.J((l-m)/Math.cos(q))));if(null!=h||null!=k)f=g.C.ba(q+3.141592653589793),n&&p||!n&&!p||(n?q=0>b?d:g.C.ba(3.141592653589793-d):p&&(f=0>e?a:g.C.ba(3.141592653589793-a))),null!=h&&(h.j=q),null!=k&&(k.j=f)}};u.Bf=function(l,c,a,b,d,e,f,h){e=g.C.ba(e);0>d&&(d=g.l.J(d),e=g.C.ba(e+3.141592653589793));g.l.Ai(c)?g.l.V(g.l.J(b),1.570796326794897)?
(a=0>b?e:g.C.ba(3.141592653589793-e),e=d/l%6.283185307179586,3.141592653589793>=e?l=b-g.l.ub(e,b):(a=g.C.ba(a+3.141592653589793),l=-b+g.l.ub(e-3.141592653589793,b))):g.l.V(g.l.J(e),1.570796326794897)?(a=g.C.ba(a+g.l.ub(d,e)/(l*Math.cos(b))),l=b):(l=b+d*Math.cos(e)/l,1.570796326794897<g.l.J(l)&&(l=1.570796326794897),g.l.V(g.l.J(l),1.570796326794897)&&(g.l.qd(e)||g.l.V(g.l.J(e),3.141592653589793))||(1.570796316258184<g.l.J(l)&&(l=g.l.ub(1.570796316258184,l)),c=Math.sin(b),b=Math.sin(l),c=Math.sqrt((1+
c)/(1-c)),b=Math.sqrt((1+b)/(1-b)),c=Math.log(b)-Math.log(c),a=g.C.ba(a+Math.tan(e)*c))):g.l.V(g.l.J(b),1.570796326794897)?(a=0>b?e:g.C.ba(3.141592653589793-e),e=d/g.C.WX(l,c),e%=6.283185307179586,3.141592653589793>=e?l=b-g.l.ub(e,b):(a=g.C.ba(a+3.141592653589793),l=-b+g.l.ub(e-3.141592653589793,b)),l=g.C.kr(c,l)):g.l.V(g.l.J(e),1.570796326794897)?(a=g.C.ba(a+g.l.ub(d,e)*g.C.gm(c,b)/(l*Math.cos(b))),l=b):(l=1.570796326794897*(d*Math.cos(e)+g.C.q(l,c,b))/g.C.Hg(l,c),1.570796326794897<g.l.J(l)&&(l=
g.l.ub(1.570796326794897,l)),l=g.C.kr(c,l),g.l.V(g.l.J(l),1.570796326794897)&&(g.l.qd(e)||g.l.V(g.l.J(e),3.141592653589793))||(d=g.C.wx(c,b),b=g.C.wx(c,l),1.570796316258184<g.l.J(b)&&(b=g.l.ub(1.570796316258184,l),l=g.C.IP(c,b)),c=Math.sin(d),b=Math.sin(b),c=Math.sqrt((1+c)/(1-c)),b=Math.sqrt((1+b)/(1-b)),c=Math.log(b)-Math.log(c),a=g.C.ba(a+Math.tan(e)*c)));null!=f&&(f.j=a);null!=h&&(h.j=l)};return u}()})(J||(J={}));(function(g){g.gb=function(){function u(){}u.Cz=function(l,c,a,b,d,e,f){g.Ku.vb(l,
c,a,b,d,e,null,f,null)};u.Fi=function(l,c,a,b,d,e,f,h){g.Ku.Bf(l,c,a,b,d,e,f,h)};u.Ad=function(l,c,a,b,d,e,f,h,k,m){switch(m){case 2:g.$k.vb(l,c,a,b,d,e,f,h,k);break;case 3:g.xD.vb(l,c,a,b,d,e,f,h,k);break;case 1:g.wD.vb(l,c,a,b,d,e,f,h,k);break;default:g.Ku.vb(l,c,a,b,d,e,f,h,k)}};u.tj=function(l,c,a,b,d,e,f,h,k){switch(k){case 2:g.$k.Bf(l,c,a,b,d,e,f,h);break;case 3:g.xD.Bf(l,c,a,b,d,e,f,h);break;case 1:g.wD.Bf(l,c,a,b,d,e,f,h);break;default:g.Ku.Bf(l,c,a,b,d,e,f,h)}};return u}()})(J||(J={}));(function(g){var u=
function(){function c(){this.y=this.x=null}c.construct=function(a){var b=new c;b.x=new g.Wb;b.x.set(a.x);b.y=new g.Wb;b.y.set(a.y);return b};c.GF=function(a,b){var d=new c;d.x=new g.Wb;d.x.set(a);d.y=new g.Wb;d.y.set(b);return d};c.prototype.xg=function(){return this.x.xg()&&this.y.xg()};c.prototype.value=function(){return g.b.construct(this.x.value(),this.y.value())};return c}();g.b_=u;var l=function(){function c(){this.z=this.y=this.x=null}c.construct=function(a){var b=new c;b.x=new g.Wb;b.x.set(a.x);
b.y=new g.Wb;b.y.set(a.y);b.z=new g.Wb;b.z.set(a.z);return b};c.GF=function(a,b,d){var e=new c;e.x=new g.Wb;e.x.set(a);e.y=new g.Wb;e.y.set(b);e.z=new g.Wb;e.z.set(d);return e};c.prototype.xg=function(){return this.x.xg()&&this.y.xg()&&this.z.xg()};c.prototype.value=function(){return new g.Id(this.x.value(),this.y.value(),this.z.value())};c.prototype.Vh=function(a){var b=new g.Wb,d=new g.Wb,e=new g.Wb;b.Ul(this.x,a.x);d.Ul(this.y,a.y);e.Ul(this.z,a.z);a=new g.Wb;a.nO(b,d);a.add(e);return a};c.prototype.PF=
function(a){var b=new c;b.x.Ul(this.y,a.z);b.y.Ul(this.z,a.x);b.z.Ul(this.x,a.y);var d=new g.Wb,e=new g.Wb,f=new g.Wb;d.Ul(this.z,a.y);e.Ul(this.x,a.z);f.Ul(this.y,a.x);b.x.sub(d);b.y.sub(e);b.z.sub(f);return b};return c}();g.c_=l;g.ty=function(){function c(){}c.PQ=function(a,b,d){var e=b.x;b=b.y;c.hk(1,a,Math.cos(e),Math.sin(e),Math.cos(b),Math.sin(b),d)};c.OQ=function(a,b){var d=new g.Id;c.PQ(a,b,d);return d};c.Q_=function(a,b,d,e,f,h){var k=new g.Id;c.hk(a,b,d,e,f,h,k);return k};c.hk=function(a,
b,d,e,f,h,k){a/=Math.sqrt(1-b*h*h);k.H(a*f*d,a*f*e,a*(1-b)*h)};c.Fv=function(a,b){var d=new g.Wb,e=new g.Wb,f=new g.Wb,h=new g.Wb;d.cos(b.x);e.sin(b.x);f.cos(b.y);h.sin(b.y);var k=new g.Wb;k.set(h);k.Gg(h);k.ep(a);k.ep(-1);k.uO();k.sqrt();b=new g.Wb;b.set(1);b.um(k);k=new g.Wb;k.set(b);k.Gg(f);k.Gg(d);d=new g.Wb;d.set(b);d.Gg(f);d.Gg(e);e=new g.Wb;e.set(b);e.ep(1-a);e.Gg(h);return l.GF(k,d,e)};c.tP=function(a,b,d){var e=b.x,f=b.y;d.ka(Math.atan2(f,e),Math.atan2(b.z,(1-a)*Math.sqrt(e*e+f*f)))};c.F_=
function(a,b,d){a=new g.b;c.tP(b,d,a);return a};c.lU=function(a,b,d,e){if(Math.abs(b.x-d.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(d.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(d.y)==.5*Math.PI)&&b.x!=d.x)return NaN;e=c.NB(e,Math.min(b.x,d.x),Math.max(b.x,d.x));if(!(new g.uc(b.x,d.x)).contains(e))return NaN;var f=u.construct(b);d=u.construct(d);f=c.Fv(a,f);d=c.Fv(a,d);d=f.PF(d);if(d.z.xg())return b=b.y;var h=new g.Wb;h.set(d.x);h.um(d.z);h.ep(-1);var k=new g.Wb;k.set(d.y);k.um(d.z);k.ep(-1);
var m=new g.Wb;m.set(k);m.Gg(k);f=new g.Wb;f.set(h);f.Gg(h);f.add(m);f.sqrt();if(f.xg()||h.xg()&&k.xg())return b=b.y;b=Math.atan2(k.value(),h.value());b=Math.atan2(f.value()*Math.cos(b-e),1-a);e=c.OQ(a,g.b.construct(e,b));a=new g.Id(e.x,e.y,-e.z);e=d.value().Vh(e);a=d.value().Vh(a);Math.abs(a)<Math.abs(e)&&(b=-b);return b};c.vA=function(a,b,d,e,f){f[0]=NaN;f[1]=NaN;if(Math.abs(b.x-d.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(d.y)>.5*Math.PI||(Math.abs(b.y)==.5*Math.PI||Math.abs(d.y)==.5*Math.PI)&&
b.x!=d.x||Math.abs(e)>=.5*Math.PI||0<b.y&&0<d.y&&b.y>e&&d.y>e||0>b.y&&0>d.y&&b.y<e&&d.y<e)return 0;var h=u.construct(b),k=u.construct(d);h=c.Fv(a,h);k=c.Fv(a,k);var m=h.PF(k);if(m.z.xg())return(new g.uc(b.y,d.y)).contains(e)?(f[0]=b.x,1):0;k=new g.Wb;k.set(m.x);k.um(m.z);k.ep(-1);h=new g.Wb;h.set(m.y);h.um(m.z);h.ep(-1);m=new g.Wb;m.set(h);m.Gg(h);var n=new g.Wb;n.set(k);n.Gg(k);n.add(m);n.sqrt();if(n.xg()||k.xg()&&h.xg())return 0==e?(f[0]=b.x,f[1]=d.x,2):0;a=(1-a)*Math.tan(e)/n.value();if(1<Math.abs(a))return 0;
a=Math.acos(a);m=Math.atan2(h.value(),k.value());k=Math.min(b.x,d.x);h=Math.max(b.x,d.x);d=c.NB(m-a,k,h);a=0!=e?c.NB(m+a,k,h):d;e=0;k<=d&&d<=h&&(f[e]=d,e++);a!=d&&k<=a&&a<=h&&(f[e]=a,e++,2==e&&Math.abs(f[0]-b.x)>Math.abs(f[1]-b.x)&&(b=f[0],f[0]=f[1],f[1]=b));return e};c.NB=function(a,b,d){a>d?(b=Math.ceil((a-d)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};c.EA=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,
b[0]=-Math.PI-b[0])};return c}()})(J||(J={}));(function(g){g.fM=function(){function u(){}u.GZ=function(l,c){var a=[0,0,0,0],b=new g.b;b.K(c);b.scale(9102==g.ab.hc(l).Ld().xc()?1:g.ab.hc(l).Ld().gi/3.141592653589793*180);-180>b.x?(b.x-=b.x%360,-180>b.x&&(b.x+=360)):180<b.x&&(b.x-=b.x%360,180<b.x&&(b.x-=360));90<b.y&&(b.y=90);-90>b.y&&(b.y=-90);l=40;c=(l+31)/32;for(var d=-180,e=180,f=l-1,h=c-1;0<=h;h--)for(var k=f-32*h,m=Math.min(32,l-32*h),n=1;n<m;n+=2){var p=.5*(e+d);b.x>=p?(a[h]|=1<<k,d=p):e=p;k-=
2;f-=2}d=-90;e=90;f=l-2;for(h=c-1;0<=h;h--)for(k=f-32*h,m=Math.min(32,l-32*h),n=0;n<m;n+=2)p=.5*(e+d),b.y>=p?(a[h]|=1<<k,d=p):e=p,k-=2,f-=2;return u.kR(a,8,8)};u.kR=function(l,c,a){for(var b=[],d=0;d<c;d++)b[d]="";for(var e=d=0,f=0;f<c;f++){var h=l[d]>>e&31;e+=5;if(31<e){var k=37-e;h&=(1<<k)-1;e-=32;d++;h|=(l[d]&(1<<e)-1)<<k}b[c-1-f]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[h]}if(a>c)for(f=0;f<a-c;f++)b.push("0");else a<c&&(b.length=a);return b.join("")};return u}()})(J||(J={}));(function(g){var u=
{gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,
22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,
43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,
8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,
8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,
106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,
9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,
147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,
168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,
102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,
102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,
102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,
102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,
2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,
3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,
3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,
4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,
4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,
102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,
6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,
6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,
6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,
6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,
6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,
6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,
6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,
6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,
6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,
103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,
103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,
103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,
9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,
29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,
11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,
3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,
3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,
5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,
5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,
5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,
7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,
7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,
11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,
5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,
29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,
102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,
10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,
10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,
5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,
10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,
2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,
10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,
5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],
[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,
22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,
5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],
[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,
102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,
10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],
[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,
103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,
99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,
63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,
75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,
75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,
84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,
75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,
67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,
15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,
19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,
104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,
144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,
37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},l={c:[[2E3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,
9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,
3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],
[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,
9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,
5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],
[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,
9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,
23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],
[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,
9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,
102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,
102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,
103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,
103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,
2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,
9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,
3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,
9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,
3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,
9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,
5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,
9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,
6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,
9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,
6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,
9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,
6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,
9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,
7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,
9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,
7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,
9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,
8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,
9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,
8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,
9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,
9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,
9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,
9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,
102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,
103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,
103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,
103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,
104138,9102,104139,9105,104140,9105,104808,9102]};g.Vr=function(){function c(){}c.yz=function(a){!1===c.Rp&&c.ju();var b=c.RR(a);if(-1==b){var d=c.gy(a);d!=a&&(b=c.yz(d))}-1==b&&(d=c.OL(a),d!=a&&(b=c.yz(d)));return b};c.RR=function(a){return void 0!==c.lx[a]?c.lx[a]:-1};c.OR=function(a){!1===c.Rp&&c.ju();var b=c.aG(a);if(1E38==b){var d=c.gy(a);d!=a&&(b=c.aG(d));if(1E38==b)return 1E-10}return b};c.sU=function(a){if(void 0!==c.qt[a])return!0;var b=c.gy(a);return b!=a&&void 0!==c.qt[b]?!0:!1};c.vU=function(a){if(void 0!==
c.Qo[a])return!0;var b=c.gy(a);return b!=a&&void 0!==c.Qo[b]?!0:!1};c.aG=function(a){!1===c.Rp&&c.ju();return void 0!==c.qt[a]?c.qt[a]:void 0!==c.Qo[a]?c.Qo[a]:1E38};c.OL=function(a){!1===c.Rp&&c.ju();return void 0!==c.GB[a]?c.GB[a]:a};c.gy=function(a){!1===c.Rp&&c.ju();return void 0!==c.HB[a]?c.HB[a]:a};c.ju=function(){for(var a=u,b,d=0;d<a.pcsid.length;d+=2)c.Qo[a.pcsid[d]]=a.pcstol[2*a.pcsid[d+1]+1];for(d=0;d<a.pcsidc.length;d+=1){b=a.pcsidc[d];for(var e=b[0];e<=b[1];e++)c.Qo[e]=a.pcstol[2*b[2]+
1]}for(d=0;d<a.gcsid.length;d+=2)c.qt[a.gcsid[d]]=a.gcstol[2*a.gcsid[d+1]+1];for(d=0;d<a.gcsidc.length;d+=1)for(b=a.gcsidc[d],e=b[0];e<=b[1];e++)c.Qo[e]=a.gcstol[2*b[2]+1];for(d=0;d<l.c.length;d+=1)for(b=l.c[d],e=b[0];e<=b[1];e++)c.lx[e]=b[2];for(d=0;d<l.nc.length;d+=2)c.lx[l.nc[d]]=l.nc[d+1];l=null;for(d=0;d<a.newtoold.length;d+=2)c.GB[a.newtoold[d+1]]=a.newtoold[d],c.HB[a.newtoold[d]]=a.newtoold[d+1];u=null;c.Rp=!0};c.Rp=!1;c.qt=[];c.Qo=[];c.GB=[];c.HB=[];c.lx=[];return c}()})(J||(J={}));(function(g){function u(c){return 0===
c.length?'""':'"'==c[0]||"."==c[0]||"0"<=c[0]&&"9">=c[0]?c:'"'+c.trim()+'"'}var l=[];g.FD=function(){function c(){}c.QR=function(a){try{for(var b=0;b<l.length;b++)if(l[b].wkttext===a)return l[b].unit;for(var d,e=b="",f=!1,h=0;h<a.length;h++){var k=a[h];!0===f?'"'==k?'"'==a[h+1]?b+=k:f=f=!1:b+=k:/[\s]/.test(k)||(","==k?(e=""!==b?e+(u(b)+","):e+",",b=""):")"==k||"]"==k?(e=""!==b?e+(u(b)+"]}"):e+"]}",b=""):"("==k||"["==k?(e+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==k?(f=!0,b=
""):b+=k)}d=JSON.parse(e);var m=c.$F(d);if(null===m)return null;d=null;for(k=0;k<m.values.length;k++)if("object"===typeof m.values[k]&&"UNIT"===m.values[k].entity){d=m.values[k];break}if(null===d)return null;var n=g.Uc.iQ("GEOGCS"===m.entity?1:0,d.values[1],d.values[2]);l.push({wkttext:a,unit:n});10<l.length&&l.shift();return n}catch(p){return null}};c.$F=function(a){if(null===a)return null;if("GEOGCS"===a.entity||"PROJCS"===a.entity)return a;for(var b=[],d=0;d<a.values.length;d++)if("object"===typeof a.values[d]&&
void 0!==a.values[d].entity){if("GEOGCS"===a.values[d].entity||"PROJCS"==a.values[d].entity)return a.values[d];b.push(a.values[d])}for(a=0;a<b.length;a++)if(d=c.$F(b[a]),null!==d)return d;return null};c.PR=function(a){var b=-1;if(null!=a&&0<a.length){var d=a.indexOf("PROJCS");if(0<=d){var e=0;d=a.lastIndexOf("UNIT");if(0<=d&&(d=a.indexOf(",",d+4),0<d)){d++;var f=a.indexOf("]",d+1);if(0<f)try{e=parseFloat(a.substring(d,f))}catch(k){e=0}}0<e&&(b=.001/e)}else if(d=a.indexOf("GEOGCS"),0<=d){var h=0;e=
0;d=a.indexOf("SPHEROID",d+6);if(0<d&&(d=a.indexOf(",",d+8),0<d)){d++;f=a.indexOf(",",d+1);if(0<f)try{h=parseFloat(a.substring(d,f))}catch(k){h=0}if(0<h&&(d=a.indexOf("UNIT",f+1),0<=d&&(d=a.indexOf(",",d+4),0<d&&(d++,f=a.indexOf("]",d+1),0<f))))try{e=parseFloat(a.substring(d,f))}catch(k){e=0}}0<h&&0<e&&(b=.001/(h*e))}}return b};return c}()})(J||(J={}));(function(g){(function(l){l[l.NONE=0]="NONE";l[l.LINEAR=1]="LINEAR";l[l.ANGULAR=2]="ANGULAR"})(g.oM||(g.oM={}));(function(l){l[l.enumFloat=0]="enumFloat";
l[l.enumDouble=1]="enumDouble";l[l.enumInt32=2]="enumInt32";l[l.enumInt64=3]="enumInt64";l[l.enumInt8=4]="enumInt8";l[l.enumInt16=5]="enumInt16"})(g.YM||(g.YM={}));(function(l){l[l.POSITION=0]="POSITION";l[l.Z=1]="Z";l[l.M=2]="M";l[l.ID=3]="ID";l[l.NORMAL=4]="NORMAL";l[l.TEXTURE1D=5]="TEXTURE1D";l[l.TEXTURE2D=6]="TEXTURE2D";l[l.TEXTURE3D=7]="TEXTURE3D";l[l.ID2=8]="ID2";l[l.MAXSEMANTICS=10]="MAXSEMANTICS"})(g.Mh||(g.Mh={}));var u=function(){function l(c,a){this.Dt=this.Ge=null;this.gr=this.Ca=0;this.Bh=
this.hg=null;this.Fl=0;if(void 0!==a){this.Ca=a.Ca;this.gr=a.gr;this.hg=a.hg.slice(0);this.Bh=a.Bh.slice(0);this.Fl=a.Fl;this.Dt=[];for(c=a=0;c<this.Ca;c++)this.Dt[c]=a,a+=l.Sa(this.hg[c]);this.gr=a;this.Ge=[];for(c=0;c<this.Ca;c++){a=l.Sa(this.kd(c));for(var b=l.me(this.kd(c)),d=0;d<a;d++)this.Ge[this.Dt[c]+d]=b}}else this.gr=this.Ca=0}l.prototype.kd=function(c){if(0>c||c>this.Ca)throw g.f.I();return this.hg[c]};l.prototype.Yf=function(c){return this.Bh[c]};l.Uz=function(c){return l.RN[c]};l.sl=
function(c){return l.$N[c]};l.aT=function(c){return l.aO[c]};l.a0=function(c){return l.aT(l.sl(c))*l.Sa(c)};l.Sa=function(c){return l.zN[c]};l.tU=function(c){return 2>c};l.k0=function(c){return l.tU(l.sl(c))};l.prototype.hasAttribute=function(c){return 0<=this.Bh[c]};l.prototype.VG=function(){return this.hasAttribute(1)};l.me=function(c){return l.OD[c]};l.prototype.bT=function(c){return this.Dt[c]};l.pH=function(c,a){return l.OD[c]===a};l.$_=function(c){if(4==c)return 2;if(8==c)return 3;throw g.f.I();
};l.prototype.Ib=function(c){return this===c};l.prototype.Un=function(){for(var c=g.L.Zh(this.hg[0]),a=1;a<this.Ca;a++)c=g.L.Zh(this.hg[a],c);return c};l.prototype.dk=function(c){return this.Dt[c]};l.prototype.fc=function(){return this.Fl};l.prototype.Jd=function(c){return this.hg[c]};l.OD=[0,0,NaN,0,0,0,0,0,0];l.RN=[1,1,1,0,2,1,1,1,0];l.$N=[1,1,1,2,0,0,0,0,2];l.aO=[4,8,4,8,1,2];l.zN=[2,1,1,1,3,1,2,3,2];return l}();g.oa=u})(J||(J={}));(function(g){function u(f,h,k){var m=h-(f=new e(f)).e,n=f.Vc;n.length>
++h&&l(f,m,e.Lu);for(n[0]?k?m=h:(n=f.Vc,m=f.e+m+1):++m;n.length<m;n.push(0));m=f.e;return 1===k||k&&(h<=m||m<=a)?(0>f.Fd&&n[0]?"-":"")+(1<n.length?n[0]+"."+n.join("").slice(1):n[0])+(0>m?"e":"e+")+m:f.toString()}function l(f,h,k,m){var n=f.Vc,p=f.e+h+1;1===k?m=5<=n[p]:2===k?m=5<n[p]||5==n[p]&&(m||0>p||void 0!==n[p+1]||n[p-1]&1):3===k?m=m||void 0!==n[p]||0>p:(m=!1,0!==k&&c("!Big.RM!"));if(1>p||!n[0])m?(f.e=-h,f.Vc=[1]):f.Vc=[f.e=0];else{n.length=p--;if(m)for(;9<++n[p];)n[p]=0,p--||(++f.e,n.unshift(1));
for(p=n.length;!n[--p];n.pop());}return f}function c(f){f=Error(f);f.name="BigError";throw f;}var a=-7,b=21,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,e=function(){function f(h){if(h instanceof f)this.Fd=h.Fd,this.e=h.e,this.Vc=h.Vc.slice();else{var k,m,n;0===h&&0>1/h?h="-0":d.test(h+="")||c(NaN);this.Fd="-"==h.charAt(0)?(h=h.slice(1),-1):1;-1<(k=h.indexOf("."))&&(h=h.replace(".",""));0<(m=h.search(/e/i))?(0>k&&(k=m),k+=+h.slice(m+1),h=h.substring(0,m)):0>k&&(k=h.length);for(m=0;"0"==h.charAt(m);m++);
if(m==(n=h.length))this.Vc=[this.e=0];else{for(;"0"==h.charAt(--n););this.e=k-m-1;this.Vc=[];for(k=0;m<=n;this.Vc[k++]=+h.charAt(m++));}}}f.prototype.abs=function(){var h=new f(this);h.Fd=1;return h};f.prototype.cmp=function(h){var k=this.Vc,m=(h=new f(h)).Vc,n=this.Fd,p=h.Fd,q=this.e,r=h.e;if(!k[0]||!m[0])return k[0]?n:m[0]?-p:0;if(n!=p)return n;h=0>n;if(q!=r)return q>(r^h)?1:-1;n=-1;for(p=(q=k.length)<(r=m.length)?q:r;++n<p;)if(k[n]!=m[n])return k[n]>(m[n]^h)?1:-1;return q==r?0:q>(r^h)?1:-1};f.prototype.um=
function(h){var k=this.Vc,m=(h=new f(h)).Vc,n=this.Fd==h.Fd?1:-1,p=f.Pr;(p!==~~p||0>p||1E6<p)&&c("!Big.DP!");if(!k[0]||!m[0])return k[0]==m[0]&&c(NaN),m[0]||c(n/0),new f(0*n);var q,r,t=m.slice(),v=q=m.length,E=k.length,O=k.slice(0,q),M=O.length,S=h,da=S.Vc=[],ca=0,fa=p+(S.e=this.e-h.e)+1;S.Fd=n;n=0>fa?0:fa;for(t.unshift(0);M++<q;O.push(0));do{for(r=0;10>r;r++){if(q!=(M=O.length))var qa=q>M?1:-1;else{var ya=-1;for(qa=0;++ya<q;)if(m[ya]!=O[ya]){qa=m[ya]>O[ya]?1:-1;break}}if(0>qa){for(h=M==q?m:t;M;){if(O[--M]<
h[M]){for(ya=M;ya&&!O[--ya];O[ya]=9);--O[ya];O[M]+=10}O[M]-=h[M]}for(;!O[0];O.shift());}else break}da[ca++]=qa?r:++r;O[0]&&qa?O[M]=k[v]||0:O=[k[v]]}while((v++<E||void 0!==O[0])&&n--);da[0]||1==ca||(da.shift(),S.e--);ca>fa&&l(S,p,f.Lu,void 0!==O[0]);return S};f.prototype.AT=function(){return 0<this.cmp(0)};f.prototype.JU=function(){return 0>this.cmp(0)};f.prototype.St=function(h){var k,m=this.Fd,n=(h=new f(h)).Fd;if(m!=n)return h.Fd=-n,this.kJ(h);var p=this.Vc.slice(),q=this.e,r=h.Vc,t=h.e;if(!p[0]||
!r[0])return r[0]?(h.Fd=-n,h):new f(p[0]?this:0);if(m=q-t){(k=0>m)?(m=-m,q=p):(t=q,q=r);q.reverse();for(n=m;n--;q.push(0));q.reverse()}else for(q=((k=p.length<r.length)?p:r).length,m=n=0;n<q;n++)if(p[n]!=r[n]){k=p[n]<r[n];break}k&&(q=p,p=r,r=q,h.Fd=-h.Fd);if(0<(n=(q=r.length)-(k=p.length)))for(;n--;p[k++]=0);for(n=k;q>m;){if(p[--q]<r[q]){for(k=q;k&&!p[--k];p[k]=9);--p[k];p[q]+=10}p[q]-=r[q]}for(;0==p[--n];p.pop());for(;0==p[0];)p.shift(),--t;p[0]||(h.Fd=1,p=[t=0]);h.Vc=p;h.e=t;return h};f.prototype.kJ=
function(h){var k=this.Fd,m=(h=new f(h)).Fd;if(k!=m)return h.Fd=-m,this.St(h);m=this.e;var n=this.Vc,p=h.e,q=h.Vc;if(!n[0]||!q[0])return q[0]?h:new f(n[0]?this:0*k);n=n.slice();if(k=m-p){0<k?(p=m,m=q):(k=-k,m=n);for(m.reverse();k--;m.push(0));m.reverse()}0>n.length-q.length&&(m=q,q=n,n=m);k=q.length;for(m=0;k;)m=(n[--k]=n[k]+q[k]+m)/10|0,n[k]%=10;m&&(n.unshift(m),++p);for(k=n.length;0==n[--k];n.pop());h.Vc=n;h.e=p;return h};f.prototype.pow=function(h){var k=this,m=new f(1),n=m,p=0>h;(h!==~~h||-1E6>
h||1E6<h)&&c("!pow!");for(h=p?-h:h;;){h&1&&(n=n.Hr(k));h>>=1;if(!h)break;k=k.Hr(k)}return p?m.um(n):n};f.prototype.round=function(h,k){var m=this;null==h?h=0:(h!==~~h||0>h||1E6<h)&&c("!round!");l(m=new f(m),h,null==k?f.Lu:k);return m};f.prototype.sqrt=function(){var h=this.Vc,k=this.Fd,m=this.e,n=new f("0.5");if(!h[0])return new f(this);0>k&&c(NaN);k=Math.sqrt(this.toString());0==k||k==1/0?(k=h.join(""),k.length+m&1||(k+="0"),h=new f(Math.sqrt(k).toString()),h.e=((m+1)/2|0)-(0>m||m&1)):h=new f(k.toString());
k=h.e+(f.Pr+=4);do m=h,h=n.Hr(m.kJ(this.um(m)));while(m.Vc.slice(0,k).join("")!==h.Vc.slice(0,k).join(""));l(h,f.Pr-=4,f.Lu);return h};f.prototype.Hr=function(h){var k=this.Vc,m=(h=new f(h)).Vc,n=k.length,p=m.length,q=this.e,r=h.e;h.Fd=this.Fd==h.Fd?1:-1;if(!k[0]||!m[0])return new f(0*h.Fd);h.e=q+r;if(n<p){var t=k;k=m;m=t;r=n;n=p;p=r}for(t=Array(r=n+p);r--;t[r]=0);for(q=p;q--;){p=0;for(r=n+q;r>q;)p=t[r]+m[q]*k[r-q-1]+p,t[r--]=p%10,p=p/10|0;t[r]=(t[r]+p)%10}p&&++h.e;t[0]||t.shift();for(q=t.length;!t[--q];t.pop());
h.Vc=t;return h};f.prototype.toString=function(){var h=this.e,k=this.Vc.join(""),m=k.length;if(h<=a||h>=b)k=k.charAt(0)+(1<m?"."+k.slice(1):"")+(0>h?"e":"e+")+h;else if(0>h){for(;++h;k="0"+k);k="0."+k}else if(0<h)if(++h>m)for(h-=m;h--;k+="0");else h<m&&(k=k.slice(0,h)+"."+k.slice(h));else 1<m&&(k=k.charAt(0)+"."+k.slice(1));return 0>this.Fd&&this.Vc[0]?"-"+k:k};f.prototype.toExponential=function(h){null==h?h=this.Vc.length-1:(h!==~~h||0>h||1E6<h)&&c("!toExp!");return u(this,h,1)};f.prototype.toFixed=
function(h){var k=a,m=b;a=-(b=1/0);if(null==h)var n=this.toString();else h===~~h&&0<=h&&1E6>=h&&(n=u(this,this.e+h),0>this.Fd&&this.Vc[0]&&0>n.indexOf("-")&&(n="-"+n));a=k;b=m;n||c("!toFix!");return n};f.prototype.toPrecision=function(h){if(null==h)return this.toString();(h!==~~h||1>h||1E6<h)&&c("!toPre!");return u(this,h-1,2)};f.Pr=20;f.Lu=1;return f}();g.xp=e})(J||(J={}));(function(g){var u=function(){function l(c){this.vf=c}l.prototype.Lr=function(c,a,b){var d=new g.b,e=new g.b,f=this.vf;b.Zd(c,
a,function(h,k){f.mc(2*h,d);f.mc(2*k,e);return d.compare(e)})};l.prototype.sq=function(c){return this.vf.read(2*c+1)};return l}();g.yi=function(){function l(){}l.tq=function(c){if(c.u())return!1;var a=c.F();return 1736==a?0==c.Pe()?!1:!0:1607==a?(a=[!1],l.eF(c,!0,a),a[0]):197==a||g.R.Ic(a)&&!c.nH()?!0:!1};l.qm=function(c){var a=c.F();if(1736==a)return a=new g.Oa(c.description),c.u()||c.ND(a),a;if(1607==a)return l.eF(c,!1,null);if(197==a)return a=new g.Oa(c.description),c.u()||a.bd(c,!1),a;if(g.R.Ic(a)){a=
new g.Hd(c.description);if(!c.u()&&!c.nH()){var b=new g.Ra;c.jp(b);a.add(b);c.hp(b);a.add(b)}return a}if(g.R.lo(a))return null;throw g.f.I();};l.eF=function(c,a,b){null!=b&&(b[0]=!1);var d=null;a||(d=new g.Hd(c.description));if(!c.u()){var e=new g.ha(0);e.Db(2*c.$());for(var f=0,h=c.$();f<h;f++)if(0<c.Ha(f)&&!c.ho(f)){var k=c.ua(f);e.add(k);k=c.zc(f)-1;e.add(k)}if(0<e.size){h=new g.Eu;f=c.Va(0);h.sort(e,0,e.size,new u(f));h=new g.b;f.mc(2*e.get(0),h);k=0;for(var m=1,n=new g.Ra,p=new g.b,q=1,r=e.size;q<
r;q++)if(f.mc(2*e.get(q),p),p.qb(h))e.get(k)>e.get(q)?(e.set(k,2147483647),k=q):e.set(q,2147483647),m++;else{if(0==(m&1))e.set(k,2147483647);else if(a)return null!=b&&(b[0]=!0),null;h.K(p);k=q;m=1}if(0==(m&1))e.set(k,2147483647);else if(a)return null!=b&&(b[0]=!0),null;if(!a)for(e.Zd(0,e.size,function(t,v){return t-v}),q=0,r=e.size;q<r&&2147483647!=e.get(q);q++)c.ne(e.get(q),n),d.add(n)}}return a?null:d};return l}()})(J||(J={}));(function(g){var u=function(){function l(){this.Hf=new g.ha(0);this.gt=
new g.ha(0);this.uI=1;this.mt=NaN}l.prototype.sort=function(c,a,b,d){if(32>b-a)d.Lr(a,b,c);else{var e=!0;try{for(var f=Infinity,h=-Infinity,k=a;k<b;k++){var m=d.sq(c.get(k));m<f&&(f=m);m>h&&(h=m)}if(this.reset(b-a,f,h,b-a)){for(k=a;k<b;k++){var n=c.get(k);m=d.sq(n);var p=this.mG(m);this.Hf.set(p,this.Hf.get(p)+1);this.gt.write(k-a,n)}var q=this.Hf.get(0);this.Hf.set(0,0);k=1;for(var r=this.Hf.size;k<r;k++){var t=this.Hf.get(k);this.Hf.set(k,q);q+=t}for(k=a;k<b;k++){n=this.gt.read(k-a);m=d.sq(n);p=
this.mG(m);var v=this.Hf.get(p);c.set(v+a,n);this.Hf.set(p,v+1)}e=!1}}catch(E){this.Hf.resize(0),this.gt.resize(0)}if(e)d.Lr(a,b,c);else{k=b=0;for(r=this.Hf.size;k<r;k++)e=b,b=this.Hf.get(k),b>e&&d.Lr(a+e,a+b,c);100<this.Hf.size&&(this.Hf.resize(0),this.gt.resize(0))}}};l.prototype.reset=function(c,a,b,d){if(2>c||b==a)return!1;c=Math.min(l.rM,c);this.Hf.Db(c);this.Hf.resize(c);this.Hf.Xj(0,0,this.Hf.size);this.uI=a;this.gt.resize(d);this.mt=(b-a)/(c-1);return!0};l.prototype.mG=function(c){return g.L.truncate((c-
this.uI)/this.mt)};l.rM=65536;return l}();g.Eu=u})(J||(J={}));(function(g){var u;(function(e){e[e.enum_line=1]="enum_line";e[e.enum_arc=2]="enum_arc";e[e.enum_dummy=4]="enum_dummy";e[e.enum_concave_dip=8]="enum_concave_dip";e[e.enum_connection=3]="enum_connection"})(u||(u={}));var l=function(){function e(){}e.yv=function(f,h,k,m,n,p){var q=new e;q.Tm=new g.b;q.hn=new g.b;q.Iw=new g.b;q.Tm.K(f);q.hn.K(h);q.Iw.K(k);q.Wo=m;q.xh=n;q.zh=p;return q};e.construct=function(f,h,k,m){var n=new e;n.Tm=new g.b;
n.hn=new g.b;n.Iw=new g.b;n.Tm.K(f);n.hn.K(h);n.Iw.Tc();n.Wo=4;n.xh=k;n.zh=m;return n};return e}(),c=function(){function e(f,h,k,m,n,p){this.Fw=null;this.ya=0;this.nB=f;this.RI=this.OI=0;this.La=h;this.Oj=k;this.Ck=m;this.Xq=n;this.Vb=p}e.prototype.next=function(){for(var f=new g.Ra;;){if(this.ya==this.nB.D())return null;this.nB.ne(this.ya,f);this.ya++;if(!f.u())break}var h=!1;null==this.Fw&&(this.OI=f.Ce(),this.RI=f.lf(),this.Fw=d.buffer(f,this.La,this.Oj,this.Ck,this.Xq,this.Vb),h=!0);if(this.ya<
this.nB.D()){var k=new g.Ga;this.Fw.copyTo(k)}else k=this.Fw;if(!h){h=new g.xd;var m=f.Ce()-this.OI;f=f.lf()-this.RI;h.mg(m,f);k.Qc(h)}return k};e.prototype.Fa=function(){return 0};e.prototype.xe=function(){};return e}(),a=function(){function e(f,h){this.Wa=f;this.ya=0;this.Hq=h}e.prototype.next=function(){var f=this.Wa.W;if(this.ya<f.$()){var h=this.ya;this.ya++;if(!f.ho(h))for(var k=f.xa(f.zc(h)-1);this.ya<f.$();){var m=f.xa(f.ua(this.ya));if(f.ho(this.ya))break;if(m!=k)break;k=f.xa(f.zc(this.ya)-
1);this.ya++}if(1==this.ya-h)return this.Wa.XE(this.Wa.W,h,this.Hq);k=new g.Oa(this.Wa.W.description);k.addPath(this.Wa.W,h,!0);for(h+=1;h<this.ya;h++)k.ds(this.Wa.W,h,0,f.$v(h),!1);return this.Wa.XE(k,0,this.Hq)}return null};e.prototype.Fa=function(){return 0};e.prototype.xe=function(){};return e}(),b=function(){function e(f){this.Wa=f;this.ya=0}e.prototype.next=function(){var f=this.Wa.W;if(this.ya<f.$()){var h=this.ya;f.rm(this.ya);for(this.ya++;this.ya<f.$()&&!(0<f.rm(this.ya));)this.ya++;return 0==
h&&this.ya==f.$()?this.Wa.Vy(f,0,f.$()):this.Wa.Vy(f,h,this.ya)}return null};e.prototype.Fa=function(){return 0};e.prototype.xe=function(){};return e}(),d=function(){function e(f){this.st=this.Tw=this.tt=this.Md=null;this.de=[];this.Vb=f;this.rb=this.sw=this.bV=this.La=this.bB=this.Kt=this.qa=0;this.ZA=this.Ck=-1;this.Hq=!0}e.buffer=function(f,h,k,m,n,p){if(null==f)throw g.f.I();if(0>m)throw g.f.I();if(f.u())return new g.Ga(f.description);var q=new g.g;f.Zb(q);0<h&&q.O(h,h);p=new e(p);p.Oj=k;p.W=
f;p.qa=g.la.Qd(k,q,!0);p.Kt=g.la.Qd(null,q,!0);p.La=h;p.bV=f.F();0>=n&&(n=96);p.rb=Math.abs(p.La);p.sw=0!=p.rb?1/p.rb:0;isNaN(m)||0==m?m=1E-5*p.rb:m>.5*p.rb&&(m=.5*p.rb);12>n&&(n=12);f=Math.abs(h)*(1-Math.cos(Math.PI/n));f>m?m=f:(f=Math.PI/Math.acos(1-m/Math.abs(h)),f<n-1&&(n=g.L.truncate(f),12>n&&(n=12,m=Math.abs(h)*(1-Math.cos(Math.PI/n)))));p.Ck=m;p.Xq=n;p.bB=Math.min(p.Kt,.25*m);return p.YE()};e.prototype.Lv=function(){if(null==this.Md)this.Md=[];else if(0!==this.Md.length)return;var f=this.cF();
f=g.L.truncate((f+3)/4);var h=.5*Math.PI/f;this.ZA=h;for(var k=0;k<4*f;k++)this.Md.push(null);var m=Math.cos(h);h=Math.sin(h);var n=g.b.construct(0,1);for(k=0;k<f;k++)this.Md[k+0*f]=g.b.construct(n.y,-n.x),this.Md[k+1*f]=g.b.construct(-n.x,-n.y),this.Md[k+2*f]=g.b.construct(-n.y,n.x),this.Md[k+3*f]=n,n=g.b.construct(n.x,n.y),n.mu(m,h)};e.prototype.YE=function(){var f=this.W.F();if(g.R.Ic(f))return f=new g.Oa(this.W.description),f.$b(this.W,!0),this.W=f,this.YE();if(this.La<=this.qa)if(g.R.nU(f)){if(0>=
this.La&&(f=new g.g,this.W.s(f),f.N()<=2*-this.La||f.ca()<=2*this.La))return new g.Ga(this.W.description)}else return new g.Ga(this.W.description);switch(this.W.F()){case 33:return this.$O();case 550:return this.ZO();case 1607:return this.bP();case 1736:return this.aP();case 197:return this.WO();default:throw g.f.za();}};e.prototype.bP=function(){if(this.qH(this.W)){var f=new g.Ra;this.W.ne(0,f);var h=new g.g;this.W.s(h);f.nb(h.hf());return this.mv(f)}this.W=this.oX(this.W);f=new a(this,this.Hq);
return g.Jh.local().U(f,this.Oj,this.Vb).next()};e.prototype.aP=function(){if(0==this.La)return this.W;var f=g.jm.local();this.Lv();this.W=f.U(this.W,null,!1,this.Vb);if(0>this.La){var h=this.W;h=this.Vy(h,0,h.$());return f.U(h,this.Oj,!1,this.Vb)}if(this.qH(this.W))return f=new g.Ra,this.W.ne(0,f),h=new g.g,this.W.s(h),f.nb(h.hf()),this.mv(f);f=new b(this);return g.Jh.local().U(f,this.Oj,this.Vb).next()};e.prototype.Vy=function(f,h,k){for(var m=new g.Ga(f.description);h<k;h++)if(!(1>f.Ha(h))){var n=
f.rm(h),p=new g.g;f.Sj(h,p);if(0<this.La)if(0<n)if(this.rH(f,h))n=new g.Ra,f.ne(f.ua(h),n),n.nb(p.hf()),this.ev(m,n);else{var q=n=new g.Oa(f.description);q=g.Gu.vH(this.W,h)||2==this.Sn(this.W,h,q,!0,1)?this.WE(f,h):this.Rn(n);m.add(q,!1)}else{if(!(p.N()+this.qa<=2*this.rb||p.ca()+this.qa<=2*this.rb||(q=n=new g.Oa(f.description),this.Sn(this.W,h,q,!0,1),n.u()))){var r=new g.g;r.H(p);r.O(this.rb,this.rb);q.Np(r);q=this.Rn(n);p=1;for(n=q.$();p<n;p++)m.addPath(q,p,!0)}}else if(0<n){if(!(p.N()+this.qa<=
2*this.rb||p.ca()+this.qa<=2*this.rb||(q=n=new g.Oa(f.description),this.Sn(this.W,h,q,!0,-1),n.u())))for(r=new g.g,q.Zb(r),r.O(this.rb,this.rb),q.Np(r),q=this.Rn(n),p=1,n=q.$();p<n;p++)m.addPath(q,p,!0)}else for(q=n=new g.Oa(f.description),this.Sn(this.W,h,q,!0,-1),q=this.Rn(n),p=0,n=q.$();p<n;p++)m.addPath(q,p,!0)}if(0<this.La)return 1<m.$()?m=this.Rn(m):e.Sx(m);f=new g.g;m.Zb(f);if(m.u())return e.Sx(m);f.O(this.rb,this.rb);m.Np(f);m=this.Rn(m);f=new g.Ga(m.description);p=1;for(n=m.$();p<n;p++)f.addPath(m,
p,!1);return e.Sx(f)};e.prototype.$O=function(){return this.mv(this.W)};e.prototype.mv=function(f){var h=new g.Ga(this.W.description);this.ev(h,f);return this.WY(h)};e.prototype.ZO=function(){var f=new c(this.W,this.La,this.Oj,this.Ck,this.Xq,this.Vb);return g.Jh.local().U(f,this.Oj,this.Vb).next()};e.prototype.WO=function(){var f=new g.Ga(this.W.description);if(0>=this.La){if(0==this.La)f.bd(this.W,!1);else{var h=new g.Ih;this.W.qn(h);h.O(this.La,this.La);f.bd(h,!1)}return f}f.bd(this.W,!1);this.W=
f;return this.WE(f,0)};e.prototype.WE=function(f,h){this.Lv();var k=new g.Ga(f.description),m=new g.b,n=new g.b,p=new g.b,q=new g.b,r=new g.b,t=new g.b,v=new g.b,E=new g.b,O=f.Ha(h),M=f.ua(h),S=0;for(h=f.Ha(h);S<h;S++){f.w(M+S,n);f.w(M+(S+1)%O,q);f.w(M+(S+2)%O,t);v.tc(q,n);if(0==v.length())throw g.f.za();v.pw();v.normalize();v.scale(this.rb);m.add(v,n);p.add(v,q);0==S?k.vu(m):k.Ii(m);k.Ii(p);E.tc(t,q);if(0==E.length())throw g.f.za();E.pw();E.normalize();E.scale(this.rb);r.add(E,q);this.sE(k,q,p,r,
!1)}return e.Sx(k)};e.prototype.XE=function(f,h,k){this.Lv();if(1>f.Ha(h))return null;if(this.rH(f,h)&&0<this.La){k=new g.Ra;f.ne(f.ua(h),k);var m=new g.g;f.Sj(h,m);k.nb(m.hf());return this.mv(k)}m=new g.Oa(f.description);if(f.ho(h))this.Sn(f,h,m,k,1),this.Sn(f,h,m,k,-1);else{var n=new g.Oa(f.description);n.addPath(f,h,!1);n.ds(f,h,0,f.$v(h),!1);this.Sn(n,0,m,k,1)}return this.Rn(m)};e.prototype.qr=function(){this.Gt++;if(0==this.Gt%1024&&null!=this.Vb&&!this.Vb.progress(-1,-1))throw g.f.Mu("user_canceled");
};e.prototype.Rn=function(f){return g.pg.Tk(f,this.Kt,!0,!0,this.Vb)};e.prototype.cF=function(){if(0==this.Ck)return this.Xq;var f=1-this.Ck*Math.abs(this.sw);f=-1>f?4:2*Math.PI/Math.acos(f)+.5;4>f?f=4:f>this.Xq&&(f=this.Xq);return g.L.truncate(f)};e.prototype.sE=function(f,h,k,m,n){this.Lv();var p=new g.b;p.tc(k,h);p.scale(this.sw);var q=new g.b;q.tc(m,h);q.scale(this.sw);p=Math.atan2(p.y,p.x)/this.ZA;0>p&&(p=this.Md.length+p);p=this.Md.length-p;q=Math.atan2(q.y,q.x)/this.ZA;0>q&&(q=this.Md.length+
q);q=this.Md.length-q;q<p&&(q+=this.Md.length);var r=g.L.truncate(q);q=g.L.truncate(Math.ceil(p));p=new g.b;p.K(this.Md[q%this.Md.length]);p.nu(this.rb,h);var t=10*this.qa;p.sub(k);p.length()<t&&(q+=1);p.K(this.Md[r%this.Md.length]);p.nu(this.rb,h);p.sub(m);p.length()<t&&--r;k=r-q;k++;r=0;for(q%=this.Md.length;r<k;r++,q=(q+1)%this.Md.length)p.K(this.Md[q]),p.nu(this.rb,h),f.Ii(p),this.qr();n&&f.Ii(m)};e.prototype.Sn=function(f,h,k,m,n){var p=new g.Yc,q=p.wO(f,h);p.$p(this.bB,!1,!1);if(2>p.D(q)){if(0>
n)return 1;n=f;p=new g.Ra;n.ne(n.ua(h),p);this.ev(k,p);return 1}var r=p.xa(p.Za(p.Kb(q))),t=new g.xd;t.mg(-r.x,-r.y);p.Qc(t);if(m&&(this.FR(p,q,n),2>p.D(q))){if(0>n)return 1;n=f;p=new g.Ra;n.ne(n.ua(h),p);this.ev(k,p);return 1}this.de.length=0;var v=p.Kb(q);h=p.Za(v);var E=1==n?p.Ma(h):p.T(h);f=1==n?p.T(h):p.Ma(h);var O=!0;m=new g.b;q=new g.b;var M=new g.b,S=new g.b,da=new g.b,ca=new g.b,fa=new g.b,qa=new g.b,ya=new g.b,Ia=new g.b,Ga=this.rb;v=p.Ha(v);for(var Ma=0;Ma<v;Ma++)p.w(f,q),O&&(p.w(h,m),
p.w(E,M),qa.tc(m,M),qa.normalize(),Ia.yH(qa),Ia.scale(Ga),S.add(Ia,m)),fa.tc(q,m),fa.normalize(),ya.yH(fa),ya.scale(Ga),da.add(m,ya),E=qa.Di(fa),O=qa.Vh(fa),0>E||0>O&&0==E?this.de.push(l.yv(S,da,m,2,this.de.length+1,this.de.length-1)):S.qb(da)||(this.de.push(l.construct(S,m,this.de.length+1,this.de.length-1,"dummy")),this.de.push(l.construct(m,da,this.de.length+1,this.de.length-1,"dummy"))),ca.add(q,ya),this.de.push(l.yv(da,ca,m,1,this.de.length+1,this.de.length-1)),S.K(ca),Ia.K(ya),M.K(m),m.K(q),
qa.K(fa),E=h,h=f,O=!1,f=1==n?p.T(h):p.Ma(h);this.de[this.de.length-1].xh=0;this.de[0].zh=this.de.length-1;this.qX(k);t.mg(r.x,r.y);k.KE(t,k.$()-1);return 1};e.prototype.qX=function(f){for(var h=this.JP(),k=!0,m=h+1,n=h;m!=h;n=m){var p=this.de[n];m=-1!=p.xh?p.xh:(n+1)%this.de.length;0!=p.Wo&&(k&&f.vu(p.Tm),2==p.Wo?this.sE(f,p.Iw,p.Tm,p.hn,!0):f.Ii(p.hn),k=!1)}};e.prototype.JP=function(){null==this.st&&(this.st=[null,null,null,null,null,null,null,null,null]);for(var f=0,h=0,k=this.de.length;h<k;){var m=
this.de[h];if(0!=(m.Wo&3)){f=h;break}h=m.xh}k=f+1;for(h=f;k!=f;h=k){m=this.de[h];k=m.xh;for(var n=1,p=null;k!=h;){p=this.de[k];if(0!=(p.Wo&3))break;k=p.xh;n++}1!=n&&1==(m.Wo&p.Wo)&&(null==this.tt&&(this.tt=new g.zb,this.Tw=new g.zb),this.tt.Fc(m.Tm),this.tt.Sc(m.hn),this.Tw.Fc(p.Tm),this.Tw.Sc(p.hn),1==this.tt.Ia(this.Tw,this.st,null,null,this.Kt)&&(m.hn.K(this.st[0]),p.Tm.K(this.st[0]),m.xh=k,p.zh=h))}return f};e.prototype.mw=function(f,h,k){var m=new g.b;m.tc(k,f);k=m.length();k=this.rb*this.rb-
k*k*.25;if(0<k){k=Math.sqrt(k);m.normalize();m.ur();var n=new g.b;n.tc(h,f);if(n.Vh(m)+k>=this.rb)return!0}return!1};e.prototype.FR=function(f,h,k){for(var m=0;1>m;m++){var n=!1,p=f.Kb(h),q=f.Ha(p);if(0==q)break;var r=q;if(3>q)break;!f.Lb(p)&&(r=q-1);p=f.Za(p);q=0<k?f.Ma(p):f.T(p);for(var t=0<k?f.T(p):f.Ma(p),v=q,E=!0,O=new g.b,M=new g.b,S=new g.b,da=new g.b,ca=new g.b,fa=g.b.construct(0,0),qa=new g.b,ya=new g.b,Ia=new g.b,Ga=new g.b,Ma=this.rb,La=0,Oa=0;Oa<r;){f.w(t,M);E&&(f.w(p,O),f.w(q,S),v=q);
ya.tc(O,S);ya.normalize();qa.tc(M,O);qa.normalize();if(v==t)break;var Pa=ya.Di(qa),Ta=ya.Vh(qa),Xa=!0;0>Pa||0>Ta&&0==Pa||!this.mw(S,O,M)||(fa.K(M),Xa=!1,++La,n=!0);if(Xa){if(0<La)for(;;){Pa=0<k?f.Ma(v):f.T(v);if(Pa==p)break;f.w(Pa,da);if(this.mw(da,S,fa))S.K(da),v=Pa,Xa=!1,++La;else{Pa!=t&&this.mw(da,S,M)&&this.mw(da,O,M)&&(S.K(da),v=Pa,Xa=!1,++La);break}}if(!Xa)continue;if(0<La){v=0<k?f.Ma(q):f.T(q);for(E=1;E<La;E++)Xa=0<k?f.Ma(v):f.T(v),f.pd(v,!0),v=Xa;Ia.tc(O,S);La=Ia.length();La=Ma*Ma-La*La*.25;
La=Math.sqrt(La);Ma-La>.5*this.Ck?(ca.add(S,O),ca.scale(.5),Ia.normalize(),Ia.ur(),Ga.K(Ia),Ga.scale(Ma-La),ca.add(Ga),f.wf(q,ca)):f.pd(q,!0);La=0}S.K(O);v=p}O.K(M);q=p;p=t;t=0<k?f.T(p):f.Ma(p);Oa++;E=!1}if(0<La){v=0<k?f.Ma(q):f.T(q);for(E=1;E<La;E++)Xa=0<k?f.Ma(v):f.T(v),f.pd(v,!0),v=Xa;ca.add(S,O);ca.scale(.5);Ia.tc(O,S);La=Ia.length();La=Ma*Ma-La*La*.25;La=Math.sqrt(La);Ia.normalize();Ia.ur();Ga.K(Ia);Ga.scale(Ma-La);ca.add(Ga);f.wf(q,ca)}f.$p(this.bB,!1,!1);if(!n)break}};e.prototype.rH=function(f,
h){if(1==f.Ha(h))return!0;var k=new g.g;f.Sj(h,k);return Math.max(k.N(),k.ca())<.5*this.Ck?!0:!1};e.prototype.qH=function(f){var h=new g.g;f.s(h);return Math.max(h.N(),h.ca())<.5*this.Ck?!0:!1};e.prototype.oX=function(f){f=g.lD.local().U(f,.25*this.Ck,!1,this.Vb);for(var h=0,k=0,m=f.$();k<m;k++)h=Math.max(f.Ha(k),h);if(32>h)return this.Hq=!1,f;this.Hq=!0;return g.pg.Tk(f,this.Kt,!1,!0,this.Vb)};e.prototype.ev=function(f,h){h=h.w();if(null!=this.Md&&0!==this.Md.length){var k=new g.b;k.K(this.Md[0]);
k.nu(this.rb,h);f.vu(k);for(var m=1,n=this.Md.length;m<n;m++)k.K(this.Md[m]),k.nu(this.rb,h),f.Ii(k)}else{m=this.cF();k=g.L.truncate((m+3)/4);m=.5*Math.PI/k;n=Math.cos(m);for(var p=Math.sin(m),q=new g.b,r=3;0<=r;r--){q.ka(0,this.rb);switch(r){case 0:for(m=0;m<k;m++)f.Cj(q.x+h.x,q.y+h.y),q.mu(n,p);break;case 1:for(m=0;m<k;m++)f.Cj(-q.y+h.x,q.x+h.y),q.mu(n,p);break;case 2:for(m=0;m<k;m++)f.Cj(-q.x+h.x,-q.y+h.y),q.mu(n,p);break;default:for(f.Zx(q.y+h.x,-q.x+h.y),m=1;m<k;m++)q.mu(n,p),f.Cj(q.y+h.x,-q.x+
h.y)}this.qr()}}};e.Sx=function(f){f.Jg(1,0);return f};e.prototype.WY=function(f){f.Jg(2,this.qa);f.cl();return f};return e}();g.QL=d})(J||(J={}));(function(g){var u=function(){function l(c){this.Da=c;this.a=new g.Yc;this.fd=new g.ha(0)}l.prototype.Ph=function(c,a,b){switch(a){case 0:if(c.o<b&&c.v<=b)break;else return c.o>=b?1:-1;case 1:if(c.A<b&&c.B<=b)break;else return c.A>=b?1:-1;case 2:if(c.o>=b&&c.v>b)break;else return c.v<=b?1:-1;case 3:if(!(c.A>=b&&c.B>b))return c.B<=b?1:-1}return 0};l.prototype.fz=
function(c,a){return 1736==c.F()?this.hz(c,a):this.iz(c)};l.prototype.hz=function(c,a){if(0==this.Da.N()||0==this.Da.ca())return c.Ea();var b=new g.g;c.Zb(b);this.W=this.a.Bb(c);var d=new g.g,e=new g.g,f=new g.b,h=new g.b,k=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0];new g.og;var n=new g.zb,p=new g.ha(0);p.Db(Math.min(100,c.D()));for(var q=!1,r=0;!q&&4>r;r++){var t=!1,v=0!=(r&1),E=0;switch(r){case 0:E=this.Da.o;t=b.o<=E&&b.v>=E;break;case 1:E=this.Da.A;t=b.A<=E&&b.B>=E;break;case 2:E=this.Da.v;t=b.o<=
E&&b.v>=E;break;case 3:E=this.Da.B,t=b.A<=E&&b.B>=E}if(t)for(q=!0,t=this.a.Kb(this.W);-1!=t;){var O=-1,M=-1,S=this.a.Za(t),da=S;do{var ca=this.a.ec(da);null==ca&&(ca=n,this.a.w(da,f),ca.Fc(f),this.a.w(this.a.T(da),h),ca.Sc(h));ca.s(d);var fa=this.Ph(d,r,E),qa=0,ya=-1;if(-1==fa){ca=ca.uq(v,E,k,m);qa=0<ca?this.a.em(da,m,ca):0;qa+=1;var Ia=da,Ga=this.a.T(Ia);for(ca=0;ca<qa;ca++){this.a.w(Ia,f);this.a.w(Ga,h);ya=this.a.ec(Ia);null==ya&&(ya=n,ya.Fc(f),ya.Sc(h));ya.s(e);ya=this.Ph(e,r,E);if(-1==ya){if(v)ya=
Math.abs(f.y-E),Ma=Math.abs(h.y-E),ya<Ma?(f.y=E,this.a.wf(Ia,f)):(h.y=E,this.a.wf(Ga,h));else{ya=Math.abs(f.x-E);var Ma=Math.abs(h.x-E);ya<Ma?(f.x=E,this.a.wf(Ia,f)):(h.x=E,this.a.wf(Ga,h))}ya=this.a.ec(Ia);null==ya&&(ya=n,ya.Fc(f),ya.Sc(h));ya.s(e);ya=this.Ph(e,r,E)}Ma=O;O=ya;-1==M&&(M=O);0==Ma&&1==O||1==Ma&&0==O||0!=Ma||0!=O||p.add(Ia);1==O&&(q=!1);ya=Ia=Ga;Ga=this.a.T(Ga)}}0==qa&&(Ma=O,O=fa,-1==M&&(M=O),0==Ma&&1==O||1==Ma&&0==O||0!=Ma||0!=O||p.add(da),1==O&&(q=!1),ya=this.a.T(da));da=ya}while(da!=
S);0==M&&0==O&&p.add(S);ca=0;for(O=p.size;ca<O;ca++)M=p.get(ca),this.a.pd(M,!1);p.clear(!1);t=3>this.a.Ha(t)?this.a.sr(t):this.a.Qb(t)}}if(q)return c.Ea();this.pC();0<a&&this.rz(a);return this.a.ye(this.W)};l.prototype.iz=function(c){var a=new g.g,b=new g.g,d=[0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0],f=new g.og,h=c,k=new g.g;c.Zb(k);for(var m=0;4>m;m++){var n=!1,p=0!=(m&1),q=0;switch(m){case 0:q=this.Da.o;n=k.o<=q&&k.v>=q;break;case 1:q=this.Da.A;n=k.A<=q&&k.B>=q;break;case 2:q=this.Da.v;n=k.o<=q&&
k.v>=q;break;case 3:q=this.Da.B,n=k.A<=q&&k.B>=q}if(n){n=h;h=c.Ea();n=n.Ba();n.ej();for(var r,t=new g.b;n.Ta();)for(var v,E=!0;n.Aa();){var O=n.aa();O.s(a);var M=this.Ph(a,m,q);if(-1==M){if(M=O.uq(p,q,d,e),0<M){var S=0;r=O.ac();for(var da=0;da<=M;da++)if(v=da<M?e[da]:1,S!=v){O.jh(S,v,f);var ca=f.get();ca.Fc(r);da<M&&(p?(t.x=d[da],t.y=q):(t.x=q,t.y=d[da]),ca.Sc(t));ca.s(b);var fa=this.Ph(b,m,q);if(-1==fa){r=ca.ac();S=ca.wc();if(p)fa=Math.abs(r.y-q),qa=Math.abs(S.y-q),fa<qa?(r.y=q,ca.Fc(r)):(S.y=q,
ca.Sc(S));else{fa=Math.abs(r.x-q);var qa=Math.abs(S.x-q);fa<qa?(r.x=q,ca.Fc(r)):(S.x=q,ca.Sc(S))}ca.s(b);fa=this.Ph(b,m,q)}r=ca.wc();S=v;v=fa;1==v?(h.$b(ca,E),E=!1):E=!0}}}else v=M,1==v?(h.$b(O,E),E=!1):E=!0}}}return h};l.prototype.pC=function(){this.si=-1;this.fm(!1,this.Da.o);this.fm(!1,this.Da.v);this.fm(!0,this.Da.A);this.fm(!0,this.Da.B);this.fd.resize(0);this.fd.Db(100);this.si=this.a.Kd();for(var c=new g.b,a=this.a.Kb(this.W);-1!=a;a=this.a.Qb(a))for(var b=this.a.Za(a),d=0,e=this.a.Ha(a);d<
e;d++,b=this.a.T(b))if(this.a.w(b,c),this.Da.o==c.x||this.Da.v==c.x||this.Da.A==c.y||this.Da.B==c.y)this.a.Qa(b,this.si,this.fd.size),this.fd.add(b);this.Yl(!1,this.Da.o);this.Yl(!1,this.Da.v);this.Yl(!0,this.Da.A);this.Yl(!0,this.Da.B);this.zz()};l.prototype.rz=function(c){for(var a=new g.b,b=new g.b,d=g.L.Xf(2048,0),e=this.a.Kb(this.W);-1!=e;e=this.a.Qb(e)){var f=this.a.Za(e),h=f;do{var k=this.a.T(h);this.a.w(h,a);var m=-1;a.x==this.Da.o?(this.a.w(k,b),b.x==this.Da.o&&(m=1)):a.x==this.Da.v&&(this.a.w(k,
b),b.x==this.Da.v&&(m=1));a.y==this.Da.A?(this.a.w(k,b),b.y==this.Da.A&&(m=0)):a.y==this.Da.B&&(this.a.w(k,b),b.y==this.Da.B&&(m=0));if(-1!=m&&(m=g.b.vb(a,b),m=g.L.truncate(Math.min(Math.ceil(m/c),2048)),!(1>=m))){for(var n=1;n<m;n++)d[n-1]=1*n/m;this.a.em(h,d,m-1)}h=k}while(h!=f)}};l.prototype.fm=function(c,a){var b=this.a.Kd(),d=new g.b,e=new g.ha(0);e.Db(100);for(var f=this.a.Kb(this.W);-1!=f;f=this.a.Qb(f))for(var h=this.a.Za(f),k=0,m=this.a.Ha(f);k<m;k++){var n=this.a.T(h);this.a.w(h,d);if(c?
d.y==a:d.x==a)if(this.a.w(n,d),c?d.y==a:d.x==a)1!=this.a.Na(h,b)&&(e.add(h),this.a.Qa(h,b,1)),1!=this.a.Na(n,b)&&(e.add(n),this.a.Qa(n,b,1));h=n}this.a.Xd(b);if(!(3>e.size)){var p=this;e.Zd(0,e.size,function(fa,qa){return p.Qh(fa,qa)});b=new g.b;f=new g.b;h=new g.b;f.Tc();var q=-1;k=new g.ha(0);m=new g.ha(0);n=this.a.Kd();for(var r=this.a.Kd(),t=0,v=e.size;t<v;t++){var E=e.get(t);this.a.w(E,d);if(!d.qb(f)){if(-1!=q){for(var O=q;O<t;O++){q=e.get(O);var M=this.a.T(q);E=this.a.Ma(q);var S=!1;0>this.Qh(q,
M)&&(this.a.w(M,b),c?b.y==a:b.x==a)&&(k.add(q),S=!0,this.a.Qa(q,r,1));0>this.Qh(q,E)&&(this.a.w(E,b),c?b.y==a:b.x==a)&&(S||k.add(q),this.a.Qa(q,n,1))}O=0;for(S=k.size;O<S;O++){q=k.get(O);E=this.a.Na(q,n);M=this.a.Na(q,r);if(1==E){E=this.a.Ma(q);this.a.w(E,h);var da=[0];da[0]=0;if(!h.qb(d)){var ca=g.b.vb(f,h);da[0]=g.b.vb(h,d)/ca;0==da[0]?da[0]=2.220446049250313E-16:1==da[0]&&(da[0]=.9999999999999998);this.a.em(E,da,1);E=this.a.Ma(q);this.a.wf(E,d);m.add(E);this.a.Qa(E,n,1);this.a.Qa(E,r,-1)}}1==M&&
(M=this.a.T(q),this.a.w(M,h),da=[0],da[0]=0,h.qb(d)||(ca=g.b.vb(f,h),da[0]=g.b.vb(f,d)/ca,0==da[0]?da[0]=2.220446049250313E-16:1==da[0]&&(da[0]=.9999999999999998),this.a.em(q,da,1),E=this.a.T(q),this.a.wf(E,d),m.add(E),this.a.Qa(E,n,-1),this.a.Qa(E,r,1)))}q=k;k=m;m=q;m.clear(!1)}q=t;f.K(d)}}this.a.Xd(n);this.a.Xd(r)}};l.prototype.Yl=function(c,a){var b=new g.b,d=new g.ha(0);d.Db(100);for(var e=this.a.Kd(),f=0,h=this.fd.size;f<h;f++){var k=this.fd.get(f);if(-1!=k){var m=this.a.T(k);this.a.w(k,b);if(c?
b.y==a:b.x==a)if(this.a.w(m,b),c?b.y==a:b.x==a)-2!=this.a.Na(k,e)&&(d.add(k),this.a.Qa(k,e,-2)),-2!=this.a.Na(m,e)&&(d.add(m),this.a.Qa(m,e,-2))}}if(0!=d.size){var n=this;d.Zd(0,d.size,function(qa,ya){return n.Qh(qa,ya)});f=0;for(h=d.size;f<h;f++){var p=d.get(f);this.a.Qa(p,e,f)}k=new g.b;m=new g.b;m.Tc();var q=-1;f=0;for(h=d.size;f<h;f++)if(p=d.get(f),-1!=p&&(this.a.w(p,b),!b.qb(m))){if(-1!=q)for(;;){p=!1;for(var r=1<f-q?f-1:f,t=q;t<r;t++){var v=d.get(t);if(-1!=v){var E=-1,O=this.a.T(v);0>this.Qh(v,
O)&&(this.a.w(O,k),c?k.y==a:k.x==a)&&(E=O);O=-1;var M=this.a.Ma(v);0>this.Qh(v,M)&&(this.a.w(M,k),c?k.y==a:k.x==a)&&(O=M);if(-1!=E&&-1!=O)this.Oh(v,d,e),this.a.pd(v,!1),this.Oh(E,d,e),this.a.pd(E,!1),p=!0;else if(-1!=E||-1!=O){for(M=t+1;M<f;M++){var S=d.get(M);if(-1!=S){var da=this.a.T(S),ca=-1;0>this.Qh(S,da)&&(this.a.w(da,k),c?k.y==a:k.x==a)&&(ca=da);da=this.a.Ma(S);var fa=-1;0>this.Qh(S,da)&&(this.a.w(da,k),c?k.y==a:k.x==a)&&(fa=da);if(-1!=ca&&-1!=fa){this.Oh(S,d,e);this.a.pd(S,!1);this.Oh(ca,
d,e);this.a.pd(ca,!1);p=!0;break}if(-1!=E&&-1!=fa){this.ku(d,v,E,S,fa,e);p=!0;break}else if(-1!=O&&-1!=ca){this.ku(d,S,ca,v,O,e);p=!0;break}}}if(p)break}}}if(!p)break}q=f;m.K(b)}}this.a.Xd(e)};l.prototype.Oh=function(c,a,b){b=this.a.Na(c,b);a.set(b,-1);b=this.a.Na(c,this.si);this.fd.set(b,-1);a=this.a.cd(c);-1!=a&&this.a.Za(a)==c&&(this.a.Sf(a,-1),this.a.dh(a,-1))};l.prototype.ku=function(c,a,b,d,e,f){this.a.Dc(a,d);this.a.Ec(d,a);this.a.Ec(b,e);this.a.Dc(e,b);this.Oh(d,c,f);this.a.ui(d,!1);this.Oh(e,
c,f);this.a.ui(e,!0)};l.prototype.zz=function(){for(var c=0,a=this.fd.size;c<a;c++){var b=this.fd.get(c);-1!=b&&this.a.hj(b,-1)}for(var d=0,e=0,f=this.a.Kb(this.W);-1!=f;){var h=this.a.Za(f);if(-1==h||f!=this.a.cd(h)){var k=f;f=this.a.Qb(f);this.a.Sf(k,-1);this.a.tr(k)}else{b=h;k=0;do this.a.hj(b,f),k++,b=this.a.T(b);while(b!=h);2>=k?(b=this.a.Na(h,this.si),this.fd.set(b,-1),h=this.a.pd(h,!1),2==k&&(b=this.a.Na(h,this.si),this.fd.set(b,-1),this.a.pd(h,!1)),k=f,f=this.a.Qb(f),this.a.Sf(k,-1),this.a.tr(k)):
(this.a.sp(f,!1),this.a.dh(f,this.a.Ma(h)),this.a.Wj(f,k),e+=k,d++,f=this.a.Qb(f))}}c=0;for(a=this.fd.size;c<a;c++)if(b=this.fd.get(c),-1!=b&&(f=this.a.cd(b),-1==f)){f=this.a.Ef(this.W,-1);k=0;h=b;do this.a.hj(b,f),k++,b=this.a.T(b);while(b!=h);2>=k?(b=this.a.Na(h,this.si),this.fd.set(b,-1),h=this.a.pd(h,!1),2==k&&(b=this.a.Na(h,this.si),0<=b&&this.fd.set(b,-1),this.a.pd(h,!1)),k=f,this.a.Sf(k,-1),this.a.tr(k)):(this.a.An(f,!0),this.a.Wj(f,k),this.a.Sf(f,h),this.a.dh(f,this.a.Ma(h)),this.a.sp(f,!1),
e+=k,d++)}this.a.bm(this.W,d);this.a.Uj(this.W,e);c=0;for(a=this.a.ld;-1!=a;a=this.a.Ae(a))c+=this.a.D(a);this.a.JC(c)};l.gz=function(c,a,b){return(new l(a)).fz(c,b)};l.clip=function(c,a,b,d){if(c.u())return c;if(a.u())return c.Ea();b=c.F();if(33==b)return d=c.w(),a.contains(d)?c:c.Ea();if(197==b)return d=new g.g,c.s(d),d.Ia(a)?(a=new g.Ih,c.copyTo(a),a.mp(d),a):c.Ea();var e=new g.g;c.Zb(e);if(a.contains(e))return c;if(!a.isIntersecting(e))return c.Ea();e=c.ib;if(null!=e&&(e=e.oi,null!=e)){e=e.rn(a);
if(1==e){if(1736!=b)throw g.f.za();c=new g.Ga(c.description);c.Np(a);return c}if(0==e)return c.Ea()}switch(b){case 550:b=null;e=c.D();for(var f=c.Va(0),h=0,k=0;k<e;k++)d=new g.b,f.mc(2*k,d),a.contains(d)||(0==h&&(b=c.Ea()),h<k&&b.yd(c,h,k),h=k+1);0<h&&b.yd(c,h,e);return 0==h?c:b;case 1736:case 1607:return l.gz(c,a,d);default:throw g.f.za();}};l.prototype.Qh=function(c,a){var b=new g.b;this.a.w(c,b);c=new g.b;this.a.w(a,c);return b.compare(c)};return l}();g.Yd=u})(J||(J={}));(function(g){var u=function(){function l(c,
a){this.Da=c;this.a=new g.Yc;this.fd=new g.ha(0);this.nd=a}l.prototype.Ph=function(c,a,b){switch(a){case 0:if(c.o<b&&c.v<=b)break;else return c.o>=b?1:-1;case 1:if(c.A<b&&c.B<=b)break;else return c.A>=b?1:-1;case 2:if(c.o>=b&&c.v>b)break;else return c.v<=b?1:-1;case 3:if(!(c.A>=b&&c.B>b))return c.B<=b?1:-1}return 0};l.prototype.fz=function(c,a){return 1736==c.F()?this.hz(c,a):this.iz(c)};l.prototype.hz=function(c,a){if(0==this.Da.N()||0==this.Da.ca())return c.Ea();var b=new g.g;c.Zb(b);this.W=this.a.Bb(c);
var d=new g.g,e=new g.g,f=new g.b,h=new g.b,k=[0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0],n=new g.zb,p=new g.ha(0);p.Db(256);for(var q=!1,r=0;!q&&4>r;r++){var t=!1,v=0!=(r&1),E=0;switch(r){case 0:E=this.Da.o;t=b.o<=E&&b.v>=E;break;case 1:E=this.Da.A;t=b.A<=E&&b.B>=E;break;case 2:E=this.Da.v;t=b.o<=E&&b.v>=E;break;case 3:E=this.Da.B,t=b.A<=E&&b.B>=E}if(t)for(q=!0,t=this.a.Kb(this.W);-1!=t;){var O=!0,M=-1,S=-1,da=this.a.Za(t),ca=da;do{var fa=this.a.ec(ca);null==fa&&(fa=n,this.a.w(ca,f),fa.Fc(f),this.a.w(this.a.T(ca),
h),fa.Sc(h));fa.s(d);var qa=this.Ph(d,r,E),ya=0,Ia=-1;if(-1==qa){fa=fa.uq(v,E,k,m);ya=0<fa?this.a.qZ(ca,m,fa):0;ya+=1;var Ga=ca,Ma=this.a.T(Ga);for(fa=0;fa<ya;fa++){this.a.w(Ga,f);this.a.w(Ma,h);Ia=this.a.ec(Ga);null==Ia&&(Ia=n,Ia.Fc(f),Ia.Sc(h));Ia.s(e);Ia=this.Ph(e,r,E);if(-1==Ia){if(v)Ia=Math.abs(f.y-E),La=Math.abs(h.y-E),Ia<La?(f.y=E,this.a.wf(Ga,f)):(h.y=E,this.a.wf(Ma,h));else{Ia=Math.abs(f.x-E);var La=Math.abs(h.x-E);Ia<La?(f.x=E,this.a.wf(Ga,f)):(h.x=E,this.a.wf(Ma,h))}Ia=this.a.ec(Ga);null==
Ia&&(Ia=n,Ia.Fc(f),Ia.Sc(h));Ia.s(e);Ia=this.Ph(e,r,E)}La=M;M=Ia;-1==S&&(S=M);0==La&&1==M||1==La&&0==M||0!=La||0!=M||p.add(Ga);1==M&&(O=q=!1);Ia=Ga=Ma;Ma=this.a.T(Ma)}}0==ya&&(La=M,M=qa,-1==S&&(S=M),0==La&&1==M||1==La&&0==M||0!=La||0!=M||p.add(ca),1==M&&(O=q=!1),Ia=this.a.T(ca));ca=Ia;if(256<=p.size){fa=1;for(qa=p.size-1;fa<qa;fa++)ya=p.get(fa),this.a.pd(ya,!1);p.set(1,p.Gc());p.Gh(2)}}while(ca!=da);if(!O)for(0==S&&0==M&&p.add(da),fa=0,qa=p.size;fa<qa;fa++)ya=p.get(fa),this.a.pd(ya,!1);p.clear(!1);
t=O||0==this.a.Ha(t)?this.a.sr(t):this.a.Qb(t)}}if(q)return c.Ea();this.pC();0<a&&this.rz(a);return this.a.ye(this.W)};l.prototype.iz=function(c){var a=new g.g,b=new g.g,d=[0,0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0,0],f=new g.og,h=c,k=new g.g;c.Zb(k);for(var m=new g.b,n=new g.b,p=null,q=null,r=0;4>r;r++){var t=!1,v=0!=(r&1),E=0;switch(r){case 0:E=this.Da.o;t=k.o<=E&&k.v>=E;break;case 1:E=this.Da.A;t=k.A<=E&&k.B>=E;break;case 2:E=this.Da.v;t=k.o<=E&&k.v>=E;break;case 3:E=this.Da.B,t=k.A<=E&&k.B>=E}if(t)for(t=
h,h=c.Ea(),t=t.Ba(),t.ej();t.Ta();)for(var O,M=!0;t.Aa();){var S=t.aa();S.s(a);var da=this.Ph(a,r,E);if(-1==da){if(da=S.uq(v,E,d,e),0<da){var ca=0;S.qq(m);for(var fa=0;fa<=da;fa++)if(O=fa<da?e[fa]:1,ca!=O){S.jh(ca,O,f);var qa=f.get();qa.Fc(m);fa<da&&(v?(n.x=d[fa],n.y=E):(n.x=E,n.y=d[fa]),qa.Sc(n));qa.s(b);var ya=this.Ph(b,r,E);-1==ya&&(null==p&&(p=new g.b),null==q&&(q=new g.b),qa.qq(p),qa.vs(q),v?(ca=Math.abs(p.y-E),ya=Math.abs(q.y-E),ca<ya?(p.y=E,qa.Fc(p)):(q.y=E,qa.Sc(q))):(ca=Math.abs(p.x-E),ya=
Math.abs(q.x-E),ca<ya?(p.x=E,qa.Fc(p)):(q.x=E,qa.Sc(q))),qa.s(b),ya=this.Ph(b,r,E));qa.vs(m);ca=O;O=ya;1==O?(h.$b(qa,M),M=!1):M=!0}}}else O=da,1==O?(h.$b(S,M),M=!1):M=!0}}return h};l.prototype.pC=function(){this.si=-1;this.fm(!1,this.Da.o);this.fm(!1,this.Da.v);this.fm(!0,this.Da.A);this.fm(!0,this.Da.B);this.fd.resize(0);this.fd.Db(100);this.si=this.a.Kd();for(var c=new g.b,a=this.a.Kb(this.W);-1!=a;a=this.a.Qb(a))for(var b=this.a.Za(a),d=0,e=this.a.Ha(a);d<e;d++,b=this.a.T(b))if(this.a.w(b,c),this.Da.o==
c.x||this.Da.v==c.x||this.Da.A==c.y||this.Da.B==c.y)this.a.Qa(b,this.si,this.fd.size),this.fd.add(b);this.Yl(!1,this.Da.o);this.Yl(!1,this.Da.v);this.Yl(!0,this.Da.A);this.Yl(!0,this.Da.B);this.zz()};l.prototype.rz=function(c){for(var a=new g.b,b=new g.b,d=null,e=null,f=g.L.Xf(2048,0),h=this.a.Kb(this.W);-1!=h;h=this.a.Qb(h)){var k=this.a.Za(h),m=k;do{var n=this.a.T(m);this.a.w(m,a);var p=-1;a.x==this.Da.o?(this.a.w(n,b),b.x==this.Da.o&&(p=1)):a.x==this.Da.v&&(this.a.w(n,b),b.x==this.Da.v&&(p=1));
a.y==this.Da.A?(this.a.w(n,b),b.y==this.Da.A&&(p=0)):a.y==this.Da.B&&(this.a.w(n,b),b.y==this.Da.B&&(p=0));if(-1!=p){null==d&&(d=new g.b);null==e&&(e=new g.b);d.K(a);e.ka(0,0);if(0==p){var q=a.x-this.Da.o;e.x=g.Tb.sign(b.x-a.x);d.x=c*g.Tb.hl(Math.floor(Math.abs(q/c)),q)+this.Da.o;0>d.x&&(d.x+=c)}else q=a.y-this.Da.A,e.y=g.Tb.sign(b.y-a.y),d.y=c*g.Tb.hl(Math.floor(Math.abs(q/c)),q)+this.Da.A,0>d.y&&(d.y+=c);q=0!=p?b.y-a.y:b.x-a.x;var r=Math.abs(q);if(65536<r/c)throw g.f.Y("internal error");if(0<r){r=
g.L.truncate(r/c)+2;f.length<r&&(f=g.L.Xf(r));for(var t=r=0;;t++){var v=new g.b;v.x=d.x+e.x*t*c;v.y=d.y+e.y*t*c;v=(0!=p?v.y-a.y:v.x-a.x)/q;if(1<=v)break;0>=v||(f[r]=v,r++)}0!=r&&this.a.em(m,f,r)}}m=n}while(m!=k)}};l.prototype.fm=function(c,a){for(var b=-1,d=new g.b,e=null,f=this.a.Kb(this.W);-1!=f;f=this.a.Qb(f))for(var h=this.a.Za(f),k=0,m=this.a.Ha(f);k<m;k++){var n=this.a.T(h);this.a.w(h,d);if(c?d.y==a:d.x==a)if(this.a.w(n,d),c?d.y==a:d.x==a)-1==b&&(b=this.a.Kd()),null==e&&(e=new g.ha(0),e.Db(100)),
1!=this.a.Na(h,b)&&(e.add(h),this.a.Qa(h,b,1)),1!=this.a.Na(n,b)&&(e.add(n),this.a.Qa(n,b,1));h=n}-1!=b&&this.a.Xd(b);if(!(null==e||3>e.size)){var p=this;e.Zd(0,e.size,function(fa,qa){return p.Qh(fa,qa)});b=new g.b;f=new g.b;h=new g.b;f.Tc();var q=-1;k=new g.ha(0);m=new g.ha(0);n=null;for(var r=this.a.Kd(),t=this.a.Kd(),v=0,E=e.size;v<E;v++){var O=e.get(v);this.a.w(O,d);if(!d.qb(f)){if(-1!=q){for(var M=q;M<v;M++){q=e.get(M);var S=this.a.T(q);O=this.a.Ma(q);var da=!1;this.a.w(S,b);0>f.compare(b)&&
(c?b.y==a:b.x==a)&&(k.add(q),da=!0,this.a.Qa(q,t,1));this.a.w(O,b);0>f.compare(b)&&(c?b.y==a:b.x==a)&&(da||k.add(q),this.a.Qa(q,r,1))}M=0;for(da=k.size;M<da;M++){q=k.get(M);O=this.a.Na(q,r);S=this.a.Na(q,t);if(1==O&&(O=this.a.Ma(q),this.a.w(O,h),!h.qb(d))){null==n&&(n=[]);var ca=g.b.vb(f,h);n[0]=g.b.vb(h,d)/ca;0==n[0]?n[0]=2.220446049250313E-16:1==n[0]&&(n[0]=.9999999999999998);this.a.em(O,n,1);O=this.a.Ma(q);this.a.wf(O,d);m.add(O);this.a.Qa(O,r,1);this.a.Qa(O,t,-1)}1==S&&(S=this.a.T(q),this.a.w(S,
h),h.qb(d)||(null==n&&(n=[]),ca=g.b.vb(f,h),n[0]=g.b.vb(f,d)/ca,0==n[0]?n[0]=2.220446049250313E-16:1==n[0]&&(n[0]=.9999999999999998),this.a.em(q,n,1),O=this.a.T(q),this.a.wf(O,d),m.add(O),this.a.Qa(O,r,-1),this.a.Qa(O,t,1)))}q=k;k=m;m=q;m.clear(!1)}q=v;f.K(d)}}this.a.Xd(r);this.a.Xd(t)}};l.prototype.Yl=function(c,a){for(var b=new g.b,d=null,e=-1,f=0,h=this.fd.size;f<h;f++){var k=this.fd.get(f);if(-1!=k){var m=this.a.T(k);this.a.w(k,b);if(c?b.y==a:b.x==a)if(this.a.w(m,b),c?b.y==a:b.x==a)-1==e&&(e=
this.a.Kd()),null==d&&(d=new g.ha(0),d.Db(100)),-2!=this.a.Na(k,e)&&(d.add(k),this.a.Qa(k,e,-2)),-2!=this.a.Na(m,e)&&(d.add(m),this.a.Qa(m,e,-2))}}if(null==d)-1!=e&&this.a.Xd(e);else{var n=this;d.Zd(0,d.size,function(qa,ya){return n.Qh(qa,ya)});f=0;for(h=d.size;f<h;f++){var p=d.get(f);this.a.Qa(p,e,f)}k=new g.b;m=new g.b;m.Tc();var q=-1;f=0;for(h=d.size;f<h;f++)if(p=d.get(f),-1!=p&&(this.a.w(p,b),!b.qb(m))){if(-1!=q)for(;;){p=!1;for(var r=1<f-q?f-1:f,t=q;t<r;t++){var v=d.get(t);if(-1!=v){var E=-1,
O=this.a.T(v);this.a.w(O,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(E=O);O=-1;var M=this.a.Ma(v);this.a.w(M,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(O=M);if(-1!=E&&-1!=O)this.Oh(v,d,e),this.a.pd(v,!1),this.Oh(E,d,e),this.a.pd(E,!1),p=!0;else if(-1!=E||-1!=O){for(M=t+1;M<f;M++){var S=d.get(M);if(-1!=S){var da=this.a.T(S),ca=-1;this.a.w(da,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(ca=da);da=this.a.Ma(S);var fa=-1;this.a.w(da,k);0>m.compare(k)&&(c?k.y==a:k.x==a)&&(fa=da);if(-1!=ca&&-1!=fa){this.Oh(S,d,e);this.a.pd(S,
!1);this.Oh(ca,d,e);this.a.pd(ca,!1);p=!0;break}if(-1!=E&&-1!=fa){this.ku(d,v,E,S,fa,e);p=!0;break}else if(-1!=O&&-1!=ca){this.ku(d,S,ca,v,O,e);p=!0;break}}}if(p)break}}}if(!p)break}q=f;m.K(b)}this.a.Xd(e)}};l.prototype.Oh=function(c,a,b){b=this.a.Na(c,b);a.set(b,-1);b=this.a.Na(c,this.si);this.fd.set(b,-1);a=this.a.cd(c);-1!=a&&this.a.Za(a)==c&&(this.a.Sf(a,-1),this.a.dh(a,-1))};l.prototype.ku=function(c,a,b,d,e,f){this.a.Dc(a,d);this.a.Ec(d,a);this.a.Ec(b,e);this.a.Dc(e,b);this.Oh(d,c,f);this.a.ui(d,
!1);this.Oh(e,c,f);this.a.ui(e,!0)};l.prototype.zz=function(){for(var c=0,a=this.fd.size;c<a;c++){var b=this.fd.get(c);-1!=b&&this.a.hj(b,-1)}for(var d=0,e=0,f=this.a.Kb(this.W);-1!=f;){var h=this.a.Za(f);if(-1==h||f!=this.a.cd(h)){var k=f;f=this.a.Qb(f);this.a.Sf(k,-1);this.a.tr(k)}else{b=h;k=0;do this.a.hj(b,f),k++,b=this.a.T(b);while(b!=h);this.a.sp(f,!1);this.a.dh(f,this.a.Ma(h));this.a.Wj(f,k);e+=k;d++;f=this.a.Qb(f)}}c=0;for(a=this.fd.size;c<a;c++)if(b=this.fd.get(c),-1!=b&&(f=this.a.cd(b),
-1==f)){f=this.a.Ef(this.W,-1);k=0;h=b;do this.a.hj(b,f),k++,b=this.a.T(b);while(b!=h);2>=k?(b=this.a.Na(h,this.si),this.fd.set(b,-1),h=this.a.pd(h,!1),2==k&&(b=this.a.Na(h,this.si),0<=b&&this.fd.set(b,-1),this.a.pd(h,!1)),k=f,this.a.Sf(k,-1),this.a.tr(k)):(this.a.An(f,!0),this.a.Wj(f,k),this.a.Sf(f,h),this.a.dh(f,this.a.Ma(h)),this.a.sp(f,!1),e+=k,d++)}this.a.bm(this.W,d);this.a.Uj(this.W,e);c=0;for(a=this.a.ld;-1!=a;a=this.a.Ae(a))c+=this.a.D(a);this.a.JC(c)};l.gz=function(c,a,b,d){return(new l(a,
d)).fz(c,b)};l.clip=function(c,a,b,d,e){return l.Tp(c,a,null,b,d,e)};l.Tp=function(c,a,b,d,e,f){var h=c.F();if(33==h)return e=c.w(),a.contains(e)?c:c.Ea();if(197==h)return e=new g.g,c.s(e),e.Ia(a)?(a=new g.Ih,c.copyTo(a),a.mp(e),a):c.Ea();if(c.u())return c;if(a.u())return c.Ea();var k=new g.g;c.Zb(k);if(a.contains(k))return c;if(!a.isIntersecting(k))return c.Ea();(null!=b||isNaN(d))&&g.la.Yy(b,a,!1);if(!g.R.Rg(h))throw g.f.I();b=c.ib;if(null!=b&&(b=b.oi,null!=b)){b=b.rn(a);if(1==b){if(1736!=h)throw g.f.Y("internal error");
c=new g.Ga(c.description);c.Np(a);return c}if(0==b)return c.Ea()}switch(h){case 550:f=null;h=c.D();b=c.Va(0);d=0;e=new g.b;for(k=0;k<h;k++)b.mc(2*k,e),a.contains(e)||(0==d&&(f=c.Ea()),d<k&&f.yd(c,d,k),d=k+1);0<d&&f.yd(c,d,h);return 0==d?c:f;case 1736:case 1607:return l.gz(c,a,e,f);default:throw g.f.Y("internal error");}};l.prototype.Qh=function(c,a){var b=new g.b;this.a.w(c,b);c=new g.b;this.a.w(a,c);return b.compare(c)};return l}();g.fh=u})(J||(J={}));(function(g){var u=new g.b,l=function(){function a(b,
d,e,f,h){this.bn=new g.b;this.Lk=new g.b;this.Vi=new g.b;this.a=b;this.hx=e;this.Go=f;this.bn=d;this.Hl=h;this.Lk.Tc();this.Vi.Tc()}a.prototype.iF=function(b){this.a.w(b,this.Lk);b=g.L.truncate((this.Lk.x-this.bn.x)*this.Go+.5);var d=g.L.truncate((this.Lk.y-this.bn.y)*this.Go+.5);return c.WG(b,d)};a.prototype.Tz=function(b){return this.a.Na(b,this.Hl)};a.prototype.vz=function(b,d){this.a.w(b,this.Lk);this.a.w(d,this.Vi);return c.jw(this.Lk.x,this.Lk.y,this.Vi.x,this.Vi.y,this.hx)};return a}();g.ZZ=
function(){return function(){}}();var c=function(){function a(){this.bn=new g.b;this.Iq=[0,0,0,0];this.ft=[0,0,0,0];this.Jo=this.Hl=-1}a.uR=function(b,d){var e=new a;e.a=b;e.qa=d;e.hx=d*d;e.Hw=2*d;e.Go=1/e.Hw;return e.LP()};a.jw=function(b,d,e,f,h){b-=e;d-=f;return b*b+d*d<=h};a.WG=function(b,d){return g.L.Zh(d,g.L.Zh(b))};a.prototype.NP=function(b,d){this.a.Hc(b,u);for(var e=(u.y-this.bn.y)*this.Go,f=g.L.truncate((u.x-this.bn.x)*this.Go),h=g.L.truncate(e),k=e=0;1>=k;k+=1)for(var m=0;1>=m;m+=1){var n=
a.WG(f+k,h+m),p=this.Gl.ES(n);-1!=p&&(this.Iq[e]=p,this.ft[e]=n,e++)}for(f=e-1;1<=f;f--)for(p=this.Iq[f],h=f-1;0<=h;h--)if(p==this.Iq[h]){this.ft[h]=-1;e--;f!=e&&(this.ft[f]=this.ft[e],this.Iq[f]=this.Iq[e]);break}for(h=0;h<e;h++)this.OP(b,this.ft[h],u,this.Iq[h],d)};a.prototype.OP=function(b,d,e,f,h){for(var k=new g.b;-1!=f;f=this.Gl.US(f)){var m=this.Gl.ga(f);b==m||-1!=d&&this.a.Na(m,this.Hl)!=d||(this.a.Hc(m,k),a.jw(e.x,e.y,k.x,k.y,this.hx)&&h.add(f))}};a.prototype.ln=function(b,d,e){var f=this.a.Na(b,
this.Jo),h=this.a.Na(d,this.Jo);-1==f&&(f=this.Cd.Th(),this.Cd.addElement(f,b),this.a.Qa(b,this.Jo,f));-1==h?this.Cd.addElement(f,d):this.Cd.lz(f,h);this.a.Qa(d,this.Jo,-2);d=this.qV(b,d);e&&(e=this.Sw.iF(b),this.a.Qa(b,this.Hl,e));return d};a.oV=function(b,d,e){b.Ib(d);e=b;var f=new g.b;a.pV(b.w(),d.w(),f);e.nb(f)};a.pV=function(b,d,e){var f=b.x;b.x!=d.x&&(f=(1*b.x+1*d.x)/2);var h=b.y;b.y!=d.y&&(h=(1*b.y+1*d.y)/2);e.ka(f,h)};a.prototype.qV=function(b,d){var e=new g.b;this.a.w(b,e);var f=new g.b;
this.a.w(d,f);var h=this.a.OG(b);d=this.a.OG(d);var k=h+d,m=0,n=e.x;e.x!=f.x&&(n=(e.x*h+f.x*d)/k,m++);var p=e.y;e.y!=f.y&&(p=(e.y*h+f.y*d)/k,m++);0<m&&this.a.nb(b,n,p);this.a.ZY(b,k);return 0!=m};a.prototype.LP=function(){var b=this.a.hd,d=this.a.uG();this.bn=d.Wz();d=Math.max(d.ca(),d.N())/2147483646;this.Hw<d&&(this.Hw=d,this.Go=1/this.Hw);this.Cd=new g.Iu;this.Cd.lu(g.L.truncate(this.a.hd/3+1));this.Cd.vn(g.L.truncate(this.a.hd/3+1));this.Hl=this.a.Kd();this.Jo=this.a.Kd();this.Sw=new l(this.a,
this.bn,this.hx,this.Go,this.Hl);this.Gl=new g.nM(g.L.truncate(4*b/3),this.Sw);this.Gl.fY(this.a.hd);b=!1;for(d=this.a.ld;-1!=d;d=this.a.Ae(d))for(var e=this.a.Kb(d);-1!=e;e=this.a.Qb(e))for(var f=this.a.Za(e),h=0,k=this.a.Ha(e);h<k;h++){var m=this.Sw.iF(f);this.a.Qa(f,this.Hl,m);this.Gl.addElement(f,m);f=this.a.T(f)}var n=new g.ha(0);n.Db(10);for(d=this.a.ld;-1!=d;d=this.a.Ae(d))for(e=this.a.Kb(d);-1!=e;e=this.a.Qb(e))for(f=this.a.Za(e),h=0,k=this.a.Ha(e);h<k;h++){if(-2!=this.a.Na(f,this.Jo))for(m=
this.a.Na(f,this.Hl),this.Gl.jd(f,m);;){this.NP(f,n);if(0==n.size)break;m=!1;for(var p=0,q=n.size;p<q;p++){var r=n.get(p),t=this.Gl.ga(r);this.Gl.zd(r);m=this.ln(f,t,p+1==q)||m}b=b||m;n.clear(!1);if(!m)break}f=this.a.T(f)}b&&this.GO();this.Sw=this.Gl=null;this.a.Xd(this.Hl);this.a.Xd(this.Jo);return b};a.prototype.GO=function(){for(var b=new g.b,d=this.Cd.re;-1!=d;d=this.Cd.$z(d)){var e=this.Cd.sc(d);this.a.w(this.Cd.ga(e),b);for(e=this.Cd.hb(e);-1!=e;e=this.Cd.hb(e))this.a.wf(this.Cd.ga(e),b)}};
return a}();g.Fu=c})(J||(J={}));(function(g){var u=function(){function l(c){void 0===c&&(c=null);this.uf=null;this.Mb=!1;this.uf=null===c?[]:c}l.prototype.copyTo=function(c){if(c.Mb)throw g.f.Y("CompositeGeographicTransformation is read-only");for(var a=0;a<this.uf.length;a++)c.uf.push(this.uf[a].Cf())};l.prototype.count=function(){return this.uf.length};l.prototype.GS=function(c){return this.uf[c]};l.prototype.add=function(c){if(this.Mb)throw g.f.Y("CompositeGeographicTransformation is read-only");
this.uf.push(c.Cf())};l.prototype.clear=function(){if(this.Mb)throw g.f.Y("CompositeGeographicTransformation is read-only");this.uf.length=0};l.prototype.remove=function(c){if(this.Mb)throw g.f.Y("CompositeGeographicTransformation is read-only");this.uf.splice(c,1)};l.prototype.Rv=function(){for(var c=this.$d(),a=0;a<c.count();a++)c.GS(a).Xs();c.uf=c.uf.reverse();return c};l.prototype.$d=function(){var c=new l;this.copyTo(c);return c};l.prototype.Cf=function(){return this.$d()};l.prototype.transform=
function(c,a,b,d){if(c.length<a)throw g.f.Y("invalid Argument");var e=b;for(b=0;b<this.uf.length;b++){var f=this.uf[b];if(null!=f.Bm()){var h=f.no,k=h?1:0,m=h?f.Bm().getGeogcs2():f.Bm().getGeogcs1();m=m.getUnit().getUnitFactor();m=e/m;if(3.552713678800501E-15<Math.abs(m-1))for(e=0;e<a;e++)c[e][0]*=m,c[e][1]*=m;g.tD.geogToGeog(f.Bm(),a,c,null,k);e=(h?f.Bm().getGeogcs1():f.Bm().getGeogcs2()).getUnit().getUnitFactor()}}m=e/d;if(3.552713678800501E-15<Math.abs(m-1))for(e=0;e<a;e++)c[e][0]*=m,c[e][1]*=
m;return a};l.prototype.Ib=function(c){if(c==this)return!0;if(!(c instanceof l)||this.uf.length!=c.uf.length)return!1;for(var a=0;a<this.uf.length;a++)if(!this.uf[a].Ib(c.uf[a]))return!1;return!0};l.prototype.Px=function(){this.Mb=!0};l.prototype.toString=function(){for(var c="CGT ("+this.count()+") ",a=0,b=this.count();a<b;++a)c+=this.uf[a].toString()+", ";return 200<c.length?c.substring(0,197)+"... ("+c.length.toString()+" characters)":c};l.create=function(){return new l};l.N_=function(c,a){var b=
new l;b.add(g.Hn.create(c,a));return b};l.O_=function(c,a){var b=new l;b.add(g.Hn.LF(c,a));return b};return l}();g.hy=u})(J||(J={}));(function(g){var u=Math.PI,l=2*Math.PI,c=Math.PI/2,a=function(){function e(){}e.cQ=function(f,h){var k=new e;k.x=f;k.y=h;k.type=0;k.$h=0;return k};e.gl=function(f){var h=new e;h.x=f.x;h.y=f.y;h.type=0;h.$h=0;return h};e.bQ=function(f){var h=new e;h.x=f.x;h.y=f.y;h.type=f.type;h.$h=f.$h;return h};e.Rd=function(f,h,k){var m=new e;m.x=f.x+h*Math.cos(k);m.y=f.y+h*Math.sin(k);
m.type=f.type;m.$h=f.$h;return m};e.xv=function(f,h){var k=new e;k.x=.5*(f.x+h.x);k.y=.5*(f.y+h.y);k.type=f.type;k.$h=f.$h;return k};e.EF=function(f,h){var k=new e;k.x=f.x+.001*(h.x-f.x);k.y=f.y+.001*(h.y-f.y);k.type=f.type;k.$h=f.$h;return k};return e}(),b=function(){return function(){}}();(function(e){e[e.Round=0]="Round";e[e.Bevel=1]="Bevel";e[e.Miter=2]="Miter";e[e.Square=3]="Square"})(g.pM||(g.pM={}));var d=function(){function e(f){this.wB=this.Yb=this.Dg=null;this.nd=f}e.U=function(f,h,k,m,
n,p){if(null==f)throw g.f.I();if(1>f.pb())throw g.f.I();if(0==h||f.u())return f;p=new e(p);p.Do=f;p.La=h;p.qa=n;p.Qi=k;p.lB=m;return p.wy()};e.prototype.lN=function(){var f=this.Do,h=f.ac(),k=f.wc(),m=new g.b;m.tc(k,h);m.normalize();m.pw();m.scale(this.La);h.add(m);k.add(m);m=f.Ea();f.Fc(h);f.Sc(k);return m};e.prototype.kN=function(){var f=this.Do;if(0<this.La&&2!=this.Qi){var h=new g.Ga;h.bd(f,!1);this.Do=h;return this.wy()}f=new g.Ih(f.X);f.O(this.La,this.La);return f};e.prototype.xK=function(f,
h,k,m){return(h.x-f.x)*(m.x-k.x)+(h.y-f.y)*(m.y-k.y)};e.prototype.jc=function(f,h){if(void 0===h)this.Yb.push(f),this.qf++;else if(0==this.qf)this.jc(f);else{var k=this.ix,m=this.Dg[0==h?k-1:h-1],n=this.Dg[h],p=this.xK(m,n,this.Yb[this.qf-1],f);0<p?this.jc(f):0>p&&(0<this.xK(m,n,n,this.Yb[this.qf-1])?(n=this.Dg[0==h?k-2:1==h?k-1:h-2],k=a.Rd(m,this.La,Math.atan2(m.y-n.y,m.x-n.x)-c),this.Yb[this.qf-1]=k,1==this.Qi||2==this.Qi?(k=a.xv(k,m),this.jc(k),k=a.Rd(m,this.La,this.rw+c),m=a.xv(k,m),m.type|=256,
this.jc(m)):(k=a.Rd(m,this.La,this.rw+c),k.type|=256),this.jc(k),this.jc(f,h)):(k=a.Rd(n,this.La,this.rw+c),this.jc(k),1==this.Qi||2==this.Qi?(k=a.xv(k,n),this.jc(k),k=a.Rd(n,this.La,this.LA-c),m=a.xv(k,n),m.type|=256,this.jc(m)):(k=a.Rd(n,this.La,this.LA-c),k.type|=256),this.jc(k)))}};e.prototype.ZE=function(){var f,h=this.ix;this.qf=0;var k=.5*this.qa,m=0,n=0;for(f=0;f<h;f++){var p=this.Dg[f],q=0==f?this.Dg[h-1]:this.Dg[f-1],r=f==h-1?this.Dg[0]:this.Dg[f+1],t=q.x-p.x,v=q.y-p.y,E=r.x-p.x,O=r.y-p.y,
M=Math.atan2(v,t),S=Math.atan2(O,E);this.rw=M;this.LA=S;0==f&&(m=M,n=S);t=t*O-E*v;v=S;S<M&&(S+=l);if(0<t*this.La)1==this.Qi||2==this.Qi?(M=a.Rd(p,this.La,M+c),this.jc(M),M=a.EF(p,M),this.jc(M),M=a.Rd(p,this.La,S-c),p=a.EF(p,M),p.type|=256,this.jc(p),this.jc(M)):(t=.5*(S-M),t=this.La/Math.abs(Math.sin(t)),M=a.Rd(p,t,.5*(M+S)),this.jc(M,f));else if(0!=(p.type&512)){t=1-k/Math.abs(this.La);q=1;r=0>this.La?-u:u;-1<t&&1>t&&(v=2*Math.acos(t),.017453292519943295>v&&(v=.017453292519943295),q=g.L.truncate(u/
v+1.5),1<q&&(r/=q));v=M+c;M=a.Rd(p,this.La,v);0==f&&(M.type|=1024);this.jc(M,f);t=this.La/Math.cos(r/2);v+=r/2;M=a.Rd(p,t,v);M.type|=1024;for(this.jc(M);0<--q;)v+=r,M=a.Rd(p,t,v),M.type|=1024,this.jc(M);M=a.Rd(p,this.La,S-c);M.type|=1024;this.jc(M)}else if(1==this.Qi)M=a.Rd(p,this.La,M+c),this.jc(M,f),M=a.Rd(p,this.La,S-c),this.jc(M);else if(0==this.Qi)for(t=1-k/Math.abs(this.La),q=1,r=S-c-(M+c),-1<t&&1>t&&(v=2*Math.acos(t),.017453292519943295>v&&(v=.017453292519943295),q=g.L.truncate(Math.abs(r)/
v+1.5),1<q&&(r/=q)),t=this.La/Math.cos(.5*r),v=M+c+.5*r,M=a.Rd(p,t,v),this.jc(M,f);0<--q;)v+=r,M=a.Rd(p,t,v),this.jc(M);else 2==this.Qi?(t=q.x-p.x,v=q.y-p.y,E=r.x-p.x,O=r.y-p.y,q=(t*E+v*O)/Math.sqrt(t*t+v*v)/Math.sqrt(E*E+O*O),.99999999<q?(M=a.Rd(p,1.4142135623730951*this.La,S-.25*u),this.jc(M,f),M=a.Rd(p,1.4142135623730951*this.La,S+.25*u),this.jc(M)):(q=Math.abs(this.La/Math.sin(.5*Math.acos(q))),r=Math.abs(this.lB*this.La),q>r?(t=.5*(S-M),t=this.La/Math.abs(Math.sin(t)),M=a.Rd(p,t,.5*(M+S)),S=
g.b.construct(M.x,M.y),M=g.b.construct(p.x,p.y),p=new g.b,p.tc(S,M),S=new g.b,S.mY(r/p.length(),p,M),M=(q-r)*Math.abs(this.La)/Math.sqrt(q*q-this.La*this.La),0<this.La?p.pw():p.ur(),p.scale(M/p.length()),M=new g.b,M.add(S,p),q=new g.b,q.tc(S,p),M=a.gl(M),this.jc(M,f),M=a.gl(q),this.jc(M)):(t=.5*(S-M),t=this.La/Math.abs(Math.sin(t)),M=a.Rd(p,t,.5*(M+S)),this.jc(M,f)))):(S=v,0<this.La?(S>M&&(S-=l),q=M-S<c):(S<M&&(S+=l),q=S-M<c),q?(t=1.4142135623730951*this.La,v=0>t?M+.25*u:M+.75*u,M=a.Rd(p,t,v),this.jc(M,
f),v=0>t?S-.25*u:S-.75*u,M=a.Rd(p,t,v),this.jc(M)):(t=.5*(S-M),t=this.La/Math.abs(Math.sin(t)),S<M&&(S+=l),M=a.Rd(p,t,(M+S)/2),this.jc(M,f)))}this.rw=m;this.LA=n;this.jc(this.Yb[0],0);p=a.bQ(this.Yb[this.qf-1]);this.Yb[0]=p;return this.bY()};e.prototype.gv=function(f,h){if(!(2>h))for(var k=0;k<h;k++){var m=this.Yb[f+k];0!=k?this.wB.Ii(g.b.construct(m.x,m.y)):this.wB.vu(g.b.construct(m.x,m.y))}};e.prototype.mN=function(f,h,k){var m=f.ua(h),n=f.zc(h);this.Yb=[];this.wB=k;if(f.Lb(h)){for(h=f.xa(m);f.xa(n-
1).qb(h);)n--;if(2<=n-m){this.ix=n-m;this.Dg=[];for(h=m;h<n;h++)this.Dg.push(a.gl(f.xa(h)));this.ZE()&&this.gv(0,this.qf-1)}}else{for(h=f.xa(m);m<n&&f.xa(m+1).qb(h);)m++;for(h=f.xa(n-1);m<n&&f.xa(n-2).qb(h);)n--;if(2<=n-m){this.ix=2*(n-m)-2;this.Dg=[];k=a.gl(f.xa(m));k.type|=1536;this.Dg.push(k);for(h=m+1;h<n-1;h++)k=a.gl(f.xa(h)),this.Dg.push(k);k=a.gl(f.xa(n-1));k.type|=512;this.Dg.push(k);for(h=n-2;h>=m+1;h--)k=a.gl(f.xa(h)),k.type|=1024,this.Dg.push(k);if(this.ZE())if(2<=this.Yb.length){f=-1;
(n=0!=(this.Yb[this.qf-1].type&1024))||(f=0);for(h=1;h<this.qf;h++)(m=0!=(this.Yb[h].type&1024))?n||(n=h-1,1<n-f+1&&this.gv(f,n-f+1)):n&&(f=h-1),n=m;n||(n=this.qf-1,1<n-f+1&&this.gv(f,n-f+1))}else f=0,n=this.qf-1,0<=f&&1<=n-f&&this.gv(f,n-f+1)}}this.Dg=null;this.ix=0;this.Yb=null;this.qf=0};e.prototype.bY=function(){for(var f=!1,h=0;h<this.qf;h++){var k=this.Yb[h];k.xh=h+1;k.zh=h-1;this.Yb[h]=k}k=this.Yb[0];k.zh=this.qf-2;this.Yb[0]=k;k=this.Yb[this.qf-2];k.xh=0;this.Yb[this.qf-2]=k;for(h=k=0;h<this.qf;h++)if(0!=
(this.Yb[k].type&256)){var m=this.RQ(k);if(-1!=m)k=m;else{f=!0;break}}else k=this.Yb[k].xh;if(f)return!1;this.$P(k);return!0};e.prototype.RQ=function(f){for(var h=this.qf-1,k=f,m,n,p=1;p<=h-2;p++){m=k=this.Yb[k].xh;n=f;for(var q=1;q<=p;q++){n=this.Yb[n].zh;if(0==(this.Yb[n].type&256)&&0==(this.Yb[m].type&256)){var r=this.BT(n,m);if(-1!=r)return r}m=this.Yb[m].zh}}return-1};e.prototype.BT=function(f,h){var k=this.Yb[this.Yb[f].zh],m=this.Yb[f],n=this.Yb[this.Yb[h].zh],p=this.Yb[h];if(!this.oY(k,m,
n,p))return-1;var q=new b;return this.JR(k,m,n,p,q)&&!q.OE&&g.L.fL((m.x-k.x)*(p.y-n.y)-(m.y-k.y)*(p.x-n.x))!=g.L.fL(this.La)?(k=this.Yb[f].zh,q.pn.type=m.type,q.pn.xh=h,q.pn.zh=k,this.Yb[f]=q.pn,q.pn=this.Yb[h],q.pn.zh=f,this.Yb[h]=q.pn,h):-1};e.prototype.oY=function(f,h,k,m){return Math.max(f.x,h.x)>=Math.min(k.x,m.x)&&Math.max(k.x,m.x)>=Math.min(f.x,h.x)&&Math.max(f.y,h.y)>=Math.min(k.y,m.y)&&Math.max(k.y,m.y)>=Math.min(f.y,h.y)};e.prototype.JR=function(f,h,k,m,n){n.OE=!1;var p=(h.y-f.y)*(m.x-k.x)-
(h.x-f.x)*(m.y-k.y),q=(k.y-f.y)*(h.x-f.x)-(k.x-f.x)*(h.y-f.y);p=0==p?2:q/p;if(0<=p&&1>=p){var r=p;p=(m.y-k.y)*(h.x-f.x)-(m.x-k.x)*(h.y-f.y);q=(f.y-k.y)*(m.x-k.x)-(f.x-k.x)*(m.y-k.y);p=0==p?2:q/p;if(0<=p&&1>=p)return n.pn=a.cQ(f.x+p*(h.x-f.x),f.y+p*(h.y-f.y)),n.pn.$h=k.$h+r*(m.$h-k.$h),0!=r&&1!=r||0!=p&&1!=p||(n.OE=!0),n.C0=p,n.D0=r,(0==r||1==r)&&0<p&&1>p||(0==p||1==p)&&0<r&&1>r?!1:!0}return!1};e.prototype.$P=function(f){for(;this.Yb[f].zh<f;)f=this.Yb[f].zh;var h=0,k=f;do k=this.Yb[k],this.Yb[h]=
k,k=k.xh,h++;while(k!=f);this.Yb[h]=this.Yb[0];this.qf=h+1};e.prototype.JD=function(f){var h=this.Do,k=h.Ba();if(null!=k){k.ej();for(var m=-1;k.Ta();)m++,this.mN(h,m,f)}};e.prototype.wy=function(){var f=this.Do.F();return 322==f?this.lN():197==f?this.kN():g.R.Ic(f)?(f=new g.Oa,f.$b(this.Do,!0),this.Do=f,this.wy()):1607==f?(f=new g.Oa,this.JD(f),f):1736==f?(f=new g.Ga,this.JD(f),f):null};return e}();g.RL=d})(J||(J={}));(function(g){var u=function(){function b(d){this.xk=d}b.prototype.w=function(d,
e){this.xk.a.w(d,e)};b.prototype.zd=function(d){var e=this.xk.Ja.ga(d);this.xk.Ja.zd(d,-1);this.xk.a.pd(e,!1)};return b}(),l=function(){function b(d){this.xk=d}b.prototype.w=function(d,e){this.xk.aV.w(d,e)};b.prototype.zd=function(d){this.xk.Ja.zd(d,-1)};return b}(),c=function(){function b(d){this.xk=d}b.prototype.w=function(d,e){e.K(this.xk.dV[d])};b.prototype.zd=function(d){this.xk.Ja.zd(d,-1)};return b}(),a=function(){function b(d){void 0===d?(this.Ja=new g.bk,this.Ja.Le(20),this.a=new g.Yc,this.SU=
this.a.Pg(550),this.At=this.a.Ef(this.SU,-1),this.ci=new u(this)):d instanceof Array?(this.Ja=new g.bk,this.Ja.Le(20),this.dV=d,this.ci=new c(this)):(this.Ja=new g.bk,this.Ja.Le(20),this.aV=d,this.ci=new l(this))}b.prototype.Bb=function(d){var e=d.F();if(g.ly.Rg(e))this.tO(d);else if(g.Zk.Ic(e))this.zO(d);else if(197==e)this.qO(d);else if(33==e)this.xO(d);else throw g.f.I("invalid shape type");};b.prototype.qS=function(){var d=new g.Ra,e=this.Ja.sc(-1),f=new g.Ga(this.a.Qt);this.a.bj(this.Ja.ga(e),
d);f.xf(d);for(e=this.Ja.hb(e);-1!=e;e=this.Ja.hb(e))this.a.bj(this.Ja.ga(e),d),f.lineTo(d);return f};b.aQ=function(d){var e=new b(d),f=d.D(),h=1,k=new g.b,m=new g.b,n=new g.b;for(d.w(0,k);;){d.w(h,m);if(!(m.xA(k)&&h<f-1))break;h++}e.Ja.addElement(0,-1);e.Ja.Qn(h);for(f=h+1;f<d.D();f++)d.w(f,n),h=e.YC(n),-1!=h&&e.Ja.Tj(h,f);n=new g.Ra;h=e.Ja.sc(-1);f=new g.Ga(d.description);d.ne(e.Ja.ga(h),n);f.xf(n);for(h=e.Ja.hb(h);-1!=h;h=e.Ja.hb(h))d.ne(e.Ja.ga(h),n),f.lineTo(n);return f};b.construct=function(d,
e,f){for(var h=new b(d),k=1,m=d[0];d[k].xA(m)&&k<e-1;)k++;h.Ja.addElement(0,-1);h.Ja.Qn(k);for(k+=1;k<e;k++)m=h.YC(d[k]),-1!=m&&h.Ja.Tj(m,k);d=0;for(e=h.Ja.sc(-1);-1!=e;e=h.Ja.hb(e))f[d++]=h.Ja.ga(e);return d};b.vH=function(d,e){var f=d.ua(e),h=d.zc(e);e=!d.Lb(e)&&d.ho(e);d=d.Va(0);f*=2;h*=2;e&&(h-=2);if(6>h-f)return!0;e=new g.b;var k=new g.b,m=new g.b;d.mc(f,e);d.mc(f+2,k);d.mc(f+4,m);var n=b.Dv(k,m,e);if(n.Ys()||!b.Hm(n.value()))return!1;var p=g.b.construct(k.x,k.y),q=new g.b;for(f+=6;f<h;f+=2){q.K(k);
k.K(m);d.mc(f,m);n=b.Dv(k,m,e);if(n.Ys()||!b.Hm(n.value()))return!1;n=b.Dv(p,m,e);if(n.Ys()||!b.Hm(n.value()))return!1;n=b.Dv(k,m,q);if(n.Ys()||!b.Hm(n.value()))return!1}return!0};b.prototype.tO=function(d){for(var e=new g.Ra,f=new g.b,h=0;h<d.D();h++){d.w(h,f);var k=this.cs(f);if(-1!=k){d.ne(h,e);var m=this.a.jc(this.At,e);this.Ja.Tj(k,m)}}};b.prototype.qO=function(d){for(var e=new g.Ra,f=new g.b,h=0;4>h;h++){d.Ax(h,f);var k=this.cs(f);if(-1!=k){d.Pf(h,e);var m=this.a.jc(this.At,e);this.Ja.Tj(k,
m)}}};b.prototype.zO=function(d){var e=new g.Ra,f=d.ac();f=this.cs(f);if(-1!=f){d.jp(e);var h=this.a.jc(this.At,e);this.Ja.Tj(f,h)}f=d.wc();f=this.cs(f);-1!=f&&(d.hp(e),d=this.a.jc(this.At,e),this.Ja.Tj(f,d))};b.prototype.xO=function(d){var e=d.w();e=this.cs(e);-1!=e&&(d=this.a.jc(this.At,d),this.Ja.Tj(e,d))};b.prototype.cs=function(d){var e=-1;if(0==this.Ja.size(-1))return e=this.Ja.addElement(-4,-1);if(1==this.Ja.size(-1)){var f=this.a.xa(this.Ja.ga(this.Ja.sc(-1)));d.xA(f)||(e=this.Ja.Qn(-5));
return e}return e=this.YC(d)};b.prototype.YC=function(d){var e=-1,f=this.Ja.sc(-1),h=this.Ja.Gc(-1),k=this.Ja.ga(f),m=this.Ja.ga(h),n=new g.b,p=new g.b;this.ci.w(k,n);this.ci.w(m,p);k=g.b.fp(p,d,n);if(b.Hm(k))e=this.Ja.Qn(-1),n=this.WC(d,h,f),n!=f&&this.XC(d,f,this.Ja.Be(n));else if(b.oH(k)){p=this.Ja.aw(-1);var q=this.Ja.sc(-1),r=this.Ja.Gc(-1);k=new g.b;for(m=new g.b;q!=this.Ja.Be(r);){var t=this.Ja.ga(p);this.ci.w(t,k);t=g.b.fp(k,d,n);b.oH(t)?(r=p,p=this.Ja.rl(p)):(q=p,p=this.Ja.pq(p))}p=r;n=q;
t=this.Ja.ga(p);q=this.Ja.ga(n);this.ci.w(t,k);this.ci.w(q,m);if(n==f||(k=g.b.fp(m,d,k),b.Hm(k)))e=this.Ja.fv(n,p,-2,!1),this.XC(d,p,h),this.WC(d,n,f)}else null==this.sb&&(this.sb=new g.zb),this.sb.Fc(p),this.sb.Sc(n),n=this.sb.ae(d,!0),0>n?(n=this.Ja.Be(h),this.Ja.zd(h,-1),e=this.Ja.Qn(-3),this.WC(d,n,f)):1<n&&(n=this.Ja.hb(f),this.Ja.zd(f,-1),e=this.Ja.fv(-1,n,-3,!1),this.XC(d,n,h));return e};b.prototype.XC=function(d,e,f){if(e!=f){var h=this.Ja.ga(e),k=this.Ja.hb(e),m=new g.b,n=new g.b;for(this.ci.w(h,
m);e!=f&&2<this.Ja.size(-1);){this.ci.w(this.Ja.ga(k),n);h=g.b.fp(n,d,m);if(b.Hm(h))break;h=e;e=k;m.K(n);k=this.Ja.hb(e);this.ci.zd(h)}}};b.prototype.WC=function(d,e,f){if(e==f)return f;var h=this.Ja.ga(e),k=this.Ja.Be(e),m=new g.b,n=new g.b;for(this.ci.w(h,m);e!=f&&2<this.Ja.size(-1);){this.ci.w(this.Ja.ga(k),n);h=g.b.fp(m,d,n);if(b.Hm(h))break;h=e;e=k;m.K(n);k=this.Ja.Be(e);this.ci.zd(h)}return e};b.Dv=function(d,e,f){var h=new g.Wb;h.set(e.x);h.sub(d.x);var k=new g.Wb;k.set(f.y);k.sub(d.y);var m=
new g.Wb;m.set(e.y);m.sub(d.y);e=new g.Wb;e.set(f.x);e.sub(d.x);h.Gg(k);m.Gg(e);h.sub(m);return h};b.Hm=function(d){return 0>d};b.oH=function(d){return 0<d};b.j0=function(d){return 0==d};return b}();g.Gu=a})(J||(J={}));(function(g){var u=function(){function l(c){this.a=null;this.gI=!0;this.nd=c}l.eJ=function(c,a,b){c=g.la.es(c);return g.Fu.jw(a.Ce(),a.lf(),b.Ce(),b.lf(),g.Tb.Wx(c))};l.MP=function(c,a){var b=new g.Ra;g.Fu.oV(c,a,b);return b};l.U=function(c,a,b,d){b=new l(b);b.a=c;b.qa=a;b.gI=d;return b.MN()};
l.prototype.vN=function(c){return g.Fu.uR(this.a,c)};l.prototype.AN=function(c){return g.Hu.U(this.a,c,this.nd)};l.prototype.MN=function(){var c=this.qa,a=g.la.es(c);c=g.la.CO(c);var b=1.00001*c;c*=1.000001;for(var d=!1,e=30<this.a.hd+10?1E3:(this.a.hd+10)*(this.a.hd+10),f=0,h=this.a.ET();;f++){if(f>e)throw g.f.Y("Internal Error: max number of iterations exceeded");var k=this.vN(a);d=d||k;this.gI&&(k=0!=this.a.$p(a,!0,!1),d=d||k);k=!1;if(0==f||h||g.Hu.$I(!0,this.a,c,null,this.nd))k=this.AN(b),d=d||
k;if(!k)break;g.Ep.Sp(this.nd)}return d};return l}();g.$j=u})(J||(J={}));(function(g){var u=function(){function c(a){this.ge=this.Nc=null;this.Gt=0;this.Vb=a;this.NA=!0}c.prototype.cw=function(a,b){var d=this.a.ec(a);if(null==d){if(!this.a.gd(a,b))return null;d=b}return d};c.prototype.qr=function(){var a;void 0===a&&(a=!1);this.Gt++;if(a||0==(this.Gt&4095))this.Gt=0,g.Ep.Sp(this.Vb)};c.prototype.xQ=function(){var a=this.a.rr(!1),b=!1,d=new g.zb,e=new g.zb,f=new g.g;f.Ka();var h=new g.g;h.Ka();for(var k=
new g.Ra,m=new g.AD,n=a.next();-1!=n;n=a.next()){g.Ep.Sp(this.Vb);var p=null,q=!1;if(!g.R.lo(this.a.dc(a.gk))){p=this.cw(n,d);if(null==p)continue;p.s(f);f.O(this.qa,this.qa);if(p.Qg(this.qa))if(p.Qg(0))q=!0,p=null;else continue}var r=this.a.rr(a),t=r.next();for(-1!=t&&(t=r.next());-1!=t;t=r.next()){var v=null,E=!1;if(!g.R.lo(this.a.dc(r.gk))){v=this.cw(t,e);if(null==v)continue;v.s(h);if(v.Qg(this.qa))if(v.Qg(0))E=!0,v=null;else continue}var O=0,M=0;if(null!=p&&null!=v)f.tH(h)&&(m.gp(p),m.gp(v),m.Ia(this.qa,
!1),O=m.ul(0),M=m.ul(1),0<O+M&&(this.a.Fr(n,m,0,!0),this.a.Fr(t,m,1,!0)),m.clear());else if(null!=p){var S=new g.b;this.a.w(t,S);if(f.contains(S)){m.gp(p);this.a.bj(t,k);m.rA(this.qa,k,!1);O=m.ul(0);if(0<O)if(this.a.Fr(n,m,0,!0),E){E=-1;for(S=this.a.T(t);-1!=S&&S!=t&&(v=this.cw(S,e),E=S,null!=v&&v.Qg(0));S=this.a.T(S));for(S=t;-1!=S&&(this.a.Hh(S,m.Jf),S!=E);S=this.a.T(S));}else this.a.Hh(t,m.Jf);m.clear()}}else if(null!=v){if(S=new g.b,this.a.w(n,S),h.O(this.qa,this.qa),h.contains(S)){m.gp(v);this.a.bj(n,
k);m.rA(this.qa,k,!1);M=m.ul(0);if(0<M)if(this.a.Fr(t,m,0,!0),q){E=-1;for(S=this.a.T(n);-1!=S&&S!=n&&(v=this.cw(S,e),E=S,null!=v&&v.Qg(0));S=this.a.T(S));for(S=n;-1!=S&&(this.a.Hh(S,m.Jf),S!=E);S=this.a.T(S));}else this.a.Hh(n,m.Jf);m.clear()}}else continue;if(0!=O+M){if(0!=O){p=this.a.ec(n);if(null==p){if(!this.a.gd(n,d))continue;p=d;d.s(f)}else p.s(f);if(p.Qg(this.qa))break}b=!0}}}return b};c.prototype.yQ=function(){return this.hW()};c.prototype.hW=function(){return(new g.yD).uZ(this.a,this.qa)};
c.prototype.aJ=function(){var a=!1;null==this.Nc&&(this.Nc=new g.bk);var b=new g.ha(0);b.Db(this.a.hd+1);for(var d=this.a.rr(),e=d.next();-1!=e;e=d.next())b.add(e);this.a.Vx(b,b.size);b.add(-1);d=this.a.Kd();e=this.a.Kd();this.ge=new g.CD(this.a,this.qa,!this.NA);this.Nc.kp(this.ge);var f=new g.ha(0),h=new g.ha(0),k=0;new g.b;var m=this.a.ud;this.a.xb.rc();for(var n=this.a.xb.va[0].i,p,q,r=b.get(k++);-1!=r;){q=m.S(r,0);p=n[2*q];q=n[2*q+1];var t=p,v=q;do{var E=m.S(r,2),O=m.S(r,1);if(-1!=E){var M=m.S(E,
0),S=n[2*M];M=n[2*M+1];0>(v<M?-1:v>M?1:t<S?-1:t>S?1:0)&&(h.add(r),h.add(E))}-1!=O&&(M=m.S(O,0),S=n[2*M],M=n[2*M+1],0>(v<M?-1:v>M?1:t<S?-1:t>S?1:0)&&(h.add(O),h.add(O)));S=this.a.Na(r,d);-1!=S&&(f.add(S),this.a.Qa(r,d,-1));S=this.a.Na(r,e);-1!=S&&(f.add(S),this.a.Qa(r,e,-1));r=b.get(k++);-1!==r&&(v=m.S(r,0),t=n[2*v],v=n[2*v+1])}while(-1!=r&&t===p&&v===q);t=1==f.size&&2==h.size;S=v=-1;E=0;for(O=f.size;E<O;E++){M=f.get(E);var da=this.Nc.Be(M);-1==da||f.UG(da)||(v=da);M=this.Nc.hb(M);-1==M||f.UG(M)||
(S=M);if(-1!=v&&-1!=S)break}this.ge.dL(q,p);E=0;for(O=f.size;E<O;E++)M=f.get(E),this.Nc.zd(M,-1);f.clear(!1);if(!t&&-1!=v&&-1!=S&&this.AP(v,S)){a=!0;this.Ti=this.ge.Dm();break}E=0;for(O=h.size;E<O;E+=2){q=h.get(E);p=h.get(E+1);t?(q=this.Nc.fv(v,S,q,!0),t=!1):q=this.Nc.addElement(q,-1);if(this.ge.yg){this.Ti=this.ge.Dm();a=!0;break}-1==this.a.Na(p,d)?this.a.Qa(p,d,q):this.a.Qa(p,e,q)}if(a)break;h.Gh(0)}this.a.Xd(d);this.a.Xd(e);return a};c.prototype.AP=function(a,b){this.ge.compare(this.Nc,this.Nc.ga(a),
b);a=this.ge.yg;this.ge.ks();return a};c.jF=function(a){for(var b=a.ld;-1!=b;b=a.Ae(b))if(g.R.Bc(a.dc(b)))return!0;return!1};c.rR=function(a,b,d,e){if(!c.jF(a))return!1;b=new c(e);b.a=a;b.qa=d;if(15>a.hd)a=b.xQ();else return b.yQ();return a};c.U=function(a,b,d){return c.rR(a,a.uG(),b,d)};c.$I=function(a,b,d,e,f){if(!c.jF(b))return!1;var h=new c(f);h.a=b;h.qa=d;h.NA=a;if(h.aJ())return null!=e&&e.Or(h.Ti),!0;var k=new g.xd;k.HC();b.Qc(k);h=new c(f);h.a=b;h.qa=d;h.NA=a;a=h.aJ();k.HC();b.Qc(k);return a?
(null!=e&&e.Or(h.Ti),!0):!1};c.Wl=function(a,b){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*b<1*a*b};c.vQ=function(a,b,d,e){if(g.R.Bc(b.F()))return(new c(e)).wQ(a,b,d);throw g.f.Y("crack_A_with_B");};c.prototype.wQ=function(a,b,d){var e=new g.g;a.Zb(e);var f=new g.g;b.Zb(f);f.O(d,d);if(!f.isIntersecting(e))return a;var h=a.ib,k=null;null!=h&&(k=h.Hb);c.Wl(a,a.D())&&(k=g.la.pj(a,f));var m=null!=k?k.getIterator():null,n=b.Ba();b=a.Ba();var p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=
[];n.Ta();)for(;n.Aa();){var q=n.aa();if(null!=k)for(m.wn(q,d),h=m.next();-1!=h;h=m.next()){if(this.qr(),b.Rb(k.ga(h),-1),b.Aa()){h=b.aa();var r=h.Ia(q,null,p,null,d);for(h=0;h<r;++h){var t=p[h];if(0!=t&&1!=t){var v=b.wb(),E=new l;E.t=t;E.index=v;f.push(E)}}}}else{var O=new g.g;q.Zb(O);O.O(d,d);if(e.isIntersecting(O))for(b.ej();b.Ta();)for(;b.Aa();)if(this.qr(),h=b.aa(),t=new g.g,h.Zb(t),t.isIntersecting(O))for(r=h.Ia(q,null,p,null,d),h=0;h<r;++h)t=p[h],0!=t&&1!=t&&(v=b.wb(),E=new l,E.t=t,E.index=
v,f.push(E))}}if(0==f.length)return a;f=f.sort(l.ls);a=a.Ea();for(b.ej();b.Ta()&&!b.Aa(););d=b.aa();e=new g.og;k=-1;h=0;for(m=f.length;h<m;){p=f[h].index;for(n=h+1;n<m&&f[n].index==p;)++n;for(;b.wb()<p;){this.qr();q=b.Aa();t=b.Pa;(O=q||!b.io()||b.jo())&&a.$b(d,k!=t);k=t;if(!q)for(;b.Ta()&&!b.Aa(););d=b.aa()}for(p=0;h<n;h++)t=f[h].t,t!=p&&(d.jh(p,t,e),p=t,t=b.Pa,a.$b(e.get(),k!=t),k=t);if(O=(q=b.Aa())||!b.io()||b.jo())d.jh(p,1,e),a.$b(e.get(),!1);if(q)d=b.aa();else{for(;b.Ta()&&!b.Aa(););d=b.Aa()?
b.aa():null}h=n}null!=d&&(t=b.Pa,(O=(q=b.Aa())||!b.io()||b.jo())&&a.$b(d,k!=t),k=t);for(q=b.Aa();;){if(!q){for(;b.Ta()&&!(q=b.Aa()););if(!q)break}d=b.aa();t=b.Pa;(O=(q=b.Aa())||!b.io()||b.jo())&&a.$b(d,k!=t);k=t}return a};return c}();g.Hu=u;var l=function(){function c(){}c.ls=function(a,b){return a.index==b.index?a.t>b.t?1:a.t<b.t?-1:0:a.index>b.index?1:-1};return c}()})(J||(J={}));(function(g){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";
a[a.Uncut=4]="Uncut"})(g.TL||(g.TL={}));var u=function(){return function(a,b,d,e,f,h,k,m,n,p,q){this.W=a;this.Jt=b;this.vt=d;this.Ag=e;this.Ym=p;this.Il=q}}();g.a_=u;var l=function(){function a(b,d){this.yI=b;this.Ni=d}a.prototype.yN=function(b,d){var e=new g.b;this.Ni.w(b,e);var f=new g.b;this.Ni.w(d,f);e=e.compare(f);if(0!=e)return e;b=this.Ni.Na(b,this.yI);d=this.Ni.Na(d,this.yI);return b<d?-1:b==d?0:1};return a}(),c=function(){return function(a,b,d,e,f,h,k,m,n){this.Ag=a;this.vt=b;this.xB=d;this.JI=
e;this.Ki=f;this.Il=h;this.Ym=k;this.KI=m;this.gV=n}}();g.$Z=c;g.UL=function(){function a(){}a.SL=function(b,d,e,f,h,k){if(d.u())b=new u(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else if(e.u())b=new u(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else{var m=new g.Yc;m.Bb(d);m.Bb(e);g.$j.U(m,f,k,!0);if(0==m.hd)b=new u(d.Ea(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(b);else{d=0;e=m.Kd();for(f=m.ld;-1!=f;f=m.Ae(f))for(k=m.Kb(f);-1!=k;k=m.Qb(k))for(var n=m.Za(k),p=
0,q=m.Ha(k);p<q;n=m.T(n),p++)m.Qa(n,e,d++);d=a.PN(e,m);a.jN(b,d,m,h)}}};a.PN=function(b,d){for(var e=d.hd,f=new g.ha(0),h=d.ld;-1!=h;h=d.Ae(h))for(var k=d.Kb(h);-1!=k;k=d.Qb(k))for(var m=d.Za(k),n=0,p=d.Ha(k);n<p;m=d.T(m),n++)f.add(m);var q=new l(b,d);f.Zd(0,e,function(Ia,Ga){return q.yN(Ia,Ga)});b=[];var r=[],t=d.Kd(),v=d.Kd();h=d.ld;k=d.Ae(h);p=new g.b;var E=new g.b,O=f.get(0),M=d.cd(O),S=d.Zf(M);d.w(O,p);var da=1;for(m=0;da<e-1;){var ca=!1;for(n=da;n<e;n++)if(n!=m){var fa=f.get(n),qa=d.cd(fa),
ya=d.Zf(qa);d.w(fa,E);if(p.qb(E))S==h&&ya==k&&(ca=a.CN(t,v,d,b,r,M,O,qa,fa));else break}if(ca||m==da-1){ca&&m==da-1&&da--;if(++m==e)break;O=f.get(m);M=d.cd(O);S=d.Zf(M);d.w(O,p)}ca||(da=m+1)}e=[];for(h=d.ld;-1!=h;h=d.Ae(h))for(k=d.Kb(h);-1!=k;k=d.Qb(k))for(f=d.Za(k),n=0,p=d.Ha(k);n<p;f=d.T(f),n++){m=d.Na(f,v);if(0<=m)for(;m<r.length&&r[m].Ag==f;)e.push(r[m++]);m=d.Na(f,t);if(0<=m)for(;m<b.length&&b[m].Ag==f;)e.push(b[m++])}d.Xd(t);d.Xd(v);return e};a.CN=function(b,d,e,f,h,k,m,n,p){var q=e.wj(k),r=
e.wj(n),t=e.Za(k),v=e.Za(n),E=e.Ma(m),O=e.Ma(p),M=!1,S=!1,da=!1,ca=!1;m!=t&&(p!=v&&(M=a.DN(b,e,f,k,E,n,O)),p!=r&&(S=a.EN(b,e,f,k,E,n,p)));m!=q&&(p!=v&&(da=a.FN(d,e,h,k,m,n,O,t)),p!=r&&(ca=a.GN(d,e,h,k,m,n,p,t)));M&&S&&da?(b=f.length-1,2==h[ca?h.length-2:h.length-1].Ki&&(f[b-1]=f[b],--f.length)):M&&S&&ca&&2==h[h.length-1].Ki&&(h=f[f.length-1],--f.length,e.Na(h.Ag,b)==f.length&&e.Qa(h.Ag,b,-1));return M||S||da||ca};a.DN=function(b,d,e,f,h,k,m){var n=new g.zb,p=new g.zb,q=[0,0],r=[0,0],t=d.ec(h);null==
t&&(d.gd(h,n),t=n);n=d.ec(m);null==n&&(d.gd(m,p),n=p);t=t.Ia(n,null,q,r,0);2>t&&(f=new c(h,f,q[0],NaN,t,m,k,r[0],NaN),e.push(f),f=d.Na(h,b),0>f&&d.Qa(h,b,e.length-1));return!0};a.EN=function(b,d,e,f,h,k,m){var n=new g.zb,p=new g.zb,q=[0,0],r=[0,0],t=d.ec(h);null==t&&(d.gd(h,n),t=n);n=d.ec(m);null==n&&(d.gd(m,p),n=p);t=t.Ia(n,null,q,r,0);return 2>t?(f=new c(h,f,q[0],NaN,t,m,k,r[0],NaN),e.push(f),f=d.Na(h,b),0>f&&d.Qa(h,b,e.length-1),!0):!1};a.FN=function(b,d,e,f,h,k,m,n){var p=new g.zb,q=new g.zb,
r=[0,0],t=[0,0],v=d.ec(h);null==v&&(d.gd(h,p),v=p);p=d.ec(m);null==p&&(d.gd(m,q),p=q);v=v.Ia(p,null,r,t,0);if(2==v)return f=new c(h,f,r[0],r[1],v,m,k,t[0],t[1]),e.push(f),f=d.Na(h,b),0>f&&d.Qa(h,b,e.length-1),!0;q=!1;h==n&&(f=new c(h,f,r[0],NaN,v,m,k,t[0],NaN),e.push(f),f=d.Na(h,b),0>f&&d.Qa(h,b,e.length-1),q=!0);return q};a.GN=function(b,d,e,f,h,k,m,n){var p=new g.zb,q=new g.zb,r=[0,0],t=[0,0],v=d.ec(h);null==v&&(d.gd(h,p),v=p);p=d.ec(m);null==p&&(d.gd(m,q),p=q);v=v.Ia(p,null,r,t,0);if(2==v)return f=
new c(h,f,r[0],r[1],v,m,k,t[0],t[1]),e.push(f),f=d.Na(h,b),0>f&&d.Qa(h,b,e.length-1),!0;q=!1;h==n&&(f=new c(h,f,r[0],NaN,v,m,k,t[0],NaN),e.push(f),f=d.Na(h,b),0>f&&d.Qa(h,b,e.length-1),q=!0);return q};a.jN=function(b,d,e,f){var h=[];h[0]=new g.b;h[1]=new g.b;h[2]=new g.b;h[3]=new g.b;var k=new g.b,m=new g.b,n=new g.b,p=new g.b,q=null;null!=f&&(q=new g.og,q.ps());var r=0,t=null,v=new g.zb;new g.zb;for(var E=e.Kb(e.ld);-1!=E;E=e.Qb(E)){for(var O=4,M=-1,S=-1,da=-1,ca=-1,fa=NaN,qa=!0,ya=!1,Ia=!0,Ga=!0,
Ma=!0,La=0,Oa=E,Pa=0,Ta=e.Za(E),Xa=e.Ha(E),bb=0;bb<Xa;Ta=e.T(Ta),bb++){var $a=e.ec(Ta);if(null==$a){if(!e.gd(Ta,v))continue;$a=v}-1==S&&(S=Ta);for(var Sa=0;r<d.length&&Ta==d[r].Ag;){M=d[r].vt;var Va=d[r].Ag,Ra=d[r].xB,ab=d[r].Ym,Za=d[r].Il,eb=d[r].KI;if(2==d[r].Ki){if(ya||(Oa=M,S=Va,Pa=Ra,da=ab,ca=Za,fa=eb,O=2,null!=f?t=new g.Oa:La=0,Ma=!1,Ga=!0),Ra=d[r].JI,eb=d[r].gV,null!=f?($a.jh(Sa,d[r].JI,q),t.$b(q.get(),Ga)):La++,Sa=Ra,ya=!0,Ga=qa=!1,r+1==d.length||2!=d[r+1].Ki||d[r+1].Ag==Va&&d[r+1].xB!=Sa){if(null!=
f){var Wa=new u(t,2,M,Va,Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa);f.push(Wa)}else null.add(La);Oa=M;S=Va;Pa=Ra;da=ab;ca=Za;fa=eb;O=2;ya=qa=!1;Ga=Ma=!0}}else{var db=e.T(Va);if(r<d.length-1&&d[r+1].Ag==db&&d[r+1].Il==Za&&2==d[r+1].Ki)Ra!=Sa&&(Ma&&(null!=f?t=new g.Oa:La=0),qa=0<r&&d[r-1].vt==M?1==O?0:0==O?1:3:3,null!=f?($a.jh(Sa,Ra,q),t.$b(q.get(),Ga),Wa=new u(t,qa,M,Va,Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa),f.push(Wa)):(La++,null.add(La)),Sa=Ra,Oa=M,S=Va,Pa=Ra,da=ab,ca=Za,fa=eb,O=qa,qa=Ia=!1,Ga=Ma=!0);else if(!a.KN(b,
e,d,r,k,m)){a.HN(e,d,r,E,Ta,n,p);var Ya=!1;db=!1;Wa=!0;if(!(k.qb(n)||m.qb(n)||k.qb(p)||m.qb(p))){h[0].K(k);h[1].K(m);h[2].K(n);h[3].K(p);h.sort(g.b.Wr);var ib=h[0],jb=h[1],kb=h[2],lb=h[3];ib.qb(k)?jb.qb(m)?b?(db=Ya=!0,Wa=!1):Ya=!1:lb.qb(m)?b?Wa=db=Ya=!0:Ya=!1:(Ya=!0,Wa=jb.qb(n)):jb.qb(k)?kb.qb(m)?b?(db=Ya=!0,Wa=!1):Ya=!1:ib.qb(m)?b?Wa=db=Ya=!0:Ya=!1:(Ya=!0,Wa=kb.qb(n)):kb.qb(k)?lb.qb(m)?b?(db=Ya=!0,Wa=!1):Ya=!1:jb.qb(m)?b?Wa=db=Ya=!0:Ya=!1:(Ya=!0,Wa=lb.qb(n)):ib.qb(m)?b?(db=Ya=!0,Wa=!1):Ya=!1:kb.qb(m)?
b?Wa=db=Ya=!0:Ya=!1:(Ya=!0,Wa=ib.qb(n))}if(Ya){Ya=Ta==Va;if(Ra!=Sa||Ya&&0==Sa)Ma&&(null!=f?t=new g.Oa:La=0),null!=f?($a.jh(Sa,Ra,q),t.$b(q.get(),Ga)):La++;if(Wa)if(1!=O){if(Ra!=Sa||Ya&&0==Sa)null!=f?(Wa=new u(t,1,M,Va,Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa),f.push(Wa)):null.add(La);if(!db)O=1;else if(r>=d.length-2||d[r+2].vt!=M)O=0}else{if(Ra!=Sa||Ya&&0==Sa)null!=f?(Wa=new u(t,3,M,Va,Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa),f.push(Wa)):null.add(La);O=1}else if(0!=O){if(Ra!=Sa||Ya&&0==Sa)null!=f?(Wa=new u(t,0,M,Va,
Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa),f.push(Wa)):null.add(La);if(!db)O=0;else if(r>=d.length-2||d[r+2].vt!=M)O=1}else{if(Ra!=Sa||Ya&&0==Sa)null!=f?(Wa=new u(t,3,M,Va,Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa),f.push(Wa)):null.add(La);O=0}if(Ra!=Sa||Ya&&0==Sa)Sa=Ra,Oa=M,S=Va,Pa=Ra,da=ab,ca=Za,fa=eb,qa=Ia=!1,Ga=Ma=!0}}}r++}1!=Sa&&(Ma&&(null!=f?t=new g.Oa:La=0),null!=f?($a.jh(Sa,1,q),t.$b(q.get(),Ga)):La++,Ga=Ma=!1,Ia=!0)}Ia&&(Ra=1,Va=e.wj(E),Va=e.Ma(Va),Za=ab=-1,eb=NaN,qa?null!=f?(Wa=new u(t,4,M,Va,Ra,O,Oa,S,Pa,ab,
Za,eb,da,ca,fa),f.push(Wa)):null.add(La):(qa=1==O?0:0==O?1:3,null!=f?(Wa=new u(t,qa,M,Va,Ra,O,Oa,S,Pa,ab,Za,eb,da,ca,fa),f.push(Wa)):null.add(La)))}};a.KN=function(b,d,e,f,h,k){var m=e[f].KI;if(1==m)return a.IN(b,d,e,f,h,k);if(0==m)return a.JN(b,d,e,f,h,k);throw g.f.za();};a.IN=function(b,d,e,f,h,k){var m=new g.zb,n=e[f].Ag,p=e[f].Ym,q=e[f].Il,r=-1,t=-1,v=-1,E=-1;if(!b&&0<f){var O=e[f-1];r=O.Ag;t=O.Ym;v=O.Il;E=O.Ki}var M=-1,S=-1,da=-1,ca=-1;f<e.length-1&&(O=e[f+1],M=O.Ag,S=O.Ym,da=O.Il,ca=O.Ki);var fa=
d.T(n);O=d.T(q);if(!b)return 0<f&&r==n&&t==p&&v==O&&2==E||f<e.length-1&&M==fa&&S==p&&da==O&&2==ca?(b=d.ec(q),null==b&&(d.gd(q,m),b=m),k.K(b.qg()),h.Vt(k),k.normalize(),h.normalize(),!1):f<e.length-1&&M==n&&S==p&&da==O?(b=d.ec(q),null==b&&(d.gd(q,m),b=m),h.K(b.qg()),b=d.ec(O),null==b&&(d.gd(O,m),b=m),k.K(b.qg()),h.lr(),k.normalize(),h.normalize(),!1):!0;if(f==e.length-1||M!=n||S!=p||da!=O||2==ca)return b=d.ec(q),null==b&&(d.gd(q,m),b=m),k.K(b.qg()),h.Vt(k),k.normalize(),h.normalize(),!1;b=d.ec(q);
null==b&&(d.gd(q,m),b=m);h.K(b.qg());b=d.ec(O);null==b&&(d.gd(O,m),b=m);k.K(b.qg());h.lr();k.normalize();h.normalize();return!1};a.JN=function(b,d,e,f,h,k){var m=new g.zb,n=e[f].Ag,p=e[f].Ym,q=e[f].Il,r=-1,t=-1,v=-1,E=-1;if(!b&&f<e.length-1){var O=e[f+1];r=O.Ag;t=O.Ym;v=O.Il;E=O.Ki}var M=-1,S=-1,da=-1;O=-1;0<f&&(O=e[f-1],M=O.Ag,S=O.Ym,da=O.Il,O=O.Ki);var ca=d.T(n),fa=d.Ma(q);return b?0==f||M!=n||S!=p||da!=fa||2==O?(b=d.ec(q),null==b&&(d.gd(q,m),b=m),k.K(b.qg()),h.Vt(k),k.normalize(),h.normalize(),
!1):!0:0<f&&M==n&&S==p&&da==fa&&2==O||f<e.length-1&&r==ca&&t==p&&v==fa&&2==E?(b=d.ec(q),null==b&&(d.gd(q,m),b=m),k.K(b.qg()),h.Vt(k),k.normalize(),h.normalize(),!1):!0};a.HN=function(b,d,e,f,h,k,m){var n=new g.zb,p=b.ec(h);null==p&&(b.gd(h,n),p=n);e=d[e];d=e.Ag;e=e.xB;h=b.T(d);if(1==e)k.K(p.qg()),-1!=h&&h!=b.wj(f)?(p=b.ec(h),null==p&&(b.gd(h,n),p=n),m.K(p.qg()),p=b.ec(d),null==p&&b.gd(d,n)):m.K(k),k.lr(),m.normalize(),k.normalize();else if(0==e)m.K(p.qg()),k.Vt(m),m.normalize(),k.normalize();else throw g.f.za();
};return a}()})(J||(J={}));(function(g){(function(f){f[f.Linear=0]="Linear";f[f.Angular=1]="Angular";f[f.Area=2]="Area"})(g.iN||(g.iN={}));var u=function(){function f(h,k,m){this.od=k;this.gi=m;this.eB=h}f.prototype.Ib=function(h){return h instanceof f?this.gi===h.gi:!1};f.MG=function(h){return 0!==h.od?null:-1===h.eB?new f(-1,2,h.gi*h.gi):f.hh(d[h.eB])};f.hh=function(h){h=b[h];return void 0===h?null:h};f.iQ=function(h,k,m){var n=null;if(void 0!==m&&null!==m)try{"EPSG"===m.values[0]&&(n=f.hh(parseInt(m.values[1])))}catch(p){}null===
n&&(n=new f(-1,h,k));return n};f.prototype.xc=function(){return this.eB};f.prototype.pG=function(h){if(h.od!=this.od)throw g.f.Eb();return this.gi/h.gi};f.Rh=function(h,k,m){return k.pG(m)*h};f.IF=function(h,k,m,n,p){m=m.pG(n);for(n=0;n<k;n++)p[n]=h[n]*m};return f}();g.Uc=u;for(var l=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,
109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,
.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,
109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],c=[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,
.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,
109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,
9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,
109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],b=[],d=[],e=0;e<l.length;e+=2)b[l[e]]=new u(l[e],2,l[e+1]);l=null;for(e=0;e<c.length;e+=2)b[c[e]]=new u(c[e],1,c[e+1]);c=null;for(e=0;e<a.length;e+=3)b[a[e]]=new u(a[e],0,a[e+1]),d[a[e]]=a[e+2];a=null})(J||(J={}));(function(g){var u=function(){function l(){this.yb=this.mb=0}l.prototype.set=function(c,a){void 0!==a?(this.mb=c,this.yb=a):"number"===typeof c?(this.mb=c,this.yb=0):(this.mb=c.mb,this.yb=c.yb)};l.prototype.value=
function(){return this.mb};l.prototype.add=function(c){var a=this.mb+c.mb;c=this.yb+c.yb+2.220446049250313E-16*Math.abs(a);this.mb=a;this.yb=c};l.prototype.uO=function(){var c=this.mb+1,a=this.yb+2.220446049250313E-16*Math.abs(c);this.mb=c;this.yb=a};l.prototype.nO=function(c,a){this.mb=c.mb+a.mb;this.yb=c.yb+a.yb+2.220446049250313E-16*Math.abs(this.mb)};l.prototype.sub=function(c){if("number"===typeof c){var a=this.mb-c;c=this.yb+2.220446049250313E-16*Math.abs(a)}else a=this.mb-c.mb,c=this.yb+c.yb+
2.220446049250313E-16*Math.abs(a);this.mb=a;this.yb=c};l.prototype.Gg=function(c){var a=this.mb*c.mb;this.yb=this.yb*Math.abs(c.mb)+c.yb*Math.abs(this.mb)+this.yb*c.yb+2.220446049250313E-16*Math.abs(a);this.mb=a};l.prototype.ep=function(c){var a=this.mb*c;this.yb=this.yb*Math.abs(c)+2.220446049250313E-16*Math.abs(a);this.mb=a};l.prototype.Ul=function(c,a){var b=Math.abs(c.mb)*Math.abs(a.mb);this.yb=c.yb*Math.abs(a.mb)+a.yb*Math.abs(c.mb)+c.yb*a.yb+2.220446049250313E-16*Math.abs(b);this.mb=b};l.prototype.um=
function(c){var a=Math.abs(c.mb),b=this.mb/c.mb,d=(this.yb+Math.abs(b)*c.yb)/a;c.yb>.01*a&&(c=c.yb/a,d*=1+(1+c)*c);this.mb=b;this.yb=d+2.220446049250313E-16*Math.abs(b)};l.prototype.sqrt=function(){if(0<=this.mb){var c=Math.sqrt(this.mb),a=this.mb>10*this.yb?.5*this.yb/c:this.mb>this.yb?c-Math.sqrt(this.mb-this.yb):Math.max(c,Math.sqrt(this.mb+this.yb)-c);a+=2.220446049250313E-16*Math.abs(c)}else this.mb<-1*this.yb?a=c=NaN:(c=0,a=Math.sqrt(this.yb));this.mb=c;this.yb=a};l.prototype.sin=function(c){var a=
Math.sin(c.mb),b=Math.cos(c.mb);this.mb=a;a=Math.abs(a);this.yb=(Math.abs(b)+.5*a*c.yb)*c.yb+2.220446049250313E-16*a};l.prototype.cos=function(c){var a=Math.sin(c.mb),b=Math.cos(c.mb);this.mb=b;b=Math.abs(b);this.yb=(Math.abs(a)+.5*b*c.yb)*c.yb+2.220446049250313E-16*b};l.prototype.xg=function(){return Math.abs(this.mb)<=this.yb};l.prototype.Ys=function(){return this.xg()&&0!=this.yb};return l}();g.Wb=u})(J||(J={}));var Ja=new J.b,Ka=new J.b,Qa=new J.b,Ua=new J.b,cb=new J.b;(function(g){var u;(function(c){c[c.closedPath=
1]="closedPath";c[c.exteriorPath=2]="exteriorPath";c[c.ringAreaValid=4]="ringAreaValid"})(u||(u={}));var l=function(){function c(a,b,d,e,f,h,k){void 0!==b?(this.Ya=a,this.gk=b,this.il=d,this.ri=e,this.ya=h,this.TA=k,this.Ow=f):(this.Ya=a.Ya,this.gk=a.gk,this.il=a.il,this.ri=a.ri,this.ya=a.ya,this.TA=a.TA,this.Ow=a.Ow);this.PH=!0}c.prototype.next=function(){return this.PH?(this.PH=!1,this.ri):-1!=this.ri?(this.ri=this.Ya.T(this.ri),this.ya++,-1!=this.ri&&this.ri!=this.Ow?this.ri:this.tV()):-1};c.prototype.tV=
function(){this.il=this.Ya.Qb(this.il);for(this.ya=0;-1!=this.gk;){for(;-1!=this.il;this.il=this.Ya.Qb(this.il))if(this.Ow=this.ri=this.Ya.Za(this.il),-1!=this.ri)return this.ri;this.gk=this.Ya.Ae(this.gk);if(-1==this.gk)break;if(!this.TA||g.R.Bc(this.Ya.dc(this.gk)))this.il=this.Ya.Kb(this.gk)}return-1};c.LQ=function(a,b,d,e,f,h,k){return new c(a,b,d,e,f,h,k)};return c}();g.f_=l;u=function(){function c(){this.Co=this.Nm=this.Dk=this.dd=this.Kk=this.Oo=this.Ui=this.md=this.hi=this.Zg=this.bf=this.Sl=
null;this.Xw=this.ld=-1;this.hd=0;this.QA=!1;this.Qt=this.Rt=this.xb=null}c.prototype.Yh=function(a){return null!=this.bf?this.bf[a]:null};c.prototype.eh=function(a,b){if(null==this.bf){if(null==b)return;this.bf=[];for(var d=0,e=this.xb.D();d<e;d++)this.bf.push(null)}this.bf[a]=b};c.prototype.rp=function(a,b){this.md.P(a,1,b)};c.prototype.qp=function(a,b){this.md.P(a,2,b)};c.prototype.DC=function(a,b){this.md.P(a,6,b)};c.prototype.mq=function(a){return this.md.S(a,6)};c.prototype.Nx=function(a,b){this.md.P(a,
7,b)};c.prototype.Zv=function(a){return this.md.S(a,0)};c.prototype.SK=function(a,b){this.dd.P(a,1,b)};c.prototype.WK=function(a,b){this.dd.P(a,0,b)};c.prototype.vG=function(a){return this.dd.S(a,7)};c.prototype.op=function(a,b){this.dd.P(a,3,b)};c.prototype.pp=function(a,b){this.dd.P(a,4,b)};c.prototype.OV=function(a){null==this.dd&&(this.dd=new g.ad(8));var b=this.dd.Ke();this.dd.P(b,2,a);this.dd.P(b,5,0);this.dd.P(b,6,0);this.dd.P(b,7,b);return b};c.prototype.$R=function(a){this.dd.jd(a)};c.prototype.QV=
function(a){null==this.md&&(this.md=new g.ad(8),this.ud=new g.ad(5),this.Ui=new g.ie(0),this.Oo=new g.ie(0));var b=this.md.Ke();this.md.P(b,0,b);this.md.P(b,3,0);this.md.P(b,6,0);this.Nx(b,a);b>=this.Ui.size&&(a=16>b?16:g.L.truncate(3*b/2),this.Ui.resize(a),this.Oo.resize(a));this.Ui.set(b,0);this.Oo.set(b,0);return b};c.prototype.fG=function(a){this.md.jd(a)};c.prototype.Az=function(a){this.ud.jd(a);this.hd--};c.prototype.dJ=function(a){null==this.md&&(this.md=new g.ad(8),this.ud=new g.ad(5),this.Ui=
new g.ie(0),this.Oo=new g.ie(0));var b=this.ud.Ke(),d=0<=a?a:b;this.ud.P(b,0,d);if(0>a){if(d>=this.xb.D()){a=16>d?16:g.L.truncate(3*d/2);this.xb.resize(a);if(null!=this.bf)for(var e=0;e<a;e++)this.bf.push(null);null!=this.Zg&&this.Zg.resize(a);this.Rt=this.xb.Va(0)}this.xb.nb(d,-1E38,-1E38);null!=this.bf&&(this.bf[d]=null);null!=this.Zg&&this.Zg.write(d,1)}this.ud.P(b,4,2*d);this.hd++;return b};c.prototype.Bj=function(a,b,d){var e=-1!=b?this.Ma(b):this.wj(a),f=-1!=e?this.T(e):-1,h=this.dJ(null==d?
this.hd:-1),k=this.Ua(h);null!=d&&this.xb.ru(k,d);this.hj(h,a);this.Dc(h,f);this.Ec(h,e);-1!=f&&this.Ec(f,h);-1!=e&&this.Dc(e,h);d=this.Lb(a);e=this.Za(a);-1==b&&this.dh(a,h);b==e&&this.Sf(a,h);d&&-1==f&&(this.Dc(h,h),this.Ec(h,h));this.Wj(a,this.Ha(a)+1);a=this.Zf(a);this.Uj(a,this.D(a)+1);return h};c.prototype.zm=function(){null==this.Co&&(this.Co=new g.Ra(this.xb.description));return this.Co};c.prototype.np=function(a,b){this.dd.P(a,2,this.dd.S(a,2)&-134217729||(1==b?134217728:0))};c.prototype.$n=
function(a){return 0!=(this.dd.S(a,2)&134217728)?1:0};c.prototype.rO=function(a){var b=this.Pg(a.F(),a.description);1736==a.F()&&this.np(b,a.$n());this.GE(b,a);return b};c.prototype.sO=function(a){var b=this.Pg(a.F(),a.description);this.HE(b,a);return b};c.prototype.pX=function(a,b){null==this.md&&(this.md=new g.ad(8),this.ud=new g.ad(5),this.Ui=new g.ie(0),this.Oo=new g.ie(0));this.md.Le(this.md.Og+a);this.ud.Le(this.ud.Og+b);this.Ui.Db(this.Ui.size+a);this.Oo.Db(this.Oo.size+a)};c.prototype.GE=
function(a,b){this.pX(b.$(),b.D());this.Sl.yd(b,0,b.D());this.Rt=this.xb.Va(0);for(var d=null!=this.bf&&null!=b.af,e=0,f=b.$();e<f;e++)if(!(2>b.Ha(e))){var h=this.Ef(a,-1);this.An(h,b.Lb(e));for(var k=b.ua(e),m=b.zc(e);k<m;k++){var n=this.Bj(h,-1,null);if(d)if(n=this.Ua(n),0!=(b.KG(k)&1))this.eh(n,null);else{var p=new g.og;b.ec(k,p,!0);this.eh(n,p.get())}}}};c.prototype.HE=function(a,b){this.Sl.yd(b,0,b.D());this.Rt=this.xb.Va(0);a=this.Ef(a,-1);var d=0;for(b=b.D();d<b;d++)this.Bj(a,-1,null)};c.prototype.sZ=
function(a,b,d){var e=this.T(a);if(-1==e)throw g.f.za();for(var f=this.zm(),h=this.cd(a),k=0,m=b.ul(d);k<m;k++){var n=this.Ua(a),p=this.T(a),q=b.nq(d,k);0==k&&(q.jp(f),this.Hh(a,f));322==q.F()?this.eh(n,null):this.eh(n,g.R.$d(q));q.hp(f);k<m-1?a=this.Bj(h,p,f):this.Hh(e,f)}};c.prototype.rZ=function(a,b,d){var e=this.T(a);if(-1==e)throw g.f.za();for(var f=this.zm(),h=this.cd(a),k=0,m=b.ul(d);k<m;k++){var n=this.Ua(a),p=this.T(a),q=b.nq(d,m-k-1);0==k&&(q.hp(f),this.Hh(a,f));322==q.F()?this.eh(n,null):
this.eh(n,g.R.$d(q));q.jp(f);k<m-1?a=this.Bj(h,p,f):this.Hh(e,f)}};c.prototype.uG=function(){var a=new g.g;a.Ka();for(var b=this.rr(),d=new g.b,e=!0,f=b.next();-1!=f;f=b.next())this.w(f,d),e?a.Nb(d.x,d.y):a.Sk(d.x,d.y),e=!1;return a};c.prototype.Bb=function(a){var b=a.F();if(g.R.Bc(b))return this.rO(a);if(550==b)return this.sO(a);throw g.f.za();};c.prototype.FO=function(a,b){var d=b.F();if(g.R.Bc(d))this.GE(a,b);else if(550==d)this.HE(a,b);else throw g.f.za();};c.prototype.wO=function(a,b){var d=
this.Pg(1736,a.description);if(2>a.Ha(b))return d;this.Sl.yd(a,a.ua(b),a.zc(b));this.Rt=this.xb.Va(0);var e=this.Ef(d,-1);this.An(e,a.Lb(b)||!0);var f=null!=this.bf&&null!=a.af,h=a.ua(b);for(b=a.zc(b);h<b;h++){var k=this.Bj(e,-1,null);if(f)if(k=this.Ua(k),0!=(a.KG(h)&1))this.eh(k,null);else{var m=new g.og;a.ec(h,m,!0);this.eh(k,m.get())}}return d};c.prototype.ye=function(a){var b=this.dc(a),d=g.hM.Pg(b,this.Sl.description),e=this.D(a);if(0==e)return d;if(g.R.Bc(b)){b=this.$(a);for(var f=g.Xc.Sh(b+
1),h=g.Xc.ns(b+1,0),k=d.description,m=0,n=k.Ca;m<n;m++){for(var p=k.kd(m),q=g.oa.Sa(p),r=g.Xc.JF(p,e),t=this.xb.Va(p),v=0,E=0,O=0,M=this.Kb(a);-1!=M;M=this.Qb(M)){var S=0;this.Lb(M)&&(S|=1);this.rU(M)&&(S|=4);0!=S&&h.DK(E,S);var da=this.Ha(M);f.write(E++,O);O+=da;if(0==p){da=t;var ca=r,fa=new g.b;for(S=this.Za(M);v<O;S=this.T(S),v++){var qa=this.Ua(S);da.mc(2*qa,fa);ca.Bu(2*v,fa)}}else for(S=this.Za(M);v<O;S=this.T(S),v++)for(qa=this.Ua(S),ca=0;ca<q;ca++)fa=t.Ig(qa*q+ca),r.Mr(v*q+ca,fa)}d.yn(p,r);
f.write(b,e)}d.TK(h);d.UK(f);d.Oc(16777215)}else if(550==b){k=d.description;d.resize(e);m=0;for(n=k.Ca;m<n;m++){p=k.kd(m);q=g.oa.Sa(p);r=d.Va(p);t=this.xb.Va(p);v=0;M=this.Kb(a);da=this.Ha(M);for(S=this.Za(M);v<da;S=this.T(S),v++)for(qa=this.Ua(S),ca=0;ca<q;ca++)fa=t.Ig(qa*q+ca),r.Mr(v*q+ca,fa);d.yn(p,r)}d.Oc(16777215)}return d};c.prototype.kC=function(a){for(var b=this.Kb(a);-1!=b;b=this.sr(b));b=this.fT(a);var d=this.Ae(a);-1!=b?this.SK(b,d):this.ld=d;-1!=d?this.WK(d,b):this.Xw=b;this.$R(a)};c.prototype.Pg=
function(a,b){return void 0===b?this.MF(a,g.ke.ug()):this.MF(a,b)};c.prototype.MF=function(a,b){a=this.OV(a);null==this.xb?this.xb=this.Sl=new g.Hd(b):this.Sl.Tl(b);this.Qt=this.Sl.description;this.QA=1<this.Qt.Ca;-1==this.ld?this.ld=a:(this.WK(a,this.Xw),this.SK(this.Xw,a));return this.Xw=a};c.prototype.Ae=function(a){return this.dd.S(a,1)};c.prototype.fT=function(a){return this.dd.S(a,0)};c.prototype.dc=function(a){return this.dd.S(a,2)&2147483647};c.prototype.LK=function(a,b,d){b=this.Dk[b];a=
this.vG(a);a>=b.size&&b.resize(Math.max(g.L.truncate(1.25*a),16),-1);b.write(a,d)};c.prototype.wG=function(a,b){a=this.vG(a);b=this.Dk[b];return a<b.size?b.read(a):-1};c.prototype.NF=function(){null==this.Dk&&(this.Dk=[]);for(var a=0;a<this.Dk.length;a++)if(null==this.Dk[a])return this.Dk[a]=g.Xc.Sh(0),a;this.Dk.push(g.Xc.Sh(0));return this.Dk.length-1};c.prototype.cY=function(a){this.Dk[a]=null};c.prototype.Kb=function(a){return this.dd.S(a,3)};c.prototype.Sv=function(a){return this.dd.S(a,4)};c.prototype.D=
function(a){return this.dd.S(a,5)};c.prototype.$=function(a){return this.dd.S(a,6)};c.prototype.$p=function(a,b,d){for(var e=0,f=this.ld;-1!=f;f=this.Ae(f)){var h=this.dc(f);if(g.R.Bc(h)&&(!d||1736==h)){h=1736==this.dc(f);for(var k=this.Kb(f);-1!=k;){for(var m=0,n=this.Za(k);m<g.L.truncate(this.Ha(k)/2);){var p=this.T(n);if(-1==p)break;var q=this.Ua(n),r=this.Yh(q);null!=r?q=r.Pb():(r=this.Ua(p),q=this.xb.Yr(q,r));q<=a?(0==q?0==e&&(e=-1):e=1,p!=this.wj(k)&&(this.UC(p,n),this.pd(p,!0))):n=this.T(n);
m++}m=this.Za(k);for(n=this.Lb(k)?m:this.wj(k);0<this.Ha(k);)if(p=this.Ma(n),-1!=p){var t=this.Ua(p);r=this.Yh(t);null!=r?q=r.Pb():(q=this.Ua(n),q=this.xb.Yr(q,t));if(q<=a)0==q?0==e&&(e=-1):e=1,this.UC(p,n),this.pd(p,!1),m==p&&(m=this.Za(k));else if(n=this.Ma(n),n==m)break}else{this.pd(n,!0);0==e&&(e=-1);break}n=this.Ha(k);b&&(h?3>n:2>n)?(k=this.sr(k),e=0<n?1:0==e?-1:e):k=this.Qb(k)}}}return e};c.prototype.UC=function(a,b){var d=this.Ua(a),e=this.Ua(b);null!=this.Zg&&(d=this.Zg.read(d),this.Zg.write(e,
d));if(null!=this.hi)for(e=0,d=this.hi.length;e<d;e++)if(null!=this.hi[e]){var f=this.Na(a,e);-1!=f&&this.Qa(b,e,f)}};c.prototype.em=function(a,b,d){var e=0,f=this.T(a);if(-1==f)throw g.f.za();for(var h=this.Ua(a),k=this.Ua(f),m=this.Yh(h),n=null==m?this.xb.Yr(h,k):m.Pb(),p=0;p<d;p++){var q=b[p];if(0<q&&1>q){var r=q;null!=m&&(r=0<n?m.zy(q)/n:0);this.xb.VD(h,k,r,this.zm());var t=this.Bj(this.cd(a),f,this.zm());e++;if(null!=m){var v=m.jl(0,q);r=this.Ua(this.Ma(t));this.eh(r,v);this.wf(t,v.wc());if(p==
d-1||1==b[p+1])q=m.jl(q,1),this.eh(r,q)}}}return e};c.prototype.qZ=function(a,b,d){var e=0,f=this.T(a);if(-1==f)throw g.f.Y("internal error");var h=this.Ua(a),k=this.Ua(f),m=this.Yh(h),n=null==m?this.xb.Yr(h,k):m.Pb(),p=0;a=this.cd(a);for(var q=0;q<d;q++){var r=b[q];if(p<r&&1>r){var t=r;null!=m&&(t=0<n?m.zy(r)/n:0);this.xb.VD(h,k,t,this.zm());t=this.TT(a,f,this.zm());e++;if(null!=m){p=m.jl(p,r);var v=this.Ua(this.Ma(t));this.eh(v,p);this.nb(t,p.pa,p.ma);if(q==d-1||1==b[q+1])p=m.jl(r,1),t=this.Ua(t),
this.eh(t,p)}}p=r}return e};c.prototype.TT=function(a,b,d){var e=-1!=b?this.Ma(b):this.wj(a),f=-1!=e?this.T(e):-1,h=this.dJ(null==d?this.hd:-1),k=this.Ua(h);null!=d&&this.xb.ru(k,d);this.hj(h,a);this.Dc(h,f);this.Ec(h,e);-1!=f&&this.Ec(f,h);-1!=e&&this.Dc(e,h);d=this.Lb(a);e=this.Za(a);-1==b&&this.dh(a,h);b==e&&(d&&-1!=e||this.Sf(a,h));d&&-1==f&&(this.Dc(h,h),this.Ec(h,h));this.Wj(a,this.Ha(a)+1);a=this.Zf(a);this.Uj(a,this.D(a)+1);return h};c.prototype.gF=function(a,b,d){var e=this.Ua(b),f=this.Ua(d);
if(0>e||f>this.hd-1)throw g.f.I("invalid call");if(e>f&&!this.Lb(a))throw g.f.I("cannot iterate across an open path");for(a=0;b!=d;b=this.T(b))e=this.Ua(b),f=this.Yh(e),null!=f?a+=f.Pb():(f=this.Ua(this.T(b)),a+=this.xb.Yr(e,f));return a};c.prototype.Hh=function(a,b){var d=this.Ua(a);this.xb.ru(d,b);d=this.Yh(d);null!=d&&d.setStart(b);a=this.Ma(a);-1!=a&&(a=this.Ua(a),null!=this.Yh(a)&&d.setEnd(b))};c.prototype.bj=function(a,b){a=this.Ua(a);this.xb.ne(a,b)};c.prototype.wf=function(a,b){this.nb(a,
b.x,b.y)};c.prototype.nb=function(a,b,d){var e=this.Ua(a);this.xb.nb(e,b,d);e=this.Yh(e);null!=e&&e.GC(b,d);a=this.Ma(a);-1!=a&&(a=this.Ua(a),null!=this.Yh(a)&&e.am(b,d))};c.prototype.w=function(a,b){this.xb.w(this.ud.S(a,0),b)};c.prototype.Hc=function(a,b){this.xb.va[0].mc(2*this.ud.S(a,0),b)};c.prototype.xa=function(a){var b=new g.b;this.xb.w(this.ud.S(a,0),b);return b};c.prototype.PG=function(a,b){this.Rt.mc(2*a,b)};c.prototype.Rc=function(a,b,d){return this.xb.Rc(a,this.Ua(b),d)};c.prototype.setAttribute=
function(a,b,d,e){this.xb.setAttribute(a,this.Ua(b),d,e)};c.prototype.Ua=function(a){return this.ud.S(a,0)};c.prototype.lf=function(){var a=new g.b;this.w(void 0,a);return a.y};c.prototype.wq=function(a,b){a=this.Ua(a);b=this.Ua(b);var d=this.xb.va[0].i;return d[2*a]===d[2*b]&&d[2*a+1]===d[2*b+1]};c.prototype.kw=function(a,b){a=this.Ua(a);var d=this.xb.va[0].i;return d[2*a]===b.x&&d[2*a+1]===b.y};c.prototype.ZY=function(a,b){1>b&&(b=1);if(null==this.Zg){if(1==b)return;this.Zg=g.Xc.Wn(this.xb.D(),
1)}a=this.Ua(a);a>=this.Zg.size&&this.Zg.resize(a+1,1);this.Zg.write(a,b)};c.prototype.OG=function(a){a=this.Ua(a);return null==this.Zg||a>=this.Zg.size?1:this.Zg.read(a)};c.prototype.Qa=function(a,b,d){b=this.hi[b];a=this.Ua(a);b.size<this.xb.D()&&b.resize(this.xb.D(),-1);b.write(a,d)};c.prototype.Na=function(a,b){a=this.Ua(a);b=this.hi[b];return a<b.size?b.read(a):-1};c.prototype.Kd=function(){null==this.hi&&(this.hi=[]);for(var a=0;a<this.hi.length;a++)if(null==this.hi[a])return this.hi[a]=g.Xc.Sh(0,
-1),a;this.hi.push(g.Xc.Sh(0,-1));return this.hi.length-1};c.prototype.Xd=function(a){this.hi[a]=null};c.prototype.ec=function(a){return null!=this.bf?(a=this.Ua(a),this.bf[a]):null};c.prototype.gd=function(a,b){var d=this.ud.S(a,2);if(-1==d)return!1;if(this.QA){var e=new g.Ra;this.bj(a,e);b.setStart(e);this.bj(d,e);b.setEnd(e)}else this.xb.Hc(this.ud.S(a,0),Ja),b.pm(0,Ja),this.xb.Hc(this.ud.S(d,0),Ja),b.pm(1,Ja);return!0};c.prototype.DX=function(a,b,d){if(this.QA){var e=new g.Ra;this.bj(a,e);d.setStart(e);
this.bj(b,e);d.setEnd(e)}else this.xb.Hc(a,Ja),d.pm(0,Ja),this.xb.Hc(b,Ja),d.pm(1,Ja)};c.prototype.Ef=function(a,b){if(-1!=b){if(a!=this.Zf(b))throw g.f.za();var d=this.Js(b)}else d=this.Sv(a);var e=this.QV(a);-1!=b&&this.rp(b,e);this.qp(e,b);this.rp(e,d);-1!=d?this.qp(d,e):this.op(a,e);-1==b&&this.pp(a,e);this.bm(a,this.$(a)+1);return e};c.prototype.$G=function(a,b,d,e){a=this.Ef(a,-1);for(var f=0,h=b,k=!1;h==d&&(k=!0),this.hj(h,a),f++,h=this.T(h),h!=b;);this.An(a,!0);this.Wj(a,f);k&&(b=d);this.Sf(a,
b);this.dh(a,this.Ma(b));this.sp(a,!1);null!=e&&(e[0]=k);return a};c.prototype.sr=function(a){var b=this.Js(a),d=this.Qb(a),e=this.Zf(a);-1!=b?this.qp(b,d):this.op(e,d);-1!=d?this.rp(d,b):this.pp(e,b);this.KP(a);this.bm(e,this.$(e)-1);this.fG(a);return d};c.prototype.KP=function(a){var b=this.Za(a);if(-1!=b){for(var d=0,e=this.Ha(a);d<e;d++){var f=b;b=this.T(b);this.Az(f)}b=this.Zf(a);this.Uj(b,this.D(b)-this.Ha(a))}this.Wj(a,0)};c.prototype.Qb=function(a){return this.md.S(a,2)};c.prototype.Js=function(a){return this.md.S(a,
1)};c.prototype.Ha=function(a){return this.md.S(a,3)};c.prototype.Lb=function(a){return 0!=(this.mq(a)&1)};c.prototype.An=function(a,b){if(this.Lb(a)!=b){if(0<this.Ha(a)){var d=this.Za(a),e=this.wj(a);b?(this.Dc(e,d),this.Ec(d,e),d=this.Ua(e)):(this.Dc(e,-1),this.Ec(d,-1),d=this.Ua(e));this.eh(d,null)}this.DC(a,(this.mq(a)|1)-1|(b?1:0))}};c.prototype.Zf=function(a){return this.md.S(a,7)};c.prototype.rU=function(a){return 0!=(this.mq(a)&2)};c.prototype.yC=function(a,b){this.DC(a,(this.mq(a)|2)-2|(b?
2:0))};c.prototype.eA=function(a){if(this.zU(a))return this.Ui.get(this.Zv(a));var b=new g.zb,d=this.Za(a);if(-1==d)return 0;var e=new g.b;this.w(d,e);for(var f=0,h=0,k=this.Ha(a);h<k;h++,d=this.T(d)){var m=this.ec(d);if(null==m){if(!this.gd(d,b))continue;m=b}f+=m.yy(e.x,e.y)}this.sp(a,!0);this.Ui.set(this.Zv(a),f);return f};c.prototype.Br=function(a,b,d){b=this.Kk[b];a=this.Zv(a);b.size<this.Ui.size&&b.resize(this.Ui.size,-1);b.write(a,d)};c.prototype.yj=function(a,b){a=this.Zv(a);b=this.Kk[b];return a<
b.size?b.read(a):-1};c.prototype.oz=function(){null==this.Kk&&(this.Kk=[]);for(var a=0;a<this.Kk.length;a++)if(null==this.Kk[a])return this.Kk[a]=g.Xc.Sh(0),a;this.Kk.push(g.Xc.Sh(0));return this.Kk.length-1};c.prototype.lC=function(a){this.Kk[a]=null};c.prototype.sV=function(a,b,d){if(-1==d)throw g.f.I();if(b!=d){var e=this.Qb(d),f=this.Js(d),h=this.Zf(d);-1==f?this.op(h,e):this.qp(f,e);-1==e?this.pp(h,f):this.rp(e,f);this.Uj(h,this.D(h)-this.Ha(d));this.bm(h,this.$(h)-1);f=-1==b?this.Sv(a):this.Js(b);
this.rp(d,f);this.qp(d,b);-1==b?this.pp(a,d):this.rp(b,d);-1==f?this.op(a,d):this.qp(f,d);this.Uj(a,this.D(a)+this.Ha(d));this.bm(a,this.$(a)+1);this.Nx(d,a)}};c.prototype.oj=function(a,b){this.xb.ne(this.Ua(b),this.zm());this.Bj(a,-1,this.zm())};c.prototype.pd=function(a,b){var d=this.cd(a),e=this.Ma(a),f=this.T(a);-1!=e&&this.Dc(e,f);var h=this.Ha(d);a==this.Za(d)&&this.Sf(d,1<h?f:-1);-1!=f&&this.Ec(f,e);a==this.wj(d)&&this.dh(d,1<h?e:-1);if(-1!=e&&-1!=f){e=this.Ua(e);var k=this.Ua(f);b?(b=this.Yh(e),
null!=b&&(e=new g.b,this.xb.w(k,e),b.Sc(e))):(k=this.Ua(a),b=this.Yh(k),this.eh(e,b),null!=b&&(e=this.xb.xa(e),b.Fc(e)))}this.Wj(d,h-1);d=this.Zf(d);this.Uj(d,this.D(d)-1);this.Az(a);return f};c.prototype.Za=function(a){return this.md.S(a,4)};c.prototype.wj=function(a){return this.md.S(a,5)};c.prototype.T=function(a){return this.ud.S(a,2)};c.prototype.Ma=function(a){return this.ud.S(a,1)};c.prototype.cd=function(a){return this.ud.S(a,3)};c.prototype.jc=function(a,b){return this.Bj(a,-1,b)};c.prototype.rr=
function(a){if(void 0===a)return this.rr(!1);if(a instanceof l)return new l(a);var b,d=-1,e=-1,f=-1,h=0,k=!1;for(b=this.ld;-1!=b;b=this.Ae(b))if(!a||g.R.Bc(this.dc(b))){for(d=this.Kb(b);-1!=d;d=this.Qb(d))if(f=e=this.Za(d),h=0,-1!=e){k=!0;break}if(k)break}return l.LQ(this,b,d,e,f,h,a)};c.prototype.Qc=function(a){this.Sl.Qc(a);if(null!=this.bf)for(var b=0,d=this.bf.length;b<d;b++)null!=this.bf[b]&&this.bf[b].Qc(a)};c.prototype.Fr=function(a,b,d,e){e?this.sZ(a,b,d):this.rZ(a,b,d)};c.prototype.Ec=function(a,
b){this.ud.P(a,1,b)};c.prototype.Dc=function(a,b){this.ud.P(a,2,b)};c.prototype.hj=function(a,b){this.ud.P(a,3,b)};c.prototype.Wj=function(a,b){this.md.P(a,3,b)};c.prototype.Sf=function(a,b){this.md.P(a,4,b)};c.prototype.dh=function(a,b){this.md.P(a,5,b)};c.prototype.bm=function(a,b){this.dd.P(a,6,b)};c.prototype.Uj=function(a,b){this.dd.P(a,5,b)};c.prototype.tK=function(a){var b=a;do{var d=this.T(b);this.Dc(b,this.Ma(b));this.Ec(b,d);b=d}while(b!=a)};c.prototype.JC=function(a){this.hd=a};c.prototype.tr=
function(a){var b=this.Js(a),d=this.Qb(a),e=this.Zf(a);-1!=b?this.qp(b,d):this.op(e,d);-1!=d?this.rp(d,b):this.pp(e,b);this.Sf(a,-1);this.dh(a,-1);this.fG(a)};c.prototype.ui=function(a,b){var d=this.Ma(a),e=this.T(a);-1!=d&&this.Dc(d,e);-1!=e&&this.Ec(e,d);if(-1!=d&&-1!=e)if(d=this.Ua(d),e=this.Ua(e),b){if(b=this.Yh(d),null!=b){var f=new g.b;this.xb.w(e,f);b.Sc(f)}}else b=this.Ua(a),b=this.Yh(b),this.eh(d,b),null!=b&&(f=new g.b,this.xb.w(d,f),b.Fc(f));this.Az(a)};c.prototype.zU=function(a){return 0!=
(this.mq(a)&4)};c.prototype.sp=function(a,b){this.DC(a,(this.mq(a)|4)-4|(b?4:0))};c.prototype.Vx=function(a,b){var d=this.ud.i;this.xb.rc();var e=this.xb.va[0].i;a.Zd(0,b,function(f,h){var k=d[5*f];f=d[5*h];h=e[2*k];k=e[2*k+1];var m=e[2*f];f=e[2*f+1];return k<f?-1:k>f?1:h<m?-1:h>m?1:0})};c.prototype.ET=function(){for(var a=this.ld;-1!=a;a=this.Ae(a))if(!g.R.Bc(this.dc(a)))return!0;return!1};c.prototype.QC=function(a,b){for(var d=this.Kb(a),e=this.Kb(b),f=this.Sv(a),h=this.Sv(b),k=this.Kb(a);-1!=k;k=
this.Qb(k))this.Nx(k,b);for(k=this.Kb(b);-1!=k;k=this.Qb(k))this.Nx(k,a);this.op(a,e);this.op(b,d);this.pp(a,h);this.pp(b,f);d=this.D(a);e=this.$(a);f=this.$(b);this.Uj(a,this.D(b));this.Uj(b,d);this.bm(a,f);this.bm(b,e);d=this.dd.S(a,2);this.dd.P(a,2,this.dd.S(b,2));this.dd.P(b,2,d)};return c}();g.Yc=u})(J||(J={}));(function(g){var u=function(l){function c(a,b,d,e){var f=l.call(this)||this;f.X=new g.g;void 0===a?f.FF():"number"===typeof a?f.eQ(a,b,d,e):a instanceof g.Ra?void 0!==b?f.yv(a,b,d):f.fQ(a):
a instanceof g.oa?void 0!==b?f.hQ(a,b):f.gQ(a):a instanceof g.g?f.dQ(a):f.FF();return f}ma(c,l);c.prototype.yv=function(a,b,d){this.description=g.ke.ug();this.X.Ka();a.u()||this.$u(a,b,d)};c.prototype.dQ=function(a){this.description=g.ke.ug();this.X.H(a);this.X.normalize()};c.prototype.gQ=function(a){if(null==a)throw g.f.I();this.description=a;this.X.Ka()};c.prototype.hQ=function(a,b){if(null==a)throw g.f.I();this.description=a;this.X.H(b);this.X.normalize()};c.prototype.FF=function(){this.description=
g.ke.ug();this.X.Ka()};c.prototype.fQ=function(a){this.description=g.ke.ug();this.X.Ka();a.u()||this.$u(a)};c.prototype.eQ=function(a,b,d,e){this.description=g.ke.ug();this.H(a,b,d,e)};c.prototype.H=function(a,b,d,e){this.vc();if("number"===typeof a)this.X.H(a,b,d,e);else for(this.Ka(),b=0,d=a.length;b<d;b++)this.Nb(a[b])};c.prototype.mp=function(a){this.vc();if(!a.BU())throw g.f.I();this.X.H(a)};c.prototype.Ka=function(){this.vc();this.X.Ka()};c.prototype.u=function(){return this.X.u()};c.prototype.N=
function(){return this.X.N()};c.prototype.ca=function(){return this.X.ca()};c.prototype.lk=function(){return this.X.lk()};c.prototype.cq=function(){return this.X.cq()};c.prototype.bq=function(){return this.X.hf()};c.prototype.Nb=function(a){if(a instanceof g.b)this.vc(),this.X.Nb(a);else if(a instanceof g.g)this.vc(),this.X.Nb(a);else if(a instanceof g.Ra){if(this.vc(),!a.Ac()){var b=a.description;this.description!=b&&this.Tl(b);if(this.u())this.$u(a);else{this.X.Nb(a.w());for(var d=1,e=b.Ca;d<e;d++)for(var f=
b.Jd(d),h=g.oa.Sa(f),k=0;k<h;k++){var m=a.Rc(f,k),n=this.Qf(f,k);n.Nb(m);this.setInterval(f,k,n)}}}}else if(a instanceof c&&!a.u())for(b=a.description,b!=this.description&&this.Tl(b),this.X.Nb(a.X),d=1,e=b.Ca;d<e;d++)for(f=b.kd(d),h=g.oa.Sa(f),k=0;k<h;k++)m=a.Qf(f,k),n=this.Qf(f,k),n.Nb(m),this.setInterval(f,k,n)};c.prototype.$u=function(a,b,d){if(void 0!==b){this.X.H(a.w(),b,d);b=a.description;d=1;for(var e=b.Ca;d<e;d++)for(var f=b.Jd(d),h=g.oa.Sa(f),k=0;k<h;k++){var m=a.Rc(f,k);this.setInterval(f,
k,m,m)}}else for(this.X.H(a.ia[0],a.ia[1]),b=a.description,d=1,e=b.Ca;d<e;d++)for(f=b.Jd(d),h=g.oa.Sa(f),k=0;k<h;k++)m=a.Rc(f,k),this.setInterval(f,k,m,m)};c.prototype.setInterval=function(a,b,d,e){d="number"===typeof d?new g.uc(d,e):d;this.vc();if(0==a)if(0==b)this.X.o=d.fa,this.X.v=d.ja;else if(1==b)this.X.A=d.fa,this.X.B=d.ja;else throw g.f.Gd();else this.gE(0,a,b,d.fa),this.gE(1,a,b,d.ja)};c.prototype.O=function(a,b){this.vc();this.X.O(a,b)};c.prototype.Qc=function(a){if(a instanceof g.xd)this.vc(),
a.VC(this.X);else if(this.vc(),!this.X.u()){var b=new g.WL;this.ip(b);b.qU()?b.Ka():a.VC(b)}};c.prototype.copyTo=function(a){if(a.F()!=this.F())throw g.f.I();a.vc();a.description=this.description;a.X.H(this.X);a.ia=null;if(null!=this.ia){a.Vu();for(var b=0;b<2*(this.description.Ge.length-2);b++)a.ia[b]=this.ia[b]}};c.prototype.Ea=function(){return new c(this.description)};c.prototype.Pe=function(){return this.X.jG()};c.prototype.Pb=function(){return this.X.AG()};c.prototype.F=function(){return 197};
c.prototype.pb=function(){return 2};c.prototype.qn=function(a){this.copyTo(a)};c.prototype.s=function(a){a.o=this.X.o;a.A=this.X.A;a.v=this.X.v;a.B=this.X.B};c.prototype.ip=function(a){a.o=this.X.o;a.A=this.X.A;a.v=this.X.v;a.B=this.X.B;a.H(this.X.o,this.X.A,this.Pd(0,1,0),this.X.v,this.X.B,this.Pd(1,1,0))};c.prototype.Qf=function(a,b){var d=new g.uc;d.H(this.Pd(0,a,b),this.Pd(1,a,b));return d};c.prototype.Pf=function(a,b){b.rg(this.description);var d=this.description.Ca-1;switch(a){case 0:for(a=
0;a<d;a++)for(var e=this.description.kd(a),f=g.oa.Sa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(0,e,h));b.nb(this.X.o,this.X.A);break;case 1:for(a=0;a<d;a++)for(e=this.description.kd(a),f=g.oa.Sa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(1,e,h));b.nb(this.X.o,this.X.B);break;case 2:for(a=0;a<d;a++)for(e=this.description.kd(a),f=g.oa.Sa(e),h=0;h<f;h++)b.setAttribute(e,h,this.Pd(0,e,h));b.nb(this.X.v,this.X.B);break;case 3:for(a=0;a<d;a++)for(e=this.description.kd(a),f=g.oa.Sa(e),h=0;h<f;h++)b.setAttribute(e,
h,this.Pd(1,e,h));b.nb(this.X.v,this.X.A);break;default:throw g.f.Gd();}};c.prototype.Ax=function(a,b){a=this.X.Ax(a);b.ka(a.x,a.y)};c.prototype.yS=function(a,b){return b*(a.gr-2)};c.prototype.kG=function(a,b,d){if(this.X.u())throw g.f.Y("empty geometry");if(0==b)return 0!=a?0!=d?this.X.B:this.X.v:0!=d?this.X.A:this.X.o;if(d>=g.oa.Sa(b))throw g.f.I();var e=this.description.Yf(b);this.Vu();return 0<=e?this.ia[this.yS(this.description,a)+this.description.bT(e)-2+d]:g.oa.me(b)};c.prototype.Vu=function(){this.vc();
if(null==this.ia&&2<this.description.Ge.length){this.ia=[];for(var a=c.Mg(this.description,0),b=c.Mg(this.description,1),d=0,e=1,f=this.description.Ca;e<f;e++){var h=this.description.kd(e),k=g.oa.Sa(h);h=g.oa.me(h);for(var m=0;m<k;m++)this.ia[a+d]=h,this.ia[b+d]=h,d++}}};c.prototype.Ln=function(a){if(null!=this.ia)if(2<a.Ge.length){for(var b=g.ke.ox(a,this.description),d=[],e=c.Mg(this.description,0),f=c.Mg(this.description,1),h=c.Mg(a,0),k=c.Mg(a,1),m=0,n=1,p=a.Ca;n<p;n++){var q=a.kd(n),r=g.oa.Sa(q);
if(-1==b[n]){var t=g.oa.me(q);for(q=0;q<r;q++)d[h+m]=t,d[k+m]=t,m++}else for(t=this.description.dk(b[n])-2,q=0;q<r;q++)d[h+m]=this.ia[e+t],d[k+m]=this.ia[f+t],m++,t++}this.ia=d}else this.ia=null;this.description=a};c.prototype.Pd=function(a,b,d){if(this.X.u())throw g.f.Y("This operation was performed on an Empty Geometry.");if(0==b)return 0!=a?0!=d?this.X.B:this.X.v:0!=d?this.X.A:this.X.o;if(d>=g.oa.Sa(b))throw g.f.Gd();var e=this.description.Yf(b);return 0<=e?(this.Vu(),this.ia[c.Mg(this.description,
a)+this.description.dk(e)-2+d]):g.oa.me(b)};c.prototype.gE=function(a,b,d,e){this.vc();if(0==b)0!=a?0!=d?this.X.B=e:this.X.v=e:0!=d?this.X.A=e:this.X.o=e;else{if(d>=g.oa.Sa(b))throw g.f.Gd();if(!this.hasAttribute(b)){if(g.oa.pH(b,e))return;this.le(b)}b=this.description.Yf(b);this.Vu();this.ia[c.Mg(this.description,a)+this.description.dk(b)-2+d]=e}};c.Mg=function(a,b){return b*(a.Ge.length-2)};c.prototype.Ia=function(a){this.vc();var b=new g.g;a.s(b);return this.X.Ia(b)};c.prototype.isIntersecting=
function(a){return a instanceof g.g?this.X.isIntersecting(a):this.X.isIntersecting(a.X)};c.prototype.rv=function(a,b){this.vc();a.u()?this.Ka():void 0!==b?this.$u(a,b,void 0):this.X.rv(a.Ce(),a.lf())};c.prototype.offset=function(a,b){this.vc();this.X.offset(a,b)};c.prototype.normalize=function(){this.vc();this.X.normalize()};c.prototype.hf=function(a){if(void 0!==a)if(a.rg(this.description),this.u())a.Ka();else{for(var b=this.description.Ca,d=1;d<b;d++)for(var e=this.description.kd(d),f=g.oa.Sa(e),
h=0;h<f;h++){var k=.5*(this.kG(0,e,h)+this.kG(1,e,h));a.setAttribute(e,h,k)}a.nb(this.X.hf())}else{a=new g.Ra(this.description);if(this.u())return a;b=this.description.Ca;for(d=1;d<b;d++)for(e=this.description.Jd(d),f=g.oa.Sa(e),h=0;h<f;h++)k=.5*(this.Pd(0,e,h)+this.Pd(1,e,h)),a.setAttribute(e,h,k);a.nb(this.X.lk(),this.X.cq());return a}};c.prototype.Wz=function(){return new g.Ra(this.X.Wz())};c.prototype.contains=function(a){return a instanceof g.Ra?a.u()?!1:this.X.contains(a.Ce(),a.lf()):this.X.contains(a.X)};
c.prototype.nQ=function(a){return this.X.contains(a)};c.prototype.Ib=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.X.Ib(a.X))return!1;for(var b=0,d=2*(this.description.Ge.length-2);b<d;b++)if(this.ia[b]!=a.ia[b])return!1;return!0};c.prototype.fc=function(){var a=this.description.fc();a=g.L.Zh(a,this.X.fc());if(!this.u()&&null!=this.ia)for(var b=0,d=2*(this.description.Ge.length-2);b<d;b++)a=g.L.Zh(a,this.ia[b]);
return a};c.prototype.Ms=function(){return this.X.o};c.prototype.Os=function(){return this.X.A};c.prototype.Ls=function(){return this.X.v};c.prototype.Ns=function(){return this.X.B};c.prototype.sg=function(){return g.yi.qm(this,null)};c.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.X.o+", "+this.X.A+", "+this.X.v+", "+this.X.B+"]"};return c}(g.R);g.Ih=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d){void 0===c?this.Ka():(this.o=c,this.A=a,this.v=b,
this.B=d)}l.construct=function(c,a,b,d){var e=new l;e.o=c;e.A=a;e.v=b;e.B=d;return e};l.prototype.H=function(c,a,b,d){"number"===typeof c?void 0!==b?(this.o=c,this.A=a,this.v=b,this.B=d,this.normalize()):(this.o=c,this.A=a,this.v=c,this.B=a):c instanceof g.b?void 0!==a?(this.o=c.x-.5*a,this.v=this.o+a,this.A=c.y-.5*b,this.B=this.A+b,this.normalize()):(this.o=c.x,this.A=c.y,this.v=c.x,this.B=c.y):c instanceof l?this.H(c.o,c.A,c.v,c.B):c instanceof g.uc&&(c.u()||a.u()?this.Ka():(this.o=c.fa,this.v=
c.ja,this.A=a.fa,this.B=a.ja))};l.prototype.KS=function(c,a){var b=new l;b.H(this.o,this.A,this.v,this.B);b.O(c,a);return b};l.prototype.Ix=function(c,a){if(void 0!==a)if(0==a)this.Ka();else{this.o=c[0].x;this.A=c[0].y;this.v=this.o;this.B=this.A;for(var b=1;b<a;b++){var d=c[b];d.x<this.o?this.o=d.x:d.x>this.v&&(this.v=d.x);d.y<this.A?this.A=d.y:d.y>this.B&&(this.B=d.y)}}else if(null==c||0==c.length)this.Ka();else for(d=c[0],this.H(d.x,d.y),b=1;b<c.length;b++)a=c[b],this.Sk(a.x,a.y)};l.prototype.Ka=
function(){this.B=this.v=this.A=this.o=NaN};l.prototype.u=function(){return isNaN(this.o)};l.prototype.Nb=function(c,a){"number"===typeof c?this.u()?(this.o=c,this.A=a,this.v=c,this.B=a):(this.o>c?this.o=c:this.v<c&&(this.v=c),this.A>a?this.A=a:this.B<a&&(this.B=a)):c instanceof g.b?this.Nb(c.x,c.y):c instanceof g.Id?this.Nb(c.x,c.y):c instanceof l&&!c.u()&&(this.Nb(c.o,c.A),this.Nb(c.v,c.B))};l.prototype.Sk=function(c,a){this.o>c?this.o=c:this.v<c&&(this.v=c);this.A>a?this.A=a:this.B<a&&(this.B=
a)};l.prototype.O=function(c,a){this.u()||(this.o-=c,this.v+=c,this.A-=a,this.B+=a,(this.o>this.v||this.A>this.B)&&this.Ka())};l.prototype.scale=function(c){0>c&&this.Ka();this.u()||(this.o*=c,this.v*=c,this.A*=c,this.B*=c)};l.prototype.zoom=function(c,a){this.u()||this.H(this.hf(),c*this.N(),a*this.ca())};l.prototype.isIntersecting=function(c){return!this.u()&&!c.u()&&(this.o<=c.o?this.v>=c.o:c.v>=this.o)&&(this.A<=c.A?this.B>=c.A:c.B>=this.A)};l.prototype.tH=function(c){return(this.o<=c.o?this.v>=
c.o:c.v>=this.o)&&(this.A<=c.A?this.B>=c.A:c.B>=this.A)};l.prototype.Ia=function(c){if(this.u()||c.u())return!1;c.o>this.o&&(this.o=c.o);c.v<this.v&&(this.v=c.v);c.A>this.A&&(this.A=c.A);c.B<this.B&&(this.B=c.B);(c=this.o<=this.v&&this.A<=this.B)||this.Ka();return c};l.prototype.Ax=function(c){switch(c){case 0:return g.b.construct(this.o,this.A);case 1:return g.b.construct(this.o,this.B);case 2:return g.b.construct(this.v,this.B);case 3:return g.b.construct(this.v,this.A);default:throw g.f.Gd();}};
l.prototype.XB=function(c){if(null==c||4>c.length)throw g.f.I();null!=c[0]?c[0].ka(this.o,this.A):c[0]=g.b.construct(this.o,this.A);null!=c[1]?c[1].ka(this.o,this.B):c[1]=g.b.construct(this.o,this.B);null!=c[2]?c[2].ka(this.v,this.B):c[2]=g.b.construct(this.v,this.B);null!=c[3]?c[3].ka(this.v,this.A):c[3]=g.b.construct(this.v,this.A)};l.prototype.jG=function(){return this.u()?0:this.N()*this.ca()};l.prototype.AG=function(){return this.u()?0:2*(this.N()+this.ca())};l.prototype.lk=function(){return(this.v+
this.o)/2};l.prototype.cq=function(){return(this.B+this.A)/2};l.prototype.N=function(){return this.v-this.o};l.prototype.ca=function(){return this.B-this.A};l.prototype.move=function(c,a){this.u()||(this.o+=c,this.A+=a,this.v+=c,this.B+=a)};l.prototype.rv=function(c,a){if(void 0!==a)this.move(c-this.lk(),a-this.cq());else if(c instanceof g.b)this.rv(c.x,c.y);else if(c instanceof g.Ra){a=(this.v-this.o)/2;var b=(this.B-this.A)/2;this.o=c.Ce()-a;this.v=c.Ce()+a;this.A=c.lf()-b;this.B=c.lf()+b}else throw g.f.I();
};l.prototype.offset=function(c,a){this.o+=c;this.v+=c;this.A+=a;this.B+=a};l.prototype.normalize=function(){if(!this.u()){var c=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=c;this.v=a;c=Math.min(this.A,this.B);a=Math.max(this.A,this.B);this.A=c;this.B=a}};l.prototype.tn=function(c){c.ka(this.o,this.A)};l.prototype.RJ=function(c){c.ka(this.v,this.A)};l.prototype.UJ=function(c){c.ka(this.o,this.B)};l.prototype.un=function(c){c.ka(this.v,this.B)};l.prototype.BU=function(){return this.u()||
this.o<=this.v&&this.A<=this.B};l.prototype.hf=function(){return g.b.construct((this.v+this.o)/2,(this.B+this.A)/2)};l.prototype.Wz=function(){return g.b.construct(this.o,this.A)};l.prototype.contains=function(c,a){if(void 0!==a)return c>=this.o&&c<=this.v&&a>=this.A&&a<=this.B;if(c instanceof g.Ra)return this.contains(c.Ce(),c.lf());if(c instanceof g.b)return this.contains(c.x,c.y);if(c instanceof l)return c.o>=this.o&&c.v<=this.v&&c.A>=this.A&&c.B<=this.B;throw g.f.I();};l.prototype.sm=function(c,
a){if(void 0!==a)return c>this.o&&c<this.v&&a>this.A&&a<this.B;if(c instanceof g.b)return this.sm(c.x,c.y);if(c instanceof l)return c.o>this.o&&c.v<this.v&&c.A>this.A&&c.B<this.B;throw g.f.I();};l.prototype.Ib=function(c){return c==this?!0:c instanceof l?this.u()&&c.u()?!0:this.o!=c.o||this.A!=c.A||this.v!=c.v||this.B!=c.B?!1:!0:!1};l.prototype.fc=function(){var c=this.o;c=g.L.truncate(c^c>>>32);var a=g.L.Zh(c);c=this.v;c=g.L.truncate(c^c>>>32);a=g.L.Zh(c,a);c=this.A;c=g.L.truncate(c^c>>>32);a=g.L.Zh(c,
a);c=this.B;c=g.L.truncate(c^c>>>32);return a=g.L.Zh(c,a)};l.prototype.My=function(c){var a=new g.b;a.K(c);if(a.Ey())return a;if(this.u())return a.iE(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Ib(c))return a;c=this.hf();(a.x<c.x?a.x-this.o:this.v-a.x)<(a.y<c.y?a.y-this.A:this.B-a.y)?a.x=a.x<c.x?this.o:this.v:a.y=a.y<c.y?this.A:this.B;return a};l.prototype.Su=function(c){if(this.u())return NaN;if(c.x==this.o)return c.y-this.A;var a=this.B-
this.A,b=this.v-this.o;return c.y==this.B?a+c.x-this.o:c.x==this.v?a+b+this.B-c.y:c.y==this.A?2*a+b+this.v-c.x:this.Su(this.My(c))};l.prototype.QD=function(c){if(this.u())return-1;c=this.Su(c);var a=this.B-this.A,b=this.v-this.o;return c<a?0:(c-=a)<b?1:c-b<a?2:3};l.prototype.Mn=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};l.prototype.ez=function(c,a){var b=this.ck(c),d=this.ck(a);if(0!=(b&d))return 0;
if(0==(b|d))return 4;var e=(0!=b?1:0)|(0!=d?2:0);do{var f=a.x-c.x,h=a.y-c.y;f>h?0!=(b&l.GD)?(0!=(b&l.Qu)?(c.y+=h*(this.o-c.x)/f,c.x=this.o):(c.y+=h*(this.v-c.x)/f,c.x=this.v),b=this.ck(c)):0!=(d&l.GD)?(0!=(d&l.Qu)?(a.y+=h*(this.o-a.x)/f,a.x=this.o):(a.y+=h*(this.v-a.x)/f,a.x=this.v),d=this.ck(a)):0!=b?(0!=(b&l.Ru)?(c.x+=f*(this.A-c.y)/h,c.y=this.A):(c.x+=f*(this.B-c.y)/h,c.y=this.B),b=this.ck(c)):(0!=(d&l.Ru)?(a.x+=f*(this.A-a.y)/h,a.y=this.A):(a.x+=f*(this.B-a.y)/h,a.y=this.B),d=this.ck(a)):0!=(b&
l.HD)?(0!=(b&l.Ru)?(c.x+=f*(this.A-c.y)/h,c.y=this.A):(c.x+=f*(this.B-c.y)/h,c.y=this.B),b=this.ck(c)):0!=(d&l.HD)?(0!=(d&l.Ru)?(a.x+=f*(this.A-a.y)/h,a.y=this.A):(a.x+=f*(this.B-a.y)/h,a.y=this.B),d=this.ck(a)):0!=b?(0!=(b&l.Qu)?(c.y+=h*(this.o-c.x)/f,c.x=this.o):(c.y+=h*(this.v-c.x)/f,c.x=this.v),b=this.ck(c)):(0!=(d&l.Qu)?(a.y+=h*(this.o-a.x)/f,a.x=this.o):(a.y+=h*(this.v-a.x)/f,a.x=this.v),d=this.ck(a));if(0!=(b&d))return 0}while(0!=(b|d));return e};l.prototype.ck=function(c){return(c.x<this.o?
1:0)|(c.x>this.v?1:0)<<1|(c.y<this.A?1:0)<<2|(c.y>this.B?1:0)<<3};l.prototype.Qg=function(c){return!this.u()&&(this.N()<=c||this.ca()<=c)};l.prototype.vb=function(c){return c instanceof g.b?Math.sqrt(this.nL(c)):Math.sqrt(this.Xx(c))};l.prototype.Xx=function(c){var a=0,b=0,d=this.o-c.v;d>a&&(a=d);d=this.A-c.B;d>b&&(b=d);d=c.o-this.v;d>a&&(a=d);d=c.A-this.B;d>b&&(b=d);return a*a+b*b};l.prototype.nL=function(c){var a=0,b=0,d=this.o-c.x;d>a&&(a=d);d=this.A-c.y;d>b&&(b=d);d=c.x-this.v;d>a&&(a=d);d=c.y-
this.B;d>b&&(b=d);return a*a+b*b};l.prototype.sn=function(c){this.u()?c.Ka():c.H(this.o,this.v)};l.sN=function(c,a,b,d){var e=1;isNaN(c)||(e+=Math.abs(c));isNaN(a)||(e+=Math.abs(a));isNaN(b)||(e+=Math.abs(b));isNaN(d)||(e+=Math.abs(d));return 2.220446049250313E-14*e};l.Qu=1;l.Ru=4;l.GD=3;l.HD=12;return l}();g.g=u})(J||(J={}));(function(g){var u;(function(c){c[c.initialize=0]="initialize";c[c.initializeRed=1]="initializeRed";c[c.initializeBlue=2]="initializeBlue";c[c.initializeRedBlue=3]="initializeRedBlue";
c[c.sweep=4]="sweep";c[c.sweepBruteForce=5]="sweepBruteForce";c[c.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";c[c.sweepRedBlue=7]="sweepRedBlue";c[c.sweepRed=8]="sweepRed";c[c.sweepBlue=9]="sweepBlue";c[c.iterate=10]="iterate";c[c.iterateRed=11]="iterateRed";c[c.iterateBlue=12]="iterateBlue";c[c.iterateBruteForce=13]="iterateBruteForce";c[c.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";c[c.resetRed=15]="resetRed";c[c.resetBlue=16]="resetBlue"})(u||(u={}));var l=function(){function c(a,
b){this.ii=a;this.RH=b}c.prototype.Lr=function(a,b,d){this.ii.oZ(d,a,b,this.RH)};c.prototype.sq=function(a){return this.ii.ss(a,this.RH)};return c}();u=function(){function c(){this.Vw=this.Ho=this.pf=this.sd=null;this.Pq=new g.g;this.Nm=this.Kj=this.Lj=this.Ed=this.Mf=this.Nd=this.Kw=this.yo=this.rd=this.Gb=null;this.Xb=-1;this.qa=0;this.Uk()}c.prototype.Gr=function(){this.Uk();this.ww=!0;null==this.Gb?(this.yo=new g.ha(0),this.Gb=[]):(this.yo.Gh(0),this.Gb.length=0)};c.prototype.bd=function(a,b){if(!this.ww)throw g.f.Eb();
var d=new g.g;d.H(b);this.yo.add(a);this.Gb.push(d)};c.prototype.Zp=function(){if(!this.ww)throw g.f.Eb();this.ww=!1;null!=this.Gb&&0<this.Gb.length&&(this.Xb=0,this.Jc=!1)};c.prototype.vL=function(){this.Uk();this.vw=!0;null==this.Gb?(this.yo=new g.ha(0),this.Gb=[]):(this.yo.Gh(0),this.Gb.length=0)};c.prototype.vE=function(a,b){if(!this.vw)throw g.f.Eb();var d=new g.g;d.H(b);this.yo.add(a);this.Gb.push(d)};c.prototype.WF=function(){if(!this.vw)throw g.f.Eb();this.vw=!1;null!=this.Gb&&0<this.Gb.length&&
null!=this.rd&&0<this.rd.length&&(-1==this.Xb?this.Xb=3:2==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=1),this.Jc=!1)};c.prototype.uL=function(){this.Uk();this.uw=!0;null==this.rd?(this.Kw=new g.ha(0),this.rd=[]):(this.Kw.Gh(0),this.rd.length=0)};c.prototype.qE=function(a,b){if(!this.uw)throw g.f.Eb();var d=new g.g;d.H(b);this.Kw.add(a);this.rd.push(d)};c.prototype.VF=function(){if(!this.uw)throw g.f.Eb();this.uw=!1;null!=this.Gb&&0<this.Gb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Xb?this.Xb=
3:1==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=2),this.Jc=!1)};c.prototype.next=function(){if(this.Jc)return!1;for(var a=!0;a;)switch(this.Xb){case 0:a=this.oA();break;case 1:a=this.MT();break;case 2:a=this.JT();break;case 3:a=this.LT();break;case 4:a=this.zZ();break;case 5:a=this.vZ();break;case 6:a=this.wZ();break;case 7:a=this.xZ();break;case 8:a=this.ay();break;case 9:a=this.RC();break;case 10:a=this.DA();break;case 11:a=this.FU();break;case 12:a=this.CU();break;case 13:a=this.DU();break;case 14:a=
this.EU();break;case 15:a=this.oK();break;case 16:a=this.nK();break;default:throw g.f.za();}return this.Jc?!1:!0};c.prototype.IC=function(a){this.qa=a};c.prototype.cA=function(a){return this.Gb[a]};c.prototype.Gz=function(a){return this.rd[a]};c.prototype.tl=function(a){return this.yo.read(a)};c.prototype.ol=function(a){return this.Kw.read(a)};c.CA=function(a){return 1==(a&1)};c.vq=function(a){return 0==(a&1)};c.prototype.Uk=function(){this.ww=this.uw=this.vw=!1;this.Kf=this.Lf=this.Xg=this.we=-1;
this.Jc=!0};c.prototype.oA=function(){this.If=this.dg=-1;if(10>this.Gb.length)return this.we=this.Gb.length,this.Xb=5,!0;null==this.sd&&(this.sd=new g.Qr(!0),this.Ho=this.sd.getIterator(),this.Nd=new g.ha(0));this.sd.Gr();for(var a=0;a<this.Gb.length;a++){var b=this.Gb[a];this.sd.bs(b.o,b.v)}this.sd.Zp();this.Nd.Db(2*this.Gb.length);this.Nd.resize(0);for(a=0;a<2*this.Gb.length;a++)this.Nd.add(a);this.uu(this.Nd,2*this.Gb.length,!0);this.we=2*this.Gb.length;this.Xb=4;return!0};c.prototype.MT=function(){this.If=
this.dg=-1;if(10>this.Gb.length||10>this.rd.length)return this.we=this.Gb.length,this.Xb=6,!0;null==this.sd&&(this.sd=new g.Qr(!0),this.Ho=this.sd.getIterator(),this.Nd=new g.ha(0));this.sd.Gr();for(var a=0;a<this.Gb.length;a++){var b=this.Gb[a];this.sd.bs(b.o,b.v)}this.sd.Zp();this.Nd.Db(2*this.Gb.length);this.Nd.resize(0);for(a=0;a<2*this.Gb.length;a++)this.Nd.add(a);this.uu(this.Nd,this.Nd.size,!0);this.we=this.Nd.size;-1!=this.Lf&&(this.Ed.kh(this.Lf),this.Lj.resize(0),this.Lf=-1);this.Xb=7;return this.nK()};
c.prototype.JT=function(){this.If=this.dg=-1;if(10>this.Gb.length||10>this.rd.length)return this.we=this.Gb.length,this.Xb=6,!0;null==this.pf&&(this.pf=new g.Qr(!0),this.Vw=this.pf.getIterator(),this.Mf=new g.ha(0));this.pf.Gr();for(var a=0;a<this.rd.length;a++){var b=this.rd[a];this.pf.bs(b.o,b.v)}this.pf.Zp();this.Mf.Db(2*this.rd.length);this.Mf.resize(0);for(a=0;a<2*this.rd.length;a++)this.Mf.add(a);this.uu(this.Mf,this.Mf.size,!1);this.Xg=this.Mf.size;-1!=this.Kf&&(this.Ed.kh(this.Kf),this.Kj.resize(0),
this.Kf=-1);this.Xb=7;return this.oK()};c.prototype.LT=function(){this.If=this.dg=-1;if(10>this.Gb.length||10>this.rd.length)return this.we=this.Gb.length,this.Xb=6,!0;null==this.sd&&(this.sd=new g.Qr(!0),this.Ho=this.sd.getIterator(),this.Nd=new g.ha(0));null==this.pf&&(this.pf=new g.Qr(!0),this.Vw=this.pf.getIterator(),this.Mf=new g.ha(0));this.sd.Gr();for(var a=0;a<this.Gb.length;a++){var b=this.Gb[a];this.sd.bs(b.o,b.v)}this.sd.Zp();this.pf.Gr();for(a=0;a<this.rd.length;a++)b=this.rd[a],this.pf.bs(b.o,
b.v);this.pf.Zp();this.Nd.Db(2*this.Gb.length);this.Mf.Db(2*this.rd.length);this.Nd.resize(0);this.Mf.resize(0);for(a=0;a<2*this.Gb.length;a++)this.Nd.add(a);for(a=0;a<2*this.rd.length;a++)this.Mf.add(a);this.uu(this.Nd,this.Nd.size,!0);this.uu(this.Mf,this.Mf.size,!1);this.we=this.Nd.size;this.Xg=this.Mf.size;-1!=this.Lf&&(this.Ed.kh(this.Lf),this.Lj.resize(0),this.Lf=-1);-1!=this.Kf&&(this.Ed.kh(this.Kf),this.Kj.resize(0),this.Kf=-1);this.Xb=7;return!0};c.prototype.zZ=function(){var a=this.Nd.get(--this.we),
b=a>>1;if(c.vq(a))return this.sd.remove(b),0==this.we?(this.If=this.dg=-1,this.Jc=!0,!1):!0;this.Ho.nC(this.Gb[b].o,this.Gb[b].v,this.qa);this.dg=b;this.Xb=10;return!0};c.prototype.vZ=function(){if(-1==--this.we)return this.If=this.dg=-1,this.Jc=!0,!1;this.Xg=this.dg=this.we;this.Xb=13;return!0};c.prototype.wZ=function(){if(-1==--this.we)return this.If=this.dg=-1,this.Jc=!0,!1;this.dg=this.we;this.Xg=this.rd.length;this.Xb=14;return!0};c.prototype.xZ=function(){var a=this.Nd.get(this.we-1),b=this.Mf.get(this.Xg-
1),d=this.ss(a,!0),e=this.ss(b,!1);return d>e?this.ay():d<e?this.RC():c.CA(a)?this.ay():c.CA(b)?this.RC():this.ay()};c.prototype.ay=function(){var a=this.Nd.get(--this.we),b=a>>1;if(c.vq(a))return-1!=this.Lf&&-1!=this.Lj.get(b)?(this.Ed.jd(this.Lf,this.Lj.get(b)),this.Lj.set(b,-1)):this.sd.remove(b),0==this.we?(this.If=this.dg=-1,this.Jc=!0,!1):!0;if(-1!=this.Kf&&0<this.Ed.Hs(this.Kf))for(a=this.Ed.sc(this.Kf);-1!=a;){var d=this.Ed.getData(a);this.pf.Gi(d);this.Kj.set(d,-1);d=this.Ed.hb(a);this.Ed.jd(this.Kf,
a);a=d}0<this.pf.size()?(this.Vw.nC(this.Gb[b].o,this.Gb[b].v,this.qa),this.dg=b,this.Xb=12):(-1==this.Lf&&(null==this.Ed&&(this.Ed=new g.Ap),this.Lj=new g.ha(0),this.Lj.resize(this.Gb.length,-1),this.Lj.Xj(-1,0,this.Gb.length),this.Lf=this.Ed.Th(1)),this.Lj.set(b,this.Ed.addElement(this.Lf,b)),this.Xb=7);return!0};c.prototype.RC=function(){var a=this.Mf.get(--this.Xg),b=a>>1;if(c.vq(a))return-1!=this.Kf&&-1!=this.Kj.get(b)?(this.Ed.jd(this.Kf,this.Kj.get(b)),this.Kj.set(b,-1)):this.pf.remove(b),
0==this.Xg?(this.If=this.dg=-1,this.Jc=!0,!1):!0;if(-1!=this.Lf&&0<this.Ed.Hs(this.Lf))for(a=this.Ed.sc(this.Lf);-1!=a;){var d=this.Ed.getData(a);this.sd.Gi(d);this.Lj.set(d,-1);d=this.Ed.hb(a);this.Ed.jd(this.Lf,a);a=d}0<this.sd.size()?(this.Ho.nC(this.rd[b].o,this.rd[b].v,this.qa),this.If=b,this.Xb=11):(-1==this.Kf&&(null==this.Ed&&(this.Ed=new g.Ap),this.Kj=new g.ha(0),this.Kj.resize(this.rd.length,-1),this.Kj.Xj(-1,0,this.rd.length),this.Kf=this.Ed.Th(0)),this.Kj.set(b,this.Ed.addElement(this.Kf,
b)),this.Xb=7);return!0};c.prototype.DA=function(){this.If=this.Ho.next();if(-1!=this.If)return!1;var a=this.Nd.get(this.we)>>1;this.sd.Gi(a);this.Xb=4;return!0};c.prototype.FU=function(){this.dg=this.Ho.next();if(-1!=this.dg)return!1;this.If=this.dg=-1;var a=this.Mf.get(this.Xg)>>1;this.pf.Gi(a);this.Xb=7;return!0};c.prototype.CU=function(){this.If=this.Vw.next();if(-1!=this.If)return!1;var a=this.Nd.get(this.we)>>1;this.sd.Gi(a);this.Xb=7;return!0};c.prototype.DU=function(){if(-1==--this.Xg)return this.Xb=
5,!0;this.Pq.H(this.Gb[this.we]);var a=this.Gb[this.Xg];this.Pq.O(this.qa,this.qa);return this.Pq.isIntersecting(a)?(this.If=this.Xg,!1):!0};c.prototype.EU=function(){if(-1==--this.Xg)return this.Xb=6,!0;this.Pq.H(this.Gb[this.we]);var a=this.rd[this.Xg];this.Pq.O(this.qa,this.qa);return this.Pq.isIntersecting(a)?(this.If=this.Xg,!1):!0};c.prototype.oK=function(){if(null==this.sd)return this.Jc=!0,!1;this.we=this.Nd.size;0<this.sd.size()&&this.sd.reset();-1!=this.Lf&&(this.Ed.kh(this.Lf),this.Lj.resize(0),
this.Lf=-1);this.Jc=!1;return!0};c.prototype.nK=function(){if(null==this.pf)return this.Jc=!0,!1;this.Xg=this.Mf.size;0<this.pf.size()&&this.pf.reset();-1!=this.Kf&&(this.Ed.kh(this.Kf),this.Kj.resize(0),this.Kf=-1);this.Jc=!1;return!0};c.prototype.uu=function(a,b,d){null==this.Nm&&(this.Nm=new g.Eu);d=new l(this,d);this.Nm.sort(a,0,b,d)};c.prototype.oZ=function(a,b,d,e){var f=this;a.Zd(b,d,function(h,k){var m=f.ss(h,e),n=f.ss(k,e);return m<n||m==n&&c.vq(h)&&c.CA(k)?-1:1})};c.prototype.ss=function(a,
b){var d=.5*this.qa;if(b)return b=this.Gb[a>>1],a=c.vq(a)?b.A-d:b.B+d;b=this.rd[a>>1];return a=c.vq(a)?b.A-d:b.B+d};return c}();g.fD=u})(J||(J={}));(function(g){var u=function(){function l(){}l.construct=function(c,a,b,d,e,f){var h=new l;h.o=c;h.A=a;h.ef=b;h.v=d;h.B=e;h.Lg=f;return h};l.prototype.Ka=function(){this.ef=this.o=NaN};l.prototype.u=function(){return isNaN(this.o)};l.prototype.qU=function(){return isNaN(this.ef)};l.prototype.H=function(c,a,b,d,e,f){void 0!==d?"number"===typeof c?(this.o=
c,this.A=a,this.ef=b,this.v=d,this.B=e,this.Lg=f):(this.o=c.x-.5*a,this.v=this.o+a,this.A=c.y-.5*b,this.B=this.A+b,this.ef=c.z-.5*d,this.Lg=this.ef+d):(this.o=c,this.A=a,this.ef=b,this.v=c,this.B=a,this.Lg=b)};l.prototype.move=function(c){this.o+=c.x;this.A+=c.y;this.ef+=c.z;this.v+=c.x;this.B+=c.y;this.Lg+=c.z};l.prototype.copyTo=function(c){c.o=this.o;c.A=this.A;c.v=this.v;c.B=this.B};l.prototype.Sk=function(c,a,b){this.o>c?this.o=c:this.v<c&&(this.v=c);this.A>a?this.A=a:this.B<a&&(this.B=a);0==
isNaN(this.ef)?this.ef>b?this.ef=b:this.Lg<b&&(this.Lg=b):this.Lg=this.ef=b};l.prototype.Nb=function(c,a,b){if("number"===typeof c)this.u()?(this.o=c,this.A=a,this.ef=b,this.v=c,this.B=a,this.Lg=b):this.Sk(c,a,b);else if(c instanceof g.Id)this.Nb(c.x,c.y,c.z);else if(c instanceof l)c.u()||(this.Nb(c.o,c.A,c.ef),this.Nb(c.v,c.B,c.Lg));else throw g.f.I();};l.prototype.construct=function(c,a,b){c.u()||a.u()?this.Ka():(this.o=c.fa,this.v=c.ja,this.A=a.fa,this.B=a.ja,this.ef=b.fa,this.Lg=b.ja)};l.prototype.XB=
function(c){if(null==c||8>c.length)throw g.f.I();c[0]=new g.Id(this.o,this.A,this.ef);c[1]=new g.Id(this.o,this.B,this.ef);c[2]=new g.Id(this.v,this.B,this.ef);c[3]=new g.Id(this.v,this.A,this.ef);c[4]=new g.Id(this.o,this.A,this.Lg);c[5]=new g.Id(this.o,this.B,this.Lg);c[6]=new g.Id(this.v,this.B,this.Lg);c[7]=new g.Id(this.v,this.A,this.Lg)};l.prototype.Ix=function(c){if(null==c||0==c.length)this.Ka();else{var a=c[0];this.H(a.x,a.y,a.z);for(a=1;a<c.length;a++){var b=c[a];this.Sk(b.x,b.y,b.z)}}};
return l}();g.WL=u})(J||(J={}));(function(g){(function(u){u.za=function(){var l=Error();l.message="Internal Error";return l};u.Me=function(){var l=Error();l.message="Not Implemented";return l};u.al=function(){var l=Error();l.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return l};u.Eb=function(){var l=Error();l.message="Invalid Call";return l};u.I=function(l){var c=Error();c.message="Illegal Argument Exception";void 0!==l&&(c.message+=": "+
l);return c};u.Mu=function(l){var c=Error();c.message=void 0!==l?"Runtime Exception: "+l:"Runtime Exception.";return c};u.Y=function(l){var c=Error();c.message="Geometry Exception: "+l;return c};u.PL=function(){var l=Error();l.message="Assert Failed Exception";return l};u.Gd=function(){var l=Error();l.message="IndexOutOfBoundsException";return l};u.ED=function(){var l=Error();l.message="UserCancelException";return l}})(g.f||(g.f={}))})(J||(J={}));(function(g){g=g.nm||(g.nm={});g[g.forward=0]="forward";
g[g.reverse=1]="reverse"})(J||(J={}));(function(g){var u=function(){function a(b,d){this.Wa=b;this.vI=d;this.AI=-1;this.Al=!1}a.prototype.xe=function(){};a.prototype.next=function(){if(++this.AI==this.vI.D())return null;var b=this.vI.xa(this.AI);b.scale(this.Wa.ic);var d=new g.Ga;this.Wa.Xy(b,this.Al,d);return d};a.prototype.Fa=function(){return 0};return a}(),l=function(){function a(b,d,e){this.Wa=b;this.Yw=d;this.qo=!1;this.wo=e;this.Jw=[0];this.zk=[0];this.Pj=[0];this.ot=[0];this.Al=!1;this.Jq=
new g.Ga;this.Bk=[]}a.prototype.xe=function(){};a.prototype.next=function(){if(this.qo){this.qo=!1;this.td.aa();var b=g.R.$d(this.Jq);return b=g.pg.Tk(b,this.Wa.Tq,!0,!0,this.Wa.Vb)}null==this.td&&(this.td=this.Yw.Ba(),this.td.Ta(),null!=this.wo&&this.wo.dl(null,0));if(!this.td.Aa()){if(!this.td.Ta())return null;null!=this.wo&&this.wo.dl(null,0)}b=null;this.zk[0]=0;this.pB=this.Jw[0]=0;this.ji=NaN;this.qo=!1;for(var d=this.Bk.length=0,e=new g.b,f=new g.b,h=[0];this.td.Aa()&&8>this.pB;){var k=this.td.aa();
e.K(k.ac());f.K(k.wc());e.scale(this.Wa.ic);f.scale(this.Wa.ic);g.jj.vv(e,f)?e.x=f.x:g.jj.tv(e,f)&&(f.x=e.x);this.Bk.length=0;g.jj.gG(this.Wa.Ub,this.Wa.lc,this.Wa.Fe,e,f,this.Wa.zB,this.Wa.Ht,h,this.Pj,this.ot,this.Bk,this.Jw);null!=this.wo&&(k=this.Bk.slice(0),this.wo.cH(this.wo.$()-1,k,k.length-1));g.jj.uv(e,f)?(this.Jq.Ka(),this.Wa.Xy(e,this.Al,this.Jq),this.qo=!0):(this.Jq.Ka(),this.qo=this.cz(h[0],this.Jq));if(this.qo){this.td.ti();if(this.td.mA()){this.td.ti();this.td.aa();break}this.td.hY();
break}null==b&&(b=new g.Ga,b.dl(null,0));this.AE(b);d++}this.Jw[0]=0;if(0<d){for(h=this.td.wb();0<d;)this.td.ti(),e.K(this.Yw.xa(this.td.wb())),f.K(this.Yw.xa(this.td.nk())),e.scale(this.Wa.ic),f.scale(this.Wa.ic),this.Al&&(g.jj.vv(e,f)?e.x=f.x:g.jj.tv(e,f)&&(f.x=e.x)),this.Bk.length=0,g.jj.gG(this.Wa.Ub,this.Wa.lc,this.Wa.Fe,f,e,this.Wa.zB,this.Wa.Ht,null,this.Pj,this.ot,this.Bk,this.Jw),this.AE(b),d--;e.K(this.Yw.xa(this.td.wb()));e.scale(this.Wa.ic);c.hs(this.Wa.Ub,this.Wa.lc,this.Wa.ic,this.Wa.rb,
e,this.ji+1.570796326794897,this.ji+4.71238898038469,this.Wa.uo,this.Al,this.zk,b,NaN,NaN);this.td.Rb(h);this.td.aa();d=g.la.Ng(null,b,!0);return b=g.pg.Tk(b,d,!0,!0,this.Wa.Vb)}this.qo=!1;this.td.aa();b=g.R.$d(this.Jq);return b=g.pg.Tk(b,this.Wa.Tq,!0,!0,this.Wa.Vb)};a.prototype.AE=function(b){var d=this.Bk[0],e=this.Pj[0]-1.570796326794897,f=this.ot[0]+1.570796326794897;if(!isNaN(this.ji)){if(this.ji>=this.Pj[0]){var h=this.ji+1.570796326794897;e=h+3.141592653589793-(this.ji-this.Pj[0])}else h=
this.ji+1.570796326794897,e=h+3.141592653589793-(6.283185307179586-(this.Pj[0]-this.ji));var k=this.ji>=this.Pj[0]&&3.141592653589793>=this.ji-this.Pj[0]?!1:this.ji<this.Pj[0]&&3.141592653589793<=this.Pj[0]-this.ji?!1:!0,m=!1;if(Math.abs(e-h)<=.5*this.Wa.uo)if(k){var n=b.xa(b.D()-2);n.scale(this.Wa.ic);var p=new g.da(0);g.gb.Cz(this.Wa.Ub,this.Wa.lc,d.x,d.y,n.x,n.y,p);for(n=p.j;n<=h;)n+=6.283185307179586;for(;n>h;)n-=6.283185307179586;n<e&&(m=!0)}else m=!0;m?(b.mC(0,b.D()-1),this.Al||(d=new g.b,d.K(b.xa(b.D()-
1)),d.scale(this.Wa.ic),-3.141592653589793>d.x-this.zk[0]?this.zk[0]-=6.283185307179586:3.141592653589793<d.x-this.zk[0]&&(this.zk[0]+=6.283185307179586)),k||(e=.5*(e+h))):(k?(h=new g.b,h.K(d),h.scale(1/this.Wa.ic),b.Ff(0,-1,h)):c.hs(this.Wa.Ub,this.Wa.lc,this.Wa.ic,this.Wa.rb,this.Bk[0],h,e,this.Wa.uo,this.Al,this.zk,b,NaN,NaN),this.pB+=1)}c.Wy(this.Wa.Ub,this.Wa.lc,this.Wa.ic,this.Wa.rb,this.Wa.Fe,this.Bk,e,f,this.Al,this.zk,b);this.ji=this.ot[0]};a.prototype.cz=function(b,d){return this.Wa.cz(this.Bk,
b,this.Pj[0],this.ot[0],this.Al,d)};a.prototype.Fa=function(){return 0};return a}(),c=function(){function a(){}a.buffer=function(b,d,e,f,h,k){if(null==b)throw g.f.I("Geometry::Geodesic_bufferer::buffer");if(b.u())return new g.Ga(b.description);var m=new a;m.Wg=d;m.Kc=g.ab.hc(d);var n=g.ab.dw(m.Kc);m.Vb=k;m.Ub=g.ab.Nv(m.Kc);m.lc=n*(2-n);m.ic=m.Kc.Ld().gi;m.qa=m.Wg.co();m.Tq=m.Kc.co();m.Ht=m.Tq*m.ic;m.Sq=1.570796326794897/m.ic;m.t0=3.141592653589793/m.ic;m.rt=6.283185307179586/m.ic;m.u0=m.rt/6;m.uB=
0;m.s0=1.5707963267948966*m.Ub/m.uB;4==e?(m.Fe=2,m.Dw=!0):(m.Fe=e,m.Dw=!1);m.La=f;m.rb=Math.abs(f);isNaN(h)||.001>h?m.aZ():m.to=h;e=b.F();g.R.Ic(e)?(e=new g.Oa(b.description),e.$b(b,!0),b=e,e=1607):197==e&&(e=new g.g,b.s(e),e.N()<=m.qa||e.ca()<=m.qa?(e=new g.Oa(b.description),e.bd(b,!1),b=e,e=1607):(e=new g.Ga(b.description),e.bd(b,!1),b=e,e=1736));m.bZ();g.R.lo(e)||m.cZ();if(m.rb<=.5*m.to)return 1736!=e?new g.Ga(b.description):m.Dw?b:g.jj.rs(b,m.Wg,m.Fe,m.zB,-1,k);if(0>m.La&&1736!=e)return new g.Ga(b.description);
m.Dw&&g.R.Bc(e)?(d=g.jj.rs(b,d,4,NaN,m.to,k),b=g.ab.$g(d,m.Wg,m.Kc)):b=g.ab.$g(b,m.Wg,m.Kc);b=g.Lh.qj(b,m.Kc);if(b.u())return new g.Ga(b.description);!m.Dw&&g.R.Bc(e)&&(b=g.jj.fJ(m.ic,b));b=a.pZ(b,m.Kc);switch(e){case 1736:d=m.eP(b);break;case 1607:d=m.fP(b);break;case 550:d=m.cP(b);break;case 33:d=m.dP(b);break;default:throw g.f.Y("corrupted_geometry");}m=g.ab.$g(d,m.Kc,m.Wg);m.Tl(b.description);return m};a.prototype.eP=function(b){var d=new g.Ga;b=new l(this,b,d);b=g.Jh.local().U(b,this.Kc,this.Vb).next();
b=g.zp.sj(b,this.Kc,2);var e=new g.xd;e.scale(1/this.ic,1/this.ic);d.Qc(e);d=g.zp.sj(d,this.Kc,2);return 0<=this.La?g.Jh.local().U(d,b,this.Kc,this.Vb):g.Cp.local().U(d,b,this.Kc,this.Vb)};a.prototype.fP=function(b){b=new l(this,b,null);b=g.Jh.local().U(b,this.Kc,this.Vb).next();return b=g.zp.sj(b,this.Kc,2)};a.prototype.cP=function(b){b=new u(this,b);b=g.Jh.local().U(b,this.Kc,this.Vb).next();return b=g.zp.sj(b,this.Kc,2)};a.prototype.dP=function(b){b=b.w();b.scale(this.ic);var d=new g.Ga;this.Xy(b,
!1,d);return d=g.zp.sj(d,this.Kc,2)};a.prototype.cz=function(b,d,e,f,h,k){var m=b[0],n=b[b.length-1],p=m.y>n.y?m.y:n.y,q=g.C.q(this.Ub,this.lc,m.y<n.y?m.y:n.y);p=g.C.q(this.Ub,this.lc,p);if(.001<this.uB-(q+d+this.rb)&&.001<this.uB+(p-d-this.rb))return!1;d=e-1.570796326794897;e=f+1.570796326794897;q=d-3.141592653589793;p=d+3.141592653589793;var r=e+3.141592653589793,t=[NaN],v=[NaN],E=[NaN],O=[NaN];f=!1;a.VJ(this.Ub,this.lc,this.rb,m,d,q,n,e,t,v);a.VJ(this.Ub,this.lc,this.rb,n,r,e,m,q,E,O);e<t[0]&&
t[0]<r?f=!0:e<v[0]&&v[0]<r&&(f=!0);f||(q<E[0]&&E[0]<d?f=!0:q<O[0]&&O[0]<d&&(f=!0));if(!f&&h)return!1;for(var M=[],S=b.length-1;0<=S;S--)M.push(b[S]);k.Ka();k.dl(null,0);S=[0];a.Wy(this.Ub,this.lc,this.ic,this.rb,this.Fe,b,d,e,h,S,k);a.hs(this.Ub,this.lc,this.ic,this.rb,n,e,r,this.uo,h,S,k,t[0],v[0]);a.Wy(this.Ub,this.lc,this.ic,this.rb,this.Fe,M,r,p,h,S,k);a.hs(this.Ub,this.lc,this.ic,this.rb,m,q,d,this.uo,h,S,k,E[0],O[0]);b=!1;h||(b=this.sF(this.ic,k));return f||b};a.prototype.Xy=function(b,d,e){e.Ka();
e.dl(null,0);a.hs(this.Ub,this.lc,this.ic,this.rb,b,-this.uo,6.283185307179586,this.uo,d,[0],e,NaN,NaN);d||this.sF(this.ic,e)};a.prototype.sF=function(b,d){var e=this.FP(b,d);b=this.GP(b,d);return e||b};a.prototype.FP=function(b,d){var e=d.D(),f=!1,h=new g.g;d.s(h);if(!g.l.V(h.B*b,1.570796326794897)&&!g.l.V(h.A*b,-1.570796326794897))return!1;var k=new g.b;for(--e;0<=e;e--)d.w(e,k),k.y==h.B&&g.l.V(k.y*b,1.570796326794897)?(f=!0,this.FJ(k,e,d)):k.y==h.A&&g.l.V(k.y*b,-1.570796326794897)&&(f=!0,this.FJ(k,
e,d));return f};a.prototype.GP=function(b,d){var e=d.xa(0),f=d.xa(d.D()-1);return 3.141592653589793<Math.abs(e.x-f.x)*b?(this.nX(d),!0):this.EP(d)};a.prototype.EP=function(b){return 0>b.Pe()?(this.mX(b),!0):!1};a.prototype.FJ=function(b,d,e){var f=e.D(),h=0<d?d-1:f-1;f=e.xa(d<f-1?d+1:0);h=e.xa(h);if(!g.l.V(f.y,b.y)&&!g.l.V(f.x,b.x)){var k=new g.b;k.ka(f.x,b.y);e.nb(d,k)}g.l.V(h.y,b.y)||g.l.V(h.x,b.x)||(f=new g.b,f.ka(h.x,b.y),e.Ff(0,d,f))};a.prototype.nX=function(b){var d=new g.Ga,e=new g.Ga,f=new g.xd,
h=b.xa(0),k=b.xa(b.D()-1),m=new g.b;h.x>k.x?(k=this.Sq,f.mg(-this.rt,0)):(k=-this.Sq,f.mg(this.rt,0));d.add(b,!1);b.Ka();e.add(d,!1);e.Qc(f);h=new g.g;e.s(h);h.O((this.rt-h.N())/2,0);h.A=-this.Sq;h.B=this.Sq;for(var n=0;n<e.D();n++)e.w(n,m),d.Ff(0,-1,m);e.Qc(f);for(n=0;n<e.D();n++)e.w(n,m),d.Ff(0,-1,m);e=d.xa(0);f=d.xa(d.D()-1);m.ka(f.x,k);d.Ff(0,-1,m);m.ka(.5*(f.x+e.x),k);d.Ff(0,-1,m);m.ka(e.x,k);d.Ff(0,-1,m);d=g.Lh.Ss(d,this.Kc,2,!0,h.o);d=g.Lh.Ss(d,this.Kc,2,!0,h.v);d=g.Yd.clip(d,h,this.Tq,NaN);
b.add(d,!1)};a.prototype.mX=function(b){var d=new g.g;b.s(d);d.O((this.rt-d.N())/2,0);d.A=-this.Sq;d.B=this.Sq;b.dl(null,0);var e=new g.b;e.ka(d.o,d.A);b.Ff(1,-1,e);e.ka(d.o,d.B);b.Ff(1,-1,e);e.ka(.5*(d.o+d.v),d.B);b.Ff(1,-1,e);e.ka(d.v,d.B);b.Ff(1,-1,e);e.ka(d.v,d.A);b.Ff(1,-1,e);e.ka(.5*(d.o+d.v),d.A);b.Ff(1,-1,e)};a.Wy=function(b,d,e,f,h,k,m,n,p,q,r){var t=null;p||(t=new g.b,t.Tc(),0<r.D()&&(t.K(r.xa(r.D()-1)),t.scale(e)));var v=new g.da(0),E=new g.da(0),O=new g.da(0),M=new g.b,S=new g.b,da=k[k.length-
1];e=1/e;for(var ca=0;ca<k.length;ca++){var fa=k[ca];if(0==ca)var qa=m;else ca==k.length-1?qa=n:(g.gb.Ad(b,d,da.x,da.y,fa.x,fa.y,null,null,v,h),qa=v.j-1.570796326794897);g.gb.Fi(b,d,fa.x,fa.y,f,qa,E,O);p?S.ka(E.j,O.j):(M.ka(E.j,O.j),a.kK(fa.x,M.x,t.x,q),S.ka(q[0]+M.x,M.y),t.K(S));S.scale(e);r.Ff(0,-1,S)}};a.hs=function(b,d,e,f,h,k,m,n,p,q,r,t,v){if(!(m-k<n)){var E=new g.da(0),O=new g.da(0),M=new g.b,S=new g.b,da=null;p||(da=new g.b,da.Tc(),0<r.D()&&(da.K(r.xa(r.D()-1)),da.scale(e)));var ca=g.L.truncate(Math.ceil(k/
n)),fa=ca++*n;fa==k&&(fa=ca++*n);for(e=1/e;fa<m+n;){k<t&&t<fa?(fa=t,ca--):k<v&&v<fa&&(fa=v,ca--);if(fa>=m)break;g.gb.Fi(b,d,h.x,h.y,f,fa,E,O);p?S.ka(E.j,O.j):(M.ka(E.j,O.j),a.kK(h.x,M.x,da.x,q),S.ka(q[0]+M.x,M.y),da.K(S));S.scale(e);r.Ff(0,-1,S);k=fa;fa=ca++*n}}};a.VJ=function(b,d,e,f,h,k,m,n,p,q){var r=new g.b,t=new g.b,v=new g.da(0),E=new g.da(0);g.gb.Fi(b,d,f.x,f.y,e,h,v,E);r.ka(v.j,E.j);g.gb.Fi(b,d,f.x,f.y,e,k,v,E);t.ka(v.j,E.j);e=new g.da(0);g.gb.Cz(b,d,m.x,m.y,r.x,r.y,e);p[0]=e.j;g.gb.Cz(b,
d,m.x,m.y,t.x,t.y,e);for(q[0]=e.j;p[0]<=q[0];)p[0]+=6.283185307179586;for(;p[0]>q[0];)p[0]-=6.283185307179586;for(;p[0]>=n;)p[0]-=6.283185307179586,q[0]-=6.283185307179586;for(;p[0]<n;)p[0]+=6.283185307179586,q[0]+=6.283185307179586};a.kK=function(b,d,e,f){if(isNaN(e)){for(;3.141592653589793<f[0]+d-b;)f[0]-=6.283185307179586;for(;3.141592653589793<b-(f[0]+d);)f[0]+=6.283185307179586}else 3.141592653589793<f[0]+d-e?f[0]-=6.283185307179586:3.141592653589793<e-(f[0]+d)&&(f[0]+=6.283185307179586)};a.pZ=
function(b,d){var e=b.F(),f=g.R.Bc(e)?b.$():550==e?b.D():1;if(1==f)return b;var h=new g.ha(0);h.resize(f);for(var k=[],m=new g.g,n=0;n<f;n++){h.write(n,n);if(g.R.Bc(e)){b.Sj(n,m);var p=m.hf()}else p=b.xa(n);p=g.fM.GZ(d,p);k[n]=p}h.Zd(0,h.size,function(q,r){return k[q]<k[r]?-1:k[q]>k[r]?1:0});d=b.Ea();for(n=0;n<f;n++)m=h.read(n),g.R.Bc(e)?d.addPath(b,m,!0):d.yd(b,m,m+1);return d};a.prototype.bZ=function(){var b=Math.min(3.141592653589793*this.Ub-this.rb,this.rb);b=Math.min(b,.39269908169872414*this.Ub);
var d=new g.b;d.ka(0,10*this.ic);var e=45*this.ic,f=new g.da(0),h=new g.da(0),k=new g.da(0),m=new g.da(0),n=new g.da(0),p=new g.da(0),q=new g.da(0),r=new g.da(0),t=new g.b,v=new g.b,E=new g.b,O=new g.b;g.gb.Fi(this.Ub,this.lc,d.x,d.y,b,0,f,h);t.ka(f.j,h.j);g.gb.Fi(this.Ub,this.lc,d.x,d.y,b,e,k,m);v.ka(k.j,m.j);f=new g.da(0);h=new g.da(0);for(var M=new g.da(0);;){g.gb.Fi(this.Ub,this.lc,d.x,d.y,b,.5*(0+e),n,p);E.ka(n.j,p.j);g.gb.Ad(this.Ub,this.lc,t.x,t.y,v.x,v.y,f,h,null,2);g.gb.tj(this.Ub,this.lc,
t.x,t.y,.5*f.j,h.j,q,r,2);O.ka(q.j,r.j);g.gb.Ad(this.Ub,this.lc,E.x,E.y,O.x,O.y,M,null,null,2);if(M.j<=this.to)break;e*=.9;g.gb.Fi(this.Ub,this.lc,d.x,d.y,b,e,k,m);v.ka(k.j,m.j)}this.uo=6.283185307179586/Math.ceil(6.283185307179586/(e-0))};a.prototype.cZ=function(){var b=Math.min(3.141592653589793*this.Ub-this.rb,this.rb);b=Math.min(b,.39269908169872414*this.Ub);var d=new g.b,e=new g.b;d.ka(0,10*this.ic);e.ka(10*this.ic,10*this.ic);var f=new g.da(0),h=new g.da(0),k=new g.da(0);g.gb.Ad(this.Ub,this.lc,
d.x,d.y,e.x,e.y,k,f,h,this.Fe);var m=new g.da(0),n=new g.da(0),p=new g.da(0),q=new g.da(0),r=new g.b,t=new g.da(0),v=new g.da(0),E=new g.da(0),O=new g.da(0),M=new g.da(0),S=new g.da(0),da=new g.da(0),ca=new g.da(0),fa=new g.da(0),qa=new g.b,ya=new g.b,Ia=new g.b,Ga=new g.b,Ma=1;f=f.j;h=h.j+1.570796326794897;k=k.j;g.gb.Fi(this.Ub,this.lc,d.x,d.y,b,f-1.570796326794897,v,E);qa.ka(v.j,E.j);g.gb.Fi(this.Ub,this.lc,e.x,e.y,b,h,O,M);ya.ka(O.j,M.j);v=new g.da(0);E=new g.da(0);h=new g.da(0);for(var La=new g.da(0);;){g.gb.tj(this.Ub,
this.lc,d.x,d.y,.5*(0+Ma)*k,f,m,n,this.Fe);r.ka(m.j,n.j);g.gb.Ad(this.Ub,this.lc,d.x,d.y,r.x,r.y,null,null,t,this.Fe);g.gb.Fi(this.Ub,this.lc,r.x,r.y,b,t.j+1.570796326794897,S,da);Ia.ka(S.j,da.j);g.gb.Ad(this.Ub,this.lc,qa.x,qa.y,ya.x,ya.y,v,E,null,2);g.gb.tj(this.Ub,this.lc,qa.x,qa.y,.5*v.j,E.j,ca,fa,2);Ga.ka(ca.j,fa.j);g.gb.Ad(this.Ub,this.lc,Ia.x,Ia.y,Ga.x,Ga.y,h,null,null,2);if(h.j<=this.to)break;Ma*=.9;g.gb.tj(this.Ub,this.lc,d.x,d.y,Ma*k,f,p,q,this.Fe);e.ka(p.j,q.j);g.gb.Ad(this.Ub,this.lc,
d.x,d.y,e.x,e.y,null,null,La,this.Fe);g.gb.Fi(this.Ub,this.lc,e.x,e.y,b,La.j+1.570796326794897,O,M);ya.ka(O.j,M.j)}b=Ma*k;1E5<b&&(b=1E5);this.zB=b};a.prototype.aZ=function(){var b=5E4<this.rb?100:1E4<this.rb?10:1;500>this.rb/b&&(b=this.rb/500);.01>b&&(b=.01);this.to=b};return a}();g.dM=c})(J||(J={}));(function(g){var u=function(){function l(){}l.Wf=function(c,a){var b=new g.b;b.K(a);c.push(b)};l.Op=function(c,a){c.add(a.x);c.add(a.y)};l.SB=function(c){c.Gh(c.size-2)};l.YB=function(c,a){a.ka(c.get(c.size-
2),c.get(c.size-1))};l.rs=function(c,a,b,d,e,f){if(null==c)throw g.f.I();var h=c.F();if(c.u()||g.R.lo(h))return c;var k=new l;k.Wg=a;k.Kc=g.ab.hc(a);var m=g.ab.dw(k.Kc);k.Vb=f;k.Ub=g.ab.Nv(k.Kc);k.lc=m*(2-m);k.ic=k.Kc.Ld().gi;k.Tq=k.Kc.co();k.Ht=k.Tq*k.ic;k.jB=d;k.iB=e;k.Fe=b;197==h?(b=new g.Ga(c.description),b.bd(c,!1)):g.R.Ic(h)?(b=new g.Oa(c.description),b.$b(c,!0)):b=c;if(4!=k.Fe){a=0==k.Wg.Ib(k.Kc)?g.ab.$g(b,k.Wg,k.Kc):g.Lh.qj(b,k.Kc);if(a.u())return a;a=l.fJ(k.ic,a);a=k.Ez(a);a=g.zp.sj(a,k.Kc,
k.Fe);k=g.ab.$g(a,k.Kc,k.Wg)}else{2==g.je.Fb(a)?(c=g.ab.sk(),a=g.ak.local().U(b,c,a,f),a==c&&(a=new g.Ga,c.copyTo(a))):a=g.Lh.qj(b,k.Kc);if(a.u())return a;k=k.fZ(a)}return k};l.fJ=function(c,a){var b=new g.g;a.Zb(b);if(3.141592653589793>b.N()*c)return a;var d=!1;b=a.Ba();for(var e=new g.b,f=new g.b;b.Ta();)for(;b.Aa();){var h=b.aa();e.K(h.ac());f.K(h.wc());e.scale(c);f.scale(c);if(3.141592653589793<Math.abs(e.x-f.x)){var k=l.uv(e,f);if(!k){d=!0;break}if(6.283185307179586<Math.abs(e.x-f.x)){d=!0;break}}}if(!d)return a;
d=a.Ea();var m=1<a.description.Ca,n=new g.b,p=new g.b,q=new g.b,r=new g.b,t=new g.Ra;for(b.ej();b.Ta();)for(var v=NaN,E=[0];b.Aa();){h=b.aa();e.K(h.ac());f.K(h.wc());e.scale(c);f.scale(c);isNaN(v)?(l.cj(e.x,NaN,E),p.K(e)):p.K(q);v=p.x;if(k=l.uv(e,f)){if(6.283185307179586<f.x-e.x)for(;6.283185307179586<f.x-e.x;)f.x-=6.283185307179586;if(-6.283185307179586>f.x-e.x)for(;-6.283185307179586>f.x-e.x;)f.x+=6.283185307179586;l.cj(f.x,NaN,E);q.K(f)}else n.K(f),l.TV(n),l.cj(n.x,v,E),q.ka(E[0]+n.x,n.y);.5>Math.abs(q.x-
f.x)&&q.K(f);m?(h.zx(0,t),r.K(p),r.scale(1/c),t.nb(r),(k=b.Im())?d.xf(t):d.lineTo(t),b.ko()&&!a.Lb(b.Pa)&&(h.zx(1,t),r.K(q),r.scale(1/c),t.nb(r),d.lineTo(t))):((k=b.Im())&&d.pA(null,0),h=d.$()-1,r.K(p),r.scale(1/c),d.Ff(h,-1,r),b.ko()&&!a.Lb(b.Pa)&&(r.K(q),r.scale(1/c),d.Ff(h,-1,r)))}return d};l.gG=function(c,a,b,d,e,f,h,k,m,n,p,q){var r=new g.b,t=new g.b,v=0<d.compare(e);l.jK(v,d,e,r,t);l.hG(c,a,b,r,t,f,NaN,h,k,m,n,null,p,q);v&&l.OC(m,n,null,p)};l.prototype.Ez=function(c){var a=c.Ea(),b=c.Ba(),d=
[],e=null,f=null,h=1<c.description.Ca;h&&(e=new g.ie(0),f=new g.og);for(var k=[0],m=new g.b,n=new g.b,p=new g.b,q=new g.b;b.Ta();)for(k[0]=0;b.Aa();){var r=b.aa();m.K(r.ac());n.K(r.wc());m.scale(this.ic);n.scale(this.ic);var t=0<m.compare(n);l.jK(t,m,n,p,q);d.length=0;null!=e&&e.Gh(0);0<this.jB?l.hG(this.Ub,this.lc,this.Fe,p,q,this.jB,this.iB,this.Ht,null,null,null,h?e:null,d,k):l.oS(this.Ub,this.lc,this.Fe,p,q,this.iB,this.Ht,h?e:null,d,k);t&&l.OC(null,null,h?e:null,d);d[0].K(r.ac());d[d.length-
1].K(r.wc());for(var v=1;v<d.length-1;v++)d[v].scale(1/this.ic);h?(t=l.iK(t,r,f),l.FE(b.Im(),b.ko()&&!c.Lb(b.Pa),r,t,e,d,a)):l.EE(b.Im(),b.ko()&&!c.Lb(b.Pa),d,a)}return a};l.prototype.fZ=function(c){var a=c.Ea(),b=c.Ba(),d=[],e=null,f=new g.og,h=1<c.description.Ca;for(h&&(e=new g.ie(0));b.Ta();)for(;b.Aa();){var k=b.aa(),m=k.ac(),n=k.wc();m=0<m.compare(n);n=l.iK(m,k,f);d.length=0;null!=e&&e.Gh(0);l.eZ(this.Ub,this.lc,this.ic,n,this.Wg,this.jB,this.iB,h?e:null,d);m&&l.OC(null,null,h?e:null,d);h?l.FE(b.Im(),
b.ko()&&!c.Lb(b.Pa),k,n,e,d,a):l.EE(b.Im(),b.ko()&&!c.Lb(b.Pa),d,a)}return a};l.EE=function(c,a,b,d){c&&d.pA(null,0);c=d.$()-1;var e=b.slice(0);d.cH(c,e,e.length-1);a&&d.Ff(c,-1,b[b.length-1])};l.FE=function(c,a,b,d,e,f,h){var k=new g.Ra;b.jp(k);c?h.xf(k):h.lineTo(k);if(2<f.length){c=d.Pb();for(var m=1;m<f.length-1;m++){var n=d.zH(e.get(m)*c);d.zx(n,k);k.nb(f[m]);h.lineTo(k)}}a&&(b.hp(k),h.lineTo(k))};l.hG=function(c,a,b,d,e,f,h,k,m,n,p,q,r,t){var v=new g.da(0),E=new g.da(0),O=new g.da(0);g.gb.Ad(c,
a,d.x,d.y,e.x,e.y,O,v,E,b);O=O.j;var M=v=v.j;E=E.j;0>M&&(M+=6.283185307179586);0>E&&(E+=6.283185307179586);null!=m&&(m[0]=O);null!=n&&(n[0]=M);null!=p&&(p[0]=E);n=m=NaN;null!=q&&(n=g.C.Hg(c,a),p=g.C.q(c,a,d.y),m=(n-p)/O,n=(n+p)/O);p=l.vv(d,e);E=l.tv(d,e);M=p||E;var S=l.pF(d,e,k),da=new g.da(0),ca=new g.da(0),fa=new g.b,qa=new g.b,ya=new g.b;l.cj(d.x,NaN,t);var Ia=[t[0]];if(O<=f)l.Wf(r,d),l.cj(e.x,NaN,t),null!=q&&q.add(0),M?(p&&l.VB(d,e,q,r),E&&l.TB(d,e,q,r)):S?l.UB(d,e,v,m,n,q,r):0<h&&(qa.ka(d.x-
Ia[0],d.y),fa.ka(e.x-t[0],e.y),l.Dz(c,a,b,d,O,v,qa,fa,0,1,h,q,r,Ia)),l.Wf(r,e);else{f=1+g.L.truncate(Math.ceil(O/f));var Ga=O/(f-1),Ma=new g.b,La=0;l.Wf(r,d);Ma.K(d);qa.ka(d.x-t[0],d.y);null!=q&&q.add(0);for(var Oa=1;Oa<f;Oa++){if(Oa<f-1){g.gb.tj(c,a,d.x,d.y,Oa*Ga,v,da,ca,b);fa.ka(da.j,ca.j);l.cj(fa.x,Ma.x,t);ya.ka(t[0]+fa.x,fa.y);var Pa=Oa/(f-1)}else l.cj(e.x,NaN,t),fa.ka(e.x-t[0],e.y),ya.K(e),Pa=1;M?(1==Oa&&p&&l.VB(d,ya,q,r),Oa==f-1&&E&&l.TB(Ma,e,q,r)):S?l.oF(Ma,ya,k)&&(d.x<e.x?Ma.x>ya.x&&(t[0]+=
6.283185307179586,ya.ka(t[0]+fa.x,fa.y)):Ma.x<ya.x&&(t[0]-=6.283185307179586,ya.ka(t[0]+fa.x,fa.y)),l.UB(Ma,ya,v,m,n,q,r)):0<h&&l.Dz(c,a,b,d,O,v,qa,fa,La,Pa,h,q,r,Ia);l.Wf(r,ya);null!=q&&q.add(Pa);Ma.K(ya);qa.K(fa);Ia[0]=t[0];La=Pa}}};l.oS=function(c,a,b,d,e,f,h,k,m,n){var p=new g.da(0),q=new g.da(0),r=new g.da(0);g.gb.Ad(c,a,d.x,d.y,e.x,e.y,r,p,q,b);q=r.j;p=p.j;var t=r=NaN;if(null!=k){t=g.C.Hg(c,a);var v=g.C.q(c,a,d.y);r=(t-v)/q;t=(t+v)/q}v=l.vv(d,e);var E=l.tv(d,e),O=v||E;h=l.pF(d,e,h);var M=l.uv(d,
e);M=O||h||M;l.cj(d.x,NaN,n);var S=new g.b;l.Wf(m,d);S.K(d);null!=k&&k.add(0);M?(O?(v&&l.VB(d,e,k,m),E&&l.TB(d,e,k,m)):h&&l.UB(d,e,p,r,t,k,m),l.cj(e.x,NaN,n),l.Wf(m,e)):q<=f?(l.cj(e.x,NaN,n),l.Wf(m,e)):(r=new g.b,h=new g.b,r.K(d),h.K(e),r.x-=n[0],h.x-=n[0],-3.141592653589793>h.x?h.x+=6.283185307179586:3.141592653589793<h.x&&(h.x-=6.283185307179586),l.Dz(c,a,b,d,q,p,r,h,0,1,f,k,m,n),l.Wf(m,e),l.cj(e.x,NaN,n));null!=k&&k.add(1)};l.Dz=function(c,a,b,d,e,f,h,k,m,n,p,q,r,t){var v=new g.b,E=new g.b;v.ka(h.x+
t[0],h.y);new g.da(0);new g.da(0);new g.da(0);new g.da(0);var O=new g.da(0),M=new g.da(0),S=new g.da(0),da=new g.b,ca=new g.b,fa=new g.b,qa=new g.b;da.K(h);ca.K(k);h=new g.ie(0);k=new g.ie(0);l.Op(h,ca);k.add(n);var ya=new g.b,Ia=new g.zb,Ga=[];for(l.bL(4,Ga);0<h.size;){for(var Ma=!1,La,Oa=NaN,Pa=0;3>Pa;Pa++)if(La=Ga[Pa]*n+(1-Ga[Pa])*m,g.gb.tj(c,a,d.x,d.y,La*e,f,O,M,b),fa.ka(O.j,M.j),0==Pa&&(Oa=La,qa.K(fa)),l.yY(da,fa,ca,Ia),Ia.cc(Ia.ae(fa,!0),ya),g.gb.Ad(c,a,fa.x,fa.y,ya.x,ya.y,S,null,null,2),S.j>
p){Ma=!0;break}Ma?(ca.K(qa),n=Oa,l.Op(h,ca),k.add(n)):(l.SB(h),k.Xn(k.size-1,1,k.size-1),0<h.size&&(l.cj(ca.x,v.x,t),E.ka(t[0]+ca.x,ca.y),l.Wf(r,E),v.K(E),null!=q&&q.add(n),da.K(ca),m=n,l.YB(h,ca),n=k.get(k.size-1)))}};l.eZ=function(c,a,b,d,e,f,h,k,m){var n=new g.b,p=new g.b,q=new g.b,r=new g.b,t=new g.b,v=new g.b,E=new g.b,O=new g.b,M=new g.b,S=new g.b,da=new g.da(0),ca=new g.da(0),fa=new g.b,qa=[[],[]],ya=1==g.je.Fb(e);e=e.ce(0);var Ia=d.ac(),Ga=d.wc();ya?(v.ka(Ia.x*b,Ia.y*b),E.ka(Ga.x*b,Ga.y*b)):
(qa[0][0]=Ia.x,qa[0][1]=Ia.y,qa[1][0]=Ga.x,qa[1][1]=Ga.y,g.ab.eu(),v.x=qa[0][0]*b,v.y=qa[0][1]*b,E.x=qa[1][0]*b,E.y=qa[1][1]*b);var Ma=0,La=0,Oa=1,Pa=d.jo();n.K(Ia);p.K(Ga);Ga=new g.ie(0);var Ta=new g.ie(0),Xa=new g.ie(0);l.Op(Ga,p);l.Op(Ta,E);Xa.add(Oa);l.Wf(m,n);null!=k&&k.add(La);var bb=[],$a=0<h?Pa?5:3:Pa?5:1;l.bL($a,bb);for(var Sa=new g.da(0),Va=new g.da(0),Ra=new g.da(0),ab=new g.da(0),Za=new g.da(0),eb=new g.da(0),Wa=new g.da(0);0<Ta.size;){var db=!1,Ya=NaN;g.gb.Ad(c,a,v.x,v.y,E.x,E.y,Sa,Va,
null,2);for(Ia=0;Ia<$a;Ia++){if(0==Ia){if(!Pa&&0>=h&&Sa.j<=f&&3.141592653589793>Math.abs(v.x-E.x))break;if(d.zy(La,Oa)<=e)break}var ib=bb[Ia]*Oa+(1-bb[Ia])*La;d.cc(ib,q);ya?O.ka(q.x*b,q.y*b):(qa[0][0]=q.x,qa[0][1]=q.y,g.ab.eu(),O.x=qa[0][0]*b,O.y=qa[0][1]*b);if(0==Ia&&(Ya=ib,t.K(q),S.K(O),0<f&&(Sa.j>f||3.141592653589793<=Math.abs(v.x-E.x)))){db=!0;break}if(Pa&&0<f){if(g.gb.Ad(c,a,v.x,v.y,O.x,O.y,Ra,null,null,2),Ra.j>f||3.141592653589793<=Math.abs(v.x-O.x)){db=!0;break}}else if(0<h)if(Pa?(r.hU(n,p,
bb[Ia]),ya?M.ka(r.x*b,r.y*b):(qa[0][0]=r.x,qa[0][1]=r.y,g.ab.eu(),M.x=qa[0][0]*b,M.y=qa[0][1]*b)):(r.K(q),M.K(O)),g.gb.Ad(c,a,v.x,v.y,M.x,M.y,ab,null,null,2),ab.j<=Sa.j){g.gb.tj(c,a,v.x,v.y,ab.j,Va.j,da,ca,2);fa.ka(da.j,ca.j);g.gb.Ad(c,a,fa.x,fa.y,O.x,O.y,Za,null,null,2);if(Za.j>h){db=!0;break}if(Pa){g.gb.Ad(c,a,fa.x,fa.y,M.x,M.y,eb,null,null,2);if(eb.j>h){db=!0;break}g.gb.Ad(c,a,M.x,M.y,O.x,O.y,Wa,null,null,2);if(Wa.j>h){db=!0;break}}}else{db=!0;break}}db?(p.K(t),E.K(S),Oa=Ya,l.Op(Ga,p),l.Op(Ta,
E),Xa.add(Oa)):(l.SB(Ga),l.SB(Ta),Xa.Xn(Xa.size-1,1,Xa.size-1),l.Wf(m,p),Ma+=Sa.j,null!=k&&k.add(Ma),0<Ta.size&&(n.K(p),v.K(E),La=Oa,l.YB(Ga,p),l.YB(Ta,E),Oa=Xa.get(Xa.size-1)))}if(null!=k)for(c=1/Ma,Ia=0;Ia<k.size;Ia++)k.write(Ia,k.read(Ia)*c)};l.OC=function(c,a,b,d){d.reverse();null!=b&&b.wi(0,b.size,1);b=null!=c?c[0]:NaN;d=null!=a?a[0]:NaN;null!=c&&(c[0]=d);null!=a&&(a[0]=b)};l.jK=function(c,a,b,d,e){c?(d.K(b),e.K(a)):(d.K(a),e.K(b))};l.iK=function(c,a,b){if(!c)return a;b.create(a.F());a.copyTo(b.get());
b.get().reverse();return b.get()};l.cj=function(c,a,b){if(isNaN(a)){for(;3.141592653589793<b[0]-c;)b[0]-=6.283185307179586;for(;3.141592653589793<c-b[0];)b[0]+=6.283185307179586}else 3.141592653589793<b[0]+c-a?b[0]-=6.283185307179586:3.141592653589793<a-(b[0]+c)&&(b[0]+=6.283185307179586)};l.yY=function(c,a,b,d){3.141592653589793>Math.abs(a.x-c.x)?(d.Fc(c),3.141592653589793<=b.x-c.x?d.am(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?d.am(b.x+6.283185307179586,b.y):d.am(b.x,b.y)):(d.Fc(b),
3.141592653589793<=c.x-b.x?d.am(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?d.am(c.x+6.283185307179586,c.y):d.am(c.x,c.y))};l.bL=function(c,a){for(var b=0;b<c;b++){var d=Math.ceil(b/2)/(c+1);0!=b%2&&(d=-d);a[b]=.5+d}};l.vv=function(c,a){return g.l.V(c.y,1.570796326794897)&&!g.l.V(a.y,1.570796326794897)||g.l.V(c.y,-1.570796326794897)&&!g.l.V(a.y,-1.570796326794897)?!0:!1};l.tv=function(c,a){return g.l.V(a.y,1.570796326794897)&&!g.l.V(c.y,1.570796326794897)||g.l.V(a.y,-1.570796326794897)&&
!g.l.V(c.y,-1.570796326794897)?!0:!1};l.pF=function(c,a,b){return!l.oF(c,a,b)||g.l.V(c.y,1.570796326794897)||g.l.V(c.y,-1.570796326794897)||g.l.V(a.y,1.570796326794897)||g.l.V(a.y,-1.570796326794897)?!1:!0};l.oF=function(c,a,b){return Math.abs(Math.abs(c.x-a.x)-3.141592653589793)<=b?!0:!1};l.uv=function(c,a){return g.l.V(c.y,1.570796326794897)&&g.l.V(a.y,1.570796326794897)||g.l.V(c.y,-1.570796326794897)&&g.l.V(a.y,-1.570796326794897)?!0:!1};l.VB=function(c,a,b,d){if(0<c.y){var e=new g.b;e.ka(a.x,
1.570796326794897)}else e=new g.b,e.ka(a.x,-1.570796326794897);g.l.V(c.x,e.x)||g.l.V(a.y,e.y)||(l.Wf(d,e),null!=b&&b.add(0))};l.TB=function(c,a,b,d){if(0<a.y){var e=new g.b;e.ka(c.x,1.570796326794897)}else e=new g.b,e.ka(c.x,-1.570796326794897);g.l.V(a.x,e.x)||g.l.V(c.y,e.y)||(l.Wf(d,e),null!=b&&b.add(1))};l.UB=function(c,a,b,d,e,f,h){g.l.qd(b)?(0<1.570796326794897-c.y&&(b=new g.b,b.ka(c.x,1.570796326794897),l.Wf(h,b),null!=f&&f.add(d)),0<1.570796326794897-a.y&&(b=new g.b,b.ka(a.x,1.570796326794897),
l.Wf(h,b),null!=f&&f.add(d))):(0<1.570796326794897+c.y&&(b=new g.b,b.ka(c.x,-1.570796326794897),l.Wf(h,b),null!=f&&f.add(e)),0<1.570796326794897+a.y&&(b=new g.b,b.ka(a.x,-1.570796326794897),l.Wf(h,b),null!=f&&f.add(e)))};l.TV=function(c){if(-3.141592653589793>c.x)for(;-3.141592653589793>c.x;)c.x+=6.283185307179586;if(3.141592653589793<c.x)for(;3.141592653589793<c.x;)c.x-=6.283185307179586};return l}();g.jj=u})(J||(J={}));(function(g){g.zp=function(){function u(){}u.sj=function(l,c,a){if(null==l||
null==c||!g.ab.Cc(c))throw g.f.I();if(l.u())return l;var b=l,d=b.F();if(g.R.Bc(d)){b=g.Lh.qj(l,c);l=new g.g;b.s(l);d=g.la.Qd(c,l,!1);for(var e=g.ab.nh(c),f=Math.floor((l.o-e.o)/e.N())*e.N()+e.o;f<l.v;)f>l.o+d&&f<l.v-d&&(b=g.Lh.Ss(b,c,a,!0,f)),f+=e.N()}else{if(197==d)return l=new g.Ga(b.description),l.bd(b,!1),u.sj(l,c,a);if(g.R.Ic(d))return l=new g.Oa(b.description),l.$b(b,!0),u.sj(l,c,a)}return u.Jv(b,c)};u.Jv=function(l,c){if(null==l||null==c||!g.ab.Cc(c))throw g.f.I();if(l.u())return l;var a=l.F();
197==a?(a=new g.Ga(l.description),a.bd(l,!1)):g.R.Ic(a)?(a=new g.Oa(l.description),a.$b(l,!0)):a=l;a=g.Lh.qj(a,c);return a.u()?a:1==g.je.Fb(c)?g.Lh.vm(a,c,0,a!=l,0):u.ZR(a,c,a!=l)};u.ZR=function(l,c,a){if(!g.ab.Cc(c))throw g.f.I();if(l.u())return l;var b=g.ab.Sd(c),d=-(180*b);b*=360;2==g.je.Fb(c)&&(d=g.ab.nh(c),b=d.v,d=d.o,b-=d);return g.Lh.aq(l,d,b,c,a,0,!0)};return u}()})(J||(J={}));(function(g){g.bM=function(){function u(){}u.kM=function(l,c){var a=Math.abs(l%c);return isNaN(a)||a==l||a<=Math.abs(c)/
2?a:0>l?-1*(a-c):0<l?a-c:0*(a-c)};u.J=function(l){return 0>l?-l:l};u.ub=function(l,c){return 0<=c?u.J(l):-u.J(l)};u.V=function(l,c){return l==c||u.J(l-c)<=u.qD*(1+(u.J(l)+u.J(c))/2)};u.qd=function(l){return 0==l||u.J(l)<=u.qD};u.ow=function(l){l=u.kM(l,u.py);return u.J(l)<=u.Jn?l:0>l?l+u.py:l-u.py};u.EA=function(l,c){l.j=u.ow(l.j);c.j=u.ow(c.j);u.J(c.j)>u.Ju&&(l.j=u.ow(l.j+u.Jn),c.j=u.ub(u.Jn,c.j)-c.j)};u.Hg=function(l,c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var a=c*c;return l/(1+c)*(1+a*(.25+a*(.015625+
1/256*a)))*u.Ju};u.nS=function(l,c,a,b,d){var e,f,h=0,k=f=0,m=0,n=0,p=0,q=0,r,t=0,v=new g.da,E=new g.da;if(null!=d)if(v.j=l,E.j=c,u.EA(v,E),l=v.j,c=E.j,v.j=a,E.j=b,u.EA(v,E),a=v.j,b=E.j,a=u.ow(a-l),u.V(c,b)&&(u.qd(a)||u.V(u.J(c),u.Ju)))null!=d&&(d.j=0);else{if(u.V(c,-b)){if(u.V(u.J(c),u.Ju)){null!=d&&(d.j=2*u.Hg(6378137,.0066943799901413165));return}if(u.V(u.J(a),u.Jn)){null!=d&&(d.j=2*u.Hg(6378137,.0066943799901413165));return}}if(u.qd(.0066943799901413165))n=Math.cos(c),p=Math.cos(b),null!=d&&(h=
Math.sin((b-c)/2),f=Math.sin(a/2),t=2*Math.asin(Math.sqrt(h*h+n*p*f*f)),d.j=6378137*t);else{v=1-Math.sqrt(.9933056200098587);l=1-v;E=Math.atan(l*Math.tan(c));c=Math.sin(E);E=Math.cos(E);var O=Math.atan(l*Math.tan(b));b=Math.sin(O);O=Math.cos(O);var M=e=a,S=0,da=1,ca=a;for(r=!0;1==r;){S+=1;1==da&&(q=Math.sin(ca),f=Math.cos(ca),h=O*q,t=E*b-c*O*f,h=Math.sqrt(h*h+t*t),f=c*b+E*O*f,t=Math.atan2(h,f),k=1E-15>u.J(h)?E*O*q/u.ub(1E-15,h):E*O*q/h,m=1-k*k,n=1E-15>u.J(m)?f-c*b/u.ub(1E-15,m)*2:f-c*b/m*2,p=n*n,
q=((-3*m+4)*v+4)*m*v/16);var fa=(1-q)*v*(t+q*h*(n+f*q*(2*p-1)));1==da?(ca=a+fa*k,1E-14>u.J(ca-M)?r=!1:u.J(ca)>u.Jn?(da=2,ca=u.Jn,0>a&&(ca=-ca),k=0,m=1,e=M=2,t=u.Jn-u.J(Math.atan(c/E)+Math.atan(b/O)),h=Math.sin(t),f=Math.cos(t),q=((-3*m+4)*v+4)*m*v/16,1E-14>u.J(k-e)?r=!1:(n=1E-15>u.J(m)?f-c*b/u.ub(1E-15,m)*2:f-c*b/m*2,p=n*n)):(0>(ca-M)*(M-e)&&5<S&&(ca=(2*ca+3*M+e)/6),e=M,M=ca)):(k=(ca-a)/fa,0>(k-M)*(M-e)&&5<S&&(k=(2*k+3*M+e)/6),e=M,M=k,m=1-k*k,q=k*h/(E*O),f=-Math.sqrt(u.J(1-q*q)),ca=Math.atan2(q,f),
h=O*q,t=E*b-c*O*f,h=Math.sqrt(h*h+t*t),f=c*b+E*O*f,t=Math.atan2(h,f),q=((-3*m+4)*v+4)*m*v/16,1E-14>u.J(k-e)?r=!1:(n=1E-15>u.J(m)?f-c*b/u.ub(1E-15,m)*2:f-c*b/m*2,p=n*n))}null!=d&&(k=Math.sqrt(1+(1/(l*l)-1)*m),k=(k-1)/(k+1),m=k*(1-.375*k*k),d.j=(1+k*k/4)/(1-k)*l*6378137*(t-m*h*(n+m/4*(f*(-1+2*p)-m/6*n*(-3+4*h*h)*(-3+4*p)))))}}};u.Jn=3.141592653589793;u.Ju=1.5707963267948966;u.py=6.283185307179586;u.qD=3.552713678800501E-15;return u}()})(J||(J={}));(function(g){var u=function(){return function(c){this.He=
c;this.Rk=this.He.getCode();0>this.Rk&&(this.Rk=0)}}();g.j_=u;var l=function(){function c(a){void 0===a&&(a=null);this.Gj=null;this.no=!1;null!==a&&(this.Gj=new u(a))}c.prototype.xc=function(){return null!=this.Gj?this.Gj.Rk:0};c.prototype.Cf=function(){var a=new c;this.copyTo(a);return a};c.prototype.copyTo=function(a){a.Gj=this.Gj;a.no=this.no};c.prototype.Rv=function(){var a=this.Cf();a.Xs();return a};c.prototype.Xs=function(){this.no=!this.no};c.prototype.Bm=function(){return null!=this.Gj?this.Gj.He:
null};c.prototype.PK=function(a){if(0>=a)throw g.f.I();if(a!=this.xc()){a=g.zf.geogtran(a);if(null==a)throw g.f.I("Geogtran not found.");this.Gj=new u(a)}};c.prototype.jA=function(){return null==this.Gj?null:this.Gj.He.toString()};c.prototype.XY=function(a){if(null==a)throw g.f.I();var b=null;try{b=g.zf.fromString(g.Pc.PE_TYPE_GEOGTRAN,a)}catch(d){throw g.f.I();}this.Gj=new u(b)};c.prototype.Ib=function(a){return a==this?!0:a instanceof c&&(!(0>=this.xc()||this.xc()!=a.xc())||this.Bm().isEqual(a.Bm()))?
this.no==a.no:!1};c.prototype.toString=function(){var a="GeographicTransformation: "+this.jA();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};c.create=function(a,b){var d=new c;d.PK(a);b&&d.Xs();return d};c.LF=function(a,b){var d=new c;d.XY(a);b&&d.Xs();return d};return c}();g.Hn=l})(J||(J={}));(function(g){var u=function(){function c(){}c.construct=function(a,b,d,e){var f=new c;f.Um=a;f.Vm=b;f.nI=d;f.oI=e;return f};c.ls=function(a,b){return a.Um==b.Um?a.Vm==
b.Vm?0:a.Vm<b.Vm?-1:1:a.Um<b.Um?-1:1};return c}(),l=function(){function c(){this.pI=[];this.cB=[];this.LH=this.RA=this.KH=!1;this.Jp()}c.bo=function(){null==c.oL&&(c.oL=new c);return c.oL};c.d0=function(){return c.bo().RA};c.e0=function(){return c.bo().LH};c.l_=function(a,b){if(a==b)return null;var d=c.bo();if(d.KH){var e=c.Fy(d.cB,a,b);return null!=e?e:null}e=c.Fy(d.cB,a,b);return null!=e?e:c.Fy(d.pI,a,b)};c.CQ=function(a,b,d,e,f){var h=g.hy.create();if(0<a)try{var k=g.Hn.create(a,b);if(0==k.xc())return null;
h.add(k);if(0<d){var m=g.Hn.create(d,e);if(0==m.xc())return null;h.add(m)}f&&(h=h.Rv())}catch(n){h=null}return h};c.Fy=function(a,b,d){if(b==d||0==a.length)return null;for(var e=u.construct(b,d,0,0),f=!1,h=!1,k=0,m=0,n=-1,p=0;p<a.length;p++)if(0===u.ls(e,a[p])){n=p;break}if(0>n||a[n].Um!=e.Um||a[n].Vm!=e.Vm){e=u.construct(d,b,0,0);b=-1;for(p=0;p<a.length;p++)if(0===u.ls(e,a[p])){b=p;break}0<=b&&a[b].Um==e.Um&&a[b].Vm==e.Vm&&(k=a[b].nI,m=a[b].oI,h=f=!0)}else k=a[n].nI,m=a[n].oI,f=!1,h=!0;if(!h)return null;
0==k&&(k=m,m=0);e=a=!1;0>k&&(k=-k,a=!0);0>m&&(m=-m,e=!0);return c.CQ(k,a,m,e,f)};c.prototype.Jp=function(){this.TD(this.pI)&&(this.RA=!0);this.TD(this.cB)&&(this.LH=!0);this.KH=!this.RA};c.prototype.TD=function(a){try{var b=[];b=b.sort(u.ls);for(var d=0;d<b.length;d++)a.push(b[d])}catch(e){}return!0};c.y_=function(){return null};return c}();g.i_=l})(J||(J={}));(function(g){var u=function(){function l(){}l.prototype.Ky=function(c){this.oi=c};l.prototype.jE=function(c){this.Hb=c};l.prototype.kE=function(c){this.To=
c};l.mF=function(c){return c.u()||1607!=c.F()&&1736!=c.F()?!1:!0};l.kF=function(c){return c.u()||1607!=c.F()&&1736!=c.F()||20>c.D()?!1:!0};l.lF=function(c){return c.u()||1607!=c.F()&&1736!=c.F()||20>c.D()?!1:!0};return l}();g.Yk=u})(J||(J={}));(function(g){g.bc=function(){function u(){}u.lV=function(l){var c=new g.Ga;c.Zx(l.Ms(),l.Os());c.Cj(l.Ms(),l.Ns());c.Cj(l.Ls(),l.Ns());c.Cj(l.Ls(),l.Os());return c};u.$g=function(l,c){return null===l?null:g.Rr.local().U(l,c,null)};u.SZ=function(l,c){var a=g.Jh.local();
l=new g.$c(l);return a.U(l,c,null).next()};u.tm=function(l,c,a){return g.Cp.local().U(l,c,a,null)};u.tp=function(l,c,a){return g.oy.local().U(l,c,a,null)};u.AZ=function(l,c,a){var b=g.oy.local();l=new g.$c(l);c=new g.$c(c);a=b.U(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};u.Ib=function(l,c,a){return g.kj.local().U(3,l,c,a,null)};u.dR=function(l,c,a){return g.kj.local().U(4,l,c,a,null)};u.kU=function(l,c,a){var b=g.ak.local();l=new g.$c(l);c=new g.$c(c);a=b.U(l,c,a,null);for(b=[];null!=
(c=a.next());)b.push(c);return b};u.aR=function(l,c,a){var b=g.Cp.local();l=new g.$c(l);c=new g.$c(c);a=b.U(l,c,a,null);for(b=[];null!=(c=a.next());)b.push(c);return b};u.Ia=function(l,c,a){return g.ak.local().U(l,c,a,null)};u.XZ=function(l,c,a){return g.kj.local().U(2,l,c,a,null)};u.contains=function(l,c,a){return g.kj.local().U(1,l,c,a,null)};u.MQ=function(l,c,a){return g.kj.local().U(16,l,c,a,null)};u.touches=function(l,c,a){return g.kj.local().U(8,l,c,a,null)};u.WV=function(l,c,a){return g.kj.local().U(32,
l,c,a,null)};u.mU=function(l,c,a){return g.kj.local().U(1073741824,l,c,a,null)};u.hC=function(l,c,a,b){return g.IM.local().U(l,c,a,b,null)};u.vb=function(l,c,a,b){var d=null;if(null!=a){if(d=a.Ld(),null!=b&&d.xc()!=b.xc()&&d.od!=b.od)throw g.f.al();}else if(null!=b)throw g.f.I();l=g.AM.local().U(l,c,null);null!==d&&null!==b&&(l=g.Uc.Rh(l,d,b));return l};u.clip=function(l,c,a){return g.uM.local().U(l,g.g.construct(c.Ms(),c.Os(),c.Ls(),c.Ns()),a,null)};u.jl=function(l,c,a){if(null==l||null==c)return null;
l=g.wM.local().U(!0,l,c,a,null);for(c=[];null!=(a=l.next());)a.u()||c.push(a);return c.slice(0)};u.XO=function(l,c,a,b,d,e,f,h){if(!0===d)return u.YO(l,c,a,b,e,f,h);d=a;if(null!=c){if(f=c.Ld(),null!=b&&f.xc()!=b.xc()){if(f.od!=b.od)throw g.f.al();d=[];g.Uc.IF(a,a.length,b,f,d)}}else if(null!=b)throw g.f.I();a=g.hD.local();if(e){l=new g.$c(l);c=a.U(l,c,d,e,null);for(l=[];null!=(e=c.next());)l.push(e);e=l.slice(0)}else for(e=[],b=0;b<l.length;b++)e[b]=a.U(l[b],c,d[b],null);return e};u.YO=function(l,
c,a,b,d,e,f){if(null===c)throw g.f.I();if(null===b||void 0===b)b=4326!==c.xc()?c.Ld():g.Uc.hh(9001);if(0!==b.od)throw g.f.I();g.Uc.IF(a,a.length,b,g.Uc.hh(9001),a);b=g.mD.local();if(d){l=new g.$c(l);c=b.U(l,c,e,a,f,!1,d,null);for(a=[];null!=(e=c.next());)a.push(e);d=a.slice(0)}else{d=[];for(var h=0;h<l.length;h++)d[h]=b.U(l[h],c,e,a[h],f,!1,null)}return d};u.buffer=function(l,c,a,b,d,e,f){var h=a;if(!1===d){if(null!=c){if(d=c.Ld(),null!=b&&d.xc()!=b.xc()){if(d.od!=b.od)throw g.f.al();h=g.Uc.Rh(a,
b,d)}}else if(null!=b)throw g.f.I();l=g.hD.local().U(l,c,h,null)}else{if(null===c)throw g.f.I();if(null===b||void 0===b)b=4326!==c.xc()?c.Ld():g.Uc.hh(9001);if(0!==b.od)throw g.f.I();h=g.Uc.Rh(a,b,g.Uc.hh(9001));l=g.mD.local().U(l,c,e,h,f,!1,null)}return l};u.UV=function(l,c,a,b,d,e,f){if(null!=c){var h=c.Ld();if(null!=f&&h.xc()!=f.xc()){if(h.od!=f.od)throw g.f.al();a=g.Uc.Rh(a,f,h)}}else if(null!=f)throw g.f.I();l=new g.$c(l);c=g.pD.local().U(l,c,a,b,d,e,null);for(a=[];null!=(b=c.next());)a.push(b);
return a.slice(0)};u.offset=function(l,c,a,b,d,e,f){if(null!=c){var h=c.Ld();if(null!=f&&h.xc()!=f.xc()){if(h.od!=f.od)throw g.f.al();a=g.Uc.Rh(a,f,h)}}else if(null!=f)throw g.f.I();return g.pD.local().U(l,c,a,b,d,e,null)};u.sQ=function(l){return g.jD.local().U(l,null)};u.tQ=function(l,c){var a=g.jD.local();l=new g.$c(l);c=a.U(l,c,null);for(a=[];null!=(l=c.next());)a.push(l);return a};u.Xz=function(l,c,a){return g.my.local().Xz(l,c,a)};u.Yz=function(l,c){return g.my.local().Yz(l,c)};u.Zz=function(l,
c,a,b){return g.my.local().Zz(l,c,a,b)};u.MC=function(l,c){return g.jm.local().U(l,c,!1,null)};u.AU=function(l,c){return g.jm.local().zq(l,c,null)};u.bS=function(l,c,a,b,d){var e=g.lD.local();if(null!=c){if(c=c.Ld(),null!=d&&c.xc()!=d.xc()){if(c.od!=d.od)throw g.f.al();a=g.Uc.Rh(a,d,c)}}else if(null!=d)throw g.f.I();return e.U(l,a,b,null)};u.rs=function(l,c,a,b){var d=g.im.local();if(null!=c){if(c=c.Ld(),null!=b&&c.xc()!=b.xc()){if(c.od!=b.od)throw g.f.al();a=g.Uc.Rh(a,b,c)}}else if(null!=b)throw g.f.I();
return d.U(l,a,null)};u.Bz=function(l,c,a,b,d){void 0===d&&(d=0);var e=g.CM.local();if(4==d)throw g.f.Me();if(0!==d)throw g.f.Me();if(null!==b){if(0!==b.od)throw g.f.I("Unit must be a linear unit type");a=g.Uc.Rh(a,b,g.Uc.hh(9001))}return e.U(l,a,c,d,null)};u.hS=function(l,c,a,b){if(null===l)return 0;if(4==b)throw g.f.Me();if(0!==b)throw g.f.Me();if(197==l.F())l=u.lV(l);else if(1736!=l.F())return 0;b=g.ab.hc(c);l=g.ab.$g(l,c,b);l=g.cM.iS([l])[0];if(null!==a){if(2!==a.od)throw g.f.I("Unit must be a area unit type");
l=g.Uc.Rh(l,g.Uc.hh(109404),a)}return l};u.lS=function(l,c,a,b){l=g.EM.local().U(l,c,b,null);if(null!==a){if(0!==a.od)throw g.f.I("Unit must be a linear unit type");l=g.Uc.Rh(l,g.Uc.hh(9001),a)}return l};u.bW=function(l,c,a){if(null===l)return 0;var b=null;if(null!=c){b=c.Ld();if(0==b.od&&(b=g.Uc.MG(b),null==b&&null!==a))throw g.f.I();if(null!=a&&b.xc()!=a.xc()&&b.od!=a.od)throw g.f.al();}else if(null!=a)throw g.f.I();return 1736==l.F()||197==l.F()?(l=l.Pe(),null!==a?g.Uc.Rh(l,b,a):l):0};u.cW=function(l,
c,a){if(null===l||l.u()||1>l.pb())return 0;var b=null;if(null!=c){if(b=c.Ld(),null!=a&&b.xc()!=a.xc()&&b.od!=a.od)throw g.f.al();}else if(null!=a)throw g.f.I();1736==l.F()||197==l.F()?c=l.sg():g.R.Ic(l.F())?(c=new g.Oa(l.description),c.$b(l,!0)):c=l;l=0;c=c.Ba();for(var d=new g.b,e=new g.b;c.Ta();)for(;c.Aa();){var f=c.aa();f.qq(d);f.vs(e);l+=g.b.vb(d,e)}null!==b&&null!==a&&(l=g.Uc.Rh(l,b,a));return l};u.X_=function(l,c){return g.je.kS(l,c)};u.pQ=function(l){return void 0!==l.points?u.HT(l,void 0===
l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM):void 0!==l.rings?u.YG(l.rings,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM,"P"):void 0!==l.paths?u.YG(l.paths,void 0===l.hasZ?!1:l.hasZ,void 0===l.hasM?!1:l.hasM,"L"):void 0!==l.x?u.IT(l):void 0!==l.xmin?u.GT(l):null};u.IT=function(l){if(null==l.x||"NaN"==l.x)return new g.Ra;var c=new g.Ra(l.x,l.y);void 0!==l.z&&null!==l.z&&c.$Y(l.z);void 0!==l.m&&null!==l.m&&c.KY(l.m);return c};u.GT=function(l){if(null==l.xmin||"NaN"==l.xmin)return new g.Ih;var c=
new g.Ih(l.xmin,l.ymin,l.xmax,l.ymax);void 0!==l.zmin&&null!==l.zmin&&c.setInterval(1,0,l.zmin,l.zmax);void 0!==l.mmin&&null!==l.mmin&&c.setInterval(2,0,l.mmin,l.mmax);return c};u.HT=function(l,c,a){var b=0,d=new g.Hd,e=3*l.points.length;0!=e%2&&e++;2>e&&(e=2);var f=g.L.truncate(3*l.points.length/2);4>f?f=4:16>f&&(f=16);e=g.Xc.Wn(e,0);var h=g.Xc.Wn(f);f=g.Xc.Wn(f);for(var k=0;k<l.points.length;k++)e.write(2*k,l.points[k][0]),e.write(2*k+1,l.points[k][1]),h.write(k,c||a?l.points[k][2]:NaN),f.write(k,
a&&c?l.points[k][3]:NaN),b++;0!=b&&(d.resize(b),d.yn(0,e));c&&(d.le(1),d.yn(1,h));a&&(d.le(2),d.yn(2,0==c?h:f));d.Oc(16777215);return d};u.YG=function(l,c,a,b){var d=0,e=2;if("P"==b){var f=new g.Ga;d=1;e=3}else f=new g.Oa;for(var h=g.Xc.Sh(0),k=g.Xc.ns(0),m=0,n=0,p=[],q=[],r=0;r<l.length;r++){var t=l[r].length;p[r]=!1;if("P"===b&&l[r][0][0]===l[r][l[r].length-1][0]&&l[r][0][1]===l[r][l[r].length-1][1]){var v=0==a?!0:l[r][0][3]===l[r][l[r].length-1][3]||void 0===l[r][0][3]&&void 0===l[r][l[r].length-
1][3];(0==c||l[r][0][2]===l[r][l[r].length-1][2]||void 0===l[r][0][2]&&void 0===l[r][l[r].length-1][2])&&v&&(p[r]=!0,--t)}t>=e?(q[r]=!1,n+=1,h.add(m),k.add(d),m+=t):q[r]=!0}b=3*m;0!=b%2&&b++;2>b&&(b=2);r=g.L.truncate(3*m/2);4>r?r=4:16>r&&(r=16);b=g.Xc.Wn(b,0);d=g.Xc.Wn(r);e=g.Xc.Wn(r);for(r=t=0;r<l.length;r++)if(!1===q[r])for(v=0;v<l[r].length;v++){var E=!1;v===l[r].length-1&&!0===p[r]&&(E=!0);E||(b.write(2*t,l[r][v][0]),b.write(2*t+1,l[r][v][1]),d.write(t,c||a?l[r][v][2]:NaN),e.write(t,a&&c?l[r][v][3]:
NaN),t++)}0!=m&&(l=f,h.resize(n),k.resize(n),0<m&&(h.add(m),k.add(0)),l.yn(0,b),l.TK(k),l.UK(h));c&&(f.le(1),f.yn(1,d));a&&(f.le(2),f.yn(2,0==c?d:e));f.Oc(16777215);return f};return u}()})(J||(J={}));(function(g){g.jy=function(){function u(){}u.vr=function(l){var c=0,a,b=l.length,d=l[0];for(a=0;a<b-1;a++){var e=l[a+1];c+=(e[0]-d[0])*(e[1]+d[1]);d=e}return 0<=c};u.rotate=function(l,c,a){c=c*Math.PI/180;var b=Math.cos(c),d=Math.sin(c);if(void 0!==l.paths){c={paths:[]};for(var e=0;e<l.paths.length;e++){for(var f=
l.paths[e],h=[],k=0;k<f.length;k++){var m=f[k].slice(0);h.push(m);var n=b*(f[k][0]-a.x)-d*(f[k][1]-a.y)+a.x,p=d*(f[k][0]-a.x)+b*(f[k][1]-a.y)+a.y;m[0]=n;m[1]=p}c.paths.push(h)}return c}if(void 0!==l.rings){c={rings:[]};for(e=0;e<l.rings.length;e++){f=l.rings[e];h=[];var q=u.vr(f);for(k=0;k<f.length;k++)m=f[k].slice(0),h.push(m),n=b*(f[k][0]-a.x)-d*(f[k][1]-a.y)+a.x,p=d*(f[k][0]-a.x)+b*(f[k][1]-a.y)+a.y,m[0]=n,m[1]=p;u.vr(h)!==q&&h.reverse();c.rings.push(h)}return c}if(void 0!==l.x)return c={x:b*(l.x-
a.x)-d*(l.y-a.y)+a.x,y:d*(l.x-a.x)+b*(l.y-a.y)+a.y},void 0!==l.z&&(c.z=l.z),void 0!==l.m&&(c.m=l.m),c;if(void 0!==l.points){c={points:[]};l=l.points;for(k=0;k<l.length;k++)e=l[k].slice(0),e[0]=b*(l[k][0]-a.x)-d*(l[k][1]-a.y)+a.x,e[1]=d*(l[k][0]-a.x)+b*(l[k][1]-a.y)+a.y,c.points.push(e);return c}return null};u.VR=function(l,c){if(void 0!==l.paths){for(var a={paths:[]},b=0;b<l.paths.length;b++){for(var d=l.paths[b],e=[],f=0;f<d.length;f++){var h=d[f].slice(0);e.push(h);var k=c.x-d[f][0];h[0]=d[f][0]+
2*k}a.paths.push(e)}return a}if(void 0!==l.rings){a={rings:[]};for(b=0;b<l.rings.length;b++){d=l.rings[b];var m=u.vr(d);e=[];for(f=0;f<d.length;f++)h=d[f].slice(0),e.push(h),k=c.x-d[f][0],h[0]=d[f][0]+2*k;u.vr(e)!==m&&e.reverse();a.rings.push(e)}return a}if(void 0!==l.x)return k=c.x-l.x,a={x:l.x+2*k,y:l.y},void 0!==l.z&&(a.z=l.z),void 0!==l.m&&(a.m=l.m),a;if(void 0!==l.points){a={points:[]};l=l.points;for(f=0;f<l.length;f++)b=l[f].slice(0),k=c.x-b[0],b[0]+=2*k,a.points.push(b);return a}return void 0!==
l.xmin?(a={o:l.xmin,A:l.ymin,v:l.xmax,B:l.ymax},void 0!==l.zmin&&(a.zmin=l.zmin,a.zmax=l.zmax),void 0!==l.mmin&&(a.mmin=l.mmin,a.mmax=l.mmax),k=c.x-l.xmin,a.xmax=l.xmin+2*k,k=c.x-l.xmax,a.xmin=l.xmax+2*k,a):null};u.WR=function(l,c){if(void 0!==l.paths){for(var a={paths:[]},b=0;b<l.paths.length;b++){for(var d=l.paths[b],e=[],f=0;f<d.length;f++){var h=d[f].slice(0);e.push(h);var k=c.y-d[f][1];h[1]=d[f][1]+2*k}a.paths.push(e)}return a}if(void 0!==l.rings){a={rings:[]};for(b=0;b<l.rings.length;b++){d=
l.rings[b];var m=u.vr(d);e=[];for(f=0;f<d.length;f++)h=d[f].slice(0),e.push(h),k=c.y-d[f][1],h[1]=d[f][1]+2*k;u.vr(e)!==m&&e.reverse();a.rings.push(e)}return a}if(void 0!==l.x)return k=c.y-l.y,a={y:l.y+2*k,x:l.x},void 0!==l.z&&(a.z=l.z),void 0!==l.m&&(a.m=l.m),a;if(void 0!==l.points){a={points:[]};l=l.points;for(f=0;f<l.length;f++)b=l[f].slice(0),k=c.y-b[1],b[1]+=2*k,a.points.push(b);return a}return void 0!==l.xmin?(a={o:l.xmin,A:l.ymin,v:l.xmax,B:l.ymax},void 0!==l.zmin&&(a.zmin=l.zmin,a.zmax=l.zmax),
void 0!==l.mmin&&(a.mmin=l.mmin,a.mmax=l.mmax),k=c.y-l.ymin,a.ymax=l.ymin+2*k,k=c.y-l.ymax,a.ymin=l.ymax+2*k,a):null};return u}()})(J||(J={}));(function(g){g.hM=function(){function u(){}u.Pg=function(l,c){null==c&&(c=g.ke.ug());switch(l){case 33:return new g.Ra(c);case 322:return new g.zb(c);case 197:return new g.Ih(c);case 550:return new g.Hd(c);case 1607:return new g.Oa(c);case 1736:return new g.Ga(c);default:throw g.f.Y("invalid argument.");}};return u}()})(J||(J={}));(function(g){var u=function(){function l(c,
a){this.Ye=g.ha.Af(c,-1);this.ta=new g.Iu;this.Fl=a}l.prototype.fY=function(c){this.ta.lu(Math.min(this.Ye.size,c));this.ta.vn(c)};l.prototype.addElement=function(c,a){if(void 0===a)return this.oO(c);a=g.L.truncate(a%this.Ye.size);var b=this.Ye.get(a);-1==b&&(b=this.ta.Th(),this.Ye.set(a,b));return this.ta.addElement(b,c)};l.prototype.oO=function(c){var a=this.Fl.Tz(c);a=g.L.truncate(a%this.Ye.size);var b=this.Ye.get(a);-1==b&&(b=this.ta.Th(),this.Ye.set(a,b));return this.ta.addElement(b,c)};l.prototype.jd=
function(c,a){if(void 0===a)this.VQ(c);else{a=g.L.truncate(a%this.Ye.size);var b=this.Ye.get(a);if(-1==b)throw g.f.I();for(var d=this.ta.sc(b),e=-1;-1!=d;){var f=this.ta.hb(d);this.ta.ga(d)==c?(this.ta.jd(b,e,d),-1==this.ta.sc(b)&&(this.ta.kh(b),this.Ye.set(a,-1))):e=d;d=f}}};l.prototype.VQ=function(c){var a=this.Fl.Tz(c);a=g.L.truncate(a%this.Ye.size);var b=this.Ye.get(a);if(-1==b)throw g.f.I();for(var d=this.ta.sc(b),e=-1;-1!=d;){var f=this.ta.hb(d);this.ta.ga(d)==c?(this.ta.jd(b,e,d),-1==this.ta.sc(b)&&
(this.ta.kh(b),this.Ye.set(a,-1))):e=d;d=f}};l.prototype.ES=function(c){c=g.L.truncate(c%this.Ye.size);c=this.Ye.get(c);return-1==c?-1:this.ta.sc(c)};l.prototype.US=function(c){return this.ta.hb(c)};l.prototype.zd=function(c){var a=this.Fl.Tz(this.ga(c));a=g.L.truncate(a%this.Ye.size);var b=this.Ye.get(a);if(-1==b)throw g.f.I();for(var d=this.ta.sc(b),e=-1;-1!=d;){if(d==c){this.ta.jd(b,e,d);-1==this.ta.sc(b)&&(this.ta.kh(b),this.Ye.set(a,-1));return}e=d;d=this.ta.hb(d)}throw g.f.I();};l.prototype.ga=
function(c){return this.ta.ga(c)};l.prototype.clear=function(){this.Ye=g.ha.Af(this.Ye.size,-1);this.ta.clear()};l.prototype.size=function(){return this.ta.FG()};return l}();g.nM=u})(J||(J={}));(function(g){var u=function(){function l(){this.Ri=new g.ad(3);this.ta=new g.ad(6);this.NU=!1;this.re=-1}l.prototype.ml=function(c){this.Ri.jd(c)};l.prototype.vx=function(){return this.Ri.Ke()};l.prototype.Kv=function(c){this.ta.jd(c)};l.prototype.KB=function(){return this.ta.Ke()};l.prototype.EC=function(c,
a){this.Ri.P(c,1,a)};l.prototype.Mx=function(c,a){this.Ri.P(c,2,a)};l.prototype.JY=function(c,a){this.Ri.P(c,3,a)};l.prototype.CC=function(c,a){this.ta.P(c,4,a)};l.prototype.MY=function(c,a){this.ta.P(c,3,a)};l.prototype.XK=function(c,a){this.ta.P(c,2,a)};l.prototype.Th=function(c){var a=this.KB();this.ta.P(a,3,this.re);this.ta.P(a,4,0);this.ta.P(a,5,c);-1!=this.re&&this.XK(this.re,a);return this.re=a};l.prototype.kh=function(c){this.vF(c);var a=this.ta.S(c,2),b=this.ta.S(c,3);-1!=a?this.MY(a,b):
this.re=b;-1!=b&&this.XK(b,a);this.Kv(c);return b};l.prototype.lu=function(c){this.ta.Le(c)};l.prototype.BG=function(c){return this.ta.S(c,5)};l.prototype.IY=function(c,a){this.ta.P(c,5,a)};l.prototype.addElement=function(c,a){return this.OT(c,a)};l.prototype.OT=function(c,a){var b=this.vx();this.Mx(b,-1);-1==this.ta.S(c,0)&&this.ta.P(c,0,b);var d=this.ta.S(c,1);this.EC(b,d);-1!=d&&this.Mx(d,b);this.ta.P(c,1,b);this.setData(b,a);this.CC(c,this.Hs(c)+1);this.NU&&this.JY(b,c);return b};l.prototype.jd=
function(c,a){var b=this.Be(a),d=this.hb(a);-1!=b?this.Mx(b,d):this.ta.P(c,0,d);-1!=d?this.EC(d,b):this.ta.P(c,1,b);this.ml(a);this.CC(c,this.Hs(c)-1);return d};l.prototype.vn=function(c){this.Ri.Le(c)};l.prototype.getData=function(c){return this.Ri.S(c,0)};l.prototype.setData=function(c,a){this.Ri.P(c,0,a)};l.prototype.hb=function(c){return this.Ri.S(c,2)};l.prototype.Be=function(c){return this.Ri.S(c,1)};l.prototype.sc=function(c){return this.ta.S(c,0)};l.prototype.Gc=function(c){return this.ta.S(c,
1)};l.prototype.clear=function(){for(var c=this.re;-1!=c;)c=this.kh(c)};l.prototype.vF=function(c){for(var a=this.Gc(c);-1!=a;){var b=a;a=this.Be(b);this.ml(b)}this.ta.P(c,0,-1);this.ta.P(c,1,-1);this.CC(c,0)};l.prototype.u=function(){return 0==this.Ri.size};l.prototype.FG=function(){return this.Ri.size};l.prototype.Hs=function(c){return this.ta.S(c,4)};l.prototype.$z=function(c){return this.ta.S(c,3)};return l}();g.Ap=u})(J||(J={}));(function(g){var u=function(){function l(c){void 0===c?(this.Bg=
new g.ad(2),this.ta=new g.ad(4),this.re=-1,this.xw=!0):(this.Bg=new g.ad(2),this.ta=new g.ad(c?4:2),this.re=-1,this.xw=c)}l.prototype.ml=function(c){this.Bg.jd(c)};l.prototype.vx=function(){return this.Bg.Ke()};l.prototype.Kv=function(c){this.ta.jd(c)};l.prototype.KB=function(){return this.ta.Ke()};l.prototype.Th=function(){var c=this.KB();this.xw&&(this.ta.P(c,3,this.re),-1!=this.re&&this.ta.P(this.re,2,c),this.re=c);return c};l.prototype.kh=function(c){for(var a=this.sc(c);-1!=a;){var b=a;a=this.hb(a);
this.ml(b)}this.xw&&(a=this.ta.S(c,2),b=this.ta.S(c,3),-1!=a?this.ta.P(a,3,b):this.re=b,-1!=b&&this.ta.P(b,2,a));this.Kv(c)};l.prototype.lu=function(c){this.ta.Le(c)};l.prototype.addElement=function(c,a){var b=this.ta.S(c,1),d=this.vx();-1!=b?this.Bg.P(b,1,d):this.ta.P(c,0,d);this.ta.P(c,1,d);this.Bg.P(d,0,a);return d};l.prototype.vn=function(c){this.Bg.Le(c)};l.prototype.jd=function(c,a,b){-1!=a?(this.Bg.P(a,1,this.Bg.S(b,1)),this.ta.S(c,1)==b&&this.ta.P(c,1,a)):(this.ta.P(c,0,this.Bg.S(b,1)),this.ta.S(c,
1)==b&&this.ta.P(c,1,-1));this.ml(b)};l.prototype.lz=function(c,a){var b=this.ta.S(c,1),d=this.ta.S(a,0);-1!=d&&(-1!=b?this.Bg.P(b,1,d):this.ta.P(c,0,d),this.ta.P(c,1,this.ta.S(a,1)));this.xw&&(c=this.ta.S(a,2),b=this.ta.S(a,3),-1!=c?this.ta.P(c,3,b):this.re=b,-1!=b&&this.ta.P(b,2,c));this.Kv(a)};l.prototype.ga=function(c){return this.Bg.S(c,0)};l.prototype.Tj=function(c,a){this.Bg.P(c,0,a)};l.prototype.hb=function(c){return this.Bg.S(c,1)};l.prototype.sc=function(c){return this.ta.S(c,0)};l.prototype.ao=
function(c){return this.ga(this.sc(c))};l.prototype.clear=function(){this.Bg.rj(!0);this.ta.rj(!0);this.re=-1};l.prototype.u=function(){return 0==this.Bg.size};l.prototype.FG=function(){return this.Bg.size};l.prototype.$z=function(c){return this.ta.S(c,3)};return l}();g.Iu=u})(J||(J={}));(function(g){g.la=function(){function u(){}u.uE=function(l,c,a,b,d,e,f){var h=new g.b;h.K(l);l=new g.b;l.K(c);d.My(h);d.My(l);c=d.Su(h);var k=d.Su(l);0==k&&(k=d.AG());if(h.x!=l.x&&(h.y!=l.y||h.y!=d.A&&h.y!=d.B)||
k>c!=e){c=d.QD(h);k=d.QD(l);var m=e?1:3;do{c=c+m&3;var n=d.Ax(c);0!=f&&(b=u.uE(h,n,a,b,d,e,f));a[b++].ka(n.x,n.y);h=n}while((c&3)!=k);0!=f&&(b=u.uE(h,l,a,b,d,e,f))}else if(d=new g.b,d.ka(l.x-h.x,l.y-h.y),0!=f&&(f=g.L.truncate(d.ZN()/f),0<f))for(d.scale(1/(f+1)),e=0;e<f;e++)h.add(d),a[b++].ka(h.x,h.y);return b};u.Qd=function(l,c,a){c=c.Mn();l=null!=l&&void 0!==l.ce?l.ce(0):0;a&&(c*=4,l*=1.1);return Math.max(l,c)};u.es=function(l){return 2*Math.sqrt(2)*l};u.CO=function(l){return Math.sqrt(2)*l};u.Ng=
function(l,c,a){var b=new g.g;c.s(b);return u.Qd(l,b,a)};u.hF=function(l,c,a){c=c.Qf(1,0).Mn();l=null!=l?l.ce(1):0;a&&(c*=4,l*=1.1);return Math.max(l,c)};u.Z_=function(l,c){var a=new g.g;l.Zb(a);a.Nb(c);return a};u.Uv=function(l,c){var a=new g.g;l.Zb(a);l=new g.g;c.Zb(l);a.Nb(l);return a};u.i0=function(l,c){var a=l.JS(c),b=l.ua(c),d=l.zc(c),e=l.xa(a);a==b?(d=l.xa(d-1),a=l.xa(b+1)):a==d-1?(d=l.xa(a-1),a=l.xa(b)):(d=l.xa(a-1),a=l.xa(a+1));e=g.b.fp(d,e,a);return 0==e?0<l.rm(c):-1==e};u.iP=function(l){var c=
new g.g;l.Zb(c);if(c.u())return null;var a=new g.Fp(c,8),b=-1,d=new g.g,e=!1;do for(var f=0,h=l.$();f<h;f++)if(l.Sj(f,d),b=a.fw(f,d,b),-1==b){if(e)throw g.f.Y("internal error");l.Tn(c,!1);e=!0;a.reset(c,8);break}else e=!1;while(e);return a};u.$E=function(l){var c=new g.g;l.Zb(c);for(var a=new g.Fp(c,8),b=-1,d=l.Ba(),e=new g.g,f=!1;d.Ta();)for(;d.Aa();){var h=d.aa(),k=d.wb();h.s(e);b=a.fw(k,e,b);if(-1==b){if(f)throw g.f.za();l.Tn(c,!1);f=!0;a.reset(c,8);d.ej();break}}return a};u.pj=function(l,c){var a=
new g.g;l.Zb(a);for(var b=new g.Fp(a,8),d=-1,e=new g.g,f=l.Ba(),h=!1;f.Ta();)for(;f.Aa();){var k=f.aa(),m=f.wb();k.s(e);if(e.isIntersecting(c)&&(d=b.fw(m,e,d),-1==d)){if(h)throw g.f.Y("internal error.");l.Tn(a,!1);h=!0;b.reset(a,8);f.ej();break}}return b};u.B_=function(l){var c=new g.g;l.Zb(c);for(var a=new g.Fp(c,8),b=new g.b,d=new g.g,e=!1,f=0;f<l.D();f++)if(l.w(f,b),d.H(b),-1==a.Gi(f,d)){if(e)throw g.f.za();l.Tn(c,!1);e=!0;a.reset(c,8);f=-1}return a};u.aF=function(l,c){for(var a=new g.Fp(c,8),
b=new g.b,d=!1,e=new g.g,f=0;f<l.D();f++)if(l.w(f,b),c.contains(b)&&(e.H(b),-1==a.Gi(f,e))){if(d)throw g.f.za();d=!0;f=new g.g;l.Tn(f,!1);a.reset(f,8);f=-1}return a};u.zS=function(l,c,a){var b=new g.g,d=new g.g;l.Zb(b);c.Zb(d);b.O(a,a);d.O(a,a);var e=new g.g;e.H(b);e.Ia(d);l=l.Ba();c=c.Ba();var f=new g.fD;f.IC(a);var h=!1;for(f.vL();l.Ta();)for(;l.Aa();)l.aa().s(b),b.isIntersecting(e)&&(h=!0,a=new g.g,a.H(b),f.vE(l.wb(),a));f.WF();if(!h)return null;b=!1;for(f.uL();c.Ta();)for(;c.Aa();)c.aa().s(d),
d.isIntersecting(e)&&(b=!0,a=new g.g,a.H(d),f.qE(c.wb(),a));f.VF();return b?f:null};u.AS=function(l,c,a,b,d){var e=l.F(),f=c.F(),h=new g.g,k=new g.g;l.Zb(h);c.Zb(k);h.O(a,a);k.O(a,a);var m=new g.g;m.H(h);m.Ia(k);var n=new g.fD;n.IC(a);var p=!1;n.vL();var q=0;for(a=l.$();q<a;q++)if(!b||1736!=e||l.lw(q))l.Sj(q,h),h.isIntersecting(m)&&(p=!0,n.vE(q,h));n.WF();if(!p)return null;l=!1;n.uL();b=0;for(a=c.$();b<a;b++)if(!d||1736!=f||c.lw(b))c.Sj(b,k),k.isIntersecting(m)&&(l=!0,n.qE(b,k));n.VF();return l?n:
null};u.q0=function(l,c){return 0<l.rk(c)};u.A_=function(l,c){var a=new g.g;l.EX(c,a);a=new g.Fp(a,8);var b=-1,d=new g.g;l=l.Ba();l.oC(c);if(l.Ta())for(;l.Aa();){c=l.aa();var e=l.wb();c.Zb(d);b=a.fw(e,d,b);if(-1==b)throw g.f.Y("internal error");}return a};u.zv=function(l,c,a){if(l!=c)for(var b=0;b<a;b++)null==l[b]?l[b]=g.b.gl(c[b]):l[b].K(c[b])};u.nz=function(l,c,a,b){var d=0;for(b+=0;d<b;a++,d++)null==l[d]&&(l[d]=[0,0]),l[d][0]=c[a].x,l[d][1]=c[a].y};u.mz=function(l,c,a,b){var d=c,e=0;for(c=b+c;d<
c;e++,d++)null==l[d]?l[d]=g.b.construct(a[e][0],a[e][1]):l[d].ka(a[e][0],a[e][1])};u.uQ=function(l,c,a){if(l!=c)for(var b=0;b<a;b++)null==l[b]?l[b]=new g.Ra(c[b]):c[b].copyTo(l[b])};u.iZ=function(l,c,a,b){var d=b.fa;b=b.ja;for(var e=0;e<c;e+=a){var f=l.read(e);f<d?l.write(e,d):f>b&&l.write(e,b)}};u.hZ=function(l,c,a,b){var d=b.fa;b=b.ja;for(var e=0;e<c;e+=a){var f=l.read(e);f<d?l.write(e,d):f>b&&l.write(e,b)}};u.hL=function(l,c,a){if(l.hasAttribute(a)){var b=l.F();if(g.R.Rg(b)){var d=g.oa.sl(a);b=
g.oa.Sa(a);var e=l.D();if(1==d){l=l.Va(a);u.iZ(l,e*b,b,c);return}if(2==d){l=l.Va(a);u.hZ(l,e*b,b,c);return}throw g.f.Y("snap_coordinate not implemented");}if(197==b)e=l.Qf(a,0),b=!1,e.fa<c.fa&&(b=!0,e.fa=c.fa),e.ja>c.ja&&(b=!0,e.ja=c.ja),b&&l.setInterval(a,0,e);else if(33==b)e=l.Rc(a,0),b=!1,e<c.fa&&(b=!0,e=c.fa),e>c.ja&&(b=!0,e=c.ja),b&&l.setAttribute(a,0,e);else if(g.R.Ic(b))e=l.Ks(a,0),b=!1,e<c.fa&&(b=!0,e=c.fa),e>c.ja&&(b=!0,e=c.ja),b&&l.Qx(a,0,e),e=l.us(a,0),e<c.fa&&(b=!0,e=c.fa),e>c.ja&&(b=
!0,e=c.ja),b&&l.Hx(a,0,e);else throw g.f.Y("snap_coordinate not implemented");}};u.js=function(l,c,a,b,d){var e=0;null!=c&&(e=c.ce(l),d&&!b||null==c||(e+=1.01*c.dA(l)));b&&(a*=4,e*=1.01);return Math.max(e,a)};u.C_=function(l,c,a,b){c=g.g.sN(c.Ce(),c.lf(),a.Ce(),a.lf());return u.js(0,l,c,b,!1)};u.Yy=function(l,c,a){return u.js(0,l,c.Mn(),a,!1)};u.D_=function(l,c,a){return u.js(1,l,c.Mn(),a,!1)};u.pP=function(l,c){var a=new g.g;c.s(a);return u.Yy(l,a,!0)};u.Zy=function(l,c){return u.js(0,l,c.Mn(),!1,
!0)};u.E_=function(l,c,a){return u.js(1,l,c.Mn(),a,!0)};u.pv=function(l,c){var a=new g.g;c.s(a);return u.Zy(l,a)};u.mH=function(l,c,a,b){b*=b;var d=new g.b;d.tc(l,c);l=new g.b;l.tc(a,c);c=d.En();a=l.En();if(c<=b&&a<=b)return!0;var e=g.Tb.Wx(d.Di(l));return e<=b*c||e<=b*a?0<=d.Vh(l):!1};u.iL=function(l,c,a,b){for(var d=0;d<c;d++){var e=l[d].y,f=g.L.Yj(e,a,b);f!=e&&(l[d].y=f)}};return u}()})(J||(J={}));(function(g){var u=function(){function d(e){this.Xa=e}d.prototype.compare=function(e,f,h){e=e.ga(h);
h=this.Xa.vk(f);var k=this.Xa.vk(e);return h<k?-1:h==k?b.yq(f)&&b.nw(e)?-1:b.yq(e)&&b.nw(f)?1:0:1};return d}(),l=function(){function d(e){this.Xa=e}d.prototype.Lr=function(e,f,h){this.Xa.lZ(h,e,f)};d.prototype.sq=function(e){return this.Xa.vk(e)};return d}(),c;(function(d){d[d.initialize=0]="initialize";d[d.pIn=1]="pIn";d[d.pL=2]="pL";d[d.pR=3]="pR";d[d.pT=4]="pT";d[d.right=5]="right";d[d.left=6]="left";d[d.all=7]="all"})(c||(c={}));var a=function(){function d(){this.Xa=null;this.Wi=new g.uc;this.Yg=
new g.ha(0);this.zg=[0,0]}d.prototype.vi=function(e,f){this.Wi.fa=e.fa-f;this.Wi.ja=e.ja+f;this.Yg.resize(0);this.pe=0;this.zg[0]=0};d.prototype.nC=function(e,f,h){if(e>f)throw g.f.I();this.Wi.fa=e-h;this.Wi.ja=f+h;this.Yg.resize(0);this.pe=0;this.zg[0]=0};d.prototype.wn=function(e,f){this.Wi.fa=e-f;this.Wi.ja=e+f;this.Yg.resize(0);this.pe=0;this.zg[0]=0};d.prototype.next=function(){if(!this.Xa.Eq)throw g.f.Eb();if(0>this.pe)return-1;for(var e=!0;e;)switch(this.zg[this.pe]){case 1:e=this.YV();break;
case 2:e=this.ZV();break;case 3:e=this.$V();break;case 4:e=this.aW();break;case 5:e=this.lY();break;case 6:e=this.GU();break;case 7:e=this.EO();break;case 0:e=this.oA();break;default:throw g.f.za();}return-1!=this.Ug?this.hq()>>1:-1};d.J_=function(e,f,h){var k=new d;k.Xa=e;k.Yg.Db(20);k.vi(f,h);return k};d.K_=function(e,f,h){var k=new d;k.Xa=e;k.Yg.Db(20);k.wn(f,h);return k};d.construct=function(e){var f=new d;f.Xa=e;f.Yg.Db(20);f.pe=-1;return f};d.prototype.oA=function(){this.Ug=this.iI=this.Si=
this.Mc=-1;if(null!=this.Xa.te&&0<this.Xa.te.size)return this.zg[0]=1,this.Si=this.Xa.tf,!0;this.pe=-1;return!1};d.prototype.YV=function(){this.Mc=this.Si;if(-1==this.Mc)return this.Ug=this.pe=-1,!1;var e=this.Xa.iq(this.Mc);if(this.Wi.ja<e)return e=this.Xa.uk(this.Mc),this.Si=this.Xa.vj(this.Mc),-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=6),!0;if(e<this.Wi.fa)return e=this.Xa.uk(this.Mc),this.Si=this.Xa.tk(this.Mc),-1!=e&&(this.li=this.Xa.Fs(e),this.zg[++this.pe]=5),!0;this.zg[this.pe]=2;this.iI=
this.Mc;e=this.Xa.uk(this.Mc);this.Si=this.Xa.vj(this.Mc);-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7);return!0};d.prototype.ZV=function(){this.Mc=this.Si;if(-1==this.Mc)return this.zg[this.pe]=3,this.Si=this.Xa.tk(this.iI),!0;if(this.Xa.iq(this.Mc)<this.Wi.fa){var e=this.Xa.uk(this.Mc);this.Si=this.Xa.tk(this.Mc);-1!=e&&(this.li=this.Xa.Fs(e),this.zg[++this.pe]=5);return!0}e=this.Xa.uk(this.Mc);this.Si=this.Xa.vj(this.Mc);-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7);e=this.Xa.tk(this.Mc);
-1!=e&&this.Yg.add(e);return!0};d.prototype.$V=function(){this.Mc=this.Si;if(-1==this.Mc)return this.zg[this.pe]=4,!0;if(this.Wi.ja<this.Xa.iq(this.Mc)){var e=this.Xa.uk(this.Mc);this.Si=this.Xa.vj(this.Mc);-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=6);return!0}e=this.Xa.uk(this.Mc);this.Si=this.Xa.tk(this.Mc);-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7);e=this.Xa.vj(this.Mc);-1!=e&&this.Yg.add(e);return!0};d.prototype.aW=function(){if(0==this.Yg.size)return this.Ug=this.pe=-1,!1;this.Mc=
this.Yg.get(this.Yg.size-1);this.Yg.resize(this.Yg.size-1);var e=this.Xa.uk(this.Mc);-1!=e&&(this.li=this.Xa.ql(e),this.zg[++this.pe]=7);-1!=this.Xa.vj(this.Mc)&&this.Yg.add(this.Xa.vj(this.Mc));-1!=this.Xa.tk(this.Mc)&&this.Yg.add(this.Xa.tk(this.Mc));return!0};d.prototype.GU=function(){this.Ug=this.li;if(-1!=this.Ug&&b.yq(this.hq())&&this.Xa.vk(this.hq())<=this.Wi.ja)return this.li=this.EG(),!1;this.pe--;return!0};d.prototype.lY=function(){this.Ug=this.li;if(-1!=this.Ug&&b.nw(this.hq())&&this.Xa.vk(this.hq())>=
this.Wi.fa)return this.li=this.gT(),!1;this.pe--;return!0};d.prototype.EO=function(){this.Ug=this.li;if(-1!=this.Ug&&b.yq(this.hq()))return this.li=this.EG(),!1;this.pe--;return!0};d.prototype.EG=function(){return this.Xa.ag?this.Xa.gg.hb(this.Ug):this.Xa.Zi.hb(this.Ug)};d.prototype.gT=function(){return this.Xa.ag?this.Xa.gg.Be(this.Ug):this.Xa.Zi.Be(this.Ug)};d.prototype.hq=function(){return this.Xa.ag?this.Xa.gg.ga(this.Ug):this.Xa.Zi.getData(this.Ug)};return d}();g.k_=a;var b=function(){function d(e){this.Nm=
this.fi=this.gg=this.Zi=this.Xm=this.Ij=this.te=this.Jj=null;this.ag=e;this.Eq=this.zw=!1}d.prototype.Gr=function(){this.Uk(!0)};d.prototype.bs=function(e,f){if(!this.zw)throw g.f.Eb();this.Jj.push(new g.uc(e,f))};d.prototype.Zp=function(){if(!this.zw)throw g.f.Y("invalid call");this.zw=!1;this.Eq=!0;this.ag||(this.QT(),this.Gw=this.Jj.length)};d.prototype.Gi=function(e){if(!this.ag||!this.Eq)throw g.f.I("invalid call");if(-1==this.tf){var f=this.Jj.length;if(this.UA){var h=new g.ha(0);h.Db(2*f);
this.TJ(h);this.fi.Db(2*f);this.fi.resize(0);this.SJ(h);this.Xm.resize(f,-1);this.Xm.Xj(-1,0,f);this.UA=!1}else this.Xm.Xj(-1,0,f);this.tf=this.Bv()}f=this.bH(e<<1,this.tf);h=this.gg.addElement((e<<1)+1,this.fA(f));this.ZK(f,h);this.Xm.set(e,f);this.Gw++};d.prototype.remove=function(e){if(!this.ag||!this.Eq)throw g.f.Y("invalid call");var f=this.Xm.get(e);if(-1==f)throw g.f.I("the interval does not exist in the interval tree");this.Xm.set(e,-1);this.Gw--;var h=this.fA(f),k=this.gg.qT(h);this.gg.zd(this.MS(f),
h);this.gg.zd(this.jT(f),h);e=this.gg.size(h);0==e&&(this.gg.XQ(h),this.cL(k,-1));this.Ij.jd(f);h=this.GG(k);var m=this.vj(k),n=this.tk(k);for(f=0;!(0<e||k==this.tf||-1!=m&&-1!=n);)k==this.vj(h)?-1!=m?(this.Vk(h,m),this.Vj(m,h),this.Vk(k,-1)):-1!=n?(this.Vk(h,n),this.Vj(n,h),this.Xk(k,-1)):this.Vk(h,-1):-1!=m?(this.Xk(h,m),this.Vj(m,h),this.Vk(k,-1)):-1!=n?(this.Xk(h,n),this.Vj(n,h),this.Xk(k,-1)):this.Xk(h,-1),this.Vj(k,-1),f++,k=h,h=this.uk(k),e=-1!=h?this.gg.size(h):0,m=this.vj(k),n=this.tk(k),
h=this.GG(k)};d.prototype.reset=function(){if(!this.ag||!this.Eq)throw g.f.I("invalid call");this.Uk(!1)};d.prototype.size=function(){return this.Gw};d.prototype.getIterator=function(){return a.construct(this)};d.prototype.TJ=function(e){for(var f=this.Jj.length,h=0;h<2*f;h++)e.add(h);this.mZ(e,2*f)};d.prototype.SJ=function(e){for(var f=NaN,h=0;h<e.size;h++){var k=e.get(h),m=this.vk(k);m!=f&&(this.fi.add(k),f=m)}};d.prototype.QT=function(){var e=this.Jj.length,f=new g.ha(0);f.Db(2*e);this.TJ(f);this.fi.Db(2*
e);this.fi.resize(0);this.SJ(f);this.Ij.Le(e);this.Zi.vn(2*e);var h=g.Xc.Sh(e);h.Xj(-1,0,e);this.tf=this.Bv();for(e=0;e<f.size;e++){var k=f.get(e),m=h.get(k>>1);-1!=m?this.ZK(m,this.Zi.addElement(this.fA(m),k)):(m=this.bH(k,this.tf),h.set(k>>1,m))}};d.prototype.bH=function(e,f){var h=f,k=f,m=-1,n=0,p=this.fi.size-1,q=0,r=e>>1,t=NaN,v=NaN,E=!0,O=this.TS(r);for(r=this.QS(r);E;){n<p?(q=n+g.L.truncate((p-n)/2),-1==this.Nz(h)&&this.JK(h,this.fi.get(q),this.fi.get(q+1))):-1==this.Nz(h)&&this.JK(h,this.fi.get(n),
this.fi.get(n));var M=this.iq(h);if(r<M)-1!=f&&(f==h?(k=h,t=M,f=this.vj(h),v=-1!=f?this.iq(f):NaN):v>M&&(M<t?this.Vk(k,h):this.Xk(k,h),this.Xk(h,f),this.ag&&(this.Vj(h,k),this.Vj(f,h)),k=h,t=M,f=-1,v=NaN)),p=this.NS(h),-1==p&&(p=this.Bv(),this.GY(h,p)),h=p,p=q;else if(O>M)-1!=f&&(f==h?(k=h,t=M,f=this.tk(h),v=-1!=f?this.iq(f):NaN):v<M&&(M<t?this.Vk(k,h):this.Xk(k,h),this.Vk(h,f),this.ag&&(this.Vj(h,k),this.Vj(f,h)),k=h,t=M,f=-1,v=NaN)),n=this.kT(h),-1==n&&(n=this.Bv(),this.RY(h,n)),h=n,n=q+1;else{E=
this.uk(h);-1==E&&(E=this.KQ(h),this.cL(h,E));var S=this.pO(E,e);m=this.IQ();this.UY(m,E);this.FY(m,S);h!=f&&(M<t?this.Vk(k,h):this.Xk(k,h),this.ag&&this.Vj(h,k),-1!=f&&(v<M?this.Vk(h,f):this.Xk(h,f),this.ag&&this.Vj(f,h)));E=!1}}return m};d.prototype.Bv=function(){return this.te.Ke()};d.prototype.KQ=function(e){return this.ag?this.gg.qs(e):this.Zi.Th(e)};d.prototype.IQ=function(){return this.Ij.Ke()};d.prototype.Uk=function(e){e?(this.zw=this.UA=!0,this.Eq=!1,null==this.fi?this.fi=g.Xc.Sh(0):this.fi.resize(0),
null==this.Jj?this.Jj=[]:this.Jj.length=0):this.UA=!1;this.ag?null==this.Xm?(this.Xm=g.Xc.Sh(0),this.gg=new g.bk,this.gg.kp(new u(this))):this.gg.clear():null==this.Zi?this.Zi=new g.Ap:this.Zi.clear();null==this.te?(this.Ij=new g.ad(3),this.te=new g.ad(this.ag?8:7)):(this.Ij.rj(!1),this.te.rj(!1));this.tf=-1;this.Gw=0};d.prototype.JK=function(e,f,h){this.zY(e,f);this.AY(e,h)};d.prototype.iq=function(e){var f=this.Nz(e);if(-1==f)return NaN;f=this.vk(f);e=this.vk(this.uS(e));return f==e?f:.5*(f+e)};
d.prototype.zY=function(e,f){this.te.P(e,0,f)};d.prototype.AY=function(e,f){this.te.P(e,1,f)};d.prototype.GY=function(e,f){this.te.P(e,3,f)};d.prototype.RY=function(e,f){this.te.P(e,4,f)};d.prototype.cL=function(e,f){this.te.P(e,2,f)};d.prototype.Vk=function(e,f){this.te.P(e,5,f)};d.prototype.Xk=function(e,f){this.te.P(e,6,f)};d.prototype.Vj=function(e,f){this.te.P(e,7,f)};d.prototype.UY=function(e,f){this.Ij.P(e,0,f)};d.prototype.pO=function(e,f){return this.ag?this.gg.addElement(f,e):this.Zi.addElement(e,
f)};d.prototype.FY=function(e,f){this.Ij.P(e,1,f)};d.prototype.ZK=function(e,f){this.Ij.P(e,2,f)};d.prototype.ql=function(e){return this.ag?this.gg.sc(e):this.Zi.sc(e)};d.prototype.Fs=function(e){return this.ag?this.gg.Gc(e):this.Zi.Gc(e)};d.yq=function(e){return 0==(e&1)};d.nw=function(e){return 1==(e&1)};d.prototype.Nz=function(e){return this.te.S(e,0)};d.prototype.uS=function(e){return this.te.S(e,1)};d.prototype.uk=function(e){return this.te.S(e,2)};d.prototype.NS=function(e){return this.te.S(e,
3)};d.prototype.kT=function(e){return this.te.S(e,4)};d.prototype.vj=function(e){return this.te.S(e,5)};d.prototype.tk=function(e){return this.te.S(e,6)};d.prototype.GG=function(e){return this.te.S(e,7)};d.prototype.fA=function(e){return this.Ij.S(e,0)};d.prototype.MS=function(e){return this.Ij.S(e,1)};d.prototype.jT=function(e){return this.Ij.S(e,2)};d.prototype.TS=function(e){return this.Jj[e].fa};d.prototype.QS=function(e){return this.Jj[e].ja};d.prototype.mZ=function(e,f){null==this.Nm&&(this.Nm=
new g.Eu);var h=new l(this);this.Nm.sort(e,0,f,h)};d.prototype.lZ=function(e,f,h){var k=this;e.Zd(f,h,function(m,n){var p=k.vk(m),q=k.vk(n);return p<q||p==q&&d.yq(m)&&d.nw(n)?-1:1})};d.prototype.vk=function(e){var f=this.Jj[e>>1];return d.yq(e)?f.fa:f.ja};return d}();g.Qr=b})(J||(J={}));(function(g){var u=function(){function l(c){if(null==c)throw g.f.Y("Invalid arguement");this.rf=c;var a=c.BS();a.CT()?c.ee.uH()?this.Eo=g.zi.PannableFold:this.Eo=g.zi.Clip:this.Eo=g.zi.DontClip;a.DT()?c.Je.uH()?this.cn=
g.zi.PannableFold:this.cn=g.zi.Clip:this.cn=g.zi.DontClip;this.Om=a.sv;this.$H=a.qz;c=this.rf.fI;this.OH=c.Ps(2147483648);this.Bw=c.Ps(1073741824)}l.$g=function(c,a,b){return a.dx.$g(c,b)};l.Kr=function(c,a,b,d){return c.dx.Kr(a,b,d)};l.zu=function(c,a,b,d){b=0>b?a.length:b;c=c.dx.Kr(a,b,d);if(c==b)return c;for(var e=a=0;e<b;e++){var f=d[e];f.isNaN()||(a<e&&d[a].K(f),a++)}for(;a<b;a++)d[a].Tc();return c};l.transform=function(c,a,b,d,e){if(c.xq())return g.la.uQ(d,a,b),b;for(var f=[],h=0,k=0;k<b;){for(var m=
Math.min(f.length,b-k),n=k,p=0;n<m;n++,p++)null==f[p]?f[p]=a[n].w():a[n].w(f[p]);var q=e?l.zu(c,f,m,f):l.Kr(c,f,m,f);for(p=n=0;n<q;n++,p++)null==d[k]&&(d[k]=new g.Ra(a[k])),d[k].nb(f[p]);k+=m;h+=q}return h};l.BL=function(c,a,b){if(0==b)return[];var d=new g.Hd;d.yO(a,2*b);a=this.$g(d,c,null);c=a.Va(0);a=2*a.D();b=g.L.Xf(a);c.iu(0,a,b,0,!0);return b};l.prototype.Kr=function(c,a,b){if(this.rf.xq())return c!=b&&g.la.zv(b,c,a),a;var d=this.rf.ee,e=this.rf.Je,f=d.Fb(),h=e.Fb();if(0==f&&f===h){var k=d.qk();
e=e.qk();e=k/e;k=new g.xd;k.Dr(e,e);k.NZ(c,a,b);return a}k=g.L.lv(Math.min(a,64));if(3==f){var m=d.Pi;d=m.kk();f=d.Fb();b!=c&&g.la.zv(b,c,a);g.Ab.fl(m,b,a,!0);m.zu(g.nm.forward,b,a);g.Ab.el(m,b,a,!0)}if(3==f||3===h)throw g.f.Y("image: transform_in_place_");if(2==f)this.Eo==g.zi.Clip?(b!=c&&g.la.zv(b,c,a),c=d.sk(),g.Ab.iU(c,d,b,a)):(b!=c&&g.la.zv(b,c,a),d.Cc()&&(f=d.ce(0),m=d.be(),g.Ab.jZ(b,a,m,f),g.Ab.dG(b,a,d,0))),g.Ab.QM(d,b,a,k);else for(f=d.ce(0),m=d.be(),d=0;d<a;d++)g.Ab.kZ(c[d],m,f,b[d]);g.Ab.OM(this.rf,
b,a,k);c=0;(h=2==h)?c=e.Wh():isNaN(this.Om)||(c=this.Om);h&&this.cn!=g.zi.Clip||g.Ab.dG(b,a,e.hc(),c);h&&(g.Ab.kH(b,a,e,this.cn),g.Ab.PM(e,b,a,k));c=a;for(d=0;d<a;++d)b[d].isNaN()&&c--;return c};l.prototype.$g=function(c,a){if(this.rf.xq()||c.u())return c;if(33==c.F())return this.OJ(c);var b=this.rf.ee,d=this.rf.Je,e=b.Fb(),f=d.Fb();if(0==e&&e==f)return a=b.qk(),d=d.qk(),a/=d,d=new g.xd,d.Dr(a,a),c=g.R.$d(c),c.Qc(d),c;switch(c.F()){case 1607:case 1736:c=this.MJ(c,a);break;case 550:c=this.wX(c,a);
break;case 197:c=this.vX(c,a);break;default:throw g.f.Y("");}return c};l.prototype.OJ=function(c){var a=c.w(),b=[];b[0]=a;this.Kr(b,1,b);c=new g.Ra(c);c.nb(b[0]);return c};l.prototype.MJ=function(c,a){if(c.Fm())throw g.f.Y("curves not supported");var b=c.F();if(1736==b)return this.xX(c,a);if(1607==b)return this.yX(c,a);throw g.f.Y("projectMultiPath");};l.prototype.xX=function(c,a){var b=this.rf.ee,d=this.rf.Je,e=b.Fb(),f=d.Fb(),h=g.L.lv(Math.min(c.D(),64)),k=g.Ga.$d(c);3==e&&(c=b.Pi,b=c.kk(),e=b.Fb(),
k=c.fl(k,!0),this.Qp(c,g.nm.forward,k),k=c.el(k,!0));c=null;3==f&&(c=d.Pi,d=c.kk(),f=d.Fb());var m=2==e,n=2==f,p=n?d.hc():d,q=!n&&!this.Bw;f=!1;var r=k;if(m){if(r=g.Ab.LJ(r,b,this.Eo,a),r.u())return r}else{k=new g.g;r.Zb(k);e=b.be();if(k.A<e.A||k.B>e.B){var t=g.g.construct(k.o-1,e.A,k.v+1,e.B);r=g.fh.Tp(r,t,b,NaN,0,a);if(r.u())return r}k.N()>2*e.N()&&(r=g.Ab.aq(r,-2*e.N(),2*e.N(),b,!0,0,!0,a))}k=this.$H;(e=!isNaN(k))&&(r=g.im.local().U(r,k,a));t=n?d.xj():null;var v=NaN;m&&(v=b.Wh());var E=null!=d.Cs();
if(this.OH)m&&(g.Ab.Tr(b,v,r,h),e&&(m=b.oh(),v=b.hc().oh(),k*=v/m)),g.Ab.Sr(this.rf,r,q,h),e&&(m=b.hc().oh(),v=d.hc().oh(),k*=v/m),b=r;else{var O=new g.Oa(r.description);O.pE(r);m&&(g.Ab.Tr(b,v,O,h),e&&(m=b.oh(),v=b.hc().oh(),k*=v/m));g.Ab.Sr(this.rf,O,q,h);e&&(m=b.hc().Am(),v=d.hc().Am(),k*=v/m);q=NaN;n?(t=d.xj(),q=d.Wh()):isNaN(this.Om)||(q=this.Om);m=l.bw(b)|l.bw(d);v=10*p.ce(0);this.Bw&&(m=3,v=0);b=g.Ab.fS(r,b,O,p,q,a,m,v)}E&&(b=g.Ab.JE(b,d,a));n&&(f||(n=p.be().N(),b.Qf(0,0).N()>=n-p.ce(0)&&(p=
t.getNorthPoleLocation(),n=t.getSouthPoleLocation(),r=t.getNorthPoleGeometry(),t=t.getSouthPoleGeometry(),q=0,r==g.ng.PE_POLE_POINT&&p!=g.ng.PE_POLE_OUTSIDE_BOUNDARY&&(q=1),t==g.ng.PE_POLE_POINT&&n!=g.ng.PE_POLE_OUTSIDE_BOUNDARY&&(q|=2),0!==q&&(f=!0))),b=g.Ab.tA(b,d,this.cn,a),e&&(b=g.im.local().U(b,k,a)),g.Ab.qy(d,b,h));if(b.u())return b;f&&(b=g.jm.local().U(b,d,!1,a));null!=c&&(b=c.el(b,!1),this.Qp(c,g.nm.reverse,b),b=c.fl(b,!1));return b};l.bw=function(c){if(2!=c.Fb())return 0;var a=0,b=c.xj();
c=b.getNorthPoleLocation();var d=b.getSouthPoleLocation(),e=b.getNorthPoleGeometry();b=b.getSouthPoleGeometry();e==g.ng.PE_POLE_POINT&&c!=g.ng.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);b==g.ng.PE_POLE_POINT&&d!=g.ng.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};l.prototype.yX=function(c,a){var b=this.rf.ee,d=this.rf.Je,e=b.Fb(),f=d.Fb(),h=g.L.lv(Math.min(c.D(),64)),k=g.Oa.$d(c);3==e&&(c=b.Pi,b=c.kk(),e=b.Fb(),k=c.fl(k,!0),this.Qp(c,g.nm.forward,k),k=c.el(k,!0));c=null;3==f&&(c=d.Pi,d=c.kk(),f=d.Fb());var m=2==
e;e=(f=2==f)?d.hc():d;var n=!f&&!this.Bw;if(m){if(k=g.Ab.LJ(k,b,this.Eo,a),k.u())return k}else{var p=new g.g;k.Zb(p);var q=b.be();if(p.A<q.A||p.B>q.B)if(p=g.g.construct(p.o-1,q.A,p.v+1,q.B),k=g.fh.Tp(k,p,b,NaN,0,a),k.u())return k}var r=NaN;m&&(r=b.Wh());p=null!=d.Cs();q=this.$H;var t=!isNaN(q);t&&(k=g.im.local().U(k,q,a));if(this.OH)m&&g.Ab.Tr(b,r,k,h),t&&(m=b.oh(),r=b.hc().oh(),q*=r/m),g.Ab.Sr(this.rf,k,n,h),t&&(m=b.hc().oh(),r=d.hc().oh(),q*=r/m),b=k;else{var v=new g.Oa(k.description);v.pE(k);m&&
(g.Ab.Tr(b,r,v,h),t&&(m=b.oh(),r=b.hc().oh(),q*=r/m));g.Ab.Sr(this.rf,v,n,h);t&&(m=b.hc().oh(),r=d.hc().oh(),q*=r/m);n=NaN;f?n=d.Wh():isNaN(this.Om)||(n=this.Om);m=l.bw(b)|l.bw(d);r=10*e.ce(0);this.Bw&&(m=3,r=0);b=g.Ab.gS(k,b,v,e,n,a,m,r)}p&&(b=g.Ab.JE(b,d,a));f&&(b=g.Ab.tA(b,d,this.cn,a),t&&(b=g.im.local().U(b,q,a)),g.Ab.qy(d,b,h));if(b.u())return b;null!=c&&(b=c.el(b,!1),this.Qp(c,g.nm.reverse,b),b=c.fl(b,!1));return b};l.prototype.vX=function(c,a){var b=(c.ca()+c.N())/400;0!=b?(b=g.im.local().U(c,
b,a),b=this.MJ(b,a),a=c.Ea(),b.qn(a)):(a=new g.Ra(c.bq()),b=this.OJ(a),a=c.Ea(),b.u()?a.Ka():(c.copyTo(a),c=b.w(),a.H(c.x,c.y,c.x,c.y)));return a};l.prototype.wX=function(c,a){c=g.R.$d(c);var b=this.rf.ee,d=this.rf.Je,e=b.Fb(),f=d.Fb(),h=g.L.lv(Math.min(c.D(),64));if(3==e){var k=b.Pi;b=k.kk();e=b.Fb();c=k.el(c,!0);this.Qp(k,g.nm.forward,c);c=k.fl(c,!0)}if(2==e){this.Eo==g.zi.Clip?c=g.ak.local().U(c,b.sk(),b,a):b.Cc()&&(e=new g.g,c.Zb(e),b.be().contains(e)||(this.Eo==g.zi.PannableFold&&(c=g.Ab.qj(c,
b)),g.Ab.tu(c,b.be(),b.ce(0),!0),c=g.Ab.vm(c,b,0,!0,0,a)));if(c.u())return c;g.Ab.Tr(b,0,c,h)}else g.Ab.tu(c,b.be(),b.ce(0),!0);g.Ab.Sr(this.rf,c,!1,h);b=0;e=!1;k=null;3==f&&(e=!0,k=d.Pi,d=k.kk(),f=d.Fb());(f=2==f)?b=d.Wh():isNaN(this.Om)||(b=this.Om);f&&this.cn!=g.zi.Clip||(c=g.Ab.vm(c,d.hc(),b,!1,0,a));if(f&&(c=g.Ab.tA(c,d,this.cn,a),g.Ab.qy(d,c,h),c.u()))return c;e&&(c=k.el(c,!0),this.Qp(k,g.nm.reverse,c),c=k.fl(c,!0));return c};l.prototype.Qp=function(c,a,b){var d=b.D();if(0!=d){for(var e=b.Va(0),
f=g.L.Xf(200,0),h=[],k=0;k<d;){var m=Math.min(100,d-k);e.iu(2*k,2*m,f,2,!0);for(var n=0;n<m;++n)h[n]=g.b.construct(f[2*k],f[2*k+1]);c.zu(a,h,m);k+=m}b.Oc(1993)}};l.Jv=function(c,a,b){if(null==c||null==a||!a.Cc())throw g.f.Y("Invalid Arguement");if(c.u())return c;var d=c.F();197==d?(d=new g.Ga(c.description),d.bd(c,!1)):g.R.Ic(d)?(d=new g.Oa(c.description),d.$b(c,!0)):d=c;d=g.Ab.qj(d,a);return d.u()?d:g.Ab.vm(d,a,0,d!=c,0,b)};l.sj=function(c,a,b,d){if(null==c||null==a||!a.Cc())throw g.f.Y("Invalid Arguement");
if(c.u())return c;var e=c.F();if(g.R.Bc(e)){c=g.Ab.qj(c,a);e=new g.g;c.s(e);for(var f=g.la.Yy(a,e,!1),h=a.nh(),k=Math.floor((e.o-h.o)/h.N())*h.N()+h.o;k<e.v;)k>e.o+f&&k<e.v-f&&(c=g.Ab.PT(c,a,b,k)),k+=h.N()}else{if(197==e)return e=new g.Ga(c.description),e.bd(c,!1),l.sj(e,a,b,d);if(g.R.Ic(e))return e=new g.Oa(c.description),e.$b(c,!0),l.sj(e,a,b,d)}return l.Jv(c,a,d)};l.H_=function(c,a,b,d){var e=a.Fb(),f=new g.BD;a.FX(f);if(0==e)return l.wF(c,f,a,b);d==g.yp.foldAndClipWithHorizon&&a.Cc()&&(c=l.Jv(c,
a,b));c=l.wF(c,f,a,b);if(d==g.yp.clipToDomainOnly||c.u())return c;if(1==e)return d==g.yp.clipWithHorizon?(d=new g.g,c.Zb(d),e=a.be(),f=.01*e.N(),d.A=e.A,d.B=e.B,d.o-=f,d.v+=f,g.fh.Tp(c,d,a,NaN,0,b)):c;if(2==e)return e=a.sk(),d==g.yp.clipWithHorizon||d==g.yp.foldAndClipWithHorizon?(a=g.ak.local().U(c,e,a,b),a==e?g.R.$d(a):a):c;if(3==e)return c;throw g.f.Y("missing implementation");};l.wF=function(c,a,b,d){var e=a.uT(),f=c.hasAttribute(1),h=c.hasAttribute(2),k=new g.uc;k.Ka();var m=new g.uc;m.Ka();
f&&(k=a.wT());h&&(m=a.PS());a=g.fh.Tp(c,e,b,NaN,0,d);f&&(f=a.Qf(1,0),k.contains(f)||(c==a&&(a=g.R.$d(a)),g.la.hL(a,k,1)));h&&(f=a.Qf(2,0),m.contains(f)||(c==a&&(a=g.R.$d(a)),g.la.hL(a,m,2)));return a};return l}();g.Bp=u})(J||(J={}));(function(g){var u=function(l){function c(a,b,d,e){var f=l.call(this)||this;void 0===a?f.description=g.ke.ug():void 0===d?f.description=a:(f.description=g.ke.ug(),f.GC(a,b),f.am(d,e));return f}ma(c,l);c.prototype.F=function(){return 322};c.prototype.Pb=function(){var a=
this.ra-this.pa,b=this.na-this.ma;return Math.sqrt(a*a+b*b)};c.prototype.Qg=function(a){var b=this.ra-this.pa,d=this.na-this.ma;return Math.sqrt(b*b+d*d)<=a};c.prototype.jo=function(){return!1};c.prototype.qg=function(){var a=new g.b;a.tc(this.wc(),this.ac());return a};c.mQ=function(a,b){return new c(a.x,a.y,b.x,b.y)};c.prototype.qn=function(a){a.Ka();a.rg(this.description);var b=new g.g;this.s(b);a.mp(b);b=1;for(var d=this.description.Ca;b<d;b++)for(var e=this.description.kd(b),f=g.oa.Sa(e);b<f;b++){var h=
this.Qf(e,0);a.setInterval(e,0,h)}};c.prototype.s=function(a){a.H(this.ra,this.na,this.pa,this.ma);a.normalize()};c.prototype.ip=function(a){a.Ka();a.Nb(this.ra,this.na,this.Pd(0,1,0));a.Nb(this.pa,this.ma,this.Pd(1,1,0))};c.prototype.Qc=function(a){if(a instanceof g.xd){this.vc();var b=new g.b;b.x=this.ra;b.y=this.na;a.Zj(b,b);this.ra=b.x;this.na=b.y;b.x=this.pa;b.y=this.ma;a.Zj(b,b);this.pa=b.x;this.ma=b.y}else this.vc(),b=new g.Id,b.x=this.ra,b.y=this.na,b.z=this.Pd(0,1,0),b=a.vp(b),this.ra=b.x,
this.na=b.y,this.Nn(0,1,0,b.z),b.x=this.pa,b.y=this.ma,b.z=this.Pd(1,1,0),b=a.vp(b),this.pa=b.x,this.ma=b.y,this.Nn(1,1,0,b.z)};c.prototype.Ea=function(){return new c(this.description)};c.prototype.yy=function(a,b){return(this.pa-a-(this.ra-a))*(this.ma-b+(this.na-b))*.5};c.prototype.by=function(a){return a*this.Pb()};c.prototype.zH=function(a){return a/this.Pb()};c.prototype.qG=function(a){return g.Tb.Aq(this.ra,this.pa,a)};c.prototype.tS=function(a){return g.Tb.Aq(this.na,this.ma,a)};c.prototype.jl=
function(a,b){var d=new g.og;this.jh(a,b,d);return d.get()};c.prototype.jh=function(a,b,d){if(null==d)throw g.f.I();d.ps();d=d.get();d.rg(this.description);var e=new g.b;this.cc(a,e);d.GC(e.x,e.y);this.cc(b,e);d.am(e.x,e.y);e=1;for(var f=this.description.Ca;e<f;e++)for(var h=this.description.Jd(e),k=g.oa.Sa(h),m=0;m<k;m++){var n=this.Rc(a,h,m);d.Qx(h,m,n);n=this.Rc(b,h,m);d.Hx(h,m,n)}};c.prototype.Rc=function(a,b,d){if(0==b)return 0==d?this.cc(a).x:this.cc(a).y;switch(g.oa.Uz(b)){case 0:return.5>
a?this.Ks(b,d):this.us(b,d);case 1:var e=this.Ks(b,d);b=this.us(b,d);return g.Tb.Aq(e,b,a);case 2:throw g.f.Y("not implemented");}throw g.f.za();};c.prototype.ae=function(a,b){var d=this.pa-this.ra,e=this.ma-this.na,f=d*d+e*e;if(0==f)return.5;a=((a.x-this.ra)*d+(a.y-this.na)*e)/f;b||(0>a?a=0:1<a&&(a=1));return a};c.prototype.uq=function(a,b,d,e){if(a){a=this.ma-this.na;if(0==a)return b==this.ma?-1:0;b=(b-this.na)/a;if(0>b||1<b)return 0;null!=d&&(d[0]=this.qG(b))}else{a=this.pa-this.ra;if(0==a)return b==
this.pa?-1:0;b=(b-this.ra)/a;if(0>b||1<b)return 0;null!=d&&(d[0]=this.tS(b))}null!=e&&(e[0]=b);return 1};c.prototype.Te=function(a,b){var d=this.ma-this.na;if(0==d)return a==this.ma?b:NaN;a=(a-this.na)/d;b=this.qG(a);1==a&&(b=this.pa);return b};c.prototype.Yu=function(a,b,d){return 0<=this.Kp(a.x,a.y,b,d)};c.prototype.Ci=function(a,b,d){return 0<=this.Kp(a,b,d,!0)};c.prototype.Zs=function(a,b){return this.Yu(a,b,!1)};c.prototype.hJ=function(){if(this.ma<this.na||this.ma==this.na&&this.pa<this.ra){var a=
this.ra;this.ra=this.pa;this.pa=a;a=this.na;this.na=this.ma;this.ma=a;a=0;for(var b=this.description.gr-2;a<b;a++){var d=this.ia[a];this.ia[a]=this.ia[a+b];this.ia[a+b]=d}}};c.prototype.av=function(a,b){b=g.b.construct(a,b);b.sub(this.ac());var d=new g.b;d.tc(this.wc(),this.ac());a=d.Di(b);b=8.881784197001252E-16*(Math.abs(d.x*b.y)+Math.abs(d.y*b.x));return a>b?-1:a<-b?1:0};c.prototype.Kp=function(a,b,d,e){var f=this.ra,h=this.na,k=a-f,m=b-h;k=Math.sqrt(k*k+m*m);if(k<=Math.max(d,6.661338147750939E-16*
k))return e&&0==k?NaN:0;k=a-this.pa;m=b-this.ma;k=Math.sqrt(k*k+m*m);if(k<=Math.max(d,6.661338147750939E-16*k))return e&&0==k?NaN:1;k=this.pa-this.ra;m=this.ma-this.na;e=Math.sqrt(k*k+m*m);if(0<e){var n=1/e;k*=n;m*=n;var p=a-f,q=b-h,r=p*k+q*m,t=1.7763568394002505E-15*(Math.abs(p*k)+Math.abs(q*m)),v=k;k=-m;m=v;t=Math.max(d,t);if(r<-t||r>e+t)return NaN;if(Math.abs(p*k+q*m)<=Math.max(d,1.7763568394002505E-15*(Math.abs(p*k)+Math.abs(q*m)))&&(k=g.L.Yj(r*n,0,1),.5>=k?(m=this.ra+(this.pa-this.ra)*k,e=this.na+
(this.ma-this.na)*k):(m=this.pa-(this.pa-this.ra)*(1-k),e=this.ma-(this.ma-this.na)*(1-k)),g.b.uz(m,e,a,b)<=d)){if(.5>k){if(g.b.uz(m,e,f,h)<=d)return 0}else if(g.b.uz(m,e,this.pa,this.ma)<=d)return 1;return k}}return NaN};c.prototype.Ib=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.NN(a)};c.prototype.cE=function(a,b,d){var e=d?this.ra:this.pa;d=d?this.na:this.ma;var f=new g.b;f.x=a.pa-e;f.y=a.ma-d;return b.Vh(f)>6.661338147750939E-16*b.PD(f)?(f.x=a.ra-e,f.y=a.na-
d,b.Vh(f)<=6.661338147750939E-16*b.PD(f)):!0};c.prototype.bE=function(a){var b=new g.b;b.x=this.pa-this.ra;b.y=this.ma-this.na;if(!this.cE(a,b,!1))return!1;b.lr();return this.cE(a,b,!0)?!0:!1};c.VN=function(a,b){var d=a.av(b.ra,b.na),e=a.av(b.pa,b.ma);if(0>d&&0>e||0<d&&0<e)return!1;d=b.av(a.ra,a.na);e=b.av(a.pa,a.ma);if(0>d&&0>e||0<d&&0<e)return!1;d=a.Pb();e=b.Pb();return d>e?a.bE(b):b.bE(a)};c.TN=function(a,b,d){var e=g.b.construct(NaN,NaN),f=a.pa-a.ra,h=a.ma-a.na,k=b.pa-b.ra,m=b.ma-b.na,n=k*h-f*
m;if(0==n)return e;var p=8.881784197001252E-16*(Math.abs(k*h)+Math.abs(f*m)),q=b.ra-a.ra,r=b.na-a.na,t=k*r-q*m,v=t/n,E=Math.abs(n);k=(8.881784197001252E-16*(Math.abs(k*r)+Math.abs(q*m))*E+p*Math.abs(t))/(n*n)+2.220446049250313E-16*Math.abs(v);if(v<-k||v>1+k)return e;m=f*r-q*h;k=m/n;f=(8.881784197001252E-16*(Math.abs(f*r)+Math.abs(q*h))*E+p*Math.abs(m))/(n*n)+2.220446049250313E-16*Math.abs(k);if(k<-f||k>1+f)return e;v=g.L.Yj(v,0,1);f=g.L.Yj(k,0,1);h=a.cc(v);n=b.cc(f);p=new g.b;p.tc(h,n);if(p.length()>
d&&(p.add(h,n),p.scale(.5),v=a.ae(p,!1),f=b.ae(p,!1),a=a.cc(v),b=b.cc(f),a.sub(b),a.length()>d))return e;e.ka(v,f);return e};c.WN=function(a,b,d,e){var f=0;if(a.ra==b.ra&&a.na==b.na||a.ra==b.pa&&a.na==b.ma)if(f++,!e)return 1;if(a.pa==b.ra&&a.ma==b.na||a.pa==b.pa&&a.ma==b.ma){f++;if(2==f)return 2;if(!e)return 1}return b.Ci(a.ra,a.na,d)||b.Ci(a.pa,a.ma,d)||a.Ci(b.ra,b.na,d)||a.Ci(b.pa,b.ma,d)?1:e&&0!=f?0:0==c.VN(a,b)?0:1};c.Dy=function(a,b,d,e,f,h){var k=0,m=a.Kp(b.ra,b.na,h,!1),n=a.Kp(b.pa,b.ma,h,
!1),p=b.Kp(a.ra,a.na,h,!1),q=b.Kp(a.pa,a.ma,h,!1);isNaN(m)||(null!=e&&(e[k]=m),null!=f&&(f[k]=0),null!=d&&(d[k]=g.b.construct(b.ra,b.na)),k++);isNaN(n)||(null!=e&&(e[k]=n),null!=f&&(f[k]=1),null!=d&&(d[k]=g.b.construct(b.pa,b.ma)),k++);2==k||isNaN(p)||0==m&&0==p||0==n&&1==p||(null!=e&&(e[k]=0),null!=f&&(f[k]=p),null!=d&&(d[k]=g.b.construct(a.ra,a.na)),k++);2==k||isNaN(q)||1==m&&0==q||1==n&&1==q||(null!=e&&(e[k]=1),null!=f&&(f[k]=q),null!=d&&(d[k]=g.b.construct(b.pa,b.ma)),k++);if(0<k)return 2==k&&
null!=e&&e[0]>e[1]&&(a=e[0],e[0]=e[1],e[1]=a,null!=f&&(e=f[0],f[0]=f[1],f[1]=e),null!=d&&(f=g.b.construct(d[0].x,d[0].y),d[0]=d[1],d[1]=f)),k;k=c.TN(a,b,h);if(isNaN(k.x))return 0;null!=d&&(d[0]=a.cc(k.x));null!=e&&(e[0]=k.x);null!=f&&(f[0]=k.y);return 1};c.prototype.QG=function(){return 0};c.prototype.Hp=function(){};c.prototype.toString=function(){return"Line: ["+this.ra.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.ma.toString()+"]"};return c}(g.zD);g.zb=u})(J||(J={}));(function(g){var u=
function(){function l(){this.Wm=[];this.ya=-1}l.prototype.Fa=function(){return this.ya};l.prototype.next=function(){if(null!=this.Wm&&0!=this.Wm.length){this.ya++;var c=this.Wm[0];this.Wm=1>=this.Wm.length?[]:this.Wm.slice(1);return c}return this.Wm=null};l.prototype.FZ=function(c){this.Wm.push(c)};l.prototype.xe=function(){};return l}();g.qM=u})(J||(J={}));(function(g){(function(l){l[l.enumFillRuleOddEven=0]="enumFillRuleOddEven";l[l.enumFillRuleWinding=1]="enumFillRuleWinding"})(g.$M||(g.$M={}));
var u=function(l){function c(a,b){var d=l.call(this)||this;d.Gf=!1;d.Yq=null;d.Lq=0;d.Kq=0;d.Ej=null;d.Sg=!1;d.kb=null;d.jb=null;d.af=null;d.Nj=null;d.Wd=null;d.Mq=0;d.Pa=0;d.Qq=0;if(void 0===b)d.Gf=a,d.Sg=!1,d.Mq=0,d.Lq=0,d.Kq=0,d.sa=0,d.description=g.ke.ug();else{if(null==b)throw g.f.I();d.Gf=a;d.Sg=!1;d.Mq=0;d.Lq=0;d.Kq=0;d.sa=0;d.description=b}d.Ej=null;d.Pa=0;return d}ma(c,l);c.prototype.Fm=function(){return 0<this.Mq};c.prototype.Cy=function(){this.vc();null==this.Yq?this.Yq=new g.Ra(this.description):
this.Yq.rg(this.description)};c.prototype.Zx=function(a,b){var d=new g.b;d.x=a;d.y=b;this.vu(d)};c.prototype.vu=function(a){this.Cy();this.Yq.nb(a);this.Sg=!0};c.prototype.xf=function(a){if(a.u())throw g.f.I();this.Tl(a.description);this.Cy();a.copyTo(this.Yq);this.Sg=!0};c.prototype.xy=function(){var a=1;this.Sg&&(this.Cy(),null==this.kb?(this.kb=g.Xc.Sh(2),this.kb.write(0,0),this.jb=g.Xc.ns(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.Gf&&this.jb.write(this.jb.size-
2,1),a++);var b=this.sa;this.kb.write(this.kb.size-1,this.sa+a);this.bl(b+a);this.jb.write(this.kb.size-1,0);this.Sg&&(this.ru(b,this.Yq),this.Sg=!1)};c.prototype.Cj=function(a,b){this.xy();this.nb(this.sa-1,a,b)};c.prototype.Ii=function(a){this.xy();this.nb(this.sa-1,a)};c.prototype.lineTo=function(a){this.xy();this.ru(this.sa-1,a)};c.prototype.VV=function(a){this.vc();if(this.Gf)throw g.f.za();var b=this.$();if(a>b)throw g.f.za();if(this.Lb(a)){if(null==this.jb)throw g.f.za();var d=this.sa,e=this.ua(a),
f=this.zc(a);this.bl(this.sa+1);this.rc();for(var h=0,k=this.description.Ca;h<k;h++)if(null!=this.va[h]){var m=g.oa.Sa(this.description.Jd(h));this.va[h].fo(m*f,this.va[h],m*e,m,!0,1,m*d)}for(;b>a;b--)d=this.kb.read(b),this.kb.write(b,d+1);this.jb.uF(a,1)}};c.prototype.Up=function(){this.yu();if(void 0===a){this.Sg=!1;var a=this.$()-1}var b=this.jb.read(a);this.jb.write(a,b|1);null!=this.af&&(a=this.zc(a)-1,this.af.write(a,1),this.Nj.write(a,-1))};c.c0=function(a){return c.eO[a]};c.prototype.Lb=function(a){return 0!=
(this.jb.read(a)&1)};c.prototype.ho=function(a){if(this.Lb(a))return!0;var b=this.ua(a);a=this.zc(a)-1;if(b>a)return!1;b=this.xa(b);a=this.xa(a);return b.qb(a)};c.prototype.Qs=function(a){return 0!=(this.jb.read(a)&2)};c.prototype.$b=function(a,b){this.Tl(a.description);if(322==a.F()){var d=new g.Ra;if(b||this.u())a.jp(d),this.xf(d);a.hp(d);this.lineTo(d)}else throw g.f.za();};c.prototype.Np=function(a){var b=0==this.sa;this.Zx(a.o,a.A);this.Cj(a.o,a.B);this.Cj(a.v,a.B);this.Cj(a.v,a.A);this.Up();
this.Sg=!1;b&&this.Vf(256,!1)};c.prototype.bd=function(a,b){if(!a.u()){for(var d=0==this.sa,e=new g.Ra(this.description),f=0;4>f;f++)a.Pf(b?4-f-1:f,e),0==f?this.xf(e):this.lineTo(e);this.Up();this.Sg=!1;d&&!b&&this.Vf(256,!1)}};c.prototype.add=function(a,b){for(var d=0;d<a.$();d++)this.addPath(a,d,!b)};c.prototype.addPath=function(a,b,d){this.Ef(-1,a,b,d)};c.prototype.dl=function(a,b){this.pA(a,b)};c.prototype.ds=function(a,b,d,e,f){f||0!=this.$()||(f=!0);0>b&&(b=a.$()-1);if(b>=a.$()||0>d||0>e||e>
a.$v(b))throw g.f.Y("index out of bounds");if(0!=e){var h=a.Lb(b)&&d+e==a.$v(b);if(!h||1!=e){this.Sg=!1;this.Tl(a.description);d=a.ua(b)+d+1;f&&(e++,d--);h&&e--;h=this.sa;this.bl(this.sa+e);this.rc();if(f){if(0==e)return;this.kb.add(this.sa);f=a.jb.read(b);f&=-5;this.Gf&&(f|=1);this.jb.write(this.jb.size-1,f);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.sa);f=0;for(var k=this.description.Ca;f<k;f++){var m=this.description.kd(f),n=g.oa.Sa(m),p=a.description.Yf(m);0>p||null==a.va[p]?this.va[f].Gm(n*
h,g.oa.me(m),e*n,n*h):this.va[f].fo(n*h,a.va[p],n*d,e*n,!0,n,n*h)}if(this.Fm())throw g.f.za();if(a.Qs(b))throw g.f.za();this.Oc(1993)}}};c.prototype.sK=function(){for(var a=0,b=this.$();a<b;a++)this.kY(a)};c.prototype.kY=function(a){this.rc();if(a>=this.$())throw g.f.I();var b=this.ua(a),d=this.Ha(a);a=this.Lb(a)?1:0;for(var e=0,f=this.description.Ca;e<f;e++)if(null!=this.va[e]){var h=g.oa.Sa(this.description.Jd(e));this.va[e].wi(h*(b+a),h*(d-a),h)}this.Oc(1993)};c.prototype.sr=function(a){this.rc();
var b=this.$();0>a&&(a=b-1);if(a>=b)throw g.f.I();for(var d=this.ua(a),e=this.Ha(a),f=0,h=this.description.Ca;f<h;f++)if(null!=this.va[f]){var k=g.oa.Sa(this.description.Jd(f));this.va[f].Xn(k*d,k*e,k*this.sa)}for(d=a+1;d<=b;d++)f=this.kb.read(d),this.kb.write(d-1,f-e);if(null==this.jb)for(d=a+1;d<=b;d++)a=this.jb.read(d),this.jb.write(d-1,a);this.kb.resize(b);this.jb.resize(b);this.sa-=e;this.Vg-=e;this.Oc(1993)};c.prototype.Ef=function(a,b,d,e){if(b==this)throw g.f.I();if(d>=b.$())throw g.f.I();
var f=this.$();if(a>f)throw g.f.I();0>a&&(a=f);0>d&&(d=b.$()-1);this.Sg=!1;this.Tl(b.description);b.rc();var h=b.ua(d),k=b.Ha(d),m=this.sa,n=b.Lb(d)&&!e?1:0;this.bl(this.sa+k);this.rc();for(var p=a<f?this.ua(a):m,q=0,r=this.description.Ca;q<r;q++){var t=this.description.Jd(q),v=b.description.Yf(t),E=g.oa.Sa(t);0<=v&&null!=b.va[v]?(0!=n&&this.va[q].fo(p*E,b.va[v],E*h,E,!0,E,E*m),this.va[q].fo((p+n)*E,b.va[v],E*(h+n),E*(k-n),e,E,E*(m+n))):this.va[q].Gm(p*E,g.oa.me(t),E*k,E*m)}this.kb.add(m+k);for(e=
f;e>=a+1;e--)h=this.kb.read(e-1),this.kb.write(e,h+k);b.Qs(d);this.jb.add(0);for(e=f-1;e>=a+1;e--)f=this.jb.read(e),f&=-5,this.jb.write(e+1,f);f=b.ZS().read(d);f&=-5;this.Gf&&(f|=1);this.jb.write(a,f)};c.prototype.pA=function(a,b){var d=-1,e=this.$();if(d>e)throw g.f.I();0>d&&(d=e);this.Sg=!1;var f=this.sa;this.bl(this.sa+b);this.rc();var h=d<e?this.ua(d):f;if(null!=a)this.va[0].qA(2*h,a,0,b,!0,2*f);else{var k=g.oa.me(0);this.va[0].Gm(2*h,k,2*b,2*f)}a=1;for(var m=this.description.Ca;a<m;a++){k=this.description.kd(a);
var n=g.oa.Sa(k);k=g.oa.me(k);this.va[a].Gm(h*n,k,n*b,n*f)}this.kb.add(this.sa);for(f=e;f>=d+1;f--)h=this.kb.read(f-1),this.kb.write(f,h+b);this.jb.add(0);for(f=e-1;f>=d+1;f--)b=this.jb.read(f),b&=-5,this.jb.write(f+1,b);this.Gf&&this.jb.write(d,1)};c.prototype.cH=function(a,b,d){var e=-1;0>a&&(a=this.$());if(a>this.$()||e>this.Ha(a)||d>b.length)throw g.f.Y("index out of bounds");if(0!=d){a==this.$()&&(this.kb.add(this.sa),this.Gf?this.jb.add(1):this.jb.add(0));0>e&&(e=this.Ha(a));this.rc();var f=
this.sa;this.bl(this.sa+d);this.rc();for(var h=0,k=this.description.Ca;h<k;h++){var m=this.description.Jd(h),n=g.oa.Sa(m);this.va[h].Cu(n*(this.ua(a)+e+d),(f-this.ua(a)-e)*n,this.va[h],n*(this.ua(a)+e),!0,n);0==h?this.va[h].eD(n*(this.ua(a)+e),d,b,0,!0):this.va[h].Xj(g.oa.me(m),(this.ua(a)+e)*n,d*n)}this.Fm()&&(this.af.Cu(this.ua(a)+e+d,f-this.ua(a)-e,this.af,this.ua(a)+e,!0,1),this.Nj.Cu(this.ua(a)+e+d,f-this.ua(a)-e,this.Nj,this.ua(a)+e,!0,1),this.af.Xj(1,this.ua(a)+e,d),this.Nj.Xj(-1,this.ua(a)+
e,d));a+=1;for(b=this.$();a<=b;a++)this.kb.write(a,this.kb.read(a)+d)}};c.prototype.Ff=function(a,b,d){var e=this.$();0>a&&(a=this.$());if(a>=e||b>this.Ha(a))throw g.f.Y("index out of bounds");a==this.$()&&(this.kb.add(this.sa),this.Gf?this.jb.add(1):this.jb.add(0));0>b&&(b=this.Ha(a));var f=this.sa;this.bl(this.sa+1);this.rc();var h=this.ua(a);this.va[0].Gi(2*(h+b),d,2*f);d=1;for(var k=this.description.Ca;d<k;d++){var m=this.description.Jd(d),n=g.oa.Sa(m);this.va[d].Gm(n*(h+b),g.oa.me(m),n,n*f)}for(a+=
1;a<=e;a++)this.kb.write(a,this.kb.read(a)+1)};c.prototype.mC=function(a,b){var d=this.$();0>a&&(a=d-1);if(a>=d||b>=this.Ha(a))throw g.f.Y("index out of bounds");this.rc();var e=this.ua(a);0>b&&(b=this.Ha(a)-1);b=e+b;e=0;for(var f=this.description.Ca;e<f;e++)if(null!=this.va[e]){var h=g.oa.Sa(this.description.Jd(e));this.va[e].Xn(h*b,h,h*this.sa)}for(;d>=a+1;d--)b=this.kb.read(d),this.kb.write(d,b-1);this.sa--;this.Vg--;this.Oc(1993)};c.prototype.gF=function(a,b,d,e){a=this.ua(a)+b;d=this.ua(d)+e;
if(d<a||0>a||d>this.D()-1)throw g.f.I();e=this.Ba();b=0;e.Rb(a);do{for(;e.Aa();){a=e.aa();if(e.wb()==d)break;a=a.Pb();b+=a}if(e.wb()==d)break}while(e.Ta());return b};c.prototype.oP=function(a,b,d){b=this.ua(a)+b;d=this.ua(a)+d;if(0>b||d>this.D()-1)throw g.f.I();var e=this.Ba();if(b>d){if(!this.Lb(a))throw g.f.I("cannot iterate across an open path");e.tC()}var f=a=0;e.Rb(b);do f+=a,a=e.aa().Pb();while(e.wb()!=d);return f};c.prototype.sg=function(){return g.yi.qm(this,null)};c.prototype.eU=function(a,
b,d){for(var e=a;e<d-1;e++)if(this.Lb(e))throw g.f.I("cannot interpolate across closed paths");e=this.description.Ca;if(1!=e){var f=this.gF(a,b,d,void 0);if(0!=f)for(var h=1;h<e;h++){var k=this.description.kd(h);if(2!=g.oa.Uz(k))for(var m=g.oa.Sa(k),n=0;n<m;n++)this.gU(k,a,b,d,f,n)}}};c.prototype.dU=function(a,b,d){var e=this.description.Ca;if(1!=e){var f=this.oP(a,b,d);if(0!=f)for(var h=1;h<e;h++){var k=this.description.kd(h);if(2!=g.oa.Uz(k))for(var m=g.oa.Sa(k),n=0;n<m;n++)this.fU(k,a,b,d,f,n)}}};
c.prototype.gU=function(a,b,d,e,f,h){var k=this.Ba(),m=this.ua(b)+d;e=this.ua(e)+void 0;b=this.Rc(a,m,h);d=this.Rc(a,e,h);var n=b,p=0;k.Rb(m);do if(k.Aa()){k.aa();if(k.wb()==e)break;this.setAttribute(a,k.wb(),h,n);k.ti();do{m=k.aa();if(k.nk()==e)return;m=m.Pb();p+=m;n=g.Tb.Aq(b,d,p/f);k.io()||this.setAttribute(a,k.nk(),h,n)}while(k.Aa())}while(k.Ta())};c.prototype.fU=function(a,b,d,e,f,h){var k=this.Ba(),m=this.ua(b)+d;b=this.ua(b)+e;if(b!=m){e=this.Rc(a,m,h);d=this.Rc(a,b,h);var n=0;k.Rb(m);k.tC();
m=e;do{var p=k.aa();this.setAttribute(a,k.wb(),h,m);m=p.Pb();n+=m;m=g.Tb.Aq(e,d,n/f)}while(k.nk()!=b)}};c.prototype.Ka=function(){this.Mq=0;this.Sg=!1;this.Wd=this.af=this.Nj=this.jb=this.kb=null;this.hE()};c.prototype.Qc=function(a){a instanceof g.xd?this.KE(a,-1):this.HO(a)};c.prototype.KE=function(a,b){if(!this.u()&&!a.xq()){this.rc();var d=this.va[0],e=new g.b,f=new g.b;if(0>b){var h=this.Fm(),k=0;b=this.sa}else h=this.Qs(b),k=this.ua(b),b=this.zc(b);for(;k<b;k++){e.x=d.read(2*k);e.y=d.read(2*
k+1);if(h){var m=this.Nj.read(k);if(0<=m)switch(this.af.read(k)&7){case 2:f.x=this.Wd.read(m);f.y=this.Wd.read(m+1);a.Zj(f,f);this.Wd.write(m,f.x);this.Wd.write(m+1,f.y);f.x=this.Wd.read(m+3);f.y=this.Wd.read(m+4);a.Zj(f,f);this.Wd.write(m+3,f.x);this.Wd.write(m+4,f.y);break;case 4:throw g.f.za();}}a.Zj(e,e);d.write(2*k,e.x);d.write(2*k+1,e.y)}this.Oc(1993)}};c.prototype.HO=function(a){if(!this.u()){this.le(1);this.rc();for(var b=this.va[0],d=this.va[1],e=new g.Id,f=new g.Id,h=this.Fm(),k=0;k<this.sa;k++){e.x=
b.read(2*k);e.y=b.read(2*k+1);e.z=d.read(k);if(h){var m=this.Nj.read(k);if(0<=m)switch(this.af.read(k)&7){case 2:f.x=this.Wd.read(m);f.y=this.Wd.read(m+1);f.z=this.Wd.read(m+2);f=a.vp(f);this.Wd.write(m,f.x);this.Wd.write(m+1,f.y);this.Wd.write(m+1,f.z);f.x=this.Wd.read(m+3);f.y=this.Wd.read(m+4);f.z=this.Wd.read(m+5);f=a.vp(f);this.Wd.write(m+3,f.x);this.Wd.write(m+4,f.y);this.Wd.write(m+5,f.z);break;case 4:throw g.f.za();}}e=a.vp(e);b.write(2*k,e.x);b.write(2*k+1,e.y);d.write(k,e.z)}this.Oc(1993)}};
c.prototype.Oy=function(){null==this.kb&&(this.kb=g.Xc.Sh(1,0),this.jb=g.Xc.ns(1,0));null!=this.af&&(this.af.resize(this.Vg,1),this.Nj.resize(this.Vg,-1))};c.prototype.Hp=function(a){a.Sg=!1;a.Mq=this.Mq;a.Qq=this.Qq;a.kb=null!=this.kb?g.ha.Vn(this.kb):null;a.jb=null!=this.jb?g.Gn.Vn(this.jb):null;a.Nj=null!=this.Nj?g.ha.Vn(this.Nj):null;a.af=null!=this.af?g.Gn.Vn(this.af):null;a.Wd=null!=this.Wd?g.ie.Vn(this.Wd):null;a.Lq=this.Lq;a.Kq=this.Kq;a.Ej=this.ek(1024)?null:this.Ej};c.prototype.Pb=function(){if(!this.ek(512))return this.Lq;
for(var a=this.Ba(),b=new g.ky(0);a.Ta();)for(;a.Aa();)b.add(a.aa().Pb());this.Lq=b.Dm();this.Vf(512,!1);return b.Dm()};c.prototype.Ib=function(a){if(a==this)return!0;if(!(a instanceof c&&l.prototype.Ib.call(this,a)))return!1;var b=this.$();return b!=a.$()||null!=this.kb&&!this.kb.Ib(a.kb,0,b+1)||this.Qq!=a.Qq||null!=this.jb&&!this.jb.Ib(a.jb,0,b)?!1:l.prototype.Ib.call(this,a)};c.prototype.Ba=function(){return new g.fN(this)};c.prototype.Ny=function(a){l.prototype.Ny.call(this,a);if(this.Fm())for(a=
this.Ba();a.Ta();)for(;a.Aa();)break};c.prototype.Tn=function(a,b){l.prototype.Tn.call(this,a,b);if(this.Fm())for(a=this.Ba();a.Ta();)for(;a.Aa();)break};c.prototype.Gy=function(){this.sa=null==this.kb||0==this.kb.size?0:this.kb.read(this.kb.size-1)};c.prototype.Pe=function(){if(!this.Gf)return 0;this.dv();return this.Kq};c.prototype.lw=function(a){if(!this.Gf)return!1;if(!this.ek(8))return 0!=(this.jb.read(a)&4);this.dv();return 0<this.Ej.read(a)};c.prototype.rm=function(a){if(!this.Gf)return 0;
this.dv();return this.Ej.read(a)};c.prototype.dv=function(){if(this.ek(1024)){var a=this.$();null==this.Ej?this.Ej=new g.ie(a):this.Ej.size!=a&&this.Ej.resize(a);a=new g.ky(0);for(var b=new g.ky(0),d=new g.b,e=0,f=this.Ba();f.Ta();){b.reset();for(this.w(this.ua(f.Pa),d);f.Aa();)b.add(f.aa().yy(d.x,d.y));a.add(b.Dm());var h=e++;this.Ej.write(h,b.Dm())}this.Kq=a.Dm();this.Vf(1024,!1)}};c.prototype.VS=function(){if(this.Gf){this.cl();for(var a=0,b=this.$(),d=0;d<b;d++)0!=(this.jb.read(d)&4)&&a++}};c.prototype.cl=
function(){if(this.ek(8)){this.dv();var a=this.$();if(null==this.jb||this.jb.size<a)this.jb=g.Xc.ns(a+1);for(var b=1,d=0;d<a;d++){var e=this.Ej.read(d);0==d&&(b=0<e?1:-1);0<e*b?this.jb.DK(d,4):this.jb.uF(d,4)}this.Vf(8,!1)}};c.prototype.Yv=function(a){var b=this.Pa,d=this.$();if(0<=b&&b<d){if(a<this.zc(b)){if(a>=this.ua(b))return b;b--}else b++;if(0<=b&&b<d&&a>=this.ua(b)&&a<this.zc(b))return this.Pa=b}if(5>d){for(b=0;b<d;b++)if(a<this.zc(b))return this.Pa=b;throw g.f.Y("corrupted geometry");}b=0;
for(--d;d>b;){var e=b+(d-b>>1),f=this.ua(e);if(a<f)d=e-1;else if(b=this.zc(e),a>=b)b=e+1;else return this.Pa=e}return this.Pa=b};c.prototype.JS=function(a){var b=this.Va(0);this.$S();var d=this.zc(a),e=this.ua(a);a=-1;var f=new g.b,h=new g.b;f.y=-Infinity;f.x=-Infinity;for(e+=0;e<d;e++)b.mc(2*e,h),-1==f.compare(h)&&(a=e,f.K(h));return a};c.prototype.gA=function(){var a=this.D();if(!this.Gf){a-=this.$();for(var b=0,d=this.$();b<d;b++)this.Lb(b)&&a++}return a};c.prototype.$v=function(a){var b=this.Ha(a);
this.Lb(a)||b--;return b};c.prototype.Ea=function(){return new c(this.Gf,this.description)};c.prototype.pb=function(){return this.Gf?2:1};c.prototype.F=function(){return this.Gf?1736:1607};c.prototype.$S=function(){this.yu()};c.prototype.UK=function(a){this.kb=a;this.Oc(16777215)};c.prototype.lT=function(){this.yu();return this.af};c.prototype.ZS=function(){this.yu();return this.jb};c.prototype.TK=function(a){this.jb=a;this.Oc(16777215)};c.prototype.$=function(){return null!=this.kb?this.kb.size-
1:0};c.prototype.zc=function(a){return this.kb.read(a+1)};c.prototype.Ha=function(a){return this.kb.read(a+1)-this.kb.read(a)};c.prototype.ua=function(a){return this.kb.read(a)};c.prototype.Tu=function(a,b){null==this.ib&&(this.ib=new g.Yk);b=g.sy.VX(b);var d=this.ib.oi;if(null!=d)if(d.Pk<a||b>d.hT())this.ib.Ky(null);else return!0;d=g.sy.create(this,a,b);this.ib.Ky(d);return!0};c.prototype.fc=function(){var a=l.prototype.fc.call(this);if(!this.Ac()){var b=this.$();null!=this.kb&&this.kb.Un(a,0,b+
1);null!=this.jb&&this.jb.Un(a,0,b)}return a};c.prototype.KG=function(a){return null!=this.af?this.af.read(a):1};c.prototype.ec=function(a,b,d){var e=this.Yv(a);if(a==this.zc(e)-1&&!this.Lb(e))throw g.f.Y("index out of bounds");this.rc();var f=this.af,h=1;null!=f&&(h=f.read(a)&7);switch(h){case 1:b.ps();break;case 2:throw g.f.za();case 4:throw g.f.za();default:throw g.f.za();}b=b.get();d?b.rg(g.ke.ug()):b.rg(this.description);e=a==this.zc(e)-1&&this.Lb(e)?this.ua(e):a+1;f=new g.b;this.w(a,f);b.Fc(f);
this.w(e,f);b.Sc(f);if(!d)for(d=1,f=this.description.Ca;d<f;d++){h=this.description.Jd(d);for(var k=g.oa.Sa(h),m=0;m<k;m++){var n=this.Rc(h,a,m);b.Qx(h,m,n);n=this.Rc(h,e,m);b.Hx(h,m,n)}}};c.prototype.Sj=function(a,b){if(a>=this.$())throw g.f.I();if(this.u())b.Ka();else{if(this.Qs(a))throw g.f.Y("not implemented");var d=this.Va(0),e=new g.b,f=new g.g;f.Ka();var h=this.ua(a);for(a=this.zc(a);h<a;h++)d.mc(2*h,e),f.Nb(e);b.H(f)}};c.prototype.EX=function(a,b){if(a>=this.$())throw g.f.I();if(this.u())b.Ka();
else{if(this.Qs(a))throw g.f.Y("not implemented");var d=this.Va(0),e=new g.b,f=new g.g;f.Ka();var h=this.ua(a);for(a=this.zc(a);h<a;h++)d.mc(2*h,e),f.Nb(e);b.H(f)}};c.prototype.lj=function(a){null==this.ib&&(this.ib=new g.Yk);if(0==a||16>this.D())return!1;a=g.la.$E(this);this.ib.jE(a);return!0};c.prototype.oN=function(){null==this.ib&&(this.ib=new g.Yk);if(null==this.ib.To){this.ib.kE(null);var a=g.la.iP(this);this.ib.kE(a)}};c.prototype.np=function(a){this.Qq=a};c.prototype.$n=function(){return this.Qq};
c.prototype.pE=function(a){if(this==a)throw g.f.Y("MultiPathImpl.add");for(var b=this.$(),d=0;d<a.$();d++)this.addPath(a,d,!0),this.VV(b),b++};c.prototype.uP=function(a){var b=this.Yv(a),d=this.ua(b);if(d!=a){b=this.zc(b);if(a>=b||a<d)throw g.f.Y("change_ring_start_point");for(var e=0,f=this.description.Ca;e<f;e++){var h=this.description.kd(e);h=g.oa.Sa(h);this.va[e].rotate(d*h,a*h,b*h)}}};c.eO=[0,0,6,0,8,0];return c}(g.ly);g.Zk=u})(J||(J={}));(function(g){var u=function(l){function c(a){var b=l.call(this)||
this;if(void 0!==a){if(null==a)throw g.f.I();b.description=a}else b.description=g.ke.ug();b.sa=0;return b}ma(c,l);c.prototype.Ea=function(){return new c(this.description)};c.prototype.add=function(a){this.resize(this.sa+1);this.Hh(this.sa-1,a)};c.prototype.hv=function(a,b){this.resize(this.sa+1);var d=new g.b;d.ka(a,b);this.nb(this.sa-1,d)};c.prototype.yd=function(a,b,d){d=0>d?a.D():d;if(0>b||b>a.D()||d<b)throw g.f.I();if(b!=d){this.Tl(a.description);d-=b;var e=this.sa;this.resize(this.sa+d);this.rc();
for(var f=0,h=a.description.Ca;f<h;f++){var k=a.description.Jd(f),m=g.oa.Sa(k),n=this.Va(k);k=a.Va(k);n.fo(e*m,k,b*m,d*m,!0,1,e*m)}}};c.prototype.tE=function(a,b){var d=a.length;b=0>b?d:b;if(0>d||0>b)throw g.f.I();if(0!=b){d=b-0;b=this.sa;this.resize(this.sa+d);for(var e=0;e<d;e++)this.nb(b+e,a[0+e])}};c.prototype.mC=function(a){if(0>a||a>=this.D())throw g.f.Y("index out of bounds");this.rc();for(var b=0,d=this.description.Ca;b<d;b++)if(null!=this.va[b]){var e=g.oa.Sa(this.description.Jd(b));this.va[b].Xn(e*
a,e,e*this.sa)}this.sa--;this.Vg--;this.Oc(1993)};c.prototype.resize=function(a){this.bl(a)};c.prototype.Hp=function(){};c.prototype.Ka=function(){l.prototype.hE.call(this)};c.prototype.Qc=function(a){if(a instanceof g.xd){if(this.u())return;this.rc();for(var b=this.va[0],d=new g.b,e=0;e<this.sa;e++)d.x=b.read(2*e),d.y=b.read(2*e+1),a.Zj(d,d),b.write(2*e,d.x),b.write(2*e+1,d.y)}else{if(this.u())return;this.rc();this.le(1);this.rc();b=this.va[0];d=this.va[1];var f=new g.Id;for(e=0;e<this.sa;e++){f.x=
b.read(2*e);f.y=b.read(2*e+1);f.z=d.read(e);var h=a.vp(f);b.write(2*e,h.x);b.write(2*e+1,h.y);d.write(e,h.z)}}this.Oc(1993)};c.prototype.pb=function(){return 0};c.prototype.F=function(){return 550};c.prototype.Pe=function(){return 0};c.prototype.Pb=function(){return 0};c.prototype.Ib=function(a){return a==this?!0:a instanceof c?l.prototype.Ib.call(this,a):!1};c.prototype.yO=function(a,b){var d=a.length;b=0>b?d:b;if(0>d||0>b)throw g.f.I();if(0!=b){d=b-0;if(0!=(d&1))throw g.f.I();b=this.sa;this.jY(this.sa+
d/2);this.va[0].cD(2*b,d,a,0,!0)}};c.prototype.jY=function(a){var b=this.sa;this.bl(a);if(this.sa>b){a=1;for(var d=this.description.Ca;a<d;a++){var e=this.description.kd(a),f=g.oa.Sa(e);this.va[a].Gm(f*b,g.oa.me(e),f*(this.sa-b),f*b)}}};c.prototype.CX=function(a,b){var d=this.sa;d=Math.min(d,b+1E3);if(0>b||b>=this.sa||d<b||1E3!=a.length)throw g.f.I();var e=this.Va(0),f=d-b,h=[];e.iu(2*b,2*f,h,0,!0);for(b=0;b<f;b++)a[b]=g.b.construct(h[2*b],h[2*b+1]);return d};c.prototype.Gy=function(){};c.prototype.Oy=
function(){};c.prototype.Tu=function(){return!1};c.prototype.lj=function(){return!1};c.prototype.sg=function(){return null};return c}(g.ly);g.Hd=u})(J||(J={}));(function(g){(function(l){l[l.NotDetermined=0]="NotDetermined";l[l.Structure=1]="Structure";l[l.DegenerateSegments=2]="DegenerateSegments";l[l.Clustering=3]="Clustering";l[l.Cracking=4]="Cracking";l[l.CrossOver=5]="CrossOver";l[l.RingOrientation=6]="RingOrientation";l[l.RingOrder=7]="RingOrder";l[l.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";
l[l.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";l[l.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(g.sM||(g.sM={}));var u=function(){function l(c,a,b){void 0===c?(this.pi=0,this.Rl=this.Ql=-1):(this.pi=c,this.Ql=a,this.Rl=b)}l.prototype.Or=function(c){this.pi=c.pi;this.Ql=c.Ql;this.Rl=c.Rl};return l}();g.Od=u})(J||(J={}));(function(g){g.L=function(){function u(){}u.assert=function(l){if(!1===l)throw g.f.PL();};u.fL=function(l){return isNaN(l)?NaN:0===l?l:0<l?1:-1};u.lv=function(l){var c;
void 0===c&&(c=0);for(var a=[],b=0;b<l;b++)a[b]=u.Xf(2,c);return a};u.Xf=function(l,c){void 0===c&&(c=0);for(var a=[],b=0;b<l;b++)a[b]=c;return a};u.Hv=function(l,c){var a,b;void 0===a&&(a=0);for(void 0===b&&(b=l.length-1);a<=b;a++)l[a]=c};u.Yj=function(l,c,a){return l<c?c:l>a?a:l};u.H0=function(){return 4};u.Zh=function(l,c){var a=5381;a=void 0!==c?(c<<5)+c+(l&255):(a<<5)+a+(l&255);a=(a<<5)+a+(l>>8&255);a=(a<<5)+a+(l>>16&255);return(a<<5)+a+(l>>24&255)&2147483647};u.Aj=function(){throw Error("Not Implemented");
};u.y0=function(){return-Infinity};u.A0=function(){return Infinity};u.h0=function(){return 2147483647};u.U_=function(){return 2.220446049250313E-16};u.V_=function(){return 1.7976931348623157E308};u.MB=function(l){return u.uV(l)+12345&2147483647};u.IH=function(l){var c=32,a=l%u.vy|0,b=l/u.vy|0;if(0===(c&=63))return l;32>c?(l=a>>>c|b<<32-c,c=b>>c):(l=b>>c-32,c=0<=b?0:-1);return c*u.vy+(l>>>0)};u.uV=function(l){l|=0;return(1103495168*l|0)+(20077*l|0)|0};u.truncate=function(l){return 0>l?-1*Math.floor(Math.abs(l)):
Math.floor(l)};u.MAX_SAFE_INTEGER=Math.pow(2,53)-1;u.MIN_SAFE_INTEGER=-u.MAX_SAFE_INTEGER;u.DD=65536;u.t_=16777216;u.vy=u.DD*u.DD;return u}()})(J||(J={}));(function(g){(function(l){l[l.Project=0]="Project";l[l.Union=1]="Union";l[l.Difference=2]="Difference";l[l.Proximity2D=3]="Proximity2D";l[l.Relate=4]="Relate";l[l.Equals=5]="Equals";l[l.Disjoint=6]="Disjoint";l[l.Intersects=7]="Intersects";l[l.Within=8]="Within";l[l.Contains=9]="Contains";l[l.Crosses=10]="Crosses";l[l.Touches=11]="Touches";l[l.Overlaps=
12]="Overlaps";l[l.Buffer=13]="Buffer";l[l.Distance=14]="Distance";l[l.Intersection=15]="Intersection";l[l.Clip=16]="Clip";l[l.Cut=17]="Cut";l[l.DensifyByLength=18]="DensifyByLength";l[l.DensifyByAngle=19]="DensifyByAngle";l[l.LabelPoint=20]="LabelPoint";l[l.GeodesicBuffer=21]="GeodesicBuffer";l[l.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";l[l.ShapePreservingDensify=23]="ShapePreservingDensify";l[l.GeodeticLength=24]="GeodeticLength";l[l.GeodeticArea=25]="GeodeticArea";l[l.Simplify=26]=
"Simplify";l[l.SimplifyOGC=27]="SimplifyOGC";l[l.Offset=28]="Offset";l[l.Generalize=29]="Generalize";l[l.SymmetricDifference=30]="SymmetricDifference";l[l.ConvexHull=31]="ConvexHull";l[l.Boundary=32]="Boundary";l[l.SimpleRelation=33]="SimpleRelation"})(g.LM||(g.LM={}));var u=function(){function l(){}l.prototype.F=function(){return null};l.prototype.Pn=function(){};l.prototype.qv=function(){return!1};l.R_=function(c){g.R.Rg(c.F())&&(c=c.ib,null!=c&&(c.Ky(null),c.jE(null)))};return l}();g.Ne=u})(J||
(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 13};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d,e,f){return a instanceof g.R?(f=new g.$c(a),this.U(f,b,[d],!1,e).next()):!0===e?(d=new g.iD(a,b,d,!1,f),g.Jh.local().U(d,b,f)):new g.iD(a,b,d,!1,f)};c.instance=null;return c}(g.Ne);g.hD=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d,e){this.ya=
-1;this.Vd=c;this.KA=a;this.kt=b;this.OU=new g.g;this.OU.Ka();this.xo=-1;this.Vb=e}l.prototype.next=function(){for(var c;null!=(c=this.Vd.next());)return this.ya=this.Vd.Fa(),this.xo+1<this.kt.length&&this.xo++,this.buffer(c,this.kt[this.xo]);return null};l.prototype.Fa=function(){return this.ya};l.prototype.buffer=function(c,a){return g.QL.buffer(c,a,this.KA,NaN,96,this.Vb)};l.prototype.xe=function(){};return l}();g.iD=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,
arguments)||this}ma(c,l);c.prototype.F=function(){return 16};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d,e){return a instanceof g.R?(a=new g.$c(a),this.U(a,b,d,e).next()):new g.vM(a,b,d,e)};c.instance=null;return c}(g.Ne);g.uM=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b){this.ya=-1;if(null==c)throw g.f.I();this.X=a;this.Fk=c;this.qa=g.la.Qd(b,a,!1)}l.prototype.next=function(){var c;return null!=(c=this.Fk.next())?(this.ya=
this.Fk.Fa(),g.Yd.clip(c,this.X,this.qa,0)):null};l.prototype.Fa=function(){return this.ya};l.prototype.xe=function(){};return l}();g.vM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 31};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d){return a instanceof g.R?g.kD.dF(a):new g.kD(b,a,d)};c.instance=null;return c}(g.Ne);g.jD=u})(J||(J={}));(function(g){var u=
function(){function l(c,a,b){this.dB=new g.Gu;this.ya=-1;if(null==a)throw g.f.I();this.QH=c;this.Jc=!1;this.Fk=a;this.Vb=b}l.prototype.next=function(){if(this.QH){if(!this.Jc){var c=this.mP(this.Fk);this.Jc=!0;return c}return null}if(!this.Jc){c=this.Fk.next();if(null!=c)return this.ya=this.Fk.Fa(),l.dF(c);this.Jc=!0}return null};l.prototype.Fa=function(){return this.ya};l.prototype.mP=function(c){for(var a;null!=(a=c.next());)this.dB.Bb(a);return this.dB.qS()};l.prototype.xe=function(){if(!this.Jc){if(!this.QH)throw g.f.Y("Invalid call for non merging convex hull.");
var c=this.Fk.next();if(null!=c)this.dB.Bb(c);else throw g.f.Y("Expects a non-null geometry.");}};l.dF=function(c){if(l.oU(c))return c;var a=c.F();if(g.Zk.Ic(a))return a=new g.Oa(c.description),a.$b(c,!0),a;if(550==a&&2==c.D()){var b=new g.Ra;a=new g.Oa(c.description);c.ne(0,b);a.xf(b);c.ne(1,b);a.lineTo(b);return a}return g.Gu.aQ(c)};l.oU=function(c){if(c.u())return!0;var a=c.F();return 33==a||197==a?!0:g.Zk.Ic(a)?!1:550==a?1==c.D()?!0:!1:1607==a?1==c.$()&&2>=c.D()?!0:!1:1!=c.$()?!1:2>=c.D()?!0:
g.Gu.vH(c,0)};return l}();g.kD=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 17};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d,e,f){return new g.xM(a,b,d,e,f)};c.instance=null;return c}(g.Ne);g.wM=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d,e){this.bg=null;if(null==a||null==b)throw g.f.Y("invalid argument");this.LU=c;this.YA=
a;this.ZH=b;c=g.la.Uv(a,b);this.qa=g.la.Qd(d,c,!0);this.YH=-1;this.nd=e}l.prototype.Fa=function(){return 0};l.prototype.next=function(){this.cS();return++this.YH<this.bg.length?this.bg[this.YH]:null};l.prototype.cS=function(){if(null==this.bg)switch(this.bg=[],this.YA.F()){case 1607:this.eS();break;case 1736:this.dS()}};l.prototype.eS=function(){var c=new g.Oa,a=new g.Oa,b=new g.Oa;this.bg.push(c);this.bg.push(a);var d=[];g.UL.SL(this.LU,this.YA,this.ZH,this.qa,d,this.nd);for(var e=0;e<d.length;e++){var f=
d[e];if(0==f.Jt)c.add(f.W,!1);else if(1==f.Jt||2==f.Jt)a.add(f.W,!1);else if(3==f.Jt)this.bg.push(f.W);else if(4==f.Jt)b.add(f.W,!1);else throw g.f.Y("internal");}b.u()||c.u()&&a.u()&&!(3<=this.bg.length)||this.bg.push(b);c.u()&&a.u()&&3>this.bg.length&&(this.bg.length=0)};l.prototype.dS=function(){var c=new g.ha(0),a=new g.Yc,b=a.NF(),d=a.Bb(this.YA),e=a.Bb(this.ZH),f=new g.pg;try{f.yr(a,this.qa,this.nd);f.jl(b,d,e,c);var h=a.ye(d),k=new g.Ga,m=new g.Ga;this.bg.length=0;this.bg.push(k);this.bg.push(m);
for(d=0;d<c.size;d++){var n=new g.Yc,p=n.Bb(h),q=n.Bb(a.ye(c.get(d)));f.xr(n,this.nd);var r=f.hw(p,q),t=n.ye(r);if(!t.u()){var v=a.wG(c.get(d),b);2==v?k.add(t,!1):1==v?m.add(t,!1):this.bg.push(t);var E=new g.Yc;p=E.Bb(h);q=E.Bb(a.ye(c.get(d)));f.xr(E,this.nd);h=E.ye(f.tm(p,q))}}!h.u()&&0<c.size&&this.bg.push(h);k.u()&&m.u()&&(this.bg.length=0)}finally{f.ah()}};l.prototype.xe=function(){};return l}();g.xM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||
this}ma(c,l);c.prototype.F=function(){return 18};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d){if(a instanceof g.R)return a=new g.$c(a),this.U(a,b,d).next();if(0>=b)throw g.f.I();return new g.yM(a,b,d)};c.instance=null;return c}(g.Ne);g.im=u})(J||(J={}));(function(g){var u=function(){function l(c,a){this.ya=-1;this.Vd=c;this.xt=a}l.prototype.Fa=function(){return this.ya};l.prototype.next=function(){var c;return null!=(c=this.Vd.next())?(this.ya=
this.Vd.Fa(),this.YQ(c)):null};l.prototype.YQ=function(c){if(c.u()||1>c.pb())return c;var a=c.F();if(1736==a||1607==a)return this.sz(c);if(g.R.Ic(a))return this.$Q(c);if(197==a)return this.ZQ(c);throw g.f.za();};l.prototype.$Q=function(c){if(c.Pb()<=this.xt)return c;var a=new g.Oa(c.description);a.$b(c,!0);return this.sz(a)};l.prototype.ZQ=function(c){var a=new g.Ga(c.description);a.bd(c,!1);var b=new g.g;c.s(b);c=b.ca();return b.N()<=this.xt&&c<=this.xt?a:this.sz(a)};l.prototype.sz=function(c){for(var a=
c.Ea(),b=c.Ba();b.Ta();)for(var d=!0;b.Aa();){var e=b.aa();if(322!=e.F())throw g.f.Y("not implemented");var f=b.io(),h=e.Pb();if(h>this.xt){var k=Math.ceil(h/this.xt);h=new g.Ra(c.description);d&&(e.jp(h),a.xf(h));var m=d=1/k,n=0;for(--k;n<k;n++)e.zx(m,h),a.lineTo(h),m+=d;f?a.Up():(e.hp(h),a.lineTo(h))}else f?a.Up():a.$b(e,d);d=!1}return a};l.prototype.xe=function(){};return l}();g.yM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);
c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.F=function(){return 2};c.prototype.U=function(a,b,d,e){return a instanceof g.R?(a=new g.$c(a),b=new g.$c(b),this.U(a,b,d,e).next()):new g.zM(a,b,d,e)};c.tm=function(a,b,d,e){if(a.u()||b.u())return a;var f=a.pb(),h=b.pb();if(f>h)return a;var k=a.F(),m=b.F(),n=new g.g,p=new g.g,q=new g.g;a.s(n);b.s(p);q.H(n);q.Nb(p);q=g.la.Qd(d,q,!0);var r=q*Math.sqrt(2)*1.00001,t=new g.g;t.H(n);t.O(r,r);if(!t.isIntersecting(p))return a;
if(1==f&&2==h)return c.cX(a,b,m,d,e);if(33==k)switch(g.Zk.Ic(m)?(d=new g.Oa(b.description),d.$b(b,!0)):d=b,m){case 1736:return c.oW(a,d,q);case 1607:return c.pW(a,d,q);case 550:return c.mW(a,d,q);case 197:return c.lW(a,d,q);case 33:return c.nW(a,d,q);default:throw g.f.I();}else if(550==k)switch(m){case 1736:return c.HV(a,b,q);case 197:return c.FV(a,b,q);case 33:return c.GV(a,b,q)}return g.pg.tm(a,b,d,e)};c.oW=function(a,b,d){return 0==g.Zc.wH(b,a,d)?a:a.Ea()};c.pW=function(a,b,d){var e=a.w();b=b.Ba();
for(var f=d*Math.sqrt(2)*1.00001,h=f*f,k=new g.g;b.Ta();)for(;b.Aa();){var m=b.aa();m.s(k);k.O(f,f);if(k.contains(e)){if(m.Zs(e,d))return a.Ea();var n=m.ac();if(g.b.oc(e,n)<=h)return a.Ea();n=m.wc();if(g.b.oc(e,n)<=h)return a.Ea()}}return a};c.mW=function(a,b,d){var e=b.Va(0);b=b.D();var f=a.w(),h=new g.b;d=d*Math.sqrt(2)*1.00001;d*=d;for(var k=0;k<b;k++)if(e.mc(2*k,h),g.b.oc(h,f)<=d)return a.Ea();return a};c.lW=function(a,b,d){var e=new g.g;b.s(e);e.O(d,d);b=a.w();return e.contains(b)?a.Ea():a};
c.nW=function(a,b,d){d=d*Math.sqrt(2)*1.00001;d*=d;var e=a.w();b=b.w();return g.b.oc(e,b)<=d?a.Ea():a};c.HV=function(a,b,d){var e=new g.g;b.s(e);e.O(d,d);for(var f=a.D(),h=!1,k=[],m=0;m<f;m++)k[m]=!1;var n=new g.b;for(m=0;m<f;m++)a.w(m,n),e.contains(n)&&0!=g.Zc.Td(b,n,d)&&(h=!0,k[m]=!0);if(!h)return a;b=a.Ea();for(m=0;m<f;m++)k[m]||b.yd(a,m,m+1);return b};c.FV=function(a,b,d){var e=new g.g;b.s(e);e.O(d,d);b=a.D();var f=!1;d=[];for(var h=0;h<b;h++)d[h]=!1;var k=new g.b;for(h=0;h<b;h++)a.w(h,k),e.contains(k)&&
(f=!0,d[h]=!0);if(!f)return a;e=a.Ea();for(h=0;h<b;h++)d[h]||e.yd(a,h,h+1);return e};c.GV=function(a,b,d){var e=a.Va(0),f=a.D(),h=b.w(),k=new g.b,m=!1;b=[];for(var n=0;n<f;n++)b[n]=!1;n=d*Math.sqrt(2)*1.00001;d=n*n;for(n=0;n<f;n++)e.mc(2*n,k),g.b.oc(k,h)<=d&&(m=!0,b[n]=!0);if(!m)return a;e=a.Ea();for(n=0;n<f;n++)b[n]||e.yd(a,n,n+1);return e};c.cX=function(a,b,d,e,f){var h=new g.Ih;a.qn(h);var k=new g.g;b.s(k);h.Nb(k);h.O(.1*h.N(),.1*h.ca());k=new g.Ga;k.bd(h,!1);1736==d?k.add(b,!0):k.bd(b,!0);return g.ak.local().U(a,
k,e,f)};c.instance=null;return c}(g.Ne);g.Cp=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d){this.at=null==a;this.ya=-1;this.Vd=c;this.KA=b;this.RU=a.next();this.Vb=d}l.prototype.next=function(){if(this.at)return null;var c;return null!=(c=this.Vd.next())?(this.ya=this.Vd.Fa(),g.Cp.tm(c,this.RU,this.KA,this.Vb)):null};l.prototype.Fa=function(){return this.ya};l.prototype.xe=function(){};return l}();g.zM=u})(J||(J={}));(function(g){var u=function(){function c(a){this.nd=a;this.Fj=
new g.g;this.Fj.Ka();this.uh=new g.g;this.uh.Ka()}c.prototype.xu=function(){var a=this.Fj.o;this.Fj.o=this.uh.o;this.uh.o=a;a=this.Fj.v;this.Fj.v=this.uh.v;this.uh.v=a;a=this.Fj.A;this.Fj.A=this.uh.A;this.uh.A=a;a=this.Fj.B;this.Fj.B=this.uh.B;this.uh.B=a};c.prototype.qR=function(a,b){if(null!=this.nd&&!this.nd.progress(-1,-1))throw g.f.Mu("user_canceled");var d=!this.Fj.isIntersecting(this.uh);if(g.R.Bc(a.F())&&g.R.Bc(b.F())){if(a.D()>b.D())return this.TE(a,b,d);this.xu();a=this.TE(b,a,d);this.xu();
return a}if(550==a.F()&&g.R.Bc(b.F()))return a=this.UE(b,a,d),this.xu(),a;if(550==b.F()&&g.R.Bc(a.F()))return this.UE(a,b,d);if(550==a.F()&&550==b.F()){if(a.D()>b.D())return this.VE(a,b);this.xu();a=this.VE(b,a);this.xu();return a}return 0};c.prototype.TE=function(a,b,d){var e=a.Ba(),f=b.Ba(),h=new g.g,k=new g.g,m=1.7976931348623157E308;if(!d&&this.WZ(a,b,e,f))return 0;for(;e.Ta();)for(;e.Aa();)if(a=e.aa(),a.s(h),!(h.Xx(this.uh)>m)){for(;f.Ta();)for(;f.Aa();)if(b=f.aa(),b.s(k),h.Xx(k)<m&&(b=a.vb(b,
d),b*=b,b<m)){if(0==b)return 0;m=b}f.ej()}return Math.sqrt(m)};c.prototype.UE=function(a,b,d){var e=a.Ba(),f=new g.g,h=1.7976931348623157E308,k=new g.b,m=b.D();for(d=!d&&1736==a.F();e.Ta();)for(;e.Aa();){var n=e.aa();n.s(f);if(!(1<m&&f.Xx(this.uh)>h)){for(var p=0;p<m;p++){b.w(p,k);if(d&&0!=g.Zc.Td(a,k,0))return 0;var q=n.ae(k,!1);k.sub(n.cc(q));q=k.En();if(q<h){if(0==q)return 0;h=q}}d=!1}}return Math.sqrt(h)};c.prototype.VE=function(a,b){for(var d=1.7976931348623157E308,e=new g.b,f=new g.b,h,k=a.D(),
m=b.D(),n=0;n<k;n++)if(a.w(n,e),!(1<m&&this.uh.nL(e)>d))for(var p=0;p<m;p++)if(b.w(p,f),h=g.b.oc(e,f),h<d){if(0==h)return 0;d=h}return Math.sqrt(d)};c.prototype.WZ=function(a,b,d,e){if(1736==a.F()){for(;e.Ta();)if(e.Aa()){var f=e.aa();if(0!=g.Zc.Td(a,f.wc(),0))return!0}e.ej()}if(1736==b.F()){for(;d.Ta();)if(d.Aa()&&(a=d.aa(),0!=g.Zc.Td(b,a.wc(),0)))return!0;d.ej()}return!1};c.prototype.qm=function(a,b){if(a.u()||b.u())return NaN;a.s(this.Fj);b.s(this.uh);return this.qR(a,b)};return c}(),l=function(c){function a(){return null!==
c&&c.apply(this,arguments)||this}ma(a,c);a.prototype.U=function(b,d,e){if(null==b||null==d)throw g.f.I();if(b.u()||d.u())return NaN;var f=b.F(),h=d.F();if(33==f){if(33==h)return g.b.vb(b.w(),d.w());if(197==h)return e=new g.g,d.s(e),e.vb(b.w());f=new g.Hd;f.add(b);b=f}else if(197==f){if(197==h)return h=new g.g,b.s(h),e=new g.g,d.s(e),e.vb(h);f=new g.Ga;f.bd(b,!1);b=f}33==h?(h=new g.Hd,h.add(d),d=h):197==h&&(h=new g.Ga,h.bd(d,!1),d=h);return(new u(e)).qm(b,d)};a.local=function(){null===a.instance&&
(a.instance=new a);return a.instance};a.prototype.F=function(){return 14};a.instance=null;return a}(g.Ne);g.AM=l})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d){this.mI=c;this.tI=a;this.nd=d;this.NH=b}l.prototype.next=function(){var c=this.mI.next();return null==c?null:this.gD(c)};l.prototype.Fa=function(){return this.mI.Fa()};l.prototype.gD=function(c){var a=c.F();if(g.R.lo(a))return c;if(197==a)return a=new g.Ga(c.description),a.bd(c,!1),this.gD(a);if(c.u())return c;if(null==c)throw g.f.za();
a=c.Ea();for(var b=new g.zb,d=0,e=c.$();d<e;d++)this.aM(c,d,a,b);return a};l.prototype.aM=function(c,a,b,d){if(!(2>c.Ha(a))){var e=c.ua(a),f=c.zc(a)-1,h=c.Va(0),k=c.Lb(a),m=new g.ha(0);m.Db(c.Ha(a)+1);var n=new g.ha(0);n.Db(c.Ha(a)+1);m.add(k?e:f);m.add(e);for(e=new g.b;1<m.size;){var p=m.Gc();m.Rf();var q=m.Gc();c.w(p,e);d.Fc(e);c.w(q,e);d.Sc(e);q=this.$L(d,e,h,p,q,f);0<=q?(m.add(q),m.add(p)):n.add(p)}k||n.add(m.get(0));if(n.size==m.size)b.addPath(c,a,!0);else if(2<=n.size&&(!this.NH||2!=n.size||
!(k||g.b.vb(c.xa(n.get(0)),c.xa(n.get(1)))<=this.tI))){a=new g.Ra;d=0;for(f=n.size;d<f;d++)c.ne(n.get(d),a),0==d?b.xf(a):b.lineTo(a);k&&(this.NH||2!=n.size||b.lineTo(a),b.Up())}}};l.prototype.$L=function(c,a,b,d,e,f){var h=e-1;e<=d&&(h=f);f=e=-1;for(d+=1;d<=h;d++){b.mc(2*d,a);var k=a.x,m=a.y;c.cc(c.ae(a,!1),a);a.x-=k;a.y-=m;k=a.length();k>this.tI&&k>f&&(e=d,f=k)}return e};l.prototype.xe=function(){};return l}();g.BM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,
arguments)||this}ma(c,l);c.prototype.F=function(){return 29};c.prototype.U=function(a,b,d,e){return a instanceof g.R?(a=new g.$c(a),this.U(a,b,d,e).next()):new g.BM(a,b,d,e)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(g.Ne);g.lD=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 21};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};
c.prototype.U=function(a,b,d,e,f,h,k,m){return a instanceof g.R?(m=new g.$c(a),this.U(m,b,d,[e],f,h,!1,k).next()):!0===k?(d=new g.nD(a,b,d,e,f,!1,!1,m),g.Jh.local().U(d,b,m)):new g.nD(a,b,d,e,f,!1,!1,m)};c.instance=null;return c}(g.Ne);g.mD=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d,e,f,h,k){if(f)throw g.f.Me();if(null==a)throw g.f.I();this.ya=-1;this.ut=c;this.Cg=a;this.Fe=b;this.kt=d;this.to=e;this.xo=-1;this.Vb=k;this.PU=new g.g;this.PU.Ka()}l.prototype.next=function(){for(var c;null!=
(c=this.ut.next());)return this.ya=this.ut.Fa(),this.xo+1<this.kt.length&&this.xo++,this.mS(c,this.kt[this.xo]);return null};l.prototype.Fa=function(){return this.ya};l.prototype.mS=function(c,a){return g.dM.buffer(c,this.Cg,this.Fe,a,this.to,this.Vb)};l.prototype.xe=function(){};return l}();g.nD=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 24};c.local=function(){null===c.instance&&(c.instance=new c);
return c.instance};c.prototype.U=function(a,b,d){if(null==b)throw g.f.I();if(a.u()||1>a.pb())return 0;if(4==d)throw g.f.Me();var e=g.ab.hc(b),f=g.ab.dw(e),h=g.ab.Nv(e);f*=2-f;var k=e.Ld().gi,m=a.F();if(1736==m||197==m)var n=a.sg();else g.R.Ic(m)?(n=new g.Oa(a.description),n.$b(a,!0)):n=a;if(0==e.Ib(b)){if(g.ab.Cc(b)){n=g.Lh.qj(n,b);1607==m&&n==a&&(n=g.R.$d(a));a=new g.uc;g.ab.nh(b).sn(a);m=0;for(var p=n.D();m<p;m++){var q=n.xa(m);q.x=g.Lh.nn(q.x,a);n.nb(m,q)}}a=n.Ea();n=g.Lh.NJ(b,e,n,a)?a:g.ab.$g(n,
b,e)}return this.tR(n,d,h,f,k)};c.prototype.tR=function(a,b,d,e,f){var h=new g.da(0),k=0;for(a=a.Ba();a.Ta();)for(;a.Aa();){var m=a.aa(),n=m.ac();m=m.wc();n.scale(f);m.scale(f);g.gb.Ad(d,e,n.x,n.y,m.x,m.y,h,null,null,b);k+=h.j}return k};c.instance=null;return c}(g.Ne);g.EM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 18};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=
function(a,b,d,e,f){return a instanceof g.R?(a=new g.$c(a),this.U(a,b,d,e,f).next()):new g.DM(a,d,e,b,-1,-1,f)};c.instance=null;return c}(g.Ne);g.CM=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d,e,f){if(0<f)throw g.f.Me();if(4!=b&&0<e)throw g.f.Me();if(null==a)throw g.f.I();this.ya=-1;this.ut=c;this.Cg=a;this.Fe=b;this.WU=d;this.VU=e}l.prototype.next=function(){for(var c;null!=(c=this.ut.next());)return this.ya=this.ut.Fa(),this.Ez(c);return null};l.prototype.Fa=function(){return this.ya};
l.prototype.Ez=function(c){return g.jj.rs(c,this.Cg,this.Fe,this.WU,this.VU,this.Vb)};l.prototype.xe=function(){};return l}();g.DM=u})(J||(J={}));(function(g){(function(u){u[u.Unknown=0]="Unknown";u[u.Contains=1]="Contains";u[u.Within=2]="Within";u[u.Equals=3]="Equals";u[u.Disjoint=4]="Disjoint";u[u.Touches=8]="Touches";u[u.Crosses=16]="Crosses";u[u.Overlaps=32]="Overlaps";u[u.NoThisRelation=64]="NoThisRelation";u[u.Intersects=1073741824]="Intersects";u[u.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(g.mM||
(g.mM={}));g.FM=function(){function u(){}u.B0=function(l,c,a,b){if(c.u()||l.u())return 4;var d=l.F(),e=c.F(),f;g.R.Ic(d)&&(l=f=new g.Oa(l.description),f.$b(l,!0));g.R.Ic(e)&&(c=f=new g.Oa(c.description),f.$b(c,!0));switch(d){case 33:switch(e){case 33:return u.MX(l,c,a);case 197:return u.fj(u.WJ(c,l,a));case 550:return u.fj(u.ZJ(c,l,a));case 1607:return u.fj(u.hK(c,l,a,b));case 1736:return u.fj(u.dK(c,l,a))}throw g.f.za();case 197:switch(e){case 33:return u.WJ(l,c,a);case 197:return u.GX(l,c,a);case 550:return u.fj(u.XJ(c,
l,a,b));case 1607:return u.fj(u.fK(c,l));case 1736:return u.fj(u.bK(c,l))}throw g.f.za();case 550:switch(e){case 33:return u.ZJ(l,c,a);case 197:return u.XJ(l,c,a,b);case 550:return u.YJ(l,c,a,b);case 1607:return u.fj(u.gK(c,l));case 1736:return u.fj(u.cK(c,l))}throw g.f.za();case 1607:switch(e){case 33:return u.hK(l,c,a,b);case 197:return u.fK(l,c);case 550:return u.gK(l,c);case 1607:return u.SX(l,c);case 1736:return u.fj(u.eK(c,l))}throw g.f.za();case 1736:switch(e){case 33:return u.dK(l,c,a);case 197:return u.bK(l,
c);case 550:return u.cK(l,c);case 1607:return u.eK(l,c);case 1736:return u.PX(l,c)}throw g.f.za();default:throw g.f.za();}};u.MX=function(l,c,a){l=l.w();c=c.w();return u.aK(l,c,a)};u.aK=function(l,c,a){l.sub(c);return l.En()<=a*a?3:4};u.WJ=function(l,c,a){var b=new g.g;l.s(b);l=c.w();return u.IX(b,l,a)};u.IX=function(l,c,a){l.O(-a,-a);if(l.contains(c))return 1;l.O(a,a);return l.contains(c)?8:4};u.JX=function(l,c,a){return c.contains(a)?1:l.contains(a)?8:4};u.GX=function(l,c,a){var b=new g.g;l.s(b);
l=new g.g;c.s(l);return u.HX(b,l,a)};u.HX=function(l,c,a){var b=0;l.contains(c)&&(b|=1);c.contains(l)&&(b|=2);if(0!=b)return b;l.O(-a,-a);c.O(-a,-a);if(l.isIntersecting(c))return b=l,b.O(a,a),b=b.contains(c)?1:0,c.O(a,a),b|=c.contains(l)?2:0,0!=b?b:32;b=l;b.O(a,a);c.O(a,a);return b.isIntersecting(c)?8:4};u.ZJ=function(l,c,a){c=c.w();return u.$J(l,c,a)};u.$J=function(l,c,a){for(var b=0,d=l.D();b<d;b++){var e=l.xa(b);e=u.aK(e,c,a);if(4!=e)return 0!=(e&2)&&1!=d?1:e}return 4};u.XJ=function(l,c,a,b){var d=
new g.g;c.s(d);return u.LX(l,d,a,b)};u.LX=function(l,c,a,b){c.O(-a,-a);c.O(a,a);for(var d=a=0,e=l.D();d<e;d++){var f=l.xa(d);f=u.fj(u.JX(c,c,f));if(4!=f&&(a|=f,4==b))return 1073741824}return 0==a?4:2==a?a:32};u.YJ=function(l,c,a,b){for(var d=0,e=0,f=c.D();e<f;e++){var h=c.xa(e);h=u.$J(l,h,a);if(4!=h&&(d++,4==b))return 1073741824}return 0<d?d==c.D()?3==b?(h=u.YJ(c,l,a,1),1==h?3:0):1:32:0};u.hK=function(l,c,a,b){c=c.w();return u.RX(l,c,a,b)};u.KX=function(l,c){var a=null;l=l.ib;null!=l&&(a=l.oi);if(null!=
a){c=a.Xl(c.x,c.y);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};u.RX=function(l,c,a,b){if(0==(b&1073741839))return 64;var d=u.KX(l,c);if(0<d)return d;a*=a;for(d=l.Ba();d.Ta();){var e=d.Pa;if(!l.Lb(e)){var f=l.Ha(e);e=l.ua(e);if(0==f)continue;if(g.b.oc(l.xa(e),c)<=a||1<f&&g.b.oc(l.xa(e+f-1),c)<=a)return 8}if(8!=b)for(;d.Aa();)if(f=d.aa(),f=f.cc(f.ae(c,!1)),g.b.oc(f,c)<=a)return 0!=(b&1073741828)?1073741824:1}return 0!=(b&1073741828)?4:64};u.fK=function(l,c){var a=new g.g;c.s(a);return u.QX(l,
a)};u.QX=function(l,c){l=u.hu(l,c);return 0<l?l:0};u.hu=function(l,c){l=l.ib;if(null!=l)l=l.oi;else return-1;if(null!=l){c=l.rn(c);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};u.gK=function(l,c){var a=new g.g;c.s(a);l=u.hu(l,a);return 0<l?l:0};u.Bx=function(l,c){var a=new g.g;c.s(a);a=u.hu(l,a);return 0<a?a:-1==a&&(a=new g.g,l.s(a),a=u.hu(c,a),0<a)?u.fj(a):0};u.SX=function(l,c){l=u.Bx(l,c);return 0<l?l:0};u.dK=function(l,c,a){c=c.w();return u.OX(l,c,a)};u.OX=function(l,c,a){l=g.Zc.Td(l,
c,a);if(0==l)return 4;if(1==l)return 1;if(2==l)return 8;throw g.f.za();};u.bK=function(l,c){var a=new g.g;c.s(a);return u.NX(l,a)};u.NX=function(l,c){l=u.hu(l,c);return 0<l?l:0};u.cK=function(l,c){l=u.Bx(l,c);return 0<l?l:0};u.eK=function(l,c){l=u.Bx(l,c);return 0<l?l:0};u.PX=function(l,c){l=u.Bx(l,c);return 0<l?l:0};u.TX=function(l,c){var a=l.F(),b=c.F();if(g.R.Rg(a)){var d=l.ib;if(null!=d&&(d=d.oi,null!=d)){if(33==b){var e=c.w();d=d.Xl(e.x,e.y)}else e=new g.g,c.s(e),d=d.rn(e);if(1==d)return 1;if(0==
d)return 4}}if(g.R.Rg(b)&&(d=c.ib,null!=d&&(d=d.oi,null!=d))){33==a?(l=l.w(),d=d.Xl(l.x,l.y)):(c=new g.g,l.s(c),d=d.rn(c));if(1==d)return 2;if(0==d)return 4}return 0};u.fj=function(l){0!=(l&1)&&(l=l&-2|2);0!=(l&2)&&(l=l&-3|1);return l};return u}()})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.F=function(){return 15};c.prototype.U=function(a,b,d,
e,f){return a instanceof g.R?(a=new g.$c(a),b=new g.$c(b),this.U(a,b,d,e,f).next()):void 0===f?new g.oD(a,b,d,e,-1):new g.oD(a,b,d,e,f)};c.prototype.Pn=function(a,b,d){this.qv(a)&&(b=g.la.Ng(b,a,!1),a.lj(d)||a.Tu(b,d))};c.prototype.qv=function(a){return g.sy.az(a)};c.instance=null;return c}(g.Ne);g.ak=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d,e){this.at=null==a;this.ya=-1;this.Vd=c;this.Cg=b;this.Xe=a.next();this.Hj=this.Xe.F();this.Vb=d;this.Li=e;if(-1!=this.Li&&(0>=this.Li||
7<this.Li))throw g.f.I("bad dimension mask");}l.prototype.next=function(){if(this.at)return null;if(null!=this.gx){var c=this.gx.next();if(null!=c)return c;this.gx=null}for(;null!=(c=this.Vd.next());)return this.ya=this.Vd.Fa(),-1==this.Li?c=this.Ia(c):(this.gx=this.jU(c),c=this.gx.next()),c;return null};l.prototype.Fa=function(){return this.ya};l.prototype.Ia=function(c){var a=this.GL(c);if(null!=a)return a;a=g.la.Uv(this.Xe,c);var b=g.la.Qd(this.Cg,a,!0);a=new g.g;this.Xe.s(a);var d=new g.g;c.s(d);
a.O(2*b,2*b);a.Ia(d);a.O(100*b,100*b);b=g.Yd.clip(this.Xe,a,0,0);c=g.Yd.clip(c,a,0,0);return g.pg.hw(c,b,this.Cg,this.Vb)};l.prototype.GJ=function(c,a,b){var d=0;if(0!=(a&1))null==b[0]&&(b[0]=new g.Hd(c)),d++;else for(var e=0;e<b.length-1;e++)b[e]=b[e+1];if(0!=(a&2))null==b[d]&&(b[d]=new g.Oa(c)),d++;else for(e=d;e<b.length-1;e++)b[e]=b[e+1];if(0!=(a&4))null==b[d]&&(b[d]=new g.Ga(c)),d++;else for(e=d;e<b.length-1;e++)b[e]=b[e+1];if(3!=d){c=[];for(e=0;e<d;e++)c[e]=b[e];return new g.$c(c)}return new g.$c(b)};
l.prototype.jU=function(c){var a=this.GL(c);if(null!=a){var b=[null,null,null];b[a.pb()]=a;return this.GJ(c.description,this.Li,b)}a=g.la.Uv(this.Xe,c);b=g.la.Qd(this.Cg,a,!0);a=new g.g;this.Xe.s(a);a.O(2*b,2*b);var d=new g.g;c.s(d);a.Ia(d);a.O(100*b,100*b);b=g.Yd.clip(this.Xe,a,0,0);a=g.Yd.clip(c,a,0,0);b=g.pg.wA(a,b,this.Cg,this.Vb);return this.GJ(c.description,this.Li,b)};l.prototype.GL=function(c){var a=g.la.Uv(c,this.Xe),b=g.la.Qd(this.Cg,a,!0);a=c.F();var d=c.u(),e=this.Xe.u();e=d||e;if(!e){e=
new g.g;c.s(e);var f=new g.g;this.Xe.s(f);f.O(2*b,2*b);e=!e.isIntersecting(f)}if(!e)if(f=g.FM.TX(this.Xe,c),4==f)e=!0;else{if(0!=(f&2))return this.Xe;if(0!=(f&1))return c}if(e)return b=g.R.Se(a),e=g.R.Se(this.Hj),b<e?l.rC(c,d):b>e?this.rK():0==b?550==a&&33==this.Hj?this.rK():l.rC(c,d):l.rC(c,d);if((-1==this.Li||4==this.Li)&&197==a&&197==this.Hj)return b=this.Xe,a=new g.g,c.s(a),d=new g.g,b.s(d),a.Ia(d),b=new g.Ih,c.copyTo(b),b.mp(a),b;if(197==a&&0==g.R.Se(this.Hj)||197==this.Hj&&0==g.R.Se(a))return d=
197==a?c:this.Xe,c=197==a?this.Xe:c,a=new g.g,d.s(a),g.Yd.clip(c,a,b,0);if(0==g.R.Se(a)&&0<g.R.Se(this.Hj)||0<g.R.Se(a)&&0==g.R.Se(this.Hj)){b=g.la.Ng(this.Cg,c,!1);if(550==a||33==a)return g.pg.lH(c,this.Xe,b);if(550==this.Hj||33==this.Hj)return g.pg.lH(this.Xe,c,b);throw g.f.za();}return-1!=this.Li&&2!=this.Li||1607!=a||1736!=this.Hj?-1!=this.Li&&2!=this.Li||1736!=a||1607!=this.Hj?null:this.DL(this.Xe,c):this.DL(c,this.Xe)};l.prototype.DL=function(c,a){var b=c,d=a,e=g.la.Ng(this.Cg,a,!1),f=new g.g;
d.s(f);var h=new g.g;b.s(h);h.O(2*e,2*e);f.Ia(h);f.O(10*e,10*e);b=c=g.Yd.clip(c,f,0,0);h=new g.ha(0);var k=-1,m=d.ib;if(null!=m){var n=m.oi;if(null!=n){k=0;h.Db(b.D()+b.$());for(var p=new g.g,q=b.Ba();q.Ta();)for(;q.Aa();){q.aa().s(p);var r=n.rn(p);1==r?h.add(1):0==r?h.add(0):(h.add(-1),k++)}}}5<a.D()&&(d=a=g.Yd.clip(a,f,0,0),m=d.ib);0>k&&(k=b.gA());f=b.D()+d.D();if(k*d.D()>Math.log(f)*f*4)return null;f=null;k=d.Ba();null!=m&&null!=m.Hb&&(f=m.Hb);null==f&&20<d.D()&&(f=g.la.$E(d));c=c.Ea();d=null;
m=b.Ba();n=[0,0,0,0,0,0,0,0,0];p=new g.ie(0);q=new g.og;r=-1;for(var t=0,v=0,E=0<h.size,O=-1;m.Ta();){O=m.Pa;var M=0;r=-1;for(t=0;m.Aa();){var S=E?g.L.truncate(h.get(v)):-1;v++;var da=m.aa();if(0>S){if(null!=f)for(null==d?d=f.LS(da,e):d.wn(da,e),S=d.next();-1!=S;S=d.next()){k.Rb(f.ga(S));S=k.aa();var ca=da.Ia(S,null,n,null,e);for(S=0;S<ca;S++)p.add(n[S])}else for(k.ej();k.Ta();)for(;k.Aa();)for(S=k.aa(),ca=da.Ia(S,null,n,null,e),S=0;S<ca;S++)p.add(n[S]);if(0<p.size){p.Zd(0,p.size,function(Ga,Ma){return Ga-
Ma});var fa=0;p.add(1);ca=-1;S=0;for(var qa=p.size;S<qa;S++){var ya=p.get(S);if(ya!=fa){var Ia=!1;0!=fa||1!=ya?(da.jh(fa,ya,q),fa=q.get()):(fa=da,Ia=!0);if(2<=M){c.ds(b,O,r,t,3==M);if(1!=this.CE(a,fa.ac(),e)&&1!=this.DE(a,fa,e))return null;c.$b(fa,!1);M=1;t=0}else switch(ca=this.DE(a,fa,e),ca){case 1:Ia?2>M?(r=m.wb()-b.ua(O),t=1,M=0==M?3:2):t++:(c.$b(fa,0==M),M=1);break;case 0:M=0;r=-1;t=0;break;default:return null}fa=ya}}}else{S=this.CE(a,da.ac(),e);if(0>S)return null;1==S?(2>M&&(r=m.wb()-b.ua(O),
M=0==M?3:2),t++):(r=-1,t=0)}p.clear(!1)}else 0!=S&&1==S&&(0==M?(M=3,r=m.wb()-b.ua(O)):1==M?(M=2,r=m.wb()-b.ua(O)):t++)}2<=M&&(c.ds(b,O,r,t,3==M),r=-1)}return c};l.prototype.CE=function(c,a,b){return g.Oe.Jm(c,a,b)};l.prototype.DE=function(c,a,b){var d=a.ac();a=a.wc();var e=g.Oe.Jm(c,d,b),f=g.Oe.Jm(c,a,b);if(1==e&&0==f||0==e&&1==f)return-1;if(0==e||0==f)return 0;if(1==e||1==f)return 1;e=new g.b;e.add(d,a);e.scale(.5);c=g.Oe.Jm(c,e,b);return 0==c?0:1==c?1:-1};l.rC=function(c,a){return a?c:c.Ea()};l.prototype.rK=
function(){null==this.lI&&(this.lI=this.Xe.Ea());return this.lI};l.prototype.xe=function(){};return l}();g.oD=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 28};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d,e,f,h,k){return a instanceof g.R?(a=new g.$c(a),this.U(a,b,d,e,f,h,k).next()):new g.GM(a,b,d,e,f,h,k)};c.instance=null;return c}(g.Ne);g.pD=
u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d,e,f,h){this.ya=-1;this.Vd=c;this.Oj=a;this.La=b;this.Qi=d;this.lB=e;this.hI=f;this.nd=h}l.prototype.next=function(){var c=this.Vd.next();return null!=c?(this.ya=this.Vd.Fa(),this.tM(c)):null};l.prototype.Fa=function(){return this.ya};l.prototype.tM=function(c){var a=0>=this.hI?g.la.Ng(this.Oj,c,!1):this.hI;return g.RL.U(c,this.La,this.Qi,this.lB,a,this.nd)};l.prototype.xe=function(){};return l}();g.GM=u})(J||(J={}));(function(g){(function(l){l[l.clipToDomainOnly=
1]="clipToDomainOnly";l[l.clipWithHorizon=2]="clipWithHorizon";l[l.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(g.yp||(g.yp={}));var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 0};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d){return a instanceof g.R?(a=new g.$c(a),this.U(a,b,d).next()):new g.HM(a,b,d)};c.prototype.transform=function(a,b,d,e){return g.Bp.transform(a,
b,d,e,!0)};c.prototype.BL=function(a,b,d){return g.Bp.BL(a,b,d)};c.prototype.zu=function(a,b,d,e){return g.Bp.zu(a,b,d,e)};c.prototype.KZ=function(a,b,d,e){return g.Bp.Kr(a,b,d,e)};c.instance=null;return c}(g.Ne);g.Rr=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b){this.ya=-1;this.Vd=c;this.eV=a;this.nd=b}l.prototype.next=function(){var c=this.Vd.next();return null!=c?(this.ya=this.Vd.Fa(),g.Bp.$g(c,this.eV,this.nd)):null};l.prototype.Fa=function(){return this.ya};l.prototype.xe=function(){};
return l}();g.HM=u})(J||(J={}));(function(g){var u=function(){function c(){}c.prototype.reset=function(){this.vh=this.Ek=-1;this.ct=this.Dq=!1};c.prototype.MR=function(a,b,d){for(a.Rb(b,d);a.Aa();){var e=a.aa();e=e.Pb();if(0!=e)return a.wb()}for(a.Rb(b,d);a.mA();)if(e=a.ti(),e=e.Pb(),0!=e)return a.wb();return-1};c.prototype.NR=function(a,b){for(a.Rb(b,-1);a.mA();)if(0!=a.ti().Pb())return a.wb();return-1};c.prototype.LR=function(a,b){a.Rb(b,-1);for(a.aa();a.Aa();)if(0!=a.aa().Pb())return a.wb();return-1};
c.prototype.KR=function(a,b,d,e){this.Ek=this.MR(b,d,e);if(-1!=this.Ek){b.Rb(this.Ek,-1);var f=b.aa(),h=f.cc(f.ae(a,!1));d=g.b.oc(h,a);e=new g.b;e.K(h);e.sub(f.ac());h=new g.b;h.K(a);h.sub(f.ac());this.Dq=0>e.Di(h);this.vh=this.LR(b,this.Ek);if(-1!=this.vh){b.Rb(this.vh,-1);f=b.aa();var k=f.ae(a,!1);k=f.cc(k);var m=g.b.oc(k,a);m>d?this.vh=-1:(e.K(k),e.sub(f.ac()),h.K(a),h.sub(f.ac()),this.ct=0>e.Di(h))}-1==this.vh&&(this.vh=this.NR(b,this.Ek),-1!=this.vh&&(b.Rb(this.vh,-1),f=b.aa(),k=f.ae(a,!1),k=
f.cc(k),m=g.b.oc(k,a),m>d?this.vh=-1:(e.K(k),e.sub(f.ac()),h.K(a),h.sub(f.ac()),this.ct=0>e.Di(h),a=this.Ek,this.Ek=this.vh,this.vh=a,a=this.Dq,this.Dq=this.ct,this.ct=a)))}};c.prototype.lP=function(a,b,d,e,f){d=d.Ba();this.KR(a,d,e,f);if(-1!=this.Ek&&-1==this.vh)return this.Dq;if(-1!=this.Ek&&-1!=this.vh){if(this.Dq==this.ct)return this.Dq;d.Rb(this.Ek,-1);a=d.aa().qg();d.Rb(this.vh,-1);b=d.aa().qg();return 0<=a.Di(b)?!0:!1}return b};return c}(),l=function(c){function a(){return null!==c&&c.apply(this,
arguments)||this}ma(a,c);a.local=function(){null===a.instance&&(a.instance=new a);return a.instance};a.prototype.F=function(){return 3};a.prototype.Xz=function(b,d,e){var f;void 0===f&&(f=!1);if(b.u())return new g.lm;d=d.w();var h=b,k=b.F();197==k&&(h=new g.Ga,h.bd(b,!1),k=1736);switch(k){case 33:return this.oJ(h,d);case 550:return this.ZI(h,d);case 1607:case 1736:return this.vV(h,d,e,f);default:throw g.f.Y("not implemented");}};a.prototype.Yz=function(b,d){if(b.u())return new g.lm;d=d.w();var e=
b,f=b.F();197==f&&(e=new g.Ga,e.bd(b,!1),f=1736);switch(f){case 33:return this.oJ(e,d);case 550:case 1607:case 1736:return this.ZI(e,d);default:throw g.f.Y("not implemented");}};a.prototype.Zz=function(b,d,e,f){if(0>f)throw g.f.I();if(b.u())return[];d=d.w();var h=b,k=b.F();197==k&&(h=new g.Ga,h.bd(b,!1),k=1736);switch(k){case 33:return this.kW(h,d,e,f);case 550:case 1607:case 1736:return this.NV(h,d,e,f);default:throw g.f.Y("not implemented");}};a.prototype.vV=function(b,d,e,f){if(1736==b.F()&&e&&
(e=new g.g,b.s(e),e=g.la.Qd(null,e,!1),0!=(f?g.Zc.Td(b,d,0):g.Zc.Td(b,d,e)))){var h=new g.lm(d,0,0);f&&h.$K(!0);return h}var k=b.Ba();h=new g.b;for(var m=e=-1,n=1.7976931348623157E308,p=0;k.Ta();)for(;k.Aa();){var q=k.aa();q=q.cc(q.ae(d,!1));var r=g.b.oc(q,d);r<n?(p=1,h=q,e=k.wb(),m=k.Pa,n=r):r==n&&p++}h=new g.lm(h,e,Math.sqrt(n));f&&(k.Rb(e,m),q=k.aa(),f=0>g.b.fp(d,q.ac(),q.wc()),1<p&&(p=new u,p.reset(),f=p.lP(d,f,b,e,m)),h.$K(f));return h};a.prototype.oJ=function(b,d){b=b.w();d=g.b.vb(b,d);return new g.lm(b,
0,d)};a.prototype.ZI=function(b,d){for(var e=b.Va(0),f=b.D(),h=b=0,k=0,m=1.7976931348623157E308,n=0;n<f;n++){var p=new g.b;e.mc(2*n,p);var q=g.b.oc(p,d);q<m&&(h=p.x,k=p.y,b=n,m=q)}d=new g.lm;d.Jy(h,k,b,Math.sqrt(m));return d};a.prototype.kW=function(b,d,e,f){if(0==f)return e=[];e*=e;b=b.w();d=g.b.oc(b,d);d<=e?(e=[],f=new g.lm,f.Jy(b.x,b.y,0,Math.sqrt(d)),e[0]=f):e=[];return e};a.prototype.NV=function(b,d,e,f){if(0==f)return f=[];var h=b.Va(0),k=b.D();b=[];e*=e;for(var m=0;m<k;m++){var n=h.read(2*
m),p=h.read(2*m+1),q=d.x-n,r=d.y-p;q=q*q+r*r;q<=e&&(r=new g.lm,r.Jy(n,p,m,Math.sqrt(q)),b.push(r))}d=b.length;b.sort(function(t,v){return t.La<v.La?-1:t.La==v.La?0:1});if(f>=d)return b.slice(0);b.length=f;return b.slice(0)};a.instance=null;return a}(g.Ne);g.my=l})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 4};c.prototype.U=function(a,b,d,e,f){return g.mm.hC(a,b,d,e,f)};c.local=function(){null===c.instance&&
(c.instance=new c);return c.instance};c.prototype.qv=function(a){return g.Du.bz(a)};c.prototype.Pn=function(a,b,d){g.Du.oE(a,b,d)};c.instance=null;return c}(g.Ne);g.IM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 33};c.prototype.U=function(a,b,d,e,f){return 1073741824===a?!g.wd.iC(b,d,e,4,f):g.wd.iC(b,d,e,a,f)};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.qv=
function(a){return g.Du.bz(a)};c.prototype.Pn=function(a,b,d){g.Du.oE(a,b,d)};c.instance=null;return c}(g.Ne);g.kj=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d){this.nd=d;this.MU=b;this.ya=-1;if(null==c)throw g.f.I();this.Fk=c;this.Oj=a}l.prototype.next=function(){var c;if(null!=(c=this.Fk.next())){this.ya=this.Fk.Fa();if(null!=this.nd&&!this.nd.progress(-1,-1))throw g.f.Mu("user_canceled");return this.MC(c)}return null};l.prototype.Fa=function(){return this.ya};l.prototype.MC=
function(c){if(null==c)throw g.f.I();return g.ny.gL(c,this.Oj,this.MU,this.nd)};l.prototype.xe=function(){};return l}();g.JM=u})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 26};c.prototype.U=function(a,b,d,e){return a instanceof g.R?(a=new g.$c(a),this.U(a,b,d,e).next()):new g.JM(a,b,d,e)};c.prototype.zq=function(a,b,d,e,f){return 0<(void 0!==e?g.ny.zq(a,b,d,e,f):g.ny.zq(a,b,!1,null,d))};c.local=function(){null===
c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(g.Ne);g.jm=u})(J||(J={}));(function(g){var u=function(){function f(){this.Rq=0}f.prototype.QY=function(h){this.Rq&=-2;this.Rq|=h?1:0};f.prototype.oq=function(){return 0!=(this.Rq&1)};f.prototype.IG=function(){return this.oq()?0:1};return f}();g.d_=u;var l=function(){return function(){}}(),c=function(){return function(f,h,k,m){this.x=f;this.y=h;this.Hi=k;this.Km=m}}(),a=function(){function f(h){this.Ie=h}f.prototype.compare=
function(h,k,m){h=h.ga(m);k=this.Ie.vf.read(2*k);h=this.Ie.vf.read(2*h);k-=h;return 0>k?-1:0<k?1:0};return f}(),b=function(){function f(h){this.Ie=h}f.prototype.compare=function(h,k,m){k=this.Ie.eb[k];h=this.Ie.eb[h.ga(m)];var n=k.oq(),p=h.oq();m=k.ue.Te(this.Ie.cp,0);var q=h.ue.Te(this.Ie.cp,0);m==q&&(m=Math.min(n?k.ue.na:k.ue.ma,p?h.ue.na:h.ue.ma),n=.5*(m-this.Ie.cp)+this.Ie.cp,n==this.Ie.cp&&(n=m),m=k.ue.Te(n,0),q=h.ue.Te(n,0));return m<q?-1:m>q?1:0};return f}(),d=function(){function f(h,k){this.PJ=
new g.b;this.parent=h;this.yT=k}f.prototype.Lr=function(h,k,m){var n=this.parent,p=this.yT;m.Zd(h,k,function(q,r){return n.Qh(q,r,p)})};f.prototype.sq=function(h){h=this.parent.ni.get(h);this.parent.vf.mc(2*(h>>1),this.PJ);return this.PJ.y+(0!=(h&1)?this.parent.Qj:-this.parent.Qj)};return f}(),e=function(){function f(h,k,m,n,p){this.aI=h.description;this.W=h;this.Wg=k;this.Qj=g.la.Ng(this.Wg,h,!1);this.Vo=g.la.Ng(this.Wg,h,!0);this.gB=m;this.KU=this.aI.Ca;this.eb=[];this.Io=[];this.sh=new g.Ap;this.cb=
new g.bk;this.fe=new g.Od;this.MH=this.yl=p}f.prototype.BA=function(){this.MH=!0;return(!g.R.Bc(this.W.F())||this.qF()&&this.nF(!1))&&this.wP()?g.R.Bc(this.W.F())?this.zP()?1607==this.W.F()?this.BP()?2:0:this.CP()?this.DP():0:0:2:0};f.prototype.TC=function(h,k){var m=this.vf.read(2*h);h=this.vf.read(2*h+1);var n=this.vf.read(2*k);k=this.vf.read(2*k+1);var p=!g.Fu.jw(m,h,n,k,this.Qj*this.Qj);return p?p:0==this.W.pb()?!1:m==n&&h==k};f.prototype.qF=function(){for(var h=this.W,k=h.Gf?3:2,m=0,n=h.$();m<
n;m++)if(h.Ha(m)<k)return this.fe=new g.Od(1,m,0),!1;return!0};f.prototype.nF=function(h){var k=this.W,m=k.Ba(),n=k.hasAttribute(1);for(k=n?g.la.hF(this.Wg,k,!1):0;m.Ta();)for(;m.Aa();){var p=m.aa();if(!(p.Pb()>this.Qj)){if(h&&n){var q=p.Ks(1,0);p=p.Ks(1,0);if(Math.abs(p-q)>k)continue}this.fe=new g.Od(2,m.wb(),-1);return!1}}return!0};f.prototype.wP=function(){var h=this.W,k=null;g.R.Bc(this.W.F())&&(k=this.W);var m=(this.MH||this.yl)&&null!=k,n=h.D();this.vf=h.Va(0);this.ni=new g.ha(0);this.ni.Db(2*
n);this.mi=new g.ha(0);this.mi.Db(2*n);m&&(null==this.Nl&&(this.Nl=new g.ha(0)),this.Nl.Db(n));for(var p=h=0;p<n;p++)if(this.ni.add(2*p),this.ni.add(2*p+1),this.mi.add(2*p),this.mi.add(2*p+1),m){for(;p>=k.zc(h);)h++;this.Nl.add(h)}(new g.Eu).sort(this.mi,0,2*n,new d(this,m));this.cb.clear();this.cb.kp(new a(this));this.cb.Le(n);k=0;for(n*=2;k<n;k++)if(m=this.mi.get(k),h=this.ni.get(m),m=h>>1,0==(h&1)){h=this.cb.addElement(m,-1);p=this.cb.Be(h);if(-1!=p&&!this.TC(this.cb.ga(p),m))return this.fe=new g.Od(3,
m,this.cb.ga(p)),!1;var q=this.cb.hb(h);if(-1!=q&&!this.TC(this.cb.ga(q),m))return this.fe=new g.Od(3,m,this.cb.ga(q)),!1}else if(h=this.cb.search(m,-1),p=this.cb.Be(h),q=this.cb.hb(h),this.cb.zd(h,-1),-1!=p&&-1!=q&&!this.TC(this.cb.ga(p),this.cb.ga(q)))return this.fe=new g.Od(3,this.cb.ga(p),this.cb.ga(q)),!1;return!0};f.prototype.zP=function(){return 10>this.W.D()?this.xP():this.yP()};f.prototype.yP=function(){var h=new g.Yc;h.Bb(this.W);var k=new g.Od;return g.Hu.$I(!1,h,this.Qj,k,this.nd)?(k.Ql=
h.Ua(k.Ql),k.Rl=h.Ua(k.Rl),this.fe.Or(k),!1):!0};f.prototype.xP=function(){var h=this.W,k=h.Ba();for(h=h.Ba();k.Ta();)for(;k.Aa();){var m=k.aa();if(!k.ko()||!k.uU()){h.gY(k);do for(;h.Aa();){var n=h.aa();n=m.Zr(n,this.Qj,!0);if(0!=n)return this.fe=new g.Od(2==n?5:4,k.wb(),h.wb()),!1}while(h.Ta())}}return!0};f.prototype.CP=function(){var h=this.W;this.eb.length=0;this.Io.length=0;this.fg=h.Ba();this.fg.tC();var k=new g.ha(0);k.Db(10);var m=NaN,n=0,p=0;for(h=2*h.D();p<h;p++){var q=this.mi.get(p);q=
this.ni.get(q);if(0==(q&1)){q>>=1;var r=this.vf.read(2*q),t=this.vf.read(2*q+1);if(0!=k.size&&(r!=m||t!=n)){if(!this.HJ(k))return!1;null!=k&&k.clear(!1)}k.add(q);m=r;n=t}}return this.HJ(k)?!0:!1};f.prototype.BP=function(){for(var h=this.W,k=Array(h.$()),m=0,n=h.$();m<n;m++)k[m]=h.ho(m);n=new l;var p=new g.b;m=this.mi.get(0);m=this.ni.get(m);var q=m>>1;this.vf.mc(2*q,p);m=this.Nl.get(q);var r=k[m],t=h.ua(m),v=h.zc(m)-1;n.kl=q==t||q==v;n.Ty=this.yl?!r&&n.kl:n.kl;n.Hi=m;n.x=p.x;n.y=p.y;n.Km=q;for(var E=
new l,O=1,M=this.mi.size;O<M;O++)if(m=this.mi.get(O),m=this.ni.get(m),0==(m&1)){q=m>>1;this.vf.mc(2*q,p);m=this.Nl.get(q);m!=n.Hi&&(r=k[m],t=h.ua(m),v=h.zc(m)-1);var S=q==t||q==v,da=this.yl?!r&&n.kl:n.kl;E.x=p.x;E.y=p.y;E.Hi=m;E.Km=q;E.Ty=da;E.kl=S;if(E.x==n.x&&E.y==n.y)if(this.yl){if(!E.Ty||!n.Ty)if(E.Hi!=n.Hi||!E.kl&&!n.kl)return this.fe=new g.Od(8,E.Km,n.Km),!1}else if(!E.kl||!n.kl)return this.fe=new g.Od(5,E.Km,n.Km),!1;m=n;n=E;E=m}return!0};f.prototype.tF=function(){for(var h=this.W,k=[],m=-1,
n=!1,p=0,q=h.$();p<q;p++)h.lw(p)&&(n=!1,m++,p<q-1&&(h.lw(p+1)||(n=!0))),k[p]=n?m:-1;n=new g.b;p=this.mi.get(0);p=this.ni.get(p);var r=p>>1;this.vf.mc(2*r,n);p=this.Nl.get(r);m=new c(n.x,n.y,p,r,k[p]);h=[];var t=1;for(q=this.mi.size;t<q;t++)if(p=this.mi.get(t),p=this.ni.get(p),0==(p&1)){r=p>>1;this.vf.mc(2*r,n);p=this.Nl.get(r);p=new c(n.x,n.y,p,r,k[p]);if(p.x==m.x&&p.y==m.y){if(p.Hi==m.Hi)return this.fe=new g.Od(9,p.Km,m.Km),!1;0<=k[p.Hi]&&k[p.Hi]==k[m.Hi]&&(0!=h.length&&h[h.length-1]==m||h.push(m),
h.push(p))}m=p}if(0==h.length)return!0;p=new g.Ap(!0);g.L.Hv(k,-1);n=-1;t=new g.b;t.Tc();m=0;for(q=h.length;m<q;m++){r=h[m];if(r.x!=t.x||r.y!=t.y)n=p.Th(0),t.x=r.x,t.y=r.y;var v=k[r.Hi];-1==v&&(v=p.Th(2),k[r.Hi]=v);p.addElement(v,n);p.addElement(n,v)}q=new g.ha(0);q.Db(10);for(m=p.re;-1!=m;m=p.$z(m))if(h=p.BG(m),0==(h&1)&&0!=(h&2)){h=-1;q.add(m);for(q.add(-1);0<q.size;){n=q.Gc();q.Rf();t=q.Gc();q.Rf();r=p.BG(t);if(0!=(r&1)){h=0==(r&2)?n:t;break}p.IY(t,r|1);for(r=p.sc(t);-1!=r;r=p.hb(r))v=p.getData(r),
v!=n&&(q.add(v),q.add(t))}if(-1!=h){p=-1;m=0;for(q=k.length;m<q;m++)if(k[m]==h){p=m;break}this.fe=new g.Od(10,p,-1);return!1}}return!0};f.prototype.DP=function(){var h=this.W;if(0>=h.Pe())return this.fe=new g.Od(6,1==h.$()?1:-1,-1),0;if(1==h.$())return this.yl&&!this.tF()?0:2;this.Mo=g.ha.Af(h.$(),0);this.tB=g.ha.Af(h.$(),-1);for(var k=-1,m=0,n=0,p=h.$();n<p;n++){var q=h.rm(n);this.Mo.write(n,0>q?0:256);if(0<q)k=n,m=q;else{if(0==q)return this.fe=new g.Od(6,n,-1),0;if(0>k||m<Math.abs(q))if(this.fe=
new g.Od(7,n,-1),this.yl)return 0;this.tB.write(n,k)}}this.Lt=h.$();this.an=new g.ha(0);this.an.Db(10);p=h.D();this.cp=NaN;h=new g.ha(0);h.Db(10);this.jr=g.ha.Af(p,-1);this.nx=g.ha.Af(p,-1);null!=this.Dj?this.Dj.clear(!1):this.Dj=new g.ha(0);this.Dj.Db(10);this.cb.clear();this.cb.kp(new b(this));k=0;for(p*=2;0<this.Lt&&k<p;k++)if(m=this.mi.get(k),m=this.ni.get(m),0==(m&1)){m>>=1;n=this.vf.read(2*m+1);if(n!=this.cp&&0!=h.size){if(!this.cu(h))return 0;null!=h&&h.clear(!1)}h.add(m);this.cp=n}return 0<
this.Lt&&!this.cu(h)?0:this.yl?0==this.fe.pi&&this.tF()?2:0:0==this.fe.pi?2:1};f.prototype.HJ=function(h){if(1==h.size)return!0;for(var k=0,m=h.size;k<m;k++){var n=h.get(k);this.fg.Rb(n);var p=this.fg.ti();this.eb.push(this.Av(p,n,this.fg.Pa,!0));this.fg.aa();p=this.fg.aa();this.eb.push(this.Av(p,n,this.fg.Pa,!1))}var q=this;this.eb.sort(function(v,E){return q.hR(v,E)});n=this.sh.re;-1==n&&(n=this.sh.Th(0));this.sh.vn(this.eb.length);k=0;for(m=this.eb.length;k<m;k++)this.sh.addElement(n,k);k=!0;for(var r=
m=-1;k;){k=!1;p=this.sh.sc(n);if(-1==p)break;for(var t=this.sh.hb(p);-1!=t;){m=this.sh.getData(p);r=this.sh.getData(t);m=this.eb[m].ap;r=this.eb[r].ap;if(m==r)if(k=!0,this.sh.jd(n,p),p=this.sh.Be(t),t=this.sh.jd(n,t),-1==t||-1==p)break;else continue;p=t;t=this.sh.hb(p)}}k=this.sh.Hs(n);this.sh.vF(n);if(0<k)return this.fe=new g.Od(5,m,r),!1;k=0;for(m=h.size;k<m;k++)this.eC(this.eb[k]);this.eb.length=0;return!0};f.prototype.cu=function(h){for(var k=0,m=h.size;k<m;k++){var n=h.get(k),p=this.jr.read(n);
if(-1!=p){var q=this.cb.ga(p);this.Dj.add(q);this.cb.zd(p,-1);this.eC(this.eb[q]);this.eb[q]=null;this.jr.write(n,-1)}p=this.nx.read(n);-1!=p&&(q=this.cb.ga(p),this.Dj.add(q),this.cb.zd(p,-1),this.eC(this.eb[q]),this.eb[q]=null,this.nx.write(n,-1))}k=0;for(m=h.size;k<m;k++){n=h.get(k);this.fg.Rb(n);p=this.fg.ti();if(p.na>p.ma){var r=this.fg.wb(),t=this.Av(p,n,this.fg.Pa,!0);0<this.Dj.size?(q=this.Dj.Gc(),this.Dj.Rf(),this.eb[q]=t):(q=this.eb.length,this.eb.push(t));p=this.cb.addElement(q,-1);-1==
this.jr.read(r)?this.jr.write(r,p):this.nx.write(r,p);0==(this.Mo.read(this.fg.Pa)&3)&&this.an.add(p)}this.fg.aa();p=this.fg.aa();p.na<p.ma&&(r=this.fg.nk(),t=this.Av(p,n,this.fg.Pa,!1),0<this.Dj.size?(q=this.Dj.Gc(),this.Dj.Rf(),this.eb[q]=t):(q=this.eb.length,this.eb.push(t)),p=this.cb.addElement(q,-1),-1==this.jr.read(r)?this.jr.write(r,p):this.nx.write(r,p),0==(this.Mo.read(this.fg.Pa)&3)&&this.an.add(p))}k=0;for(m=this.an.size;k<m&&0<this.Lt;k++)if(p=this.an.get(k),0==(this.Mo.read(this.eb[this.cb.ga(p)].sB)&
3)){h=-1;n=this.cb.Be(p);var v=p;t=null;q=-1;for(var E=0;-1!=n;){q=this.cb.ga(n);t=this.eb[q];q=t.sB;E=this.Mo.read(q);if(0!=(E&3))break;v=n;n=this.cb.Be(n)}-1==n?(r=1,n=v):(h=1==(E&3)?q:this.tB.read(q),r=0!=t.IG()?0:1,n=this.cb.hb(n));do{q=this.cb.ga(n);t=this.eb[q];q=t.sB;v=this.Mo.read(q);if(0==(v&3)){if(r!=t.IG())return this.fe=new g.Od(6,q,-1),!1;E=0==r||t.oq()?2:1;v=v&252|E;this.Mo.write(q,E);if(2==E&&0==this.fe.pi&&this.tB.read(q)!=h&&(this.fe=new g.Od(7,q,-1),this.yl))return!1;this.Lt--;if(0==
this.Lt)return!0}1==(v&3)&&(h=q);v=n;n=this.cb.hb(n);r=0!=r?0:1}while(v!=p)}null!=this.an?this.an.clear(!1):this.an=new g.ha(0);return!0};f.prototype.Av=function(h,k,m,n){if(322==h.F())h=this.DQ(h);else throw g.f.za();h.ap=k;h.sB=m;h.Rq=0;h.QY(n);return h};f.prototype.DQ=function(h){if(0<this.Io.length){var k=this.Io[this.Io.length-1];--this.Io.length;h.copyTo(k.ue)}else k=new u,k.ue=g.zD.$d(h);return k};f.prototype.eC=function(h){322==h.ue.F()&&this.Io.push(h)};f.prototype.EV=function(){for(var h=
this.W.D(),k=new g.ha(0),m=0;m<h;m++)k.add(m);var n=this;k.Zd(0,h,function(p,q){return n.wv(p,q)});for(m=1;m<h;m++)if(0==this.wv(k.get(m-1),k.get(m)))return this.fe=new g.Od(3,k.get(m-1),k.get(m)),0;return 2};f.prototype.bX=function(){return this.qF()?this.nF(!0)?2:0:0};f.prototype.HW=function(){return this.BA()};f.prototype.JV=function(){for(var h=this.W.D(),k=new g.ha(0),m=0;m<h;m++)k.add(m);var n=this;k.Zd(0,h,function(v,E){return n.ZP(v,E)});var p=Array(h);g.L.Hv(p,!1);p[k.get(0)]=!0;for(m=1;m<
h;m++){var q=k.get(m-1),r=k.get(m);0==this.wv(q,r)?p[r]=!1:p[r]=!0}k=this.W.Ea();q=this.W;r=0;var t=1;for(m=0;m<h;m++)p[m]?t=m+1:(r<t&&k.yd(q,r,t),r=m+1);r<t&&k.yd(q,r,t);k.Jg(2,this.Vo);return k};f.prototype.fX=function(){var h=this.W,k=h.Ba(),m=h.Ba(),n=this.W.Ea(),p=this.W,q=h.hasAttribute(1),r=q?g.la.hF(this.Wg,h,!0):0,t=new g.ha(0),v=new g.ha(0);t.Db(g.L.truncate(h.D()/2+1));for(v.Db(g.L.truncate(h.D()/2+1));k.Ta();)if(m.Ta(),!(2>h.Ha(k.Pa))){m.iY();for(var E,O,M=!0;k.Aa();){var S=k.aa(),da=
m.ti();if(k.wb()>m.wb())break;M&&(t.add(k.wb()),v.add(m.nk()),M=!1);O=t.Gc();var ca=k.nk();if(1<ca-O){var fa=new g.b;fa.tc(h.xa(O),h.xa(ca));E=fa.length()}else E=S.Pb();O=v.Gc();ca=m.wb();1<ca-O?(fa=new g.b,fa.tc(h.xa(O),h.xa(ca)),O=fa.length()):O=da.Pb();E>this.Vo?t.add(k.nk()):q&&(E=h.Rc(1,t.Gc(),0),S=S.us(1,0),Math.abs(S-E)>r&&t.add(k.nk()));O>this.Vo?v.add(m.wb()):q&&(E=h.Rc(1,v.Gc(),0),S=da.us(1,0),Math.abs(S-E)>r&&v.add(m.wb()))}t.Gc()<v.Gc()?t.size>v.size?t.Rf():v.Rf():(t.Gc()!=v.Gc()&&v.Rf(),
v.Rf());if(2<=v.size+t.size){M=new g.Ra;da=0;for(S=t.size;da<S;da++)p.ne(t.get(da),M),0==da?n.xf(M):n.lineTo(M);for(da=v.size-1;0<da;da--)p.ne(v.get(da),M),n.lineTo(M);p.Lb(k.Pa)?n.Up():0<v.size&&(p.ne(v.get(0),M),n.lineTo(M))}null!=t&&t.clear(!1);null!=v&&v.clear(!1)}n.Jg(2,this.Vo);return n};f.prototype.KW=function(){return this.gZ()};f.prototype.gZ=function(){if(1736==this.W.F()&&1==this.W.$n())return g.pg.Tk(this.W,this.Vo,!0,!1,this.nd);this.Ni=new g.Yc;this.Ni.Bb(this.W);0!=this.Ni.hd&&(1!=
this.gB&&g.$j.U(this.Ni,this.Vo,this.nd,!0),1736==this.W.F()&&g.Kn.U(this.Ni,this.Ni.ld,this.gB,!1,this.nd));this.W=this.Ni.ye(this.Ni.ld);1736==this.W.F()&&(this.W.cl(),this.W.np(0));this.W.Jg(2,this.Vo);return this.W};f.p0=function(h,k,m,n){if(h.u())return 1;var p=h.F();if(33==p)return 1;if(197==p)return n=new g.g,h.s(n),n.Qg(g.la.Ng(k,h,!1))?0:1;if(g.R.Ic(p))throw g.f.za();if(!g.R.Rg(p))throw g.f.za();p=g.la.Ng(k,h,!1);var q=h.rk(p);m=m?-1:q;if(-1!=m)return m;1==m&&(p=0);m=(new f(h,k,m,n,!1)).BA();
h.Jg(m,p);return m};f.zq=function(h,k,m,n,p){null!=n&&(n.pi=0,n.Ql=-1,n.Rl=-1);if(h.u())return 1;var q=h.F();if(33==q)return 1;var r=g.la.Ng(k,h,!1);if(197==q)return k=new g.g,h.s(k),k.Qg(r)?(null!=n&&(n.pi=2,n.Ql=-1,n.Rl=-1),0):1;if(g.R.Ic(q))return r=new g.Oa(h.description),r.$b(h,!0),f.zq(r,k,m,n,p);var t=h.rk(r);m=m?-1:t;if(-1!=m)return m;k=new f(h,k,m,p,!1);if(550==q)m=k.EV();else if(1607==q)m=k.bX();else if(1736==q)m=k.HW();else throw g.f.za();h.Jg(m,r);null!=n&&0==m&&n.Or(k.fe);return m};f.o0=
function(h,k,m,n,p){null!=n&&(n.pi=0,n.Ql=-1,n.Rl=-1);if(h.u())return 1;var q=h.F();if(33==q)return 1;var r=g.la.Ng(k,h,!1);if(197==q)return k=new g.g,h.s(k),k.Qg(r)?(null!=n&&(n.pi=2,n.Ql=-1,n.Rl=-1),0):1;if(g.R.Ic(q))return q=new g.Oa(h.description),q.$b(h,!0),f.zq(q,k,m,n,p);h=new f(h,k,-1,p,!0);if(550==q||1607==q||1736==q)k=h.BA();else throw g.f.za();null!=n&&n.Or(h.fe);return k};f.gL=function(h,k,m,n){if(h.u())return h;var p=h.F();if(33==p)return h;var q=g.la.Ng(k,h,!1);if(197==p)return k=new g.g,
h.s(k),k.Qg(q)?h.Ea():h;if(g.R.Ic(p))return p=new g.Oa(h.description),p.$b(h,!0),f.gL(p,k,m,n);q=h.rk(q);m=m?-1:q;if(2==m)return h;h=new f(h,k,m,n,!1);if(550==p)h=h.JV();else if(1607==p)h=h.fX();else if(1736==p)h=h.KW();else throw g.f.za();return h};f.NC=function(h,k,m,n){if(h.u())return h;var p=h.F();if(33==p)return h;var q=g.la.Ng(k,h,!1);if(197==p)return k=new g.g,h.s(k),k.Qg(q)?h.Ea():h;if(g.R.Ic(p))return q=new g.Oa(h.description),q.$b(h,!0),f.NC(q,k,m,n);if(!g.R.Rg(p))throw g.f.Y("OGC simplify is not implemented for this geometry type "+
p);return g.pg.NC(h,q,!1,n)};f.prototype.Qh=function(h,k,m){if(h==k)return 0;h=this.ni.get(h);var n=this.ni.get(k);k=h>>1;var p=n>>1,q=new g.b,r=new g.b;this.vf.mc(2*k,q);q.y+=0!=(h&1)?this.Qj:-this.Qj;this.vf.mc(2*p,r);r.y+=0!=(n&1)?this.Qj:-this.Qj;h=q.compare(r);return 0==h&&m?(m=this.Nl.get(k)-this.Nl.get(p),0>m?-1:0<m?1:0):h};f.prototype.wv=function(h,k){if(h==k)return 0;var m=this.W,n=m.xa(h),p=m.xa(k);if(n.x<p.x)return-1;if(n.x>p.x)return 1;if(n.y<p.y)return-1;if(n.y>p.y)return 1;for(n=1;n<
this.KU;n++){p=this.aI.kd(n);for(var q=g.oa.Sa(p),r=0;r<q;r++){var t=m.Rc(p,h,r),v=m.Rc(p,k,r);if(t<v)return-1;if(t>v)return 1}}return 0};f.prototype.ZP=function(h,k){var m=this.wv(h,k);return 0==m?h<k?-1:1:m};f.prototype.hR=function(h,k){if(h===k)return 0;var m=h.ue.qg();h.oq()&&m.lr();h=k.ue.qg();k.oq()&&h.lr();k=m.Xu();var n=h.Xu();return n==k?(k=m.Di(h),Math.abs(k)<=8.881784197001252E-16*(Math.abs(h.x*m.y)+Math.abs(h.y*m.x))&&(k--,k++),0>k?1:0<k?-1:0):k<n?-1:1};return f}();g.ny=e})(J||(J={}));
(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 30};c.local=function(){null===c.instance&&(c.instance=new c);return c.instance};c.prototype.U=function(a,b,d,e){return a instanceof g.R?(a=new g.$c(a),b=new g.$c(b),this.U(a,b,d,e).next()):new g.KM(a,b,d,e)};c.tp=function(a,b,d,e){var f=a.pb(),h=b.pb();if(a.u()&&b.u())return f>h?a:b;if(a.u())return b;if(b.u())return a;var k=new g.g,m=new g.g,n=new g.g;a.s(k);b.s(m);n.H(k);
n.Nb(m);k=g.la.Qd(d,n,!0);m=a.F();n=b.F();return 33==m&&33==n?c.sW(a,b,k):m!=n?0<f||0<h?f>h?a:b:550==m?c.YI(a,b,k):c.YI(b,a,k):g.pg.tp(a,b,d,e)};c.sW=function(a,b,d){d=d*Math.sqrt(2)*1.00001;d*=d;var e=a.w(),f=b.w(),h=new g.Hd(a.description);g.b.oc(e,f)>d&&(h.add(a),h.add(b));return h};c.YI=function(a,b,d){var e=a.Va(0),f=a.D(),h=b.w(),k=a.Ea();d=d*Math.sqrt(2)*1.00001;var m=new g.g;a.s(m);m.O(d,d);if(m.contains(h)){d*=d;m=!1;for(var n=[],p=0;p<f;p++)n[p]=!1;for(p=0;p<f;p++){var q=e.read(2*p),r=e.read(2*
p+1);q-=h.x;r-=h.y;q*q+r*r<=d&&(m=!0,n[p]=!0)}if(m)for(p=0;p<f;p++)n[p]||k.yd(a,p,p+1);else k.yd(a,0,f),k.add(b)}else k.yd(a,0,f),k.add(b);return k};c.instance=null;return c}(g.Ne);g.oy=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b,d){this.at=null==a;this.ya=-1;this.Vd=c;this.Cg=b;this.fV=a.next();this.Vb=d}l.prototype.next=function(){if(this.at)return null;var c;return null!=(c=this.Vd.next())?(this.ya=this.Vd.Fa(),g.oy.tp(c,this.fV,this.Cg,this.Vb)):null};l.prototype.Fa=function(){return this.ya};
l.prototype.xe=function(){};return l}();g.KM=u})(J||(J={}));(function(g){var u=function(){function a(){}a.prototype.nA=function(){this.Fz=null;this.fy=-1;this.HL=!1};return a}(),l=function(){function a(){this.gs=0;this.uj=[]}a.prototype.AO=function(b){this.gs+=b.fy;this.uj.push(b)};a.prototype.lX=function(){this.gs-=this.uj[this.uj.length-1].fy;--this.uj.length};a.prototype.Sy=function(){return this.uj[this.uj.length-1]};a.prototype.Ib=function(b){return b===this};return a}(),c=function(){function a(b,
d,e){this.ya=-1;this.Jc=!1;this.qI=[!1,!1,!1,!1];this.Nq=[0,0,0,0];this.VA=!1;this.Hk=-1;this.Bq=0;this.vo=-1;this.Xo=[];this.Vd=b;this.Cg=d;this.Vb=e}a.QE=function(b){var d=[],e=0;for(b=Object.keys(b);e<b.length;e++)d.push(Number(b[e]));d.sort(function(f,h){return f-h});return d};a.prototype.SG=function(b){var d=this.Xo[b],e=a.QE(d)[0],f=d[e],h=f.Sy().Fz;f=f.Sy().HL;delete d[e];f&&(h=g.jm.local().U(h,this.Cg,!1,this.Vb),0==b&&33==h.F()&&(b=new g.Hd(h.description),h.u()||b.add(h),h=b));return h};
a.prototype.next=function(){if(this.Jc&&this.vo==this.Hk)return null;for(;!this.wL(););if(-1==this.Hk)return null;if(this.VA){for(this.vo++;;){if(this.vo>this.Hk||0>this.vo)throw g.f.za();if(this.qI[this.vo])break}this.ya++;return this.SG(this.vo)}this.ya=0;this.vo=this.Hk;return this.SG(this.Hk)};a.prototype.Fa=function(){return this.ya};a.prototype.wL=function(){if(this.Jc)return!0;var b=null;null!=this.Vd&&(b=this.Vd.next(),null==b&&(this.Jc=!0,this.Vd=null));g.Ep.Sp(this.Vb);if(null!=b){var d=
b.pb();this.qI[d]=!0;d>=this.Hk&&!this.VA&&(this.zE(d,!1,b),d>this.Hk&&!this.VA&&this.eY(d))}if(0<this.Bq)for(d=0;d<=this.Hk;d++)for(;1<this.Nq[d];)if(b=this.PP(d),0!=b.length)b=g.pg.fR(b,this.Cg,this.Vb),this.zE(d,!0,b);else break;return this.Jc};a.prototype.PP=function(b){for(var d=[],e=[],f=this.Xo[b],h=a.QE(f),k=0;k<h.length;k++){var m=h[k],n=f[m];if(this.Jc||1E4<n.gs&&1<n.uj.length){this.Nq[b]-=n.uj.length;for(this.Bq-=n.uj.length;0<n.uj.length;)d.push(n.Sy().Fz),n.lX();e.push(m)}}for(k=0;k<
e.length;k++)delete f[e[k]];return d};a.prototype.eY=function(b){for(var d=0;d<b;d++)this.Xo[d]=[],this.Bq-=this.Nq[d],this.Nq[d]=0};a.prototype.zE=function(b,d,e){var f=new u;f.nA();f.Fz=e;e=a.zT(e);f.fy=e;e=a.xT(e);if(b+1>this.Xo.length)for(var h=0,k=Math.max(2,b+1);h<k;h++)this.Xo.push([]);h=this.Xo[b][e];void 0===h&&(h=new l,this.Xo[b][e]=h);f.HL=d;h.AO(f);this.Nq[b]++;this.Bq++;this.Hk=Math.max(this.Hk,b)};a.xT=function(b){return 0<b?g.L.truncate(Math.log(b)/Math.log(4)+.5):0};a.zT=function(b){var d=
b.F();if(g.R.Rg(d))return b.D();if(33==d)return 1;if(197==d)return 4;if(g.R.Ic(d))return 2;throw g.f.za();};a.prototype.xe=function(){this.wL()};return a}();g.MM=c})(J||(J={}));(function(g){var u=function(l){function c(){return null!==l&&l.apply(this,arguments)||this}ma(c,l);c.prototype.F=function(){return 1};c.prototype.U=function(a,b,d,e){return void 0===e?new g.MM(a,b,d):this.sR(a,b,d,e)};c.prototype.sR=function(a,b,d,e){a=new g.$c([a,b]);return this.U(a,d,e).next()};c.local=function(){null===
c.instance&&(c.instance=new c);return c.instance};c.instance=null;return c}(g.Ne);g.Jh=u})(J||(J={}));(function(g){var u;(function(l){l[l.nextPath=0]="nextPath";l[l.nextSegment=1]="nextSegment";l[l.iterate=2]="iterate"})(u||(u={}));u=function(){function l(c,a,b,d){this.Bt=new g.g;this.ZU=c;this.$U=a;this.Fq=d;this.No=-1;this.zl=!1;var e=c.ib;null!=e&&(e=d?e.To:e.Hb,null!=e&&(this.Jc=!1,this.qa=b,this.Hb=e,this.ex=this.Hb.getIterator(),this.Gq=this.zl=!0,this.Xb=0,d?this.No=a.$():this.td=a.Ba()));
this.zl||(e=a.ib,null!=e&&(e=d?e.To:e.Hb,null!=e&&(this.Jc=!1,this.qa=b,this.Hb=e,this.ex=this.Hb.getIterator(),this.zl=!0,this.Gq=!1,this.Xb=0,d?this.No=c.$():this.td=c.Ba())));this.zl||(this.ii=d?g.la.AS(c,a,b,1<=c.rk(0),1<=a.rk(0)):g.la.zS(c,a,b))}l.prototype.next=function(){if(this.zl){if(this.Jc)return!1;for(var c=!0;c;)switch(this.Xb){case 0:c=this.RV();break;case 1:c=this.SV();break;case 2:c=this.DA();break;default:throw g.f.Y("internal error");}return this.Jc?!1:!0}return null==this.ii?!1:
this.ii.next()};l.prototype.tl=function(){return this.zl?this.Gq?this.Hb.ga(this.nt):this.Fq?this.No:this.td.wb():this.ii.tl(this.ii.dg)};l.prototype.ol=function(){return this.zl?this.Gq?this.Fq?this.No:this.td.wb():this.Hb.ga(this.nt):this.ii.ol(this.ii.If)};l.prototype.cA=function(){if(!this.Fq)throw g.f.Y("internal error");return this.zl?this.Gq?this.Hb.sG(this.nt):this.Bt:this.ii.cA(this.ii.dg)};l.prototype.Gz=function(){if(!this.Fq)throw g.f.Y("internal error");return this.zl?this.Gq?this.Bt:
this.Hb.sG(this.nt):this.ii.Gz(this.ii.If)};l.prototype.RV=function(){if(!this.Fq){if(!this.td.Ta())return this.Jc=!0,!1;this.Xb=1;return!0}if(-1==--this.No)return this.Jc=!0,!1;this.Gq?this.$U.Sj(this.No,this.Bt):this.ZU.Sj(this.No,this.Bt);this.ex.vi(this.Bt,this.qa);this.Xb=2;return!0};l.prototype.SV=function(){if(!this.td.Aa())return this.Xb=0,!0;var c=this.td.aa();this.ex.wn(c,this.qa);this.Xb=2;return!0};l.prototype.DA=function(){this.nt=this.ex.next();return-1==this.nt?(this.Xb=this.Fq?0:1,
!0):!1};return l}();g.km=u})(J||(J={}));(function(g){g=g.WM||(g.WM={});g[g.enumClosed=1]="enumClosed";g[g.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";g[g.enumOGCStartPolygon=4]="enumOGCStartPolygon";g[g.enumCalcMask=4]="enumCalcMask"})(J||(J={}));(function(g){g.xD=function(){function u(){}u.vb=function(l,c,a,b,d,e,f,h,k){var m=[0,0,0],n=[0,0,0],p=[0,0,0],q=[0,0,0,0],r=new g.da(0),t=new g.da(0),v=new g.da(0);if(null!=f||null!=h||null!=k)if(g.l.Ai(c))g.gh.vb(l,a,b,d,e,f,h,k);else{d=g.C.ba(d);
a=g.C.ba(a);var E=g.C.ba(d-a);if(g.l.V(b,e)&&(g.l.V(a,d)||g.l.V(g.l.J(b),1.570796326794897)))null!=f&&(f.j=0),null!=h&&(h.j=0),null!=k&&(k.j=0);else{if(g.l.V(b,-e)){if(g.l.V(g.l.J(b),1.570796326794897)){null!=f&&(f.j=2*g.C.Hg(l,c));null!=h&&(h.j=0<b?g.C.ba(3.141592653589793-g.C.ba(d)):g.C.ba(d));null!=k&&(k.j=0<b?g.C.ba(d):g.C.ba(3.141592653589793-g.C.ba(d)));return}g.l.V(g.l.J(E),3.141592653589793)&&(null!=f&&(f.j=2*g.C.Hg(l,c)),null!=h&&(h.j=0),null!=k&&(k.j=0))}else{if(g.l.V(g.l.J(b),1.570796326794897)||
g.l.V(g.l.J(e),1.570796326794897)){g.$k.vb(l,c,a,b,d,e,f,h,k);return}if(g.l.V(a,d)||g.l.V(g.l.J(E),3.141592653589793)){g.$k.vb(l,c,a,b,d,e,f,h,k);return}if(g.l.qd(b)){g.$k.vb(l,c,a,b,d,e,f,h,k);return}}var O=Math.sqrt(1-c);d=g.C.ba(d-a);a=0;g.C.hk(1,c,b,a,0,r,t,v);m[0]=r.j;m[1]=t.j;m[2]=v.j;g.C.hk(1,c,e,d,0,r,t,v);n[0]=r.j;n[1]=t.j;n[2]=v.j;p[0]=0;p[1]=0;p[2]=-1*c*g.C.n(1,c,b)*Math.sin(b);0>d?g.C.pr(p,n,m,q,0):g.C.pr(p,m,n,q,0);t=[0,0,0];v=[0,0,0];var M=[0,0,0];m=[0,0,0];r=[0,0,0];var S=Math.acos(q[2]/
1),da=1-c,ca=Math.tan(S),fa=1+ca*ca/da,qa=2*p[2]*ca/da;ca=Math.sqrt(qa*qa-4*fa*(p[2]*p[2]/da-1));fa*=2;da=(-qa+ca)/fa;qa=(-qa-ca)/fa;ca=Math.tan(S);fa=ca*da+p[2];S=(da+qa)/2;p=(fa+(ca*qa+p[2]))/2;ca=g.C.wp(da-S,fa-p);da=p/O*1.570796326794897;for(qa=0;100>qa;qa++){fa=g.C.gm(c,da);fa=fa*fa/Math.cos(da)*(Math.sin(da)-p*fa/(1-c));if(g.l.qd(fa))break;da-=fa}p=g.C.n(1,c,da)*Math.cos(da);p=Math.sqrt((p-S)*(p+S));ca=1-ca/p;ca*=2-ca;fa=g.C.Fn(t);S=g.C.Fn(v);da=g.C.Fn(M);var ya=g.C.Au(M,t);qa=g.C.Au(M,v);g.C.ey(M,
t,m);g.C.ey(M,v,r);t=Math.acos(ya/(da*fa));v=Math.acos(qa/(da*S));v*=g.l.ub(1,g.C.Au(m,r));if(1.570796326794897<=g.l.J(t)&&1.570796326794897<=g.l.J(v)||3.141592653589793<g.l.J(t-v))t=(3.141592653589793-g.l.J(t))*g.l.ub(1,t),v=(3.141592653589793-g.l.J(v))*g.l.ub(1,v);m=g.C.Rj(ca,v);r=g.C.q(p,ca,g.C.Rj(ca,t));m=g.C.q(p,ca,m);m=g.l.J(m-r)*l;t=new g.da(0);v=new g.da(0);M=q[1]/1;M*=-g.l.ub(1,E);r=Math.acos(M)*g.l.ub(1,E);u.Bf(l,c,a,b,m,r,t,v);g.l.V(d,t.j)&&g.l.V(e,v.j)||(ca=g.C.wp(g.C.ba(d-t.j),e-v.j),
u.Bf(l,c,a,b,m,g.C.ba(r+3.141592653589793),t,v),fa=g.C.wp(g.C.ba(d-t.j),e-v.j),fa<ca&&(r=g.C.ba(r+3.141592653589793)));t=[0,0,0,0];v=[0,0,0,0];p=[0,0,0];ca=[0,0,0];l=[0,0,0];a=[0,0,0];b=[0,0,0];M=[0,0,0];p[0]=0;p[1]=0;p[2]=O;ca[0]=0;ca[1]=0;ca[2]=0;g.C.pr(ca,p,n,t,0);g.l.qd(e)?(l[0]=n[0],l[1]=n[1],l[2]=1,a[0]=1*Math.cos(d)-1*Math.sin(d),a[1]=1*Math.sin(d)+1*Math.cos(d)):(c=g.C.n(1,c,e)*Math.cos(e),l[0]=0,l[1]=0,n[2]+=Math.tan(1.570796326794897-g.l.J(e))*c*g.l.ub(1,e),a[0]=c*Math.cos(d)-c*Math.sin(d),
a[1]=c*Math.sin(d)+c*Math.cos(d));a[2]=n[2];g.C.pr(n,a,l,v,1);g.C.ey(v,t,b);g.C.ey(v,q,M);M=g.C.Au(b,M)/(g.C.Fn(b)*g.C.Fn(M));M*=g.l.ub(1,E);d=Math.acos(M)*-g.l.ub(1,E);0<r&&0<d?d=g.C.ba(d+3.141592653589793):0>r&&0>d&&(d=g.C.ba(d+3.141592653589793));null!=f&&(f.j=m);null!=h&&(h.j=r);null!=k&&(k.j=d)}}};u.Bf=function(l,c,a,b,d,e,f,h){var k=[0,0,0],m=[0,0,0],n=[0,0,0],p=[0,0,0],q=[0,0,0],r=[0,0,0],t=[0,0,0],v=[0,0,0,0],E=new g.da(0),O=new g.da(0),M=new g.da(0),S=new g.da(0),da=new g.da(0),ca=new g.da(0);
if(null!=f&&null!=h)if(g.l.Ai(c))g.gh.Bf(l,a,b,d,e,f,h);else if(g.l.qd(d))null!=f&&(f.j=a),null!=h&&(h.j=b);else if(e=g.C.ba(e),0>d&&(d=g.l.J(d),e=g.C.ba(e+3.141592653589793)),a=g.C.ba(a),b=g.C.ba(b),1.570796326794897<g.l.J(b)&&(a=g.C.ba(a+3.141592653589793),b=g.l.ub(3.141592653589793,b)-b),g.l.V(g.l.J(b),1.570796326794897)||g.l.qd(b)||g.l.qd(e)||g.l.V(g.l.J(e),3.141592653589793))g.$k.Bf(l,c,a,b,d,e,f,h);else{var fa=Math.sqrt(1-c);l=d/l;g.C.hk(1,c,b,0,0,S,da,ca);k[0]=S.j;k[1]=da.j;k[2]=da.j;t[0]=
0;t[1]=0;t[2]=-1*c*g.C.n(1,c,b)*Math.sin(b);S=g.C.n(1,c,b);da=g.C.ba(1.570796326794897-e);ca=Math.sin(da);d=Math.cos(b);b=Math.sin(b);q[0]=S*d-b*ca;q[1]=Math.cos(da);q[2]=(1-c)*S*b+d*ca;0>e?g.C.pr(t,q,k,v,0):g.C.pr(t,k,q,v,0);k=Math.acos(v[2]/1);v=Math.atan2(-v[1],-v[0]);b=1-c;q=Math.tan(k);da=1+q*q/b;S=2*t[2]*q/b;q=Math.sqrt(S*S-4*da*(t[2]*t[2]/b-1));da*=2;b=(-S+q)/da;S=(-S-q)/da;q=Math.tan(k);da=q*b+t[2];k=(b+S)/2;t=(da+(q*S+t[2]))/2;q=g.C.wp(b-k,da-t);fa=t/fa*1.570796326794897;for(b=0;100>b;b++){S=
g.C.gm(c,fa);S=S*S/Math.cos(fa)*(Math.sin(fa)-t*S/(1-c));if(g.l.qd(S))break;fa-=S}fa=g.C.n(1,c,fa)*Math.cos(fa);fa=Math.sqrt((fa-k)*(fa+k));t=1-q/fa;t*=2-t;r=Math.acos(g.C.Au(r,m)/(g.C.Fn(r)*g.C.Fn(m)));r*=g.l.ub(1,m[0]);e=(g.C.q(fa,t,g.C.Rj(t,r))+l*g.l.ub(1,e))/g.C.Hg(fa,t);e=g.C.ba(1.570796326794897*e);e=g.C.kr(t,e);g.C.n(fa,t,e);q=g.C.ba(v+a);a=Math.cos(q);e=Math.sin(q);n[0]=p[0]*a+p[1]*-e;n[1]=p[0]*e+p[1]*a;n[2]=p[2];g.C.sP(c,n[0],n[1],n[2],M,O,E);null!=f&&(f.j=O.j);null!=h&&(h.j=M.j)}};return u}()})(J||
(J={}));(function(g){var u=function(){function d(e){this.Xa=null;this.fu=new g.b;this.gu=new g.b;this.a=e}d.prototype.compare=function(e,f,h){this.a.Hc(f,this.fu);this.a.Hc(e.ga(h),this.gu);return this.fu.compare(this.gu)};return d}(),l=function(){function d(e){this.Jf=new g.b;this.Lk=new g.b;this.a=e}d.prototype.Hh=function(e){this.Jf.K(e)};d.prototype.compare=function(e,f){this.a.Hc(e.ga(f),this.Lk);return this.Jf.compare(this.Lk)};return d}(),c=function(d){function e(f){var h=d.call(this,f.a,f.qa,
!1)||this;h.Ya=f;return h}ma(e,d);e.prototype.compare=function(f,h,k){if(this.yg)return-1;var m=this.Ya.Ud.ao(this.Ya.Xh(h));f=f.ga(k);var n=this.Ya.Ud.ao(this.Ya.Xh(f));this.Qm=k;return this.CF(h,m,f,n)};return e}(g.CD),a=function(d){function e(f){var h=d.call(this,f.a,f.qa)||this;h.Ya=f;return h}ma(e,d);e.prototype.compare=function(f,h){if(this.yg)return-1;f=this.Ya.Ud.ao(this.Ya.Xh(f.ga(h)));this.Qm=h;return this.DF(h,f)};return e}(g.hN),b=function(){function d(){this.Nc=this.nf=this.Co=this.Ud=
this.rh=this.Cd=this.eb=this.a=null;this.Tg=!1;this.Ch=this.$m=this.qe=this.Nk=this.th=this.Ik=this.Nf=this.ge=null;this.Eh=this.br=this.EB=this.qa=0;this.Ew=this.po=!1;this.So=new g.b;this.Vi=new g.b;this.eb=new g.ad(8);this.Cd=new g.ad(5);this.rh=new g.Iu;this.Ud=new g.Iu;this.Tg=!1;this.Ch=new g.b;this.Ch.ka(0,0);this.qa=0;this.Eh=-1;this.po=!1;this.a=null;this.nf=new g.bk;this.Nc=new g.bk;this.th=new g.ha(0);this.Nk=new g.AD;this.Nf=new g.ha(0);this.Ik=new g.ha(0);this.Co=new g.Ra}d.prototype.uZ=
function(e,f){var h=new g.xd;h.HC();e.Qc(h);this.zr(e);this.po=!1;this.qa=f;this.EB=f*f;f=this.SC();e.Qc(h);f||(this.CR(),f||this.SC());-1!=this.Eh&&(this.a.Xd(this.Eh),this.Eh=-1);this.a=null;return this.po};d.prototype.yZ=function(e,f){this.zr(e);this.po=!1;this.qa=f;this.EB=f*f;this.Tg=!1;this.SC();this.Tg||(this.Tg=1==e.$p(f,!0,!1));-1!=this.Eh&&(this.a.Xd(this.Eh),this.Eh=-1);this.a=null};d.prototype.vg=function(e,f){return this.eb.S(e,0+f)};d.prototype.vC=function(e,f,h){this.eb.P(e,0+f,h)};
d.prototype.Xh=function(e){return this.eb.S(e,2)};d.prototype.BY=function(e,f){this.eb.P(e,2,f)};d.prototype.DG=function(e,f){return this.eb.S(e,3+f)};d.prototype.kq=function(e){return this.eb.S(e,7)};d.prototype.$l=function(e,f){this.eb.P(e,7,f)};d.prototype.lq=function(e,f){return this.eb.S(e,3+this.jq(e,f))};d.prototype.Ar=function(e,f,h){this.eb.P(e,3+this.jq(e,f),h)};d.prototype.dT=function(e,f){return this.eb.S(e,5+this.jq(e,f))};d.prototype.Cr=function(e,f,h){this.eb.P(e,5+this.jq(e,f),h)};
d.prototype.ts=function(e){return this.Cd.S(e,0)};d.prototype.xY=function(e,f){this.Cd.P(e,0,f)};d.prototype.Kz=function(e){return this.Cd.S(e,4)};d.prototype.wr=function(e,f){this.Cd.P(e,4,f)};d.prototype.pl=function(e){return this.Cd.S(e,1)};d.prototype.Bn=function(e,f){this.Cd.P(e,1,f)};d.prototype.Jz=function(e){return this.Cd.S(e,3)};d.prototype.pu=function(e,f){this.Cd.P(e,3,f)};d.prototype.mn=function(e){var f=this.Cd.Ke(),h=this.rh.Th();this.xY(f,h);-1!=e?(this.rh.addElement(h,e),this.a.Qa(e,
this.Eh,f),this.wr(f,this.a.Ua(e))):this.wr(f,-1);return f};d.prototype.SQ=function(e){this.Cd.jd(e)};d.prototype.xE=function(e,f){this.rh.addElement(this.ts(e),f);this.a.Qa(f,this.Eh,e)};d.prototype.Wt=function(e){var f=this.eb.Ke(),h=this.Ud.Th();this.BY(f,h);-1!=e&&this.Ud.addElement(h,e);return f};d.prototype.yE=function(e,f){this.Ud.addElement(this.Xh(e),f)};d.prototype.Cv=function(e){this.eb.jd(e);e=this.th.ZF(e);0<=e&&this.th.kX(e)};d.prototype.nj=function(e,f){if(-1==this.vg(e,0))this.vC(e,
0,f);else if(-1==this.vg(e,1))this.vC(e,1,f);else throw g.f.za();this.Qy(e,f)};d.prototype.Qy=function(e,f){var h=this.pl(f);if(-1!=h){var k=this.lq(h,f);this.Cr(k,f,e);this.Ar(e,f,k);this.Ar(h,f,e);this.Cr(e,f,h)}else this.Cr(e,f,e),this.Ar(e,f,e),this.Bn(f,e)};d.prototype.jq=function(e,f){return this.vg(e,0)==f?0:1};d.prototype.ln=function(e,f){var h=this.Jz(f);-1!=h&&(this.nf.zd(h,-1),this.pu(f,-1));var k;h=this.pl(f);if(-1!=h){var m=k=h;do{var n=!1,p=this.jq(k,f),q=this.DG(k,p);if(this.vg(k,p+
1&1)==e){this.Ev(k);this.Ud.kh(this.Xh(k));this.Cv(k);if(k==q){h=-1;break}h==k&&(h=this.pl(f),m=q,n=!0)}k=q}while(k!=m||n);if(-1!=h){do p=this.jq(k,f),q=this.DG(k,p),this.vC(k,p,e),k=q;while(k!=m);k=this.pl(e);-1!=k?(m=this.lq(k,e),n=this.lq(h,e),m==k?(this.Bn(e,h),this.Qy(k,e),this.Bn(e,k)):n==h&&this.Qy(h,e),this.Ar(h,e,m),this.Cr(m,e,h),this.Ar(k,e,n),this.Cr(n,e,k)):this.Bn(e,h)}}h=this.ts(e);k=this.ts(f);for(m=this.rh.sc(k);-1!=m;m=this.rh.hb(m))this.a.Qa(this.rh.ga(m),this.Eh,e);this.rh.lz(h,
k);this.SQ(f)};d.prototype.mV=function(e,f){var h=this.vg(e,0),k=this.vg(e,1),m=this.vg(f,0),n=this.vg(f,1);this.Ud.lz(this.Xh(e),this.Xh(f));f==this.pl(h)&&this.Bn(h,e);f==this.pl(k)&&this.Bn(k,e);this.Ev(f);this.Cv(f);h==m&&k==n||k==m&&h==n||(this.Zn(h,this.So),this.Zn(m,this.Vi),this.So.qb(this.Vi)?(h!=m&&this.ln(h,m),k!=n&&this.ln(k,n)):(k!=m&&this.ln(k,m),h!=n&&this.ln(h,n)))};d.prototype.Ev=function(e){var f=this.vg(e,1);this.QF(e,this.vg(e,0));this.QF(e,f)};d.prototype.QF=function(e,f){var h=
this.lq(e,f),k=this.dT(e,f),m=this.pl(f);h!=e?(this.Ar(k,f,h),this.Cr(h,f,k),m==e&&this.Bn(f,h)):this.Bn(f,-1)};d.prototype.IE=function(e,f,h){var k=this.Ud.sc(e),m=this.Ud.ga(k);e=this.Qe(m);var n=this.Qe(this.a.T(m));this.a.Fr(m,f,h,!0);for(k=this.Ud.hb(k);-1!=k;k=this.Ud.hb(k)){m=this.Ud.ga(k);var p=this.Qe(m)==e;this.a.Fr(m,f,h,p)}k=f.nq(h,0).ac();f=f.nq(h,f.ul(h)-1).wc();this.IL(e,k);this.IL(n,f)};d.prototype.KF=function(e,f,h){var k=this.Xh(e),m=this.vg(e,0),n=this.vg(e,1),p=this.Wt(-1);this.th.add(p);
this.$l(p,-3);this.Nf.add(p);this.nj(p,m);e=1;for(f=f.ul(h);e<f;e++)h=this.mn(-1),this.Ik.add(h),this.Nf.add(h),this.nj(p,h),p=this.Wt(-1),this.th.add(p),this.$l(p,-3),this.Nf.add(p),this.nj(p,h);this.nj(p,n);for(k=this.Ud.sc(k);-1!=k;k=this.Ud.hb(k))if(n=this.Ud.ga(k),this.Qe(n)==m){e=0;do 0<e&&(p=this.Nf.get(e-1),this.xE(p,n),-1==this.Kz(p)&&this.wr(p,this.a.Ua(n))),p=this.Nf.get(e),e+=2,this.yE(p,n),n=this.a.T(n);while(e<this.Nf.size)}else{e=this.Nf.size-1;do e<this.Nf.size-2&&(p=this.Nf.get(e+
1),this.xE(p,n),0>this.Kz(p)&&this.wr(p,this.a.Ua(n))),p=this.Nf.get(e),e-=2,this.yE(p,n),n=this.a.T(n);while(0<=e)}this.Nf.clear(!1)};d.prototype.Qe=function(e){return this.a.Na(e,this.Eh)};d.prototype.KJ=function(e,f,h){var k=this.vg(f,0),m=new g.b;this.Zn(k,m);var n=new g.b,p=this.vg(f,1);this.Zn(p,n);var q=h.ul(e),r=h.nq(e,0),t=new g.b;r.qq(t);if(!m.qb(t)){if(!this.Tg){var v=m.compare(this.Ch);t=t.compare(this.Ch);0>v*t&&(this.Tg=!0)}this.iG(k,this.Nf);this.Ik.add(k)}!this.Tg&&1<q&&(v=m.compare(n),
r=r.wc(),m.compare(r)!=v||r.compare(n)!=v?this.Tg=!0:0>r.compare(this.Ch)&&(this.Tg=!0));r=h.nq(e,q-1);e=r.wc();n.qb(e)||(this.Tg||(v=n.compare(this.Ch),t=e.compare(this.Ch),0>v*t&&(this.Tg=!0)),this.iG(p,this.Nf),this.Ik.add(p));this.Nf.add(f);n=0;for(p=this.Nf.size;n<p;n++)e=this.Nf.get(n),h=this.kq(e),g.ad.xH(h)&&(this.Nc.zd(h,-1),this.$l(e,-1)),e!=f&&-3!=this.kq(e)&&(this.th.add(e),this.$l(e,-3));this.Nf.clear(!1)};d.prototype.vP=function(e,f){this.ge.compare(this.Nc,this.Nc.ga(e),f);this.ge.yg&&
(this.ge.ks(),this.bG(e,f))};d.prototype.bG=function(e,f){this.po=!0;e=this.Nc.ga(e);f=this.Nc.ga(f);var h=this.Ud.ao(this.Xh(e)),k=this.Ud.ao(this.Xh(f)),m=this.a.ec(h);null==m&&(null==this.qe&&(this.qe=new g.zb),this.a.gd(h,this.qe),m=this.qe);h=this.a.ec(k);null==h&&(null==this.$m&&(this.$m=new g.zb),this.a.gd(k,this.$m),h=this.$m);this.Nk.gp(m);this.Nk.gp(h);this.Nk.Ia(this.qa,!0)&&(this.Tg=!0);this.mL(e,f,-1,this.Nk);this.Nk.clear()};d.prototype.SR=function(e,f){this.po=!0;f=this.Nc.ga(f);var h=
this.Ud.ao(this.Xh(f)),k=this.a.ec(h);null==k&&(null==this.qe&&(this.qe=new g.zb),this.a.gd(h,this.qe),k=this.qe);h=this.oG(e);this.Nk.gp(k);this.a.bj(h,this.Co);this.Nk.rA(this.qa,this.Co,!0);this.mL(f,-1,e,this.Nk);this.Nk.clear()};d.prototype.ST=function(){if(0!=this.th.size)for(;0!=this.th.size;){if(this.th.size>Math.max(100,this.a.hd)){this.th.clear(!1);this.Tg=!0;break}var e=this.th.Gc();this.th.Rf();this.$l(e,-1);-1!=this.pU(e)&&this.RT(e);this.oo=!1}};d.prototype.RT=function(e){if(this.oo){var f=
this.Nc.fv(this.BI,this.wI,e,!0);this.oo=!1}else f=this.Nc.wE(e);-1==f?this.mV(this.Nc.ga(this.Nc.rG()),e):(this.$l(e,f),this.ge.yg&&(this.ge.ks(),this.bG(this.ge.Qm,f)))};d.prototype.pU=function(e){var f=this.vg(e,0);e=this.vg(e,1);this.Zn(f,this.So);this.Zn(e,this.Vi);if(g.b.oc(this.So,this.Vi)<=this.EB)return this.Tg=!0,-1;var h=this.So.compare(this.Ch),k=this.Vi.compare(this.Ch);return 0>=h&&0<k?e:0>=k&&0<h?f:-1};d.prototype.AR=function(){var e=new g.ha(0);e.Db(this.a.hd);for(var f=this.a.rr(),
h=f.next();-1!=h;h=f.next())-1!=this.a.Na(h,this.Eh)&&e.add(h);this.a.Vx(e,e.size);this.BR(e)};d.prototype.BR=function(e){this.nf.clear();this.nf.Le(e.size);this.nf.kp(new u(this.a));var f=new g.b;f.Tc();for(var h=-1,k=new g.b,m=0,n=e.size;m<n;m++){var p=e.get(m);this.a.Hc(p,k);k.qb(f)?(p=this.a.Na(p,this.Eh),this.ln(h,p)):(h=this.Qe(p),this.a.Hc(p,f),p=this.nf.Qn(p),this.pu(h,p))}};d.prototype.CR=function(){var e=new g.ha(0);e.Db(this.a.hd);for(var f=this.nf.sc(-1);-1!=f;f=this.nf.hb(f))e.add(this.nf.ga(f));
this.nf.clear();this.a.Vx(e,e.size);f=0;for(var h=e.size;f<h;f++){var k=e.get(f),m=this.Qe(k);k=this.nf.Qn(k);this.pu(m,k)}};d.prototype.iG=function(e,f){var h=this.pl(e);if(-1!=h){var k=h;do g.ad.xH(this.kq(k))&&f.add(k),k=this.lq(k,e);while(k!=h)}};d.prototype.IL=function(e,f){for(e=this.rh.sc(this.ts(e));-1!=e;e=this.rh.hb(e))this.a.wf(this.rh.ga(e),f)};d.prototype.mL=function(e,f,h,k){this.Ev(e);-1!=f&&this.Ev(f);this.KJ(0,e,k);-1!=f&&this.KJ(1,f,k);-1!=h&&(k.Jf.w(this.So),this.Zn(h,this.Vi),
this.Vi.qb(this.So)||this.Ik.add(h));h=0;for(var m=this.Ik.size;h<m;h++){var n=this.Ik.get(h),p=this.Jz(n);-1!=p&&(this.nf.zd(p,-1),this.pu(n,-1))}h=this.Xh(e);m=-1!=f?this.Xh(f):-1;this.IE(h,k,0);-1!=f&&this.IE(m,k,1);this.KF(e,k,0);-1!=f&&this.KF(f,k,1);this.Ud.kh(h);this.Cv(e);-1!=f&&(this.Ud.kh(m),this.Cv(f));h=0;for(m=this.Ik.size;h<m;h++)n=this.Ik.get(h),n==this.br&&(this.Ew=!0),p=this.Jz(n),-1==p&&(p=this.nf.wE(this.oG(n)),-1==p?(e=this.Qe(this.nf.ga(this.nf.rG())),this.ln(e,n)):this.pu(n,
p));this.Ik.clear(!1)};d.prototype.Zn=function(e,f){this.a.PG(this.Kz(e),f)};d.prototype.oG=function(e){return this.rh.ao(this.ts(e))};d.prototype.SC=function(){this.Ew=!1;this.br=-1;null==this.ge&&(this.Nc.yw=!1,this.ge=new c(this),this.Nc.so=this.ge);var e=new g.ha(0),f=null,h=null;this.wI=this.BI=-1;this.oo=!1;for(var k=this.nf.sc(-1);-1!=k;){this.oo=!1;var m=this.nf.ga(k);this.br=this.Qe(m);this.a.Hc(m,this.Ch);this.ge.dL(this.Ch.y,this.Ch.x);var n=this.pl(this.br),p=-1==n;if(!p){m=n;do{var q=
this.kq(m);-1==q?(this.th.add(m),this.$l(m,-3)):-3!=q&&e.add(q);m=this.lq(m,this.br)}while(m!=n)}if(0<e.size){this.oo=1==e.size&&1==this.th.size;p=0;for(n=e.size;p<n;p++)m=this.Nc.ga(e.get(p)),this.$l(m,-2);var r=-2,t=-2;p=0;for(n=e.size;p<n;p++){q=e.get(p);if(-2==r){var v=this.Nc.Be(q);-1!=v?(m=this.Nc.ga(v),m=this.kq(m),-2!=m&&(r=v)):r=-1}-2==t&&(q=this.Nc.hb(q),-1!=q?(m=this.Nc.ga(q),m=this.kq(m),-2!=m&&(t=q)):t=-1);if(-2!=r&&-2!=t)break}p=0;for(n=e.size;p<n;p++)q=e.get(p),m=this.Nc.ga(q),this.Nc.zd(q,
-1),this.$l(m,-1);e.clear(!1);this.BI=-1!=r?r:-1;this.wI=-1!=t?t:-1;-1!=r&&-1!=t?this.oo||this.vP(r,t):-1==r&&-1==t&&(this.oo=!1)}else p&&(null==f&&(f=new a(this)),f.Hh(this.Ch),this.Nc.yK(f),f.yg&&(f.ks(),this.SR(this.br,f.Qm)));this.ST();this.Ew?(this.Ew=!1,null==h&&(h=new l(this.a)),h.Hh(this.Ch),k=this.nf.yK(h)):k=this.nf.hb(k)}return this.po};d.prototype.zr=function(e){this.a=e;this.Eh=this.a.Kd();this.eb.Le(e.hd+32);this.Cd.Le(e.hd);this.rh.lu(e.hd);this.rh.vn(e.hd);this.Ud.lu(e.hd+32);this.Ud.vn(e.hd+
32);for(e=this.a.ld;-1!=e;e=this.a.Ae(e))if(g.R.Bc(this.a.dc(e)))for(q=this.a.Kb(e);-1!=q;q=this.a.Qb(q)){var f=this.a.Ha(q),h=this.a.Za(q),k=this.mn(h),m=this.Wt(h);this.nj(m,k);r=this.a.T(h);h=0;for(f-=2;h<f;h++){var n=this.a.T(r),p=this.mn(r);this.nj(m,p);m=this.Wt(r);this.nj(m,p);r=n}this.a.Lb(q)?(p=this.mn(r),this.nj(m,p),m=this.Wt(r),this.nj(m,p),this.nj(m,k)):(p=this.mn(r),this.nj(m,p))}else for(var q=this.a.Kb(e);-1!=q;q=this.a.Qb(q)){var r=this.a.Za(q);k=0;for(f=this.a.Ha(q);k<f;k++)this.mn(r),
r=this.a.T(r)}this.AR()};return d}();g.yD=b})(J||(J={}));(function(g){var u=function(l){function c(a,b,d){var e=l.call(this)||this;if(void 0!==a)if(void 0!==d){e.description=g.ke.ug();var f=new g.Id;f.H(a,b,d);e.LC(f)}else if(void 0!==b)e.description=g.ke.ug(),e.nb(a,b);else if(a instanceof g.oa)e.description=a;else if(a instanceof g.b)e.description=g.ke.ug(),e.nb(a);else if(a instanceof c)e.description=a.description,e.nb(a.Ce(),a.lf()),null!==a.ia&&(e.ia=a.ia.slice(0));else throw g.f.I();else e.description=
g.ke.ug();return e}ma(c,l);c.prototype.w=function(a){if(void 0!==a){if(this.Ac())throw g.f.Y("This operation should not be performed on an empty geometry.");a.ka(this.ia[0],this.ia[1])}else{if(this.Ac())throw g.f.Y("This operation should not be performed on an empty geometry.");a=new g.b;a.ka(this.ia[0],this.ia[1]);return a}};c.prototype.nb=function(a,b){"number"===typeof a?(this.vc(),null==this.ia&&this.Mp(),this.ia[0]=a,this.ia[1]=b):(this.vc(),this.nb(a.x,a.y))};c.prototype.kA=function(){if(this.Ac())throw g.f.Y("This operation should not be performed on an empty geometry.");
var a=new g.Id;a.x=this.ia[0];a.y=this.ia[1];a.z=this.description.VG()?this.ia[2]:g.oa.me(1);return a};c.prototype.LC=function(a){this.vc();var b=this.hasAttribute(1);b||g.oa.pH(1,a.z)||(this.le(1),b=!0);null==this.ia&&this.Mp();this.ia[0]=a.x;this.ia[1]=a.y;b&&(this.ia[2]=a.z)};c.prototype.Ce=function(){if(this.Ac())throw g.f.Y("This operation should not be performed on an empty geometry.");return this.ia[0]};c.prototype.KC=function(a){this.setAttribute(0,0,a)};c.prototype.lf=function(){if(this.Ac())throw g.f.Y("This operation should not be performed on an empty geometry.");
return this.ia[1]};c.prototype.eL=function(a){this.setAttribute(0,1,a)};c.prototype.vT=function(){return this.Rc(1,0)};c.prototype.$Y=function(a){this.setAttribute(1,0,a)};c.prototype.OS=function(){return this.Rc(2,0)};c.prototype.KY=function(a){this.setAttribute(2,0,a)};c.prototype.xc=function(){return this.lG(3,0)};c.prototype.PK=function(a){this.setAttribute(3,0,a)};c.prototype.Rc=function(a,b){var d=this.description.Yf(a);return 0<=d?this.ia[this.description.dk(d)+b]:g.oa.me(a)};c.prototype.lG=
function(a,b){var d=this.description.Yf(a);return 0<=d?this.ia[this.description.dk(d)+b]:g.oa.me(a)};c.prototype.setAttribute=function(a,b,d){this.vc();var e=this.description.Yf(a);0>e&&(this.le(a),e=this.description.Yf(a));null==this.ia&&this.Mp();this.ia[this.description.dk(e)+b]=d};c.prototype.F=function(){return 33};c.prototype.pb=function(){return 0};c.prototype.Ka=function(){this.vc();null!=this.ia&&(this.ia[0]=NaN,this.ia[1]=NaN)};c.prototype.Ln=function(a){if(null!=this.ia){for(var b=g.ke.ox(a,
this.description),d=[],e=0,f=0,h=a.Ca;f<h;f++){var k=a.kd(f),m=g.oa.Sa(k);if(-1==b[f]){var n=g.oa.me(k);for(k=0;k<m;k++)d[e]=n,e++}else for(n=this.description.dk(b[f]),k=0;k<m;k++)d[e]=this.ia[n],e++,n++}this.ia=d}this.description=a};c.prototype.Mp=function(){this.pK(this.description.Ge.length);c.PE(this.description.Ge,this.ia,this.description.Ge.length);this.ia[0]=NaN;this.ia[1]=NaN};c.prototype.Qc=function(a){if(a instanceof g.xd){if(!this.Ac()){var b=this.w();a.Zj(b,b);this.nb(b)}}else this.Ac()||
(this.le(1),b=this.kA(),this.LC(a.vp(b)))};c.prototype.copyTo=function(a){if(33!=a.F())throw g.f.I();a.vc();null==this.ia?(a.Ka(),a.ia=null,a.rg(this.description)):(a.rg(this.description),a.pK(this.description.Ge.length),c.PE(this.ia,a.ia,this.description.Ge.length))};c.prototype.Ea=function(){return new c(this.description)};c.prototype.u=function(){return this.Ac()};c.prototype.Ac=function(){return null==this.ia||isNaN(this.ia[0])||isNaN(this.ia[1])};c.prototype.qn=function(a){a.Ka();this.description!=
a.description&&a.rg(this.description);a.Nb(this)};c.prototype.s=function(a){this.Ac()?a.Ka():(a.o=this.ia[0],a.A=this.ia[1],a.v=this.ia[0],a.B=this.ia[1])};c.prototype.ip=function(a){if(this.Ac())a.Ka();else{var b=this.kA();a.o=b.x;a.A=b.y;a.ef=b.z;a.v=b.x;a.B=b.y;a.Lg=b.z}};c.prototype.Qf=function(a,b){var d=new g.uc;if(this.Ac())return d.Ka(),d;a=this.Rc(a,b);d.fa=a;d.ja=a;return d};c.prototype.pK=function(a){if(null==this.ia)this.ia=g.L.Xf(a);else if(this.ia.length<a){for(var b=this.ia.slice(0),
d=this.ia.length;d<a;d++)b[d]=0;this.ia=b}};c.PE=function(a,b,d){if(0<d)for(d=0;d<a.length;d++)b[d]=a[d]};c.prototype.Ib=function(a){if(a==this)return!0;if(!(a instanceof c)||this.description!=a.description)return!1;if(this.Ac())return a.Ac()?!0:!1;for(var b=0,d=this.description.Ge.length;b<d;b++)if(this.ia[b]!=a.ia[b])return!1;return!0};c.prototype.fc=function(){var a=this.description.fc();if(!this.Ac())for(var b=0,d=this.description.Ge.length;b<d;b++){var e=this.ia[b];e=g.L.truncate(e^e>>>32);a=
g.L.Zh(e,a)}return a};c.prototype.sg=function(){return null};return c}(g.R);g.Ra=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b){void 0!==c&&(this.x=c,this.y=a,this.z=b)}l.construct=function(c,a,b){var d=new l;d.x=c;d.y=a;d.z=b;return d};l.prototype.H=function(c,a,b){this.x=c;this.y=a;this.z=b};l.prototype.Tx=function(){this.z=this.y=this.x=0};l.prototype.normalize=function(){var c=this.length();0==c&&(this.x/=c,this.y/=c,this.z/=c)};l.prototype.length=function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)};l.prototype.sub=function(c){return new l(this.x-c.x,this.y-c.y,this.z-c.z)};l.prototype.Gg=function(c){new l(this.x*c,this.y*c,this.z*c)};l.prototype.iE=function(){this.x=NaN};l.prototype.Ey=function(){return isNaN(this.x)};l.prototype.Vh=function(c){return this.x*c.x+this.y*c.y+this.z*c.z};return l}();g.Id=u})(J||(J={}));(function(g){var u=function(){function l(c,a,b){this.mx=this.mB=null;this.eg=a;this.YU=a.y-b;this.XU=a.y+b;this.ir=0;this.OA=c;this.qa=b;this.jV=
b*b;this.PA=0!=b;this.tw=!1}l.prototype.result=function(){return 0!=this.ir?1:0};l.prototype.hO=function(c){c=c.cc(c.ae(this.eg,!1));return g.b.oc(c,this.eg)<=this.jV?!0:!1};l.prototype.TF=function(c){if(!this.PA&&(this.OA&&this.eg.qb(c.ac())||this.eg.qb(c.wc())))this.tw=!0;else if(c.na==this.eg.y&&c.na==c.ma){if(this.OA&&!this.PA){var a=Math.max(c.ra,c.pa);this.eg.x>Math.min(c.ra,c.pa)&&this.eg.x<a&&(this.tw=!0)}}else{var b=!1;a=Math.max(c.ra,c.pa);this.eg.x>a?b=!0:this.eg.x>=Math.min(c.ra,c.pa)&&
(b=0<c.uq(!0,this.eg.y,this.mx,null)&&this.mx[0]<=this.eg.x);if(b){if(this.eg.y==c.ac().y){if(this.eg.y<c.wc().y)return}else if(this.eg.y==c.wc().y&&this.eg.y<c.ac().y)return;this.ir=this.OA?this.ir^1:this.ir+(c.ac().y>c.wc().y?1:-1)}}};l.prototype.du=function(c){var a=c.Qf(0,1);if(a.fa>this.XU||a.ja<this.YU)return!1;if(this.PA&&this.hO(c))return!0;if(a.fa>this.eg.y||a.ja<this.eg.y)return!1;null==this.mB&&(this.mB=[null,null,null,null,null]);null==this.mx&&(this.mx=[0,0,0]);a=c.QG();if(0<a)for(c=
0;c<a;c++){var b=this.mB[c].get();this.TF(b);if(this.tw)return!0}else if(this.TF(c),this.tw)return!0;return!1};l.WD=function(c,a,b){a=new l(0==c.$n(),a,b);for(c=c.Ba();c.Ta();)for(;c.Aa();)if(b=c.aa(),a.du(b))return-1;return a.result()};l.XN=function(c,a,b,d){var e=new g.g;c.Zb(e);e.O(d,d);var f=new l(0==c.$n(),b,d);c=c.Ba();var h=new g.g;h.H(e);h.v=b.x+d;h.A=b.y-d;h.B=b.y+d;b=a.Vz(h,d);for(d=b.next();-1!=d;d=b.next())if(c.Rb(a.ga(d)),c.Aa()&&(d=c.aa(),f.du(d)))return-1;return f.result()};l.Jm=function(c,
a,b){if(c.u())return 0;var d=new g.g;c.Zb(d);d.O(b,b);if(!d.contains(a))return 0;d=c.ib;if(null!=d){var e=d.oi;if(null!=e){e=e.Xl(a.x,a.y);if(1==e)return 1;if(0==e)return 0}d=d.Hb;if(null!=d)return l.XN(c,d,a,b)}return l.WD(c,a,b)};l.yU=function(c,a,b,d){if(c.u())return 0;var e=new g.g;c.Zb(e);e.O(d,d);if(!e.contains(a,b))return 0;e=c.ib;if(null!=e&&(e=e.oi,null!=e)){e=e.Xl(a,b);if(1==e)return 1;if(0==e)return 0}return l.WD(c,g.b.construct(a,b),d)};l.wU=function(c,a,b){return a.u()?0:l.Jm(c,a.w(),
b)};l.zA=function(c,a,b,d,e){var f=new g.g;c.Zb(f);f.O(d,d);if(!f.contains(b))return 0;var h=new l(!0,b,d);if(null!=e){var k=new g.g;k.H(f);k.v=b.x+d;k.A=b.y-d;k.B=b.y+d;c=c.Ba();d=e.Vz(k,d);for(k=d.next();-1!=k;k=d.next())if(c.Rb(e.ga(k),a),c.Aa()&&c.Pa==a&&(k=c.aa(),h.du(k)))return-1}else if(c=c.Ba(),c.oC(a),c.Ta())for(;c.Aa();)if(k=c.aa(),h.du(k))return-1;return h.result()};l.yA=function(c,a,b){var d=new g.g;c.Zb(d);d.O(b,b);if(!d.contains(a))return 0;a=new l(!1,a,b);for(b=c.Ba();b.Ta();)if(!(0>
c.rm(b.Pa))){for(a.ir=0;b.Aa();)if(d=b.aa(),a.du(d))return-1;if(0!=a.ir)return 1}return a.result()};l.x_=function(c,a,b,d,e){var f=c.Ba();f.oC(a);if(!f.Ta()||!f.Aa())throw g.f.Y("corrupted geometry");for(a=2;2==a&&f.Aa();)a=f.aa().cc(.5),a=l.zA(c,b,a,d,e);if(2==a)throw g.f.Y("internal error");return 1==a?!0:!1};l.Wl=function(c,a){c=c.D();return 16>c?!1:2*c+Math.log(c)/Math.log(2)*a<1*c*a};return l}();g.Oe=u})(J||(J={}));(function(g){var u=function(l){function c(a){return l.call(this,!0,a)||this}ma(c,
l);c.prototype.Ea=function(){return new c(this.description)};c.prototype.pb=function(){return 2};c.prototype.F=function(){return 1736};c.prototype.jH=function(a,b,d){this.dU(a,b,d)};c.prototype.DS=function(){this.VS()};return c}(g.Zk);g.Ga=u})(J||(J={}));(function(g){(function(u){u[u.PiPOutside=0]="PiPOutside";u[u.PiPInside=1]="PiPInside";u[u.PiPBoundary=2]="PiPBoundary"})(g.ZM||(g.ZM={}));g.Zc=function(){function u(){}u.wH=function(l,c,a){l=g.Oe.wU(l,c,a);return 0==l?0:1==l?1:2};u.Td=function(l,
c,a){l=g.Oe.Jm(l,c,a);return 0==l?0:1==l?1:2};u.xU=function(l,c,a,b){l=g.Oe.yU(l,c,a,b);return 0==l?0:1==l?1:2};u.n0=function(l,c,a,b){return 0==g.Oe.zA(l,c,a,b,null)?0:1};u.yA=function(l,c,a){return 0==g.Oe.yA(l,c,a)?0:1};u.BZ=function(l,c,a,b,d){if(c.length<a||d.length<a)throw g.f.I();for(var e=0;e<a;e++)d[e]=u.Td(l,c[e],b)};u.CZ=function(l,c,a,b,d){if(c.length/2<a||d.length<a)throw g.f.I();for(var e=0;e<a;e++)d[e]=u.xU(l,c[2*e],c[2*e+1],b)};u.yL=function(l,c,a,b,d){if(1736==l.F())u.BZ(l,c,a,b,
d);else if(197==l.F()){var e=new g.g;l.s(e);u.iO(e,c,a,b,d)}else throw g.f.Y("invalid_call");};u.J0=function(l,c,a,b,d){if(1736==l.F())u.CZ(l,c,a,b,d);else if(197==l.F()){var e=new g.g;l.s(e);u.jO(e,c,a,b,d)}else throw g.f.Eb();};u.iO=function(l,c,a,b,d){if(c.length<a||d.length<a)throw g.f.I();if(l.u())for(b=0;b<a;b++)d[b]=0;else for(l.O(.5*-b,.5*-b),l.O(.5*b,.5*b),b=0;b<a;b++)l.contains(c[b])?d[b]=1:l.contains(c[b])?d[b]=2:d[b]=0};u.jO=function(l,c,a,b,d){if(c.length/2<a||d.length<a)throw g.f.I();
if(l.u())for(b=0;b<a;b++)d[b]=0;else for(l.O(.5*-b,.5*-b),l.O(.5*b,.5*b),b=0;b<a;b++)l.contains(c[2*b],c[2*b+1])?d[b]=1:l.contains(c[2*b],c[2*b+1])?d[b]=2:d[b]=0};u.EZ=function(l,c,a,b,d){for(var e=0;e<a;e++)d[e]=l.Zs(c[e],b)?2:0};u.DZ=function(l,c,a,b,d){var e=l.ib,f=null;null!=e&&(f=e.oi);e=a;for(var h=0;h<a;h++)if(d[h]=1,null!=f){var k=c[h];0==f.Xl(k.x,k.y)&&(d[h]=0,e--)}if(0!=e)for(l=l.Ba();l.Ta()&&0!=e;)for(;l.Aa()&&0!=e;)for(f=l.aa(),h=0;h<a&&0!=e;h++)1==d[h]&&f.Zs(c[h],b)&&(d[h]=2,e--);for(h=
0;h<a;h++)1==d[h]&&(d[h]=0)};u.zL=function(l,c,a,b,d){var e=l.F();if(1607==e)u.DZ(l,c,a,b,d);else if(g.R.Ic(e))u.EZ(l,c,a,b,d);else throw g.f.Y("Invalid call.");};return u}()})(J||(J={}));(function(g){var u=function(l){function c(a,b){if(2==arguments.length){var d=l.call(this,!1,a.description)||this;d.xf(a);d.lineTo(b)}else d=l.call(this,!1,a)||this;return d}ma(c,l);c.prototype.Ea=function(){return new c(this.description)};c.prototype.pb=function(){return 1};c.prototype.F=function(){return 1607};
c.prototype.jH=function(a,b,d){this.eU(a,b,d)};return c}(g.Zk);g.Oa=u})(J||(J={}));(function(g){var u=function(){function l(){}l.prototype.progress=function(){return!0};l.Sp=function(c){if(null!=c&&!c.progress(-1,-1))throw g.f.ED();};return l}();g.Ep=u})(J||(J={}));(function(g){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(g.XL||(g.XL={}));var u=function(){function a(){this.ll=3;this.qz=this.sv=NaN}a.prototype.CT=function(){return this.Ps(1)};
a.prototype.DT=function(){return this.Ps(2)};a.prototype.Ps=function(b){return 0!=(this.ll&b)};a.prototype.Cf=function(){var b=new a;b.sv=this.sv;b.qz=this.qz;b.ll=this.ll;return b};return a}();g.g_=u;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(g.YL||(g.YL={}));var l=function(){function a(){this.ll=0}a.prototype.Ps=function(b){return 0!=(this.ll&b)};a.$d=function(b){var d=new a;d.ll=b.ll;return d};a.prototype.uN=
function(b){this.ll=b.ll};return a}();g.h_=l;var c=function(){function a(b,d,e){this.ee=b;this.Je=d;this.cg=new g.g;this.cg.H(e);this.TU=b.fc()+d.fc()+this.cg.fc().toString()}a.prototype.fc=function(){return this.TU};a.prototype.Ib=function(b){return this==b||this.ee.Ib(b.ee)&&this.Je.Ib(b.Je)&&this.cg.Ib(b.cg)};return a}();g.p_=c;c=function(){function a(){this.Je=this.ee=null;this.eI=new u;this.fI=new l;this.dx=this.He=null;this.Wq=this.xl=!0}a.os=function(b,d,e,f){var h;void 0===f&&(f=null);void 0===
h&&(h=null);var k=new a;k.Jp(b,d,e,f,h);return k};a.prototype.Jp=function(b,d,e,f,h){if(null==b||null==d)throw g.f.Y("invalidArgument");this.ee=b;this.Je=d;this.Wq=this.xl=!1;null!=f&&(this.eI=f.Cf());null!=h&&this.fI.uN(h);h=!1;1==d.Fb()&&null!=f&&(f=f.sv,isNaN(f)||0==f||(h=!0));if(b==d)this.xl=!h,this.Wq=!0;else{f=b.Fb();var k=d.Fb();if(0==f||0==k){if(null!=e)throw g.f.I();null!=b.Ld()&&null!=d.Ld()&&(this.xl=b.Ld().Ib(d.Ld()))}else 3==f||3==k?this.xl=b.Ib(d):this.ee.FT(this.Je)?this.xl=!h:this.xl=
!1,this.He=e,null!=this.He&&this.He.Px(),this.Wq=(null==this.He||0==this.He.count())&&this.ee.hc().Ib(this.Je.hc())}this.ML()};a.prototype.Rv=function(){var b=new a;b.ee=this.Je;b.Je=this.ee;null!=this.He&&(b.He=this.He.Rv());b.xl=this.xl;b.Wq=this.Wq;b.ML();return b};a.prototype.xq=function(){return this.xl};a.prototype.BS=function(){return this.eI.Cf()};a.prototype.Ib=function(b){return b==this?!0:b instanceof a&&this.ee.Ib(b.ee)&&this.Je.Ib(b.Je)?this.He==b.He?!0:null!=this.He&&null!=b.He&&this.He.Ib(b.He)?
!0:!1:!1};a.prototype.ML=function(){this.dx=new g.Bp(this)};a.I0={};return a}();g.Ur=c})(J||(J={}));(function(g){var u=function(){function l(){}l.Wp=function(c){return c*l.UX};l.Ux=function(c,a){return l.qQ(a-c)};l.rQ=function(c){if(-360<=c&&720>c)return 0>c?c+=360:360<=c&&(c-=360),c;c=g.Tb.ZL(c);0>c&&(c+=360);return c};l.qQ=function(c){c=l.rQ(c);180<c&&(c-=360);return c};l.S_=.0174532925199433;l.UX=57.29577951308232;return l}();g.Nr=u;g.Lh=function(){function l(){}l.qj=function(c,a){var b=new g.g;
c.s(b);var d=g.ab.nh(a),e=new g.g;e.H(d);e.o=b.o;e.v=b.v;e.O(.01*e.ca(),0);a=g.la.Qd(a,b,!1);return e.contains(b)?c:g.Yd.clip(c,e,a,0)};l.Ss=function(c,a,b,d,e){if(!g.ab.Cc(a))throw g.f.I();var f=g.la.Ng(a,c,!1),h=g.ab.nh(a),k=g.ab.hc(a),m=k.Ld().gi,n=g.ab.dw(k);k=g.ab.Nv(k);n*=2-n;var p=new g.uc;h.sn(p);var q=[[0,0],[0,0]];2==g.je.Fb(a)?d?(q[0][0]=l.nn(e,p),q[0][1]=h.cq(),g.ab.eu(),h=q[0][0]*m):(q[0][0]=h.lk(),q[0][1]=e,g.ab.eu(),h=q[0][1]*m):h=e*m;if(!d&&0!=h)throw g.f.I();var r=new g.da,t=new g.Yc;
c=t.Bb(c);for(var v=[0],E=new g.b,O=new g.b,M=new g.b,S=new g.b,da=new g.b,ca=new g.b,fa=t.Kb(c);-1!=fa;fa=t.Qb(fa)){var qa=t.Za(fa);t.w(qa,M);for(var ya=!1,Ia=qa=t.T(qa);-1!=Ia;Ia=t.T(Ia)){if(Ia==qa){if(ya)break;ya=!0}t.w(Ia,S);if(d&&f<e-M.x&&S.x-e>f||f<e-S.x&&M.x-e>f||!d&&f<-M.y&&S.y>f||f<-S.y&&M.y>f){do if(!(Math.abs(M.x-S.x)>=.5*p.N())){2==g.je.Fb(a)?(q[0][0]=l.nn(M.x,p),q[0][1]=M.y,q[1][0]=l.nn(S.x,p),q[1][1]=S.y,g.ab.uX(),da.x=q[0][0]*m,da.y=q[0][1]*m,ca.x=q[1][0]*m,ca.y=q[1][1]*m):(da.x=M.x*
m,da.y=M.y*m,ca.x=S.x*m,ca.y=S.y*m);ca.x=6.283185307179586*(S.x-M.x)/p.N()+da.x;if(d){if(O.x=h,O.y=l.uA(k,n,da,ca,h,b),isNaN(O.y))break}else{O.x=l.sA(k,n,da,ca,b);if(isNaN(O.x))break;O.y=0}g.gb.Ad(k,n,da.x,da.y,ca.x,ca.y,r,null,null,b);var Ga=r.j;g.gb.Ad(k,n,da.x,da.y,O.x,O.y,r,null,null,b);var Ma=r.j;2==g.je.Fb(a)?(q[0][0]=O.x/m,q[0][1]=O.y/m,g.ab.pS(),d?(E.y=q[0][1],E.x=e):(E.x=l.Ws(q[0][0],M.x,S.x,p),E.y=e)):d?(E.x=e,E.y=O.y/m):(E.x=l.Ws(O.x/m,M.x,S.x,p),E.y=e);v[0]=0<Ga?g.L.Yj(Ma/Ga,0,1):.5;0!=
v[0]&&1!=v[0]&&(Ga=t.Ma(Ia),t.em(Ga,v,1),t.nb(t.T(Ga),E.x,E.y))}while(0)}M.K(S)}}return t.ye(c)};l.vm=function(c,a,b,d,e){if(c.u())return c;var f=g.ab.Sd(a);return l.aq(c,b-180*f,360*f,a,d,e,!0)};l.uA=function(c,a,b,d,e,f){if(3.141592653589793<=Math.abs(b.x-d.x)||!l.mo(b.x,d.x,e))return NaN;if(b.x>d.x)var h=d;else h=b,b=d;d=new g.da(0);var k=new g.da(0),m=new g.da(0);g.gb.Ad(c,a,h.x,h.y,b.x,b.y,k,d,null,f);var n=k.j,p=0,q=1,r=new g.b;for(r.K(h);n*(q-p)>1E-12*c;){var t=.5*(p+q);g.gb.tj(c,a,h.x,h.y,
n*t,d.j,k,m,f);r.x=k.j;r.y=m.j;if(r.x==e)break;if(l.mo(h.x,r.x,e))q=t;else if(l.mo(b.x,r.x,e))p=t;else return NaN}return r.y};l.mo=function(c,a,b){c=u.Wp(c);a=u.Ux(c,u.Wp(a));b=u.Ux(c,u.Wp(b));return 0==b||0<a&&0<b&&b<=a||0>a&&0>b&&b>=a?!0:!1};l.nn=function(c,a){var b=a.ja-a.fa;return a.su(c-Math.floor((c-a.fa)/b)*b)};l.Ws=function(c,a,b,d){var e=new g.uc;e.H(a,b);b=d.N();c=Math.floor((c-a)/b)*b+c;for(e=e.hf();Math.abs(c-e)>Math.abs(c+b-e);)c+=b;return c};l.sA=function(c,a,b,d,e){if(b.y>d.y)var f=
d;else f=b,b=d;d=new g.uc;d.H(f.y,b.y);if(!d.contains(0)||3.141592653589793<=Math.abs(f.x-b.x))return NaN;if(f.x==b.x)return f.x;var h=new g.da(0),k=new g.da(0),m=new g.da(0);g.gb.Ad(c,a,f.x,f.y,b.x,b.y,k,h,null,e);var n=k.j,p=0,q=1,r=new g.b;for(r.K(f);n*(q-p)>1E-12*c;){var t=.5*(p+q);g.gb.tj(c,a,f.x,f.y,n*t,h.j,k,m,e);r.x=k.j;r.y=m.j;d.H(f.y,r.y);if(0==r.y)break;if(d.contains(0))q=t;else if(d.H(b.y,r.y),d.contains(0))p=t;else return NaN}return r.x};l.aq=function(c,a,b,d,e,f,h){var k=new g.g;c.s(k);
if(k.u())return c;var m=new g.uc;k.sn(m);var n=new g.uc;n.H(a,a+b);if(n.contains(m)&&n.ja!=m.ja)return c;var p=new g.g;p.H(k);var q=c.F();if(33==q){p=e?c:c.Cf();k=p.Ce();if(k<n.fa||k>=n.ja||h&&k==n.ja)k+=Math.ceil((n.fa-k)/b)*b,k=n.su(k),p.KC(k);return p}if(550==q){p=e?c:c.Cf();d=p.Va(0);q=2*p.D();c=!1;for(e=0;e<q;e+=2)if(k=d.read(e),k<n.fa||k>=n.ja||h&&k==n.ja)c=!0,k+=Math.ceil((n.fa-k)/b)*b,k=n.su(k),d.write(e,k);c&&p.Oc(1993);return p}if(n.contains(m))return c;if(197==q)return b=e?c:c.Cf(),k.Ia(p),
b.mp(k),b;var r=.1*Math.max(k.ca(),k.N());p.O(0,r);h=c;n=d.ce(0);c=g.Jh.local();for(e=new g.xd;;){var t=Math.floor((m.fa-a)/b),v=Math.ceil((m.ja-a)/b);if(3<v-t){t=Math.floor(.5*(v+t));p.o=k.o-r;p.v=a+b*t;var E=g.Yd.clip(h,p,n,f);p.o=p.v;p.v=k.v+r;var O=g.Yd.clip(h,p,n,f);e.mg((t-v)*b,0);O.Qc(e);1736==q?h=c.U(E,O,d,null):(h=E,h.add(O,!1));h.s(k);k.sn(m)}else break}p.o=a;p.v=a+b;a=new g.g;a.H(p);a.O(n,0);a=Math.floor((k.o-p.o)/b)*b;0!=a?(p.move(a,0),e.mg(-a,0)):e.zC();a=1607==q?new g.Oa(h.description):
new g.Ga(h.description);f=new g.g;for(m=new g.g;k.v>p.o;){r=g.Yd.clip(h,p,n,0);r.s(m);if(1607==q?!r.u()&&(m.N()>n||m.ca()>n):!r.u()&&(1736!=q||m.N()>n))r.Qc(e),r.s(m),a.s(f),f.O(n,n),f.isIntersecting(m)&&1736==q?a=c.U(a,r,d,null):a.add(r,!1);p.move(b,0);e.shift(-b,0)}return a};l.NJ=function(c,a,b,d){var e=new g.Hd(b.description);e.yd(b,0,-1);e=g.ab.$g(e,c,a);var f=b.D();d.Ka();if(!g.ab.Cc(c)||f!=e.D())return!1;var h=new g.g;b.s(h);var k=new g.g;e.s(k);h=h.N();k=k.N();if(0!=h&&0!=k){if(k/=h,c=g.ab.nh(a).N()/
g.ab.nh(c).N(),1E-10<Math.abs(k/c-1))return!1}else if(0!=h||0!=k)return!1;d.add(b,!1);for(b=0;b<f;b++)c=e.xa(b),d.nb(b,c);return!0};l.vA=function(){throw g.f.Me();};return l}()})(J||(J={}));(function(g){var u;(function(c){c[c.Clip=0]="Clip";c[c.DontClip=1]="DontClip";c[c.PannableFold=2]="PannableFold"})(u=g.zi||(g.zi={}));var l;(function(c){c[c.Geodesic=0]="Geodesic";c[c.Loxodrome=1]="Loxodrome";c[c.GreatElliptic=2]="GreatElliptic";c[c.NormalSection=3]="NormalSection";c[c.ShapePreserving=4]="ShapePreserving"})(l=
g.eM||(g.eM={}));g.Ab=function(){function c(){}c.ew=function(a,b,d){if(d||0<b){a=a.toString(g.Pc.PE_STR_NAME_CANON|g.Pc.PE_STR_AUTH_NONE);b=[];for(d=0;d<a.length;d++)b[d]="a"<=a[d]&&"z">=a[d]?b[d]=a[d].toUpperCase():a[d];return b.join()}return a.toString(g.Pc.PE_STR_AUTH_TOP)};c.Tr=function(a,b,d,e){var f=e.length,h=d.D();if(0!=h){var k=d.Va(0),m=Math.min(h,f),n=0,p=a.wg();isNaN(b)&&(b=0);var q=a.Cc();a=q?a.hc().be().N():0;for(var r=179*a/360;0<h;){k.dC(n<<1,m,e);g.Kh.projToGeogCenter(p,m,e,b);if(q)for(var t=
0;t<m;t++){var v=e[t][0]-b,E=g.Tb.sign(v),O=k.read(2*(n+t));0>E*g.Tb.sign(O)&&Math.abs(v)>r&&(e[t][0]+=-E*a)}k.dD(n<<1,m,e);n+=m;h-=m;m=Math.min(h,f)}d.Oc(1993)}};c.o_=function(a,b,d,e){var f=a.wg();isNaN(b)&&(b=0);var h=d.Ce();e[0][0]=h;e[0][1]=d.lf();g.Kh.projToGeogCenter(f,1,e,b);a.Cc()&&(b=g.Tb.sign(e[0][0]-b),0>b*g.Tb.sign(h)&&(a=a.hc().be().N(),Math.abs(e[0][0])>179*a/360&&(e[0][0]-=b*a)));d.nb(e[0][0],e[0][1])};c.QM=function(a,b,d,e){var f=0,h=a.wg();isNaN(f)&&(f=0);var k=a.Cc(),m=a.Sd();a=
360*m;m*=179;for(var n=e.length,p=0;p<d;){for(var q=p;q<d&&b[q].isNaN();++q)p++;var r=Math.min(n,d-p);if(0<r){q=1;for(var t=p+1;q<r;++q,++t)if(b[t].isNaN()){r=q;break}g.la.nz(e,b,p,r);g.Kh.projToGeogCenter(h,r,e,f);if(k)for(q=0,t=p;q<r;++q,++t){var v=b[t].x,E=e[q][0]-f,O=g.Tb.sign(E);0>O*g.Tb.sign(v)&&Math.abs(E)>m&&(e[q][0]-=O*a)}g.la.mz(b,p,e,r);p+=r}}};c.qy=function(a,b,d){var e=d.length,f=b.D();if(!(1>f)){var h=b.Va(0),k=Math.min(f,e),m=0,n=a.wg(),p=a.Cc(),q=p?a.be().N():0,r=179*q/360,t=0;for(p&&
(t=a.Wh());0<f;){h.dC(m<<1,k,d);g.Kh.geogToProj(n,k,d);if(p)for(a=0;a<k;a++){var v=d[a][0],E=g.Tb.sign(v),O=h.read(2*(m+a))-t;0>E*g.Tb.sign(O)&&Math.abs(v)>r&&(d[a][0]+=-E*q)}h.dD(m<<1,k,d);m+=k;f-=k;k=Math.min(f,e)}b.Oc(1993)}};c.n_=function(a,b,d){if(!b.u()){var e=a.wg();d[0][0]=b.Ce();d[0][1]=b.lf();g.Kh.geogToProj(e,1,d);if(a.Cc()){e=g.Tb.sign(d[0][0]);var f=a.Wh();0>e*g.Tb.sign(b.Ce()-f)&&(a=a.be().N(),Math.abs(d[0][0])>179*a/360&&(d[0][0]-=e*a))}b.nb(d[0][0],d[0][1])}};c.PM=function(a,b,d,e){if(0!=
d){var f=a.wg(),h=a.Cc(),k=h?a.be().N():0,m=179*k/360,n=0;h&&(n=a.Wh());for(a=0;a<d;){for(var p=a;p<d&&b[p].isNaN();++p)a++;var q=Math.min(e.length,d-a);if(0<q){p=1;for(var r=a+1;p<q;++p,++r)if(b[r].isNaN()){q=p;break}g.la.nz(e,b,a,q);g.Kh.geogToProj(f,q,e);if(h)for(p=0,r=a;p<q;p++){var t=e[p][0],v=g.Tb.sign(t);0>v*g.Tb.sign(b[r].x-n)&&Math.abs(t)>m&&(e[p][0]-=v*k)}g.la.mz(b,a,e,q);a+=q}}}};c.Sr=function(a,b,d,e){var f=b.D();if(0!=f){var h=b.Va(0),k=a.ee,m=a.Je,n=k.hc().qk(),p=m.hc().qk(),q=k.Sd(),
r=m.Sd();a=a.He;if(null==a||0==a.count()){d=n/p;e=(k.Cm()-m.Cm())*r;p=-90*q;a=90*q;n=!1;r=1;for(k=2*f;r<k;)q=h.get(r),m=g.L.Yj(q,p,a),m!=q&&(h.set(r,m),n=!0),r+=2;if(0!=e||1!=d)for(n=!0,p=new g.b,r=0;r<f;r++)h.mc(2*r,p),p.x*=d,p.x+=e,p.y*=d,h.Bu(2*r,p);n&&b.Oc(1993)}else{k=e.length;m=Math.min(f,k);var t=g.L.Xf(m),v=null,E=0,O=NaN,M=NaN,S=360*r,da=r/q;d&&(M=90*r,O=89.9*q,v=g.L.Xf(m));for(var ca=!0,fa=0;0!=f;){q=!1;h.dC(E<<1,m,e);for(r=0;r<m;r++)t[r]=e[r][0];if(d)for(r=0;r<m;r++){var qa=Math.abs(e[r][1])-
O;0<qa&&(q=e[r][1],e[r][1]=g.Tb.hl(O,q),v[r]=g.Tb.hl(qa,q),q=!0)}r=e[0][0];a.transform(e,m,n,p);ca&&(fa=e[0][0]-da*r,ca=!1);for(r=0;r<m;r++)qa=e[r][0]-t[r]*da-fa,200<Math.abs(qa)&&(e[r][0]=0<qa?e[r][0]-S:e[r][0]+S);if(q){for(r=0;r<m;r++)0!=v[r]&&(e[r][1]+=da*v[r],e[r][1]>M?e[r][1]=M:e[r][1]<-M&&(e[r][1]=-M));for(q=0;q<m;q++)v[q]=0}h.dD(E<<1,m,e);E+=m;f-=m;m=Math.min(f,k)}b.Oc(1993)}}};c.m_=function(a,b,d,e){if(b.u())return!1;var f=a.ee,h=a.Je,k=a.He,m=f.hc().qk(),n=h.hc().qk();e[0][0]=b.Ce();e[0][1]=
b.lf();if(null!=k&&0<k.count()){a=!0;var p=!1,q=NaN,r=0,t=1;d&&(d=f.Sd(),q=h.Sd(),t=q/d,q*=90,f=89.9*d,h=Math.abs(e[0][1])-f,0<h&&(p=e[0][1],e[0][1]=g.Tb.hl(f,p),r=g.Tb.hl(h,p),p=!0));k.transform(e,1,m,n);p&&0!=r&&(e[0][1]+=t*r,e[0][1]>q?e[0][1]=q:e[0][1]<-q&&(e[0][1]=-q));b.nb(e[0][0],e[0][1])}else{d=f.Sd();a=g.L.Yj(e[0][1],-90*d,90*d)!=e[0][1];q=h.Sd();k=(f.Cm()-h.Cm())*q;m/=n;if(1!=m||0!=k)a=!0,e[0][0]*=m,e[0][0]+=k,e[0][1]*=m;a&&b.nb(e[0][0],e[0][1])}return a};c.OM=function(a,b,d,e){if(a.Wq)e=
90*a.ee.Sd(),g.la.iL(b,d,-e,e);else{var f=a.He,h=a.ee,k=a.Je;a=h.Ds();var m=k.Ds(),n=h.Sd(),p=90*n,q=k.Sd();if(null==f||0==f.count()){if(e=a/m,f=(h.Cm()-k.Cm())*q,g.la.iL(b,d,-p,p),0!=f||1!=e)for(q=0;q<d;q++)b[q].x*=e,b[q].x+=f,b[q].y*=e}else{h=Math.min(d,e.length);p=g.L.Xf(h);k=360*q;n=q/n;for(var r=!0,t=0,v=0;0!=d;){for(q=0;q<h;q++)p[q]=b[q+v].x;q=b[0].x;g.la.nz(e,b,v,h);f.transform(e,h,a,m);g.la.mz(b,v,e,h);r&&(t=b[0].x-n*q,r=!1);for(q=0;q<h;q++){var E=b[v+q].x-p[q]*n-t;200<Math.abs(E)&&(b[v+q].x=
0<E?b[v+q].x-k:b[v+q].x+k)}v+=h;d-=h;h=Math.min(d,e.length)}}}};c.W_=function(a,b,d,e){return c.vm(a,b,isNaN(d)?0:d,!0,e,null)};c.Mv=function(a,b){a=a.nh();isNaN(b)||a.rv(b,0);return a};c.fS=function(a,b,d,e,f,h,k,m){for(var n=c.Mv(e,f),p=n.N(),q=p/360,r=c.bF*q,t=a.Va(0),v=b.Cc(),E=v?p/b.be().N():0,O=!1,M=new g.Ga(d.description),S=0,da=d.$();S<da;++S){var ca=v,fa=new g.Oa(d.description);fa.addPath(d,S,!0);if(0!=k){var qa=c.BE(!0,fa,n.B-m,n.B,k);(O=O||qa)&&(ca=!1)}var ya=-1;ca&&(ya=a.ua(S));var Ia=
fa.Va(0),Ga=fa.D(),Ma=0,La=Ia.read(0),Oa=0;qa=3*e.ce(0);var Pa=!1,Ta=new g.b;Ta.Tc();var Xa=new g.b;Xa.Tc();for(var bb=!1,$a=1;$a<Ga;++$a){var Sa=g.b.construct(Ia.Ig(2*$a),Ia.Ig(2*$a+1)),Va=Sa.x,Ra=Va+Ma,ab=Ra-La;Sa.x=Ra;if(Math.abs(ab)>r){if(ca){var Za=ya+($a+1<Ga?$a:0),eb=t.read(2*(ya+$a-1));Za=(t.read(2*Za)-eb)*E;Math.abs(ab-Za)>1*q&&(ca=!1)}ca||(Ma-=g.Tb.hl(p,Ra-La),Ra=Va+Ma,++Oa,bb=0!=Ma,Sa.x=Ra)}else Pa||g.la.mH(Xa,Ta,Sa,qa)&&(Pa=!0);bb&&Ia.write(2*$a,Ra);La=Ra;Xa.K(Ta);Ta.K(Sa)}0<Oa&&fa.Oc(1993);
ca=fa.xa(0);Ga=fa.xa(Ga-1);fa=g.b.vb(ca,Ga)<qa?c.GR(fa,e,f,h,Pa):c.HR(a,S,fa,e,f);M.add(fa,!1)}f=e.ce(0);d=n.N()/180;c.tu(M,n,.1*f,!1);f=g.fh.clip(M,n,f,d,h);M=M!=f;a=a.Pe();m=f.Pe();k=0;0<m&&0>a?k=1:0>=m&&0<a&&(0==m?(m=NaN,2==b.Fb()?m=b.sk().Pe():1==b.Fb()&&(m=b.be().jG()),a>.99*m&&(k=-1)):k=-1);0!=k&&(b=new g.Ga(f.description),b.Np(n),b=g.im.local().U(b,d,h),b.add(f,!1),M=!0,f=b);M&&(f=g.jm.local().U(f,e,!1,h));return f};c.HR=function(a,b,d,e,f){var h=d.D(),k=d.xa(0),m=d.xa(h-1);e=c.Mv(e,f);f=e.N();
k=g.Tb.sign(m.x-k.x);var n=new g.g;d.Zb(n);var p=e.lk();m=p-f;p+=f;if(0<=k){var q=Math.ceil((m-n.o)/f);for(q*=f;m>n.o+q;)q+=f;for(;m<n.v+q;)q-=f;var r=q;720<n.N()&&(p=m+360*Math.ceil(n.N()/360))}else{q=Math.ceil((p-n.v)/f);for(q*=f;p<n.v+q;)q-=f;for(;p>n.o+q;)q+=f;r=q;720<n.N()&&(m=p-360*Math.ceil(n.N()/360))}q=k*f;var t=g.g.construct(n.o,n.A,n.v,n.B);t.move(r,0);var v=new g.xd;v.mg(r,0);d.Qc(v);n=new g.Oa(d.description);n.add(d,!1);r=d.xa(h-1);f=0;for(var E=n.xa(0).x;0<k?t.v<p:t.o>m;)t.move(q,0),
v.Ob=q,d.Qc(v),E+=q,e.o<=E&&e.v>=E&&(f=n.D()-1),d.nb(0,r),r=d.xa(h-1),n.ds(d,0,0,h-1,!1);d=new g.Ga(n.description);h=0<a.rm(b);d.add(n,!1);a=n.xa(0);m=n.xa(n.D()-1);b=d.$()-1;(0>k?h:!h)?(k=g.b.construct(m.x,e.B),d.Ii(k),k=g.b.construct(e.lk(),e.B),d.Ii(k),e=g.b.construct(a.x,e.B)):(k=g.b.construct(m.x,e.A),d.Ii(k),k=g.b.construct(e.lk(),e.A),d.Ii(k),e=g.b.construct(a.x,e.A));d.Ii(e);d.jH(0,b,0);d.uP(f);return d};c.GR=function(a,b,d,e,f){var h=new g.Ga(a.description);h.add(a,!1);h.mC(0,h.D()-1);var k=
new g.g;h.Zb(k);d=c.Mv(b,d);var m=d.N(),n=Math.ceil((d.o-k.o)/m);for(n*=m;d.o>k.o+n;)n+=m;for(;d.o<k.v+n;)n-=m;n+=m;if(0!=n){k.move(n,0);var p=new g.xd;p.mg(n,0);h.Qc(p)}if(d.o<=k.o&&d.v>k.v)return f&&(f=h.Pe(),h=g.jm.local().U(h,b,!0,e),b=h.Pe(),(b=g.Tb.sign(f)!=g.Tb.sign(b))&&h.sK()),h;a=new g.Ga(a.description);a.add(h,!1);for(f=f||k.N()>m-b.ce(0);k.o<d.v;)k.move(m,0),p=new g.xd,p.mg(m,0),h.Qc(p),a.add(h,!1);f&&(f=a.Pe(),a.np(1),a=g.jm.local().U(a,b,!0,e),b=a.Pe(),(b=g.Tb.sign(f)!=g.Tb.sign(b))&&
a.sK());return a};c.BE=function(a,b,d,e,f){for(var h=b.Va(0),k=b.D(),m=!1,n=0;n<k;n++){var p=g.b.construct(h.Ig(2*n),h.Ig(2*n+1));if(0!=(f&1)&&p.y>=d){m=!0;break}if(0!=(f&2)&&p.y<=-d){m=!0;break}}if(!m)return!1;h=!1;a&&(h=b.ho(0));a=new g.Yc;k=a.Bb(b);m=a.Kb(k);var q=-1,r=!0,t=new g.b;t.Tc();n=new g.Ra;for(var v=-1,E=a.Za(m);-1!=E;E=a.T(E)){p=a.xa(E);var O=0!=(f&1)&&90<=p.y?1:0;O|=0!=(f&2)&&p.y<=-d?2:0;if(0<q&&q!=O){if(t.x!=p.x){t.x=p.x;a.bj(a.Ma(E),n);var M=a.Bj(m,E,n);a.wf(M,t)}if(h)for(v=-1!=v?
a.T(v):a.Za(m),M=a.Ma(E);v!=M;)v=a.pd(v,!1);v=-1}0<O&&(p.y=g.Tb.hl(e,p.y),a.wf(E,p),r||q==O||(p.x!=t.x?(a.bj(E,n),M=a.Bj(m,E,n),a.nb(M,t.x,p.y),v=M):v=E));q=O;t=p;r=!1}if(h){if(-1!=v)for(v=a.T(v);-1!=v;)v=a.pd(v,!1);d=a.Za(m);a.wq(d,a.wj(m))||(a.bj(d,n),a.Bj(m,-1,n))}a.ye(k).copyTo(b);return!0};c.G0=function(a,b){var d=0,e=a.Ha(b);b+=1;for(var f=a.$();b<f&&!(0<a.rm(b));++b)d++;return 64<e&&3<=d};c.tA=function(a,b,d,e){var f=a;if(f.u()||d==u.DontClip)return f;var h=f.F();if(33==h)return e=f,f=[e.w()],
c.kH(f,1,b,d),f[0].isNaN()?e.Ka():e.nb(f[0]),a;a=b.hc();var k=a.Sd(),m=90*k,n=180*k,p=360*k,q=b.Wh(),r=.5*k,t=new g.g;f.s(t);var v=b.Bs(),E=b.aS(),O=197==v.F();b=new g.g;v.s(b);d==u.PannableFold&&(d=a.be().N(),b.o=q-.5*d,b.v=b.o+d);if(t.A<-m||t.B>m){(new g.g).H(t.o-k,-m,t.v+k,m);f=g.fh.Tp(f,b,a,NaN,0,e);if(f.u())return f;f.s(t)}if(E&&(b.B<t.A||b.A>t.B))return f.Ea();t.N()>p&&(f=c.aq(f,q-n,p,a,!0,0,!0,e),f.s(t));m=c.nP(t.o,t.v,b.o,b.v,p);0!=m&&t.move(m,0);if(t.v>b.v||t.o<b.o){if(t.v>b.v)for(;t.o>=
b.v;)t.move(-p,0),m-=p;for(;t.o<b.v-p;)t.move(p,0),m+=p}d=g.la.pv(a,v);0!=m&&(k=new g.xd,k.mg(m,0),f.Qc(k));if(E){if(O&&b.contains(t))return f;E=[null,null];for(m=0;2>m;m++){O?k=g.R.Bc(h)?g.fh.clip(f,b,d,r,e):g.fh.clip(f,b,d,0,e):(k=g.ak.local().U(f,v,a,e),k==v&&(k=g.R.$d(k)));if(b.o<=t.o&&b.v>=t.v||b.o>=t.o&&b.v<=t.v)return k;E[m]=k;0==m&&(t.move(-p,0),k=new g.xd,k.mg(-p,0),f.Qc(k))}if(550==h)E[0].yd(E[1],0,-1);else if(g.R.Bc(h))E[0].add(E[1],!1);else if(33==h)E[0].u()&&(E[0]=E[1]);else throw g.f.Y("intersect_with_GCS_horizon: unexpected geometry type");
return E[0]}if(b.B<t.A||b.A>t.B)return f;for(h=0;!f.u()&&t.v>b.o;)0!=h&&(k=new g.xd,k.mg(h,0),f.Qc(k)),g.kj.local().U(4,f,v,a,e)||(f=g.Cp.local().U(f,v,a,e),v==f&&(f=g.R.$d(f))),0!=h&&(r=new g.xd,r.mg(-h,0),f.Qc(r)),h-=p,t.move(-p,0);return f};c.kH=function(a,b,d,e){if(0!=b&&e!=u.DontClip)if(e==u.PannableFold){e=d.XS();for(var f=b,h=0;h<b;h++)if(a[h].y>e.B||a[h].y<e.A)a[h].Tc(),f--;0!=f&&c.Iv(a,b,e.o,e.N())}else{e=d.Sd();var k=90*e,m=180*e;e*=360;f=b;for(h=0;h<b;h++)if(a[h].y>k||a[h].y<-k)a[h].Tc(),
f--;if(0!=f){f=new g.g;f.Ix(a,b);k=d.Bs();var n=d.Pv();h=197==k.F();var p=new g.g;k.s(p);if(!n||!(p.B<f.A||p.A>f.B))if(n)if(c.Iv(a,b,p.lk()-m,e),f=b,h)for(h=0;h<b;h++)p.contains(a[h])||(a[h].Tc(),f--);else for(d=g.la.pv(d.hc(),k),h=0;h<b;h++)(m=0!=g.Zc.Td(k,a[h],d))||(a[h].Tc(),f--);else for(c.Iv(a,b,-m,e),f=b,d=g.la.pv(d.hc(),k),h=0;h<b;h++)if(m=a[h],m.isNaN()&&f--,n=c.fF(m.x,p.o,p.v,e),m.x+=n,m=0!=g.Zc.Td(k,m,d))a[h].Tc(),f--}}};c.b0=function(a,b,d){if(0<=b&&!a.Lb(b))return 0;var e=0;if(1==d.Fb())return b=
90*d.Sd(),b-=2*b/Math.PI*g.Pc.PE_HORIZON_DELTA,d=new g.g,a.s(d),d.B>=b&&(e=1),d.A<=-b&&(e|=2),e;var f=d.xj();if(null==f)return 0;var h=null;0<=b&&(h=a);for(var k=0;2>k;k++)if((0<k?f.getSouthPoleLocation():f.getNorthPoleLocation())!=g.ng.PE_POLE_OUTSIDE_BOUNDARY){var m=d.bA(0<k);m.isNaN()||(m=0>b?g.Oe.yA(a,m,0):g.Oe.zA(h,b,m,0,null),e|=m<<k)}return e};c.aq=function(a,b,d,e,f,h,k,m){var n=a.F(),p=b+d;if(33===n){e=f?a:a.Cf();var q=e.Ce();if(q<b||q>=p||k&&q==p)q+=Math.ceil((b-q)/d)*d,q=g.L.Yj(q,b,p),
e.KC(q);return e}if(a.u())return a;q=new g.g;a.s(q);if(q.u())return a;var r=new g.uc;q.sn(r);var t=new g.uc;t.H(b,p);if(t.contains(r))return a;p=new g.g;p.H(q);if(550===n){e=f?a:a.Cf();m=e.Va(0);n=2*e.D();p=!1;for(b=0;b<n;b+=2)if(q=m.read(b),q<t.fa||q>=t.ja||k&&q==t.ja)p=!0,q+=Math.ceil((t.fa-q)/d)*d,q=t.su(q),m.write(b,q);p&&e.Oc(1993);return e}if(197==n)return d=f?a:a.Cf(),q.Ia(p),d.mp(q),d;var v=.1*Math.max(q.ca(),q.N());p.O(0,v);k=a;t=e.ce(0);a=g.Jh.local();for(f=new g.xd;;){var E=Math.floor((r.fa-
b)/d),O=Math.ceil((r.ja-b)/d);if(3<O-E){E=Math.floor(.5*(O+E));p.o=q.o-v;p.v=b+d*E;var M=g.fh.clip(k,p,t,h,m);p.o=p.v;p.v=q.v+v;var S=g.fh.clip(k,p,t,h,m);f.mg((E-O)*d,0);S.Qc(f);1736==n?k=a.U(M,S,e,null):(k=M,k.add(S,!1));k.s(q);q.sn(r)}else break}p.o=b;p.v=b+d;b=new g.g;b.H(p);b.O(t,0);b=Math.floor((q.o-p.o)/d)*d;0!=b?(p.move(b,0),f.mg(-b,0)):f.zC();b=1607==n?new g.Oa(k.description):new g.Ga(k.description);h=new g.g;for(r=new g.g;q.v>p.o;){v=g.fh.clip(k,p,t,0,m);v.s(r);if(1607==n?!v.u()&&(r.N()>
t||r.ca()>t):!v.u()&&(1736!=n||r.N()>t))v.Qc(f),v.s(r),b.s(h),h.O(t,t),h.isIntersecting(r)&&1736==n?b=a.U(b,v,e,null):b.add(v,!1);p.move(d,0);f.shift(-d,0)}return b};c.Iv=function(a,b,d,e){for(var f=d+e,h=0;h<b;h++){var k=a[h].x;d<=k&&k<f||!(k<d||k>f||k==f)||(k+=Math.ceil((d-k)/e)*e,k=g.L.Yj(k,d,f),a[h].x=k)}};c.vm=function(a,b,d,e,f,h){if(!b.Cc())throw g.f.Y("fold_into_360_degree_range");if(a.u())return a;if(2==b.Fb()){d=b.Xv();var k=b.Wv()-d}else{var m=b.Sd();k=360*m;d-=180*m}return c.aq(a,d,k,
b,e,f,!0,h)};c.dG=function(a,b,d,e){if(2==d.Fb())e=d.Xv(),d=d.Wv()-e;else{var f=d.Sd();d=360*f;e-=180*f}c.Iv(a,b,e,d)};c.qj=function(a,b){var d=b.be();if(33==a.F()){var e=a.lf();return d.A<=e&&e<=d.B?a:a.Ea()}e=new g.g;a.s(e);var f=new g.g;f.H(d);f.o=e.o;f.v=e.v;f.O(.01*f.ca(),0);d=g.la.Zy(b,e);return f.contains(e)?a:g.fh.clip(a,f,d,0,null)};c.Er=function(a,b,d){return a>b.v&&a-b.v<d?b.v:a<b.o&&b.o-a<d?b.o:a};c.kZ=function(a,b,d,e){e.x=c.Er(a.x,b,d);e.y=a.y};c.jZ=function(a,b,d,e){for(var f=0;f<b;f++)a[f].y<
d.A||a[f].y>d.B?a[f].Tc():a[f].x=c.Er(a[f].x,d,e)};c.tu=function(a,b,d,e){if(!a.u()){var f=a.F();if(!e||1736!=f)if(g.R.Rg(f)){e=a.Va(0);f=0;for(var h=a.D();f<h;f++){var k=e.read(2*f),m=c.Er(k,b,d);m!=k&&e.write(2*f,m)}a.Oc(1993)}else if(197==f)e=new g.g,a.s(e),e.o=c.Er(e.o,b,d),e.v=c.Er(e.v,b,d),a.mp(e);else if(33==f)a.KC(c.Er(a.Ce(),b,d));else throw g.f.Y("internal error");}};c.PT=function(a,b,d,e){var f=new g.Yc,h=f.Bb(a);a=g.la.pv(b,a);c.Ss(f,h,b,a,d,!0,e);return f.ye(h)};c.Ss=function(a,b,d,e,
f,h,k){if(!d.Cc())throw g.f.I("invalid call");var m=d.be(),n=d.hc(),p=n.wg().getDatum().getSpheroid();n=n.Ld().gi;var q=p.getFlattening();p=p.getAxis();q*=2-q;var r=new g.uc;m.sn(r);var t=null,v=[[0,0],[0,0]];2==d.Fb()?(t=d.wg(),h?(v[0][0]=c.nn(k,r),v[0][1]=m.cq(),g.Kh.projToGeog(t,1,v),m=v[0][0]*n):(v[0][0]=m.lk(),v[0][1]=k,g.Kh.projToGeog(t,1,v),m=v[0][1]*n)):m=k*n;if(!h&&0!=m&&f!=l.GreatElliptic)throw g.f.Y("invalid argument");var E=new g.da,O=[0],M=new g.b,S=new g.b,da=new g.b,ca=[null,null],
fa=new g.b,qa=new g.b,ya=new g.b,Ia=new g.b;for(b=a.Kb(b);-1!=b;b=a.Qb(b)){var Ga=a.Za(b);a.w(Ga,fa);for(var Ma=!1,La=Ga=a.T(Ga);-1!=La;La=a.T(La)){if(La==Ga){if(Ma)break;Ma=!0}a.w(La,qa);if(h&&(e<k-fa.x&&qa.x-k>e||e<k-qa.x&&fa.x-k>e)||!h&&(0!=k||e<-fa.y&&qa.y>e||e<-qa.y&&fa.y>e)){do if(!(Math.abs(fa.x-qa.x)>=.5*r.N())){2==d.Fb()?(v[0][0]=c.nn(fa.x,r),v[0][1]=fa.y,v[1][0]=c.nn(qa.x,r),v[1][1]=qa.y,g.Kh.projToGeogCenter(t,2,v,0),ya.x=v[0][0]*n,ya.y=v[0][1]*n,Ia.y=v[1][1]*n):(ya.x=fa.x*n,ya.y=fa.y*
n,Ia.y=qa.y*n);Ia.x=2*(qa.x-fa.x)*Math.PI/r.N()+ya.x;if(h){S.x=m;S.y=c.uA(p,q,ya,Ia,m,f);if(isNaN(S.y))break;ca[0]=S;var Oa=1}else if(f==l.GreatElliptic){var Pa=[0,0];Oa=g.ty.vA(q,ya,Ia,m,Pa);if(0==Oa)break;S.x=Pa[0];S.y=m;ca[0]=S;2==Oa&&(da.x=Pa[1],da.y=m,ca[1]=da)}else{S.x=c.sA(p,q,ya,Ia,f);if(isNaN(S.x))break;S.y=0;ca[0]=S;Oa=1}var Ta=-1;for(Pa=0;Pa<Oa;Pa++){g.gb.Ad(p,q,ya.x,ya.y,Ia.x,Ia.y,E,null,null,f);var Xa=E.j;g.gb.Ad(p,q,ya.x,ya.y,ca[Pa].x,ca[Pa].y,E,null,null,f);var bb=E.j;2==d.Fb()?(v[0][0]=
ca[Pa].x/n,v[0][1]=ca[Pa].y/n,g.Kh.geogToProj(t,1,v),h?(M.y=v[0][1],M.x=k):(M.x=c.Ws(v[0][0],fa.x,qa.x,r),M.y=k)):h?(M.x=k,M.y=ca[Pa].y/n):(M.x=c.Ws(ca[Pa].x/n,fa.x,qa.x,r),M.y=k);O[0]=0<Xa?g.L.Yj(bb/Xa,0,1):.5;if(0==O[0]||1==O[0])break;Ta>O[0]||(Ta=a.Ma(La),a.em(Ta,O,1),a.nb(a.T(Ta),M.x,M.y),Ta=O[0])}}while(0)}fa.K(qa)}}};c.nn=function(a,b){var d=b.ja-b.fa;return b.su(a-Math.floor((a-b.fa)/d)*d)};c.Ws=function(a,b,d,e){var f=new g.uc;f.H(b,d);d=e.N();a=Math.floor((a-b)/d)*d+a;for(f=f.hf();Math.abs(a-
f)>Math.abs(a+d-f);)a+=d;return a};c.mo=function(a,b,d){a=g.Nr.Wp(a);b=g.Nr.Ux(a,g.Nr.Wp(b));d=g.Nr.Ux(a,g.Nr.Wp(d));return 0==d||0<b&&0<d&&d<=b||0>b&&0>d&&d>=b?!0:!1};c.uA=function(a,b,d,e,f,h){if(h==l.GreatElliptic)return g.ty.lU(b,d,e,f);if(Math.abs(d.x-e.x)>=Math.PI||!c.mo(d.x,e.x,f))return NaN;if(d.x>e.x)var k=e;else k=d,d=e;e=new g.da;var m=new g.da,n=new g.da;g.gb.Ad(a,b,k.x,k.y,d.x,d.y,m,e,null,h);var p=m.j,q=0,r=1,t=new g.b;for(t.K(k);p*(r-q)>1E-12*a;){var v=.5*(q+r);g.gb.tj(a,b,k.x,k.y,
p*v,e.j,m,n,h);t.x=m.j;t.y=n.j;if(t.x==f)break;if(c.mo(k.x,t.x,f))r=v;else if(c.mo(d.x,t.x,f))q=v;else return NaN}return t.y};c.sA=function(a,b,d,e,f){if(f==l.GreatElliptic)return a=[0,0],g.ty.vA(b,d,e,0,a),a[0];if(d.y>e.y)var h=e;else h=d,d=e;e=new g.uc;e.H(h.y,d.y);if(!e.contains(0)||Math.abs(h.x-d.x)>=Math.PI)return NaN;if(h.x==d.x)return h.x;var k=new g.da,m=new g.da,n=new g.da;g.gb.Ad(a,b,h.x,h.y,d.x,d.y,m,k,null,f);var p=m.j,q=0,r=1,t=new g.b;for(t.K(h);p*(r-q)>1E-12*a;){var v=.5*(q+r);g.gb.tj(a,
b,h.x,h.y,p*v,k.j,m,n,f);t.x=m.j;t.y=n.j;e.H(h.y,t.y);if(0==t.y)break;if(e.contains(0))r=v;else if(e.H(d.y,t.y),e.contains(0))q=v;else return NaN}return t.x};c.L0=function(a,b,d,e,f,h){if(b==f&&d!=h)throw g.f.I();if(0>=e)return 0;if(a.xq()){h*=2;var k=2*d;a=2*e;for(d=0;d<a;d++)f[h+d]=b[k+d];return e}if(2>=e){h=[new g.b,new g.b];for(k=0;k<e;k++)h[k].ka(b[2*k],b[2*k+1]);b=g.Rr.local().KZ(a,h,e,h);for(k=0;k<e;k++)f[2*k]=h[k].x,f[2*k+1]=h[k].y;return b}var m=a.ee;k=a.Je;var n=m.Fb(),p=k.Fb();if(0==n&&
n==p)return a=m.qk(),k=k.qk(),k=a/k,a=new g.xd,a.Dr(k,k),a.LZ(b,d,f,h,e),e;n=new g.Hd;n.le(3);n.resize(e);p=n.Va(0);var q=n.Va(3);k=0;for(var r=2*d,t=2*h;k<e;k++,t+=2){d=b[r++];m=b[r++];var v=t;if(isNaN(d)||isNaN(m))m=d=0,v=-1;q.write(k,v);p.write(2*k,d);p.write(2*k+1,m)}n.Oc(1993);b=g.Rr.local().U(n,a,null);k=0;for(h*=2;k<e;k++,h+=2)f[h]=NaN,f[h+1]=NaN;if(b.u())return 0;h=b.Va(3);a=b.Va(0);k=n=0;for(e=b.D();k<e;k++)b=h.read(k),-1!=b&&(d=a.read(2*k),m=a.read(2*k+1),f[b]=d,f[b+1]=m,n++);return n};
c.NJ=function(a,b,d,e){if(!a.ee.Cc())return!1;var f=new g.Hd(b.description);f.yd(b,0,-1);e=g.Rr.local().U(f,a,e);f=b.D();d.Ka();if(f!=e.D())return!1;var h=new g.g;b.s(h);var k=new g.g;e.s(k);h=h.N();k=k.N();if(0!=h&&0!=k){if(k/=h,a=a.Je.nh().N()/a.ee.nh().N(),1E-10<Math.abs(k/a-1))return!1}else if(0!=h||0!=k)return!1;d.add(b,!1);b=new g.b;for(a=0;a<f;a++)e.w(a,b),d.nb(a,b);return!0};c.BO=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};c.LJ=function(a,b,d,e){if(d==u.Clip){var f=b.sk();197==f.F()?
(d=new g.g,f.s(d),f=g.la.Zy(b,d),a=g.fh.clip(a,d,f,5E4*b.Am(),e)):g.kj.local().U(1,f,a,b,e)||(a=g.ak.local().U(a,f,b,e),a==f&&(a=g.Zk.$d(a)))}else b.Cc()&&(e=new g.g,a.Zb(e),b.be().contains(e)||(c.tu(a,b.be(),b.ce(0),!0),d==u.PannableFold&&(a=c.qj(a,b)),a=c.vm(a,b,0,!0,1E5*b.Am(),null)));return a};c.JE=function(a,b,d){var e=b.Cs();if(null==e)return a;b=b.hc();var f=b.be().N(),h=new g.g;a.Zb(h);var k=new g.uc;h.sn(k);h=e.Ba();e=null;for(var m=new g.xd;h.Ta();)for(;h.Aa();){var n=h.aa(),p=n.Qf(0,0),
q=new g.uc;q.H(p.fa,p.ja);for(p=0;q.ja>k.fa;)q.move(-f),--p;for(;q.fa<=k.ja;){if(q.isIntersecting(k)){null==e&&(e=new g.Oa);var r=g.zb.mQ(n.ac(),n.wc());0!=p&&(m.mg(p*f,0),r.Qc(m));e.$b(r,!0)}q.move(f);++p}}return null!=e?(b=g.la.pP(b,e),b=g.la.es(b),g.Hu.vQ(a,e,b,d)):a};c.nP=function(a,b,d,e,f){return a>=d&&b<=e?0:c.fF(.5*(b+a),d,e,f)};c.fF=function(a,b,d,e){return g.Tb.round((.5*(d+b)-a)/e)*e};c.gS=function(a,b,d,e,f,h,k,m){var n=c.Mv(e,f),p=n.N(),q=p/360,r=c.bF*q,t=a.Va(0),v=b.Cc(),E=v?p/b.be().N():
0;b=a.Ea();for(var O=0,M=d.$();O<M;++O){var S=v,da=new g.Oa(d.description);da.addPath(d,O,!0);var ca=d.Lb(O);0!=k&&(ca=c.BE(ca,da,n.B-m,n.B,k))&&(S=!1);var fa=-1;ca=da.D();var qa=!1;S&&(fa=a.ua(O),qa=a.Lb(O));var ya=da.Va(0),Ia=0,Ga=ya.read(0),Ma=0,La=3*e.ce(0),Oa=!1,Pa=new g.b;Pa.Tc();var Ta=new g.b;Ta.Tc();for(var Xa=!1,bb=1;bb<ca;++bb){var $a=g.b.construct(ya.Ig(2*bb),ya.Ig(2*bb+1)),Sa=$a.x,Va=Sa+Ia,Ra=Va-Ga;$a.x=Va;if(Math.abs(Ra)>r){if(S){var ab=fa+bb-1,Za=fa;if(!qa||bb+1<ca)Za+=bb;ab=t.read(2*
ab);Za=(t.read(2*Za)-ab)*E;Math.abs(Ra-Za)>1*q&&(v=!1)}S||(Ia-=g.Tb.hl(p,Va-Ga),Va=Sa+Ia,++Ma,Xa=0!=Ia,$a.x=Va)}else Oa||g.la.mH(Pa,Ta,$a,La)&&(Oa=!0);Xa&&ya.write(2*bb,Va);Ga=Va;Pa.K(Ta);Ta.K($a)}0!=Ma&&da.Oc(1993);S=da.xa(0);ca=da.xa(ca-1);g.b.vb(S,ca);da=c.IR(da,e,isNaN(f)?0:f,h);b.add(da,!1)}a=e.ce(0);d=n.N()/180;c.tu(b,n,.1*a,!1);return g.fh.clip(b,n,a,d,h)};c.IR=function(a,b,d,e){return c.vm(a,b,d,!0,0,e)};c.iU=function(a,b,d,e){var f=a.F();if(1736==f)for(b=null!=b?b.ce(0):0,f=0;f<e;f++)1!=
g.Zc.Td(a,d[f],b)&&d[f].Tc();else if(197==f)for(f=0;f<e;f++)a.nQ(d[f])||d[f].Tc();else throw g.f.I();};c.fl=function(a,b,d,e){if(32>d)for(var f=new g.Ra,h=0;h<d;h++)f.nb(b[h]),a.fl(f,e).w(b[h]);else{var k=new g.Hd;k.le(3);k.tE(b,d);f=k.Va(3);for(h=0;h<d;h++)f.write(h,h);h=a.fl(k,e);a=h.Va(0);f=h.Va(3);e=g.b.construct(NaN,NaN);for(k=0;k<d;k++)b[k]=e;d=h.D();for(h=0;h<d;h++)e=f.read(h),a.mc(2*h,b[e])}};c.el=function(a,b,d,e){if(32>d)for(var f=new g.Ra,h=0;h<d;h++)f.nb(b[h]),a.el(f,e).w(b[h]);else{var k=
new g.Hd;k.le(3);k.tE(b,d);f=k.Va(3);for(h=0;h<d;h++)f.write(h,h);h=a.el(k,e);a=h.Va(0);f=h.Va(3);e=g.b.construct(NaN,NaN);for(k=0;k<d;k++)b[k]=e;d=h.D();for(h=0;h<d;h++)e=f.read(h),a.mc(2*h,b[e])}};c.G_="ABCDEFGHIJKLMNOPQRSTUVWXYZ";c.bF=210;return c}()})(J||(J={}));(function(g){(function(l){l[l.rightSide=1]="rightSide"})(g.bN||(g.bN={}));var u=function(){function l(c,a,b){this.jt=new g.b;void 0===c?this.ap=-1:(this.jt.K(c),this.ap=a,this.La=b,this.Uw=0)}l.prototype.$K=function(c){this.Uw=c?this.Uw|
1:this.Uw&-2};l.prototype.u=function(){return 0>this.ap};l.prototype.Lz=function(){if(this.u())throw g.f.Y("invalid call");return new g.Ra(this.jt.x,this.jt.y)};l.prototype.Ua=function(){if(this.u())throw g.f.Y("invalid call");return this.ap};l.prototype.Oz=function(){if(this.u())throw g.f.Y("invalid call");return this.La};l.prototype.AA=function(){return 0!=(this.Uw&1)};l.prototype.Jy=function(c,a,b,d){this.jt.x=c;this.jt.y=a;this.ap=b;this.La=d};return l}();g.lm=u})(J||(J={}));(function(g){var u=
function(){function c(){}c.prototype.wn=function(a,b){this.Ah.resize(0);this.Oi.length=0;this.Ak=-1;a.Zb(this.Mk);this.Mk.O(b,b);this.Mk.isIntersecting(this.Hb.Da)?((this.dt=g.R.Ic(a.F()))?(this.II=a.ac(),this.HI=a.wc(),this.qa=b):this.qa=NaN,this.Ah.add(this.Hb.tf),this.Oi.push(this.Hb.Da),this.yt=this.Hb.As(this.Hb.tf)):this.yt=-1};c.prototype.vi=function(a,b){this.Ah.resize(0);this.Oi.length=0;this.Ak=-1;this.Mk.H(a);this.Mk.O(b,b);this.qa=NaN;this.Mk.isIntersecting(this.Hb.Da)?(this.Ah.add(this.Hb.tf),
this.Oi.push(this.Hb.Da),this.yt=this.Hb.As(this.Hb.tf),this.dt=!1):this.yt=-1};c.prototype.next=function(){if(0==this.Ah.size)return-1;this.Ak=this.yt;var a=null,b=null,d=null,e=null;this.dt&&(a=new g.b,b=new g.b,d=new g.g);for(var f=!1;!f;){for(;-1!=this.Ak;){var h=this.Hb.Hz(this.Hb.Ov(this.Ak));if(h.isIntersecting(this.Mk))if(this.dt){if(a.K(this.II),b.K(this.HI),d.H(h),d.O(this.qa,this.qa),0<d.ez(a,b)){f=!0;break}}else{f=!0;break}this.Ak=this.Hb.Vv(this.Ak)}if(-1==this.Ak){h=this.Ah.Gc();var k=
this.Oi[this.Oi.length-1];null==e&&(e=[],e[0]=new g.g,e[1]=new g.g,e[2]=new g.g,e[3]=new g.g);l.IK(k,e);this.Ah.Rf();--this.Oi.length;for(k=0;4>k;k++){var m=this.Hb.fq(h,k);if(-1!=m&&0<this.Hb.mT(m)&&e[k].isIntersecting(this.Mk))if(this.dt){if(a.K(this.II),b.K(this.HI),d.H(e[k]),d.O(this.qa,this.qa),0<d.ez(a,b)){var n=new g.g;n.H(e[k]);this.Ah.add(m);this.Oi.push(n)}}else n=new g.g,n.H(e[k]),this.Ah.add(m),this.Oi.push(n)}if(0==this.Ah.size)return-1;this.Ak=this.Hb.As(this.Ah.get(this.Ah.size-1))}}this.yt=
this.Hb.Vv(this.Ak);return this.Ak};c.lQ=function(a,b,d){var e=new c;e.Hb=a;e.Mk=new g.g;e.Ah=new g.ha(0);e.Oi=[];e.wn(b,d);return e};c.kQ=function(a,b,d){var e=new c;e.Hb=a;e.Mk=new g.g;e.Ah=new g.ha(0);e.Oi=[];e.vi(b,d);return e};c.jQ=function(a){var b=new c;b.Hb=a;b.Mk=new g.g;b.Ah=new g.ha(0);b.Oi=[];return b};return c}();g.q_=u;var l=function(){function c(a,b){this.sf=new g.ad(11);this.ei=new g.ad(5);this.et=[];this.Qw=new g.ha(0);this.Da=new g.g;this.Uk(a,b)}c.prototype.reset=function(a,b){this.sf.rj(!1);
this.ei.rj(!1);this.et.length=0;this.Qw.clear(!1);this.Uk(a,b)};c.prototype.Gi=function(a,b){return this.gw(a,b,0,this.Da,this.tf,!1,-1)};c.prototype.fw=function(a,b,d){d=-1==d?this.tf:this.HG(d);var e=this.ca(d),f=this.CS(d);return this.gw(a,b,e,f,d,!1,-1)};c.prototype.ga=function(a){return this.xS(a)};c.prototype.sG=function(a){return this.Hz(this.Ov(a))};c.prototype.ca=function(a){return this.Qv(a)};c.prototype.CS=function(a){var b=new g.g;b.H(this.Da);var d=this.Qv(a);a=this.CG(a);for(var e=0;e<
2*d;e+=2){var f=g.L.truncate(3&a>>e);0==f?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==f?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==f?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};c.prototype.mT=function(a){return this.iA(a)};c.prototype.LS=function(a,b){return u.lQ(this,a,b)};c.prototype.Vz=function(a,b){return u.kQ(this,a,b)};c.prototype.getIterator=function(){return u.jQ(this)};c.prototype.Uk=function(a,b){if(0>b||32<2*b)throw g.f.I("invalid height");this.UU=b;this.Da.H(a);this.tf=this.sf.Ke();
this.Rx(this.tf,0);this.Kx(this.tf,0);this.RK(this.tf,0);this.OK(this.tf,0)};c.prototype.gw=function(a,b,d,e,f,h,k){if(!e.contains(b))return 0==d?-1:this.gw(a,b,0,this.Da,this.tf,h,k);if(!h)for(var m=f;-1!=m;m=this.YS(m))this.Rx(m,this.iA(m)+1);m=new g.g;m.H(e);e=f;var n=[];n[0]=new g.g;n[1]=new g.g;n[2]=new g.g;for(n[3]=new g.g;d<this.UU&&this.rP(e);d++){c.IK(m,n);for(var p=!1,q=0;4>q;q++)if(n[q].contains(b)){p=!0;var r=this.fq(e,q);-1==r&&(r=this.BQ(e,q));this.Rx(r,this.iA(r)+1);e=r;m.H(n[q]);break}if(!p)break}return this.NT(a,
b,d,m,e,h,f,k)};c.prototype.NT=function(a,b,d,e,f,h,k,m){var n=this.yG(f);if(h){if(f==k)return m;this.cR(m);h=m}else h=this.EQ(),this.xC(h,a),this.pY(this.Ov(h),b);this.PY(h,f);-1!=n?(this.Ox(h,n),this.Lx(n,h)):this.KK(f,h);this.AC(f,h);this.Kx(f,this.Tv(f)+1);this.qP(f)&&this.YR(d,e,f);return h};c.prototype.cR=function(a){var b=this.HG(a),d=this.yG(b),e=this.eT(a),f=this.Vv(a);this.As(b)==a?(-1!=f?this.Ox(f,-1):this.AC(b,-1),this.KK(b,f)):d==a?(this.Lx(e,-1),this.AC(b,e)):(this.Ox(f,e),this.Lx(e,
f));this.Ox(a,-1);this.Lx(a,-1);this.Kx(b,this.Tv(b)-1)};c.IK=function(a,b){var d=.5*(a.o+a.v),e=.5*(a.A+a.B);b[0].H(d,e,a.v,a.B);b[1].H(a.o,e,d,a.B);b[2].H(a.o,a.A,d,e);b[3].H(d,a.A,a.v,e)};c.prototype.qP=function(a){return 8==this.Tv(a)&&!this.TG(a)};c.prototype.YR=function(a,b,d){var e=this.As(d);do{var f=this.Ov(e),h=this.ei.S(e,0);f=this.Hz(f);this.gw(h,f,a,b,d,!0,e);e=h=this.Vv(e)}while(-1!=e)};c.prototype.rP=function(a){return 8<=this.Tv(a)||this.TG(a)};c.prototype.TG=function(a){return-1!=
this.fq(a,0)||-1!=this.fq(a,1)||-1!=this.fq(a,2)||-1!=this.fq(a,3)};c.prototype.BQ=function(a,b){var d=this.sf.Ke();this.tY(a,b,d);this.Rx(d,0);this.Kx(d,0);this.Wk(d,a);this.OK(d,this.Qv(a)+1);this.RK(d,b<<2*this.Qv(a)|this.CG(a));return d};c.prototype.EQ=function(){var a=this.ei.Ke();if(0<this.Qw.size){var b=this.Qw.Gc();this.Qw.Rf()}else b=this.et.length,this.et.push(new g.g);this.qY(a,b);return a};c.prototype.fq=function(a,b){return this.sf.S(a,b)};c.prototype.tY=function(a,b,d){this.sf.P(a,b,
d)};c.prototype.As=function(a){return this.sf.S(a,4)};c.prototype.KK=function(a,b){this.sf.P(a,4,b)};c.prototype.yG=function(a){return this.sf.S(a,5)};c.prototype.AC=function(a,b){this.sf.P(a,5,b)};c.prototype.CG=function(a){return this.sf.S(a,6)};c.prototype.RK=function(a,b){this.sf.P(a,6,b)};c.prototype.Tv=function(a){return this.sf.S(a,7)};c.prototype.iA=function(a){return this.sf.S(a,8)};c.prototype.Kx=function(a,b){this.sf.P(a,7,b)};c.prototype.Rx=function(a,b){this.sf.P(a,8,b)};c.prototype.YS=
function(a){return this.sf.S(a,9)};c.prototype.Wk=function(a,b){this.sf.P(a,9,b)};c.prototype.Qv=function(a){return this.sf.S(a,10)};c.prototype.OK=function(a,b){this.sf.P(a,10,b)};c.prototype.xS=function(a){return this.ei.S(a,0)};c.prototype.xC=function(a,b){this.ei.P(a,0,b)};c.prototype.eT=function(a){return this.ei.S(a,1)};c.prototype.Vv=function(a){return this.ei.S(a,2)};c.prototype.Ox=function(a,b){this.ei.P(a,1,b)};c.prototype.Lx=function(a,b){this.ei.P(a,2,b)};c.prototype.HG=function(a){return this.ei.S(a,
3)};c.prototype.PY=function(a,b){this.ei.P(a,3,b)};c.prototype.Ov=function(a){return this.ei.S(a,4)};c.prototype.qY=function(a,b){this.ei.P(a,4,b)};c.prototype.Hz=function(a){return this.et[a]};c.prototype.pY=function(a,b){this.et[a].H(b)};return c}();g.Fp=l})(J||(J={}));(function(g){(function(c){c[c.Outside=0]="Outside";c[c.Inside=1]="Inside";c[c.Border=2]="Border"})(g.jM||(g.jM={}));var u=function(){function c(a,b){this.hV=b;this.ai=a}c.prototype.Gx=function(a,b){this.WH!=b&&a.flush();this.WH=b};
c.prototype.UF=function(a,b){for(var d=0;d<b;)for(var e=a[d++],f=a[d++],h=a[d++]*this.hV;e<f;e++)this.ai[h+(e>>4)]|=this.WH<<2*(e&15)};return c}();g.r_=u;var l=function(){function c(a,b,d){this.ai=null;this.CB=this.Pk=this.SI=this.QI=this.mt=this.dI=this.Of=this.gn=0;this.Xi=this.Qk=this.El=null;this.nA(a,b,d)}c.create=function(a,b,d){if(!c.az(a))throw g.f.I();return c.GQ(a,b,d)};c.P_=function(a,b,d){if(!c.az(a))throw g.f.I();return c.HQ(a,b,d)};c.VX=function(a){switch(a){case 0:a=1024;break;case 1:a=
16384;break;case 2:a=262144;break;default:throw g.f.Y("Internal Error");}return a};c.az=function(a){return a.u()||1607!=a.F()&&1736!=a.F()?!1:!0};c.prototype.DR=function(a,b){b=b.Ba();for(var d=new g.b,e=new g.b;b.Ta();)for(;b.Aa();){var f=b.aa();if(322!=f.F())throw g.f.Y("Internal Error");a.Zj(f.ac(),d);a.Zj(f.wc(),e);this.Xi.Py(d.x,d.y,e.x,e.y)}this.Xi.mK(g.uy.iy)};c.prototype.ER=function(){throw g.f.Y("Internal Error");};c.prototype.xz=function(a,b){for(var d=1;4>d;d++)a.Py(b[d-1].x,b[d-1].y,b[d].x,
b[d].y);a.Py(b[3].x,b[3].y,b[0].x,b[0].y);this.Xi.mK(g.uy.iy)};c.prototype.xL=function(a,b,d){for(var e=[null,null,null,null],f=0;f<e.length;f++)e[f]=new g.b;b=b.Ba();d=this.Qk.MZ(d)+1.5;f=new g.b;for(var h=new g.b,k=new g.b,m=new g.b,n=new g.b,p=new g.g,q=new g.b;b.Ta();){var r=!1,t=!0;for(q.ka(0,0);b.Aa();){var v=b.aa();m.x=v.ra;m.y=v.na;n.x=v.pa;n.y=v.ma;p.Ka();p.Nb(m.x,m.y);p.Sk(n.x,n.y);if(this.El.tH(p)){this.Qk.Zj(n,n);t?(this.Qk.Zj(m,m),q.K(m),t=!1):m.K(q);f.tc(n,m);v=f.length();var E=.5>v;
0==v?f.ka(1,0):(E||q.K(n),f.scale(d/v),h.ka(-f.y,f.x),k.ka(f.y,-f.x),m.sub(f),n.add(f),e[0].add(m,h),e[1].add(m,k),e[2].add(n,k),e[3].add(n,h),E?r=!0:this.xz(a,e))}else r&&(this.xz(a,e),r=!1),t=!0}r&&this.xz(a,e)}};c.prototype.aD=function(a){return g.L.truncate(a*this.dI+this.QI)};c.prototype.bD=function(a){return g.L.truncate(a*this.mt+this.SI)};c.GQ=function(a,b,d){return new c(a,b,d)};c.HQ=function(a,b,d){return new c(a,b,d)};c.prototype.nA=function(a,b,d){this.Of=Math.max(g.L.truncate(2*Math.sqrt(d)+
.5),64);this.gn=g.L.truncate((2*this.Of+31)/32);this.El=new g.g;this.Pk=b;d=0;for(var e=this.Of,f=this.gn;8<=e;)d+=e*f,e=g.L.truncate(e/2),f=g.L.truncate((2*e+31)/32);this.ai=g.L.Xf(d,0);this.Xi=new g.uy;d=new u(this.ai,this.gn,this);this.Xi.dZ(this.Of,this.Of,d);a.s(this.El);this.El.O(b,b);e=new g.g;f=g.g.construct(1,1,this.Of-2,this.Of-2);var h=b*f.N();b*=f.ca();e.H(this.El.hf(),Math.max(h,this.El.N()),Math.max(b,this.El.ca()));this.CB=this.Pk;this.Qk=new g.xd;this.Qk.KT(e,f);new g.xd;switch(a.F()){case 550:d.Gx(this.Xi,
2);this.ER();break;case 1607:d.Gx(this.Xi,2);this.xL(this.Xi,a,this.CB);break;case 1736:d.Gx(this.Xi,1),this.DR(this.Qk,a),d.Gx(this.Xi,2),this.xL(this.Xi,a,this.CB)}this.dI=this.Qk.fb;this.mt=this.Qk.bb;this.QI=this.Qk.Ob;this.SI=this.Qk.Sb;this.hP()};c.prototype.hP=function(){this.Xi.flush();for(var a=0,b=this.Of*this.gn,d=this.Of,e=g.L.truncate(this.Of/2),f=this.gn,h=g.L.truncate((2*e+31)/32);8<d;){for(d=0;d<e;d++)for(var k=2*d,m=2*d+1,n=0;n<e;n++){var p=2*n,q=2*n+1,r=p>>4;p=2*(p&15);var t=q>>
4;q=2*(q&15);var v=this.ai[a+f*k+r]>>p&3;v|=this.ai[a+f*k+t]>>q&3;v|=this.ai[a+f*m+r]>>p&3;v|=this.ai[a+f*m+t]>>q&3;this.ai[b+h*d+(n>>4)]|=v<<2*(n&15)}d=e;f=h;a=b;e=g.L.truncate(d/2);h=g.L.truncate((2*e+31)/32);b=a+f*d}};c.prototype.Xl=function(a,b){if(!this.El.contains(a,b))return 0;a=this.aD(a);b=this.bD(b);if(0>a||a>=this.Of||0>b||b>=this.Of)return 0;b=this.ai[this.gn*b+(a>>4)]>>2*(a&15)&3;return 0==b?0:1==b?1:2};c.prototype.rn=function(a){if(!a.Ia(this.El))return 0;var b=this.aD(a.o),d=this.aD(a.v),
e=this.bD(a.A);a=this.bD(a.B);0>b&&(b=0);0>e&&(e=0);d>=this.Of&&(d=this.Of-1);a>=this.Of&&(a=this.Of-1);if(b>d||e>a)return 0;for(var f=Math.max(d-b,1)*Math.max(a-e,1),h=0,k=this.gn,m=this.Of,n=0;;){if(32>f||16>m){for(f=e;f<=a;f++)for(var p=b;p<=d;p++)if(n=this.ai[h+k*f+(p>>4)]>>2*(p&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}h+=k*m;m=g.L.truncate(m/2);k=g.L.truncate((2*m+31)/32);b=g.L.truncate(b/2);e=g.L.truncate(e/2);d=g.L.truncate(d/2);a=g.L.truncate(a/2);f=Math.max(d-b,1)*Math.max(a-
e,1)}};c.prototype.hT=function(){return this.Of*this.gn};return c}();g.sy=l})(J||(J={}));(function(g){(function(c){c[c.contains=1]="contains";c[c.within=2]="within";c[c.equals=3]="equals";c[c.disjoint=4]="disjoint";c[c.touches=8]="touches";c[c.crosses=16]="crosses";c[c.overlaps=32]="overlaps";c[c.unknown=0]="unknown";c[c.intersects=1073741824]="intersects"})(g.cN||(g.cN={}));var u=function(){function c(){}c.construct=function(a,b,d,e,f,h,k,m){var n=new c;n.Ww=a;n.Zm=b;n.Mj=d;n.Yi=e;n.rI=f;n.v0=h;
n.w0=k;n.x0=m;return n};return c}();g.Du=function(){function c(){}c.oE=function(a,b,d){if(c.bz(a)){var e=g.la.Ng(b,a,!1);b=!1;g.Yk.mF(a)&&(b=b||a.Tu(e,d));e=a.F();1736!=e&&1607!=e||!g.Yk.kF(a)||0==d||(b=b||a.lj(d));1736!=e&&1607!=e||!g.Yk.lF(a)||0==d||b||a.oN()}};c.bz=function(a){return g.Yk.mF(a)||g.Yk.kF(a)||g.Yk.lF(a)};return c}();var l=function(){function c(){this.yh=[]}c.iC=function(a,b,d,e,f){var h=a.F(),k=b.F();if(197==h){if(197==k)return c.ZX(a,b,d,e);if(33==k)return 2==e?e=1:1==e&&(e=2),
c.lK(b,a,d,e)}else if(33==h){if(197==k)return c.lK(a,b,d,e);if(33==k)return c.aY(a,b,d,e)}if(a.u()||b.u())return 4==e?!0:!1;var m=new g.g;a.s(m);var n=new g.g;b.s(n);var p=new g.g;p.H(m);p.Nb(n);d=g.la.Qd(d,p,!1);if(c.ik(m,n,d))return 4==e?!0:!1;m=!1;g.Zk.Ic(h)&&(h=new g.Oa(a.description),h.$b(a,!0),a=h,h=1607);g.Zk.Ic(k)&&(k=new g.Oa(b.description),k.$b(b,!0),b=k,k=1607);if(197!=h&&197!=k){if(a.pb()<b.pb()||33==h&&550==k)2==e?e=1:1==e&&(e=2)}else 1736!=h&&197!=k&&(2==e?e=1:1==e&&(e=2));switch(h){case 1736:switch(k){case 1736:m=
c.$t(a,b,d,e,f);break;case 1607:m=c.on(a,b,d,e,f);break;case 33:m=c.Zt(a,b,d,e);break;case 550:m=c.Yt(a,b,d,e,f);break;case 197:m=c.xJ(a,b,d,e,f)}break;case 1607:switch(k){case 1736:m=c.on(b,a,d,e,f);break;case 1607:m=c.RB(a,b,d,e,f);break;case 33:m=c.bu(a,b,d,e,f);break;case 550:m=c.au(a,b,d,e,f);break;case 197:m=c.DJ(a,b,d,e)}break;case 33:switch(k){case 1736:m=c.Zt(b,a,d,e);break;case 1607:m=c.bu(b,a,d,e,f);break;case 550:m=c.Ut(b,a,d,e)}break;case 550:switch(k){case 1736:m=c.Yt(b,a,d,e,f);break;
case 1607:m=c.au(b,a,d,e,f);break;case 550:m=c.JB(a,b,d,e,f);break;case 33:m=c.Ut(a,b,d,e);break;case 197:m=c.XI(a,b,d,e)}break;case 197:switch(k){case 1736:m=c.xJ(b,a,d,e,f);break;case 1607:m=c.DJ(b,a,d,e);break;case 550:m=c.XI(b,a,d,e)}}return m};c.ZX=function(a,b,d,e){if(a.u()||b.u())return 4==e?!0:!1;var f=new g.g,h=new g.g,k=new g.g;a.s(f);b.s(h);k.H(f);k.Nb(h);a=g.la.Qd(d,k,!1);switch(e){case 4:return c.ik(f,h,a);case 2:return c.XF(h,f,a);case 1:return c.XF(f,h,a);case 3:return c.jk(f,h,a);
case 8:return c.nR(f,h,a);case 32:return c.mR(f,h,a);case 16:return c.lR(f,h,a)}return!1};c.lK=function(a,b,d,e){if(a.u()||b.u())return 4==e?!0:!1;a=a.w();var f=new g.g,h=new g.g;b.s(f);h.H(a);h.Nb(f);b=g.la.Qd(d,h,!1);switch(e){case 4:return c.xx(a,f,b);case 2:return c.PB(a,f,b);case 1:return c.iW(a,f,b);case 3:return c.mJ(a,f,b);case 8:return c.OB(a,f,b)}return!1};c.aY=function(a,b,d,e){if(a.u()||b.u())return 4==e?!0:!1;a=a.w();b=b.w();var f=new g.g;f.H(a);f.Nb(b);d=g.la.Qd(d,f,!1);switch(e){case 4:return c.jW(a,
b,d);case 2:return c.lJ(b,a,d);case 1:return c.lJ(a,b,d);case 3:return c.nJ(a,b,d)}return!1};c.$t=function(a,b,d,e,f){switch(e){case 4:return c.DW(a,b,d);case 2:return c.yx(b,a,d,f);case 1:return c.yx(a,b,d,f);case 3:return c.GW(a,b,d);case 8:return c.OW(a,b,d);case 32:return c.JW(a,b,d,f)}return!1};c.on=function(a,b,d,e,f){switch(e){case 4:return c.EW(a,b,d);case 1:return c.QB(a,b,d,f);case 8:return c.PW(a,b,d,f);case 16:return c.yW(a,b,d)}return!1};c.Zt=function(a,b,d,e){switch(e){case 4:return c.BW(a,
b,d);case 1:return c.vW(a,b,d);case 8:return c.NW(a,b,d)}return!1};c.Yt=function(a,b,d,e){switch(e){case 4:return c.AW(a,b,d);case 1:return c.uW(a,b,d);case 8:return c.MW(a,b,d);case 16:return c.xW(a,b,d)}return!1};c.xJ=function(a,b,d,e,f){if(c.zW(a,b,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return c.QW(a,b,d);case 1:return c.tW(a,b,d);case 3:return c.FW(a,b,d);case 8:return c.LW(a,b,d,f);case 32:return c.IW(a,b,d,f);case 16:return c.wW(a,b,d,f)}return!1};c.RB=function(a,b,d,e){switch(e){case 4:return c.ZW(a,
b,d);case 2:return c.BJ(b,a,d);case 1:return c.BJ(a,b,d);case 3:return c.aX(a,b,d);case 8:return c.EJ(a,b,d);case 32:return c.eX(a,b,d);case 16:return c.CJ(a,b,d)}return!1};c.bu=function(a,b,d,e){switch(e){case 4:return c.YW(a,b,d);case 1:return c.TW(a,b,d);case 8:return c.iX(a,b,d)}return!1};c.au=function(a,b,d,e){switch(e){case 4:return c.XW(a,b,d);case 1:return c.SW(a,b,d);case 8:return c.hX(a,b,d);case 16:return c.VW(a,b,d)}return!1};c.DJ=function(a,b,d,e){if(c.WW(a,b,d))return 4==e?!0:!1;if(4==
e)return!1;switch(e){case 2:return c.jX(a,b,d);case 1:return c.RW(a,b,d);case 3:return c.$W(a,b,d);case 8:return c.gX(a,b,d);case 32:return c.dX(a,b,d);case 16:return c.UW(a,b,d)}return!1};c.JB=function(a,b,d,e){switch(e){case 4:return c.AV(a,b,d);case 2:return c.UI(b,a,d);case 1:return c.UI(a,b,d);case 3:return c.CV(a,b,d);case 32:return c.IV(a,b,d)}return!1};c.Ut=function(a,b,d,e){switch(e){case 4:return c.VI(a,b,d);case 2:return c.MV(a,b,d);case 1:return c.xV(a,b,d);case 3:return c.tx(a,b,d)}return!1};
c.XI=function(a,b,d,e){switch(e){case 4:return c.zV(a,b,d);case 2:return c.LV(a,b,d);case 1:return c.wV(a,b,d);case 3:return c.BV(a,b,d);case 8:return c.KV(a,b,d);case 16:return c.yV(a,b,d)}return!1};c.GW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.jk(e,f,d))return!1;e=c.qc(a,b,!1);if(4==e||1==e||2==e)return!1;if(c.TI(a,b,d))return!0;e=a.Pb();f=b.Pb();return Math.abs(e-f)>4*Math.max(a.D(),b.D())*d?!1:c.GA(a,b,d,!0)};c.DW=function(a,b,d){var e=c.qc(a,b,!0);return 4==e?!0:1==e||2==e||
1073741824==e?!1:c.vJ(a,b,d)};c.OW=function(a,b,d){var e=c.qc(a,b,!1);return 4==e||1==e||2==e?!1:c.zJ(a,b,d,null)};c.JW=function(a,b,d,e){var f=c.qc(a,b,!1);return 4==f||1==f||2==f?!1:c.wJ(a,b,d,e)};c.yx=function(a,b,d,e){var f=new g.g,h=new g.g;a.s(f);b.s(h);if(!c.yc(f,h,d))return!1;f=c.qc(a,b,!1);return 4==f||2==f?!1:1==f?!0:c.sJ(a,b,d,e)};c.EW=function(a,b,d){var e=c.qc(a,b,!0);return 4==e?!0:1==e||1073741824==e?!1:c.vJ(a,b,d)};c.PW=function(a,b,d,e){var f=c.qc(a,b,!1);return 4==f||1==f?!1:c.AJ(a,
b,d,e)};c.yW=function(a,b,d){var e=c.qc(a,b,!1);return 4==e||1==e?!1:c.uJ(a,b,d,null)};c.QB=function(a,b,d,e){var f=new g.g,h=new g.g;a.s(f);b.s(h);if(!c.yc(f,h,d))return!1;f=c.qc(a,b,!1);return 4==f?!1:1==f?!0:c.tJ(a,b,d,e)};c.BW=function(a,b,d){return 0==g.Zc.wH(a,b,d)?!0:!1};c.NW=function(a,b,d){b=b.w();return c.yJ(a,b,d)};c.vW=function(a,b,d){b=b.w();return c.rJ(a,b,d)};c.AW=function(a,b,d){var e=c.qc(a,b,!1);if(4==e)return!0;if(1==e)return!1;e=new g.g;a.s(e);e.O(d,d);for(var f=new g.b,h=0;h<
b.D();h++)if(b.w(h,f),e.contains(f)){var k=g.Zc.Td(a,f,d);if(1==k||2==k)return!1}return!0};c.MW=function(a,b,d){var e=this.qc(a,b,!1);if(4==e||1==e)return!1;e=new g.g;a.s(e);e.O(d,d);for(var f=!1,h=a,k=!1,m=0;m<b.D();m++){var n=b.xa(m);if(e.contains(n))if(n=g.Zc.Td(h,n,d),2==n)f=!0;else if(1==n)return!1;k||(!g.Oe.Wl(a,b.D()-1)||null!=a.ib&&null!=a.ib.Hb?h=a:(h=new g.Ga,a.copyTo(h),h.lj(1)),k=!0)}return f?!0:!1};c.xW=function(a,b,d){var e=this.qc(a,b,!1);if(4==e||1==e)return!1;var f=new g.g;e=new g.g;
var h=new g.g;a.s(f);b.s(h);e.H(f);e.O(d,d);h=f=!1;for(var k=a,m=!1,n=0;n<b.D();n++){var p=b.xa(n);e.contains(p)?(p=g.Zc.Td(k,p,d),0==p?h=!0:1==p&&(f=!0)):h=!0;if(f&&h)return!0;m||(!g.Oe.Wl(a,b.D()-1)||null!=a.ib&&null!=a.ib.Hb?k=a:(k=new g.Ga,a.copyTo(k),k.lj(1)),m=!0)}return!1};c.uW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!this.yc(e,f,d))return!1;f=this.qc(a,b,!1);if(4==f)return!1;if(1==f)return!0;f=!1;for(var h=a,k=!1,m=0;m<b.D();m++){var n=b.xa(m);if(!e.contains(n))return!1;n=
g.Zc.Td(h,n,d);if(1==n)f=!0;else if(0==n)return!1;k||(!g.Oe.Wl(a,b.D()-1)||null!=a.ib&&null!=a.ib.Hb?h=a:(h=new g.Ga,a.copyTo(h),h.lj(1)),k=!0)}return f};c.FW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.jk(e,f,d))return!1;e=new g.Ga;e.bd(b,!1);return c.GA(a,e,d,!0)};c.zW=function(a,b,d){var e=c.qc(a,b,!1);if(4==e)return!0;if(1==e||2==e)return!1;var f=new g.g;e=new g.g;a.s(f);b.s(e);if(c.yc(e,f,d))return!1;f=new g.b;e.tn(f);b=g.Zc.Td(a,f,d);if(0!=b)return!1;e.RJ(f);b=g.Zc.Td(a,f,d);
if(0!=b)return!1;e.un(f);b=g.Zc.Td(a,f,d);if(0!=b)return!1;e.UJ(f);b=g.Zc.Td(a,f,d);if(0!=b)return!1;b=a.Va(0);f=new g.g;f.H(e);f.O(d,d);for(var h=0,k=a.D();h<k;h++){var m=b.read(2*h),n=b.read(2*h+1);if(f.contains(m,n))return!1}return!c.EH(a,e,d)};c.LW=function(a,b,d,e){var f=c.qc(a,b,!1);if(4==f||1==f||2==f)return!1;f=new g.g;var h=new g.g;a.s(f);b.s(h);if(c.yc(h,f,d))return!1;if(h.N()<=d&&h.ca()<=d)return b=b.bq(),c.yJ(a,b,d);if(h.N()<=d||h.ca()<=d)return f=new g.Oa,h=new g.Ra,b.Pf(0,h),f.xf(h),
b.Pf(2,h),f.lineTo(h),c.AJ(a,f,d,e);f=new g.Ga;f.bd(b,!1);return c.zJ(a,f,d,e)};c.IW=function(a,b,d,e){var f=c.qc(a,b,!1);if(4==f||1==f||2==f)return!1;f=new g.g;var h=new g.g;a.s(f);b.s(h);if(c.yc(h,f,d)||h.N()<=d||h.ca()<=d)return!1;f=new g.Ga;f.bd(b,!1);return c.wJ(a,f,d,e)};c.QW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.yc(f,e,d)};c.tW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.yc(e,f,d))return!1;e=c.qc(a,b,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(f.N()<=
d&&f.ca()<=d)return b=b.bq(),c.rJ(a,b,d);if(f.N()<=d||f.ca()<=d)return f=new g.Oa,e=new g.Ra,b.Pf(0,e),f.xf(e),b.Pf(2,e),f.lineTo(e),c.tJ(a,f,d,null);f=new g.Ga;f.bd(b,!1);return c.sJ(a,f,d,null)};c.wW=function(a,b,d,e){var f=new g.g,h=new g.g;a.s(f);b.s(h);if(c.yc(h,f,d)||h.ca()>d&&h.N()>d||h.ca()<=d&&h.N()<=d)return!1;f=new g.Oa;h=new g.Ra;b.Pf(0,h);f.xf(h);b.Pf(2,h);f.lineTo(h);return c.uJ(a,f,d,e)};c.aX=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.jk(e,f,d)&&4!=c.qc(a,b,!1)?
c.TI(a,b,d)?!0:c.GA(a,b,d,!1):!1};c.ZW=function(a,b,d){return 4==this.qc(a,b,!1)?!0:(new g.km(a,b,d,!0)).next()?!this.FH(a,b,d):!1};c.EJ=function(a,b,d){if(4==c.qc(a,b,!1))return!1;var e=new g.ie(0);if(0!=c.HA(a,b,d,e))return!1;for(var f=new g.Hd,h=0;h<e.size;h+=2){var k=e.read(h),m=e.read(h+1);f.hv(k,m)}a=a.sg();b=b.sg();a.yd(b,0,b.D());return c.sx(a,f,d)};c.CJ=function(a,b,d){if(4==c.qc(a,b,!1))return!1;var e=new g.ie(0);if(0!=c.HA(a,b,d,e))return!1;for(var f=new g.Hd,h=0;h<e.size;h+=2){var k=e.read(h),
m=e.read(h+1);f.hv(k,m)}a=a.sg();b=b.sg();a.yd(b,0,b.D());return!c.sx(a,f,d)};c.eX=function(a,b,d){return 4==c.qc(a,b,!1)?!1:c.HH(a,b,d)};c.BJ=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.yc(e,f,d)&&4!=c.qc(a,b,!1)?c.Lm(b,a,d,!1):!1};c.YW=function(a,b,d){if(4==c.qc(a,b,!1))return!0;b=b.w();return!c.IA(a,b,d)};c.iX=function(a,b,d){if(4==c.qc(a,b,!1))return!1;b=b.w();return c.JA(a,b,d)};c.TW=function(a,b,d){if(4==c.qc(a,b,!1))return!1;b=b.w();return c.DH(a,b,d)};c.XW=function(a,b,
d){return 4==c.qc(a,b,!1)?!0:!c.GH(a,b,d,!1)};c.hX=function(a,b,d){if(4==this.qc(a,b,!1))return!1;var e=a.Ba(),f=new g.g,h=new g.g,k=new g.g;a.s(f);b.s(h);f.O(d,d);h.O(d,d);k.H(f);k.Ia(h);f=null;var m=a.ib;if(null!=m){var n=m.Hb;f=m.To;null==n&&(n=m=g.la.pj(a,k))}else n=m=g.la.pj(a,k);var p=n.getIterator(),q=null;null!=f&&(q=f.getIterator());var r=new g.b,t=new g.b,v=!1,E=d*d;f=new g.Gn(b.D());for(m=0;m<b.D();m++)f.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,r),k.contains(r))if(h.H(r.x,r.y,r.x,r.y),null==
q||(q.vi(h,d),-1!=q.next())){p.vi(h,d);for(var O=p.next();-1!=O;O=p.next())if(e.Rb(n.ga(O)),O=e.aa(),O.cc(O.ae(r,!1),t),g.b.oc(r,t)<=E){f.write(m,1);v=!0;break}}if(!v)return!1;a=a.sg();e=new g.Hd;h=new g.b;for(m=0;m<b.D();m++)0!=f.read(m)&&(b.w(m,h),e.hv(h.x,h.y));return this.sx(a,e,d)};c.VW=function(a,b,d){if(4==this.qc(a,b,!1))return!1;var e=a.Ba(),f=new g.g,h=new g.g,k=new g.g;a.s(f);b.s(h);f.O(d,d);h.O(d,d);k.H(f);k.Ia(h);f=null;var m=a.ib;if(null!=m){var n=m.Hb;f=m.To;null==n&&(n=m=g.la.pj(a,
k))}else n=m=g.la.pj(a,k);var p=n.getIterator(),q=null;null!=f&&(q=f.getIterator());var r=new g.b,t=new g.b,v=!1,E=!1,O=d*d;f=new g.Gn(b.D());for(m=0;m<b.D();m++)f.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,r),k.contains(r))if(h.H(r.x,r.y,r.x,r.y),null!=q&&(q.vi(h,d),-1==q.next()))E=!0;else{p.vi(h,d);for(var M=!1,S=p.next();-1!=S;S=p.next())if(e.Rb(n.ga(S)),S=e.aa(),S.cc(S.ae(r,!1),t),g.b.oc(r,t)<=O){f.write(m,1);M=v=!0;break}M||(E=!0)}else E=!0;if(!v||!E)return!1;a=a.sg();e=new g.Hd;h=new g.b;for(m=
0;m<b.D();m++)0!=f.read(m)&&(b.w(m,h),e.hv(h.x,h.y));return!this.sx(a,e,d)};c.SW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.yc(e,f,d)||4==c.qc(a,b,!1)||!c.GH(a,b,d,!0))return!1;a=a.sg();return!c.WI(a,b,d)};c.$W=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return f.ca()>d&&f.N()>d?!1:c.jk(e,f,d)};c.WW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.yc(f,e,d)?!1:!c.EH(a,f,d)};c.gX=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(f.ca()<=d&&f.N()<=d)return f=
b.bq(),c.JA(a,f,d);if(f.ca()<=d||f.N()<=d)return f=new g.Oa,e=new g.Ra,b.Pf(0,e),f.xf(e),b.Pf(2,e),f.lineTo(e),c.EJ(a,f,d);a=a.Ba();b=new g.g;e=new g.g;b.H(f);e.H(f);b.O(-d,-d);e.O(d,d);f=!1;for(var h=new g.g,k=new g.g;a.Ta();)for(;a.Aa();){a.aa().s(h);k.H(b);k.Ia(h);if(!k.u()&&(k.ca()>d||k.N()>d))return!1;k.H(e);k.Ia(h);k.u()||(f=!0)}return f};c.dX=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(c.yc(e,f,d)||c.yc(f,e,d)||c.yc(f,e,d)||f.ca()>d&&f.N()>d||f.ca()<=d&&f.N()<=d)return!1;e=new g.Oa;
f=new g.Ra;b.Pf(0,f);e.xf(f);b.Pf(2,f);e.lineTo(f);return c.HH(a,e,d)};c.jX=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.yc(f,e,d)||f.ca()<=d&&f.N()<=d)return!1;if(f.ca()<=d||f.N()<=d)return c.yc(f,e,d);a=a.Ba();b=new g.g;b.H(f);b.O(-d,-d);f=!1;e=new g.g;for(var h=new g.g;a.Ta();)for(;a.Aa();)a.aa().s(e),b.sm(e)?f=!0:(h.H(b),h.Ia(e),!h.u()&&(h.ca()>d||h.N()>d)&&(f=!0));return f};c.RW=function(a,b,d){var e=new g.g,f=new g.g;b.s(f);a.s(e);if(!c.yc(e,f,d)||f.ca()>d&&f.N()>d)return!1;if(f.ca()<=
d&&f.N()<=d)return b=b.bq(),c.DH(a,b,d);e=new g.Oa;f=new g.Ra;b.Pf(0,f);e.xf(f);b.Pf(2,f);e.lineTo(f);return c.Lm(e,a,d,!1)};c.UW=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(c.yc(f,e,d)||f.ca()<=d&&f.N()<=d)return!1;if(f.ca()<=d||f.N()<=d)return e=new g.Oa,f=new g.Ra,b.Pf(0,f),e.xf(f),b.Pf(2,f),e.lineTo(f),c.CJ(a,e,d);a=a.Ba();b=new g.g;e=new g.g;e.H(f);b.H(f);e.O(-d,-d);b.O(d,d);for(var h=f=!1,k=new g.g,m=new g.g;a.Ta();)for(;a.Aa();)if(a.aa().s(k),h||b.contains(k)||(h=!0),f||(m.H(e),
m.Ia(k),!m.u()&&(m.ca()>d||m.N()>d)&&(f=!0)),f&&h)return!0;return!1};c.CV=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.jk(e,f,d)?c.DV(a,b,d)?!0:c.IB(a,b,d,!1,!0,!1):!1};c.AV=function(a,b,d){return!c.WI(a,b,d)};c.IV=function(a,b,d){return c.IB(a,b,d,!1,!1,!0)};c.UI=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.yc(e,f,d)?c.IB(b,a,d,!0,!1,!1):!1};c.sx=function(a,b,d){d*=d;for(var e=new g.b,f=new g.b,h=0;h<b.D();h++){b.w(h,f);for(var k=!1,m=0;m<a.D();m++)if(a.w(m,e),
g.b.oc(e,f)<=d){k=!0;break}if(!k)return!1}return!0};c.tx=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return c.jk(e,f,d)};c.VI=function(a,b,d){b=b.w();return c.Tt(a,b,d)};c.MV=function(a,b,d){return c.tx(a,b,d)};c.xV=function(a,b,d){return!c.VI(a,b,d)};c.BV=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);return f.ca()>d||f.N()>d?!1:c.jk(e,f,d)};c.zV=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(c.yc(f,e,d))return!1;b=new g.g;b.H(f);b.O(d,d);d=new g.b;for(f=0;f<a.D();f++)if(a.w(f,
d),b.contains(d))return!1;return!0};c.KV=function(a,b,d){var e=new g.g,f=new g.g,h=new g.g;b.s(e);if(e.ca()<=d&&e.N()<=d)return!1;if(e.ca()<=d||e.N()<=d){b=new g.b;var k=!1;f.H(e);h.H(e);f.O(d,d);e.ca()>d?h.O(0,-d):h.O(-d,0);for(var m=0;m<a.D();m++)if(a.w(m,b),f.contains(b)){if(e.ca()>d){if(b.y>h.A&&b.y<h.B)return!1}else if(b.x>h.o&&b.x<h.v)return!1;k=!0}return k}f.H(e);h.H(e);f.O(d,d);h.O(-d,-d);b=new g.b;k=!1;for(m=0;m<a.D();m++)if(a.w(m,b),f.contains(b)){if(h.sm(b))return!1;k=!0}return k};c.LV=
function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.yc(f,e,d))return!1;if(f.ca()<=d&&f.N()<=d)return c.jk(e,f,d);if(f.ca()<=d||f.N()<=d){b=!1;e=new g.g;var h=new g.g;e.H(f);h.H(f);f.ca()>d?e.O(0,-d):e.O(-d,0);h.O(d,d);for(var k=new g.b,m=0;m<a.D();m++){a.w(m,k);if(!h.contains(k))return!1;f.ca()>d?k.y>e.A&&k.y<e.B&&(b=!0):k.x>e.o&&k.x<e.v&&(b=!0)}return b}b=!1;e=new g.g;h=new g.g;e.H(f);h.H(f);e.O(-d,-d);h.O(d,d);k=new g.b;for(m=0;m<a.D();m++){a.w(m,k);if(!h.contains(k))return!1;e.sm(k)&&(b=
!0)}return b};c.wV=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(!c.yc(e,f,d)||f.ca()>d||f.N()>d)return!1;b=b.bq();return!c.Tt(a,b,d)};c.yV=function(a,b,d){var e=new g.g,f=new g.g;a.s(e);b.s(f);if(c.yc(f,e,d)||f.ca()<=d&&f.N()<=d)return!1;if(f.ca()<=d||f.N()<=d){b=new g.g;e=new g.g;b.H(f);f.ca()>d?b.O(0,-d):b.O(-d,0);e.H(f);e.O(d,d);for(var h=new g.b,k=!1,m=!1,n=0;n<a.D();n++)if(a.w(n,h),k||(f.ca()>d?h.y>b.A&&h.y<b.B&&(k=!0):h.x>b.o&&h.x<b.v&&(k=!0)),m||e.contains(h)||(m=!0),k&&m)return!0;
return!1}b=new g.g;e=new g.g;b.H(f);b.O(-d,-d);e.H(f);e.O(d,d);h=new g.b;m=k=!1;for(n=0;n<a.D();n++)if(a.w(n,h),!k&&b.sm(h)&&(k=!0),m||e.contains(h)||(m=!0),k&&m)return!0;return!1};c.nJ=function(a,b,d){return g.b.oc(a,b)<=d*d?!0:!1};c.jW=function(a,b,d){return g.b.oc(a,b)>d*d?!0:!1};c.lJ=function(a,b,d){return c.nJ(a,b,d)};c.mJ=function(a,b,d){var e=new g.g;e.H(a);return c.jk(e,b,d)};c.xx=function(a,b,d){var e=new g.g;e.H(b);e.O(d,d);return!e.contains(a)};c.OB=function(a,b,d){if(b.ca()<=d&&b.N()<=
d)return!1;var e=new g.g,f=new g.g;e.H(b);e.O(d,d);if(!e.contains(a))return!1;if(b.ca()<=d||b.N()<=d){f.H(b);b.ca()>d?f.O(0,-d):f.O(-d,0);if(b.ca()>d){if(a.y>f.A&&a.y<f.B)return!1}else if(a.x>f.o&&a.x<f.v)return!1;return!0}f.H(b);f.O(-d,-d);return f.sm(a)?!1:!0};c.PB=function(a,b,d){if(b.ca()<=d&&b.N()<=d)return!0;if(b.ca()<=d||b.N()<=d){var e=new g.g;e.H(b);b.ca()>d?e.O(0,-d):e.O(-d,0);var f=!1;b.ca()>d?a.y>e.A&&a.y<e.B&&(f=!0):a.x>e.o&&a.x<e.v&&(f=!0);return f}e=new g.g;e.H(b);e.O(-d,-d);return e.sm(a)};
c.iW=function(a,b,d){return c.mJ(a,b,d)};c.jk=function(a,b,d){return c.yc(a,b,d)&&c.yc(b,a,d)};c.ik=function(a,b,d){var e=new g.g;e.H(b);e.O(d,d);return!a.isIntersecting(e)};c.nR=function(a,b,d){if(a.ca()<=d&&a.N()<=d){var e=a.hf();return c.OB(e,b,d)}if(b.ca()<=d&&b.N()<=d)return e=b.hf(),c.OB(e,a,d);a.ca()>d&&a.N()>d&&(b.ca()<=d||b.N()<=d)?e=b:(e=a,a=b);if(e.ca()<=d||e.N()<=d){if(a.ca()<=d||a.N()<=d){b=new g.zb;var f=new g.zb,h=[0,0],k=[0,0],m=new g.b;e.tn(m);b.Fc(m);e.un(m);b.Sc(m);a.tn(m);f.Fc(m);
a.un(m);f.Sc(m);b.Ia(f,null,h,k,d);return 1!=b.Ia(f,null,null,null,d)?!1:0==h[0]||1==h[1]||0==k[0]||1==k[1]}b=new g.g;f=new g.g;b.H(a);b.O(-d,-d);f.H(b);f.Ia(e);return!f.u()&&(f.ca()>d||f.N()>d)?!1:!0}a.O(d,d);f=new g.g;f.H(e);f.Ia(a);return f.u()||!f.u()&&f.ca()>d&&f.N()>d?!1:!0};c.mR=function(a,b,d){if(c.yc(a,b,d)||c.yc(b,a,d)||a.ca()<=d&&a.N()<=d||b.ca()<=d&&b.N()<=d)return!1;if(a.ca()<=d||a.N()<=d){if(b.ca()>d&&b.N()>d)return!1;var e=new g.zb,f=new g.zb,h=[0,0],k=[0,0],m=new g.b;a.tn(m);e.Fc(m);
a.un(m);e.Sc(m);b.tn(m);f.Fc(m);b.un(m);f.Sc(m);e.Ia(f,null,h,k,d);return 2!=e.Ia(f,null,null,null,d)?!1:(0<h[0]||1>h[1])&&(0<k[0]||1>k[1])}if(b.ca()<=d||b.N()<=d)return!1;e=new g.g;e.H(a);e.Ia(b);return e.u()||e.ca()<=d||e.N()<=d?!1:!0};c.XF=function(a,b,d){if(!c.yc(a,b,d))return!1;if(a.ca()<=d&&a.N()<=d)return a=a.hf(),c.PB(a,b,d);if(b.ca()<=d&&b.N()<=d)return b=b.hf(),c.PB(b,a,d);if(a.ca()<=d||a.N()<=d)return c.yc(a,b,d);if(b.ca()<=d||b.N()<=d){var e=new g.g;e.H(a);e.O(-d,-d);if(e.sm(b))return!0;
a=new g.g;a.H(e);a.Ia(b);return a.u()||a.ca()<=d&&a.N()<=d?!1:!0}return c.yc(a,b,d)};c.lR=function(a,b,d){if(c.yc(a,b,d)||c.yc(b,a,d)||a.ca()<=d&&a.N()<=d||b.ca()<=d&&b.N()<=d||b.ca()>d&&b.N()>d&&a.ca()>d&&a.N()>d)return!1;if(a.ca()>d&&a.N()>d)var e=b;else e=a,a=b;if(a.ca()>d&&a.N()>d){b=new g.g;var f=new g.g;f.H(a);f.O(-d,-d);b.H(f);b.Ia(e);return b.u()||b.ca()<=d&&b.N()<=d?!1:!0}b=new g.zb;f=new g.zb;var h=[0,0],k=[0,0],m=new g.b;e.tn(m);b.Fc(m);e.un(m);b.Sc(m);a.tn(m);f.Fc(m);a.un(m);f.Sc(m);b.Ia(f,
null,h,k,d);return 1!=b.Ia(f,null,null,null,d)?!1:0<h[0]&&1>h[1]&&0<k[0]&&1>k[1]};c.vJ=function(a,b,d){var e=new g.g,f=new g.g,h=new g.km(a,b,d,!0);if(!h.next())return!0;if(this.FH(a,b,d))return!1;var k=a,m=null;1736==b.F()&&(m=b);var n=!1,p=!1;do{var q=h.tl(),r=h.ol();r=b.xa(b.ua(r));e.H(h.cA());e.O(d,d);if(e.contains(r)&&(r=g.Zc.Td(k,r,0),0!=r)||1736==b.F()&&(q=a.xa(a.ua(q)),f.H(h.Gz()),f.O(d,d),f.contains(q)&&(r=g.Zc.Td(m,q,0),0!=r)))return!1;n||(!g.Oe.Wl(a,b.$()-1)||null!=a.ib&&null!=a.ib.Hb?
k=a:(k=new g.Ga,a.copyTo(k),k.lj(1)),n=!0);1736!=b.F()||p||(p=b,!g.Oe.Wl(p,a.$()-1)||null!=b.ib&&null!=b.ib.Hb?m=b:(m=new g.Ga,p.copyTo(m),m.lj(1)),p=!0)}while(h.next());return!0};c.yc=function(a,b,d){var e=new g.g;e.H(a);e.O(d,d);return e.contains(b)};c.Ts=function(a,b,d){var e=new g.g;e.H(b);e.O(d,d);b=new g.b;a.tn(b);if(!e.contains(b))return!0;a.RJ(b);if(!e.contains(b))return!0;a.UJ(b);if(!e.contains(b))return!0;a.un(b);return e.contains(b)?!1:!0};c.TI=function(a,b,d){if(a.$()!=b.$()||a.D()!=b.D())return!1;
var e=new g.b,f=new g.b,h=!0;d*=d;for(var k=0;k<a.$();k++){if(a.zc(k)!=b.zc(k)){h=!1;break}for(var m=a.ua(k);m<b.zc(k);m++)if(a.w(m,e),b.w(m,f),g.b.oc(e,f)>d){h=!1;break}if(!h)break}return h?!0:!1};c.DV=function(a,b,d){if(a.D()!=b.D())return!1;var e=new g.b,f=new g.b,h=!0;d*=d;for(var k=0;k<a.D();k++)if(a.w(k,e),b.w(k,f),g.b.oc(e,f)>d){h=!1;break}return h?!0:!1};c.IB=function(a,b,d,e,f,h){var k=!1;if(a.D()>b.D()){e&&(e=!1,k=!0);var m=b}else m=a,a=b;b=null;if(f||h||k){b=new g.Gn(a.D());for(var n=0;n<
a.D();n++)b.write(n,0)}n=new g.g;var p=new g.g,q=new g.g;m.s(n);a.s(p);n.O(d,d);p.O(d,d);q.H(n);q.Ia(p);p=new g.b;for(var r=new g.b,t=!0,v=g.la.aF(a,q),E=v.getIterator(),O=d*d,M=0;M<m.D();M++)if(m.w(M,p),q.contains(p)){var S=!1;n.H(p.x,p.y,p.x,p.y);E.vi(n,d);for(var da=E.next();-1!=da&&!(da=v.ga(da),a.w(da,r),g.b.oc(p,r)<=O&&((f||h||k)&&b.write(da,1),S=!0,e));da=E.next());if(!S&&(t=!1,f||e))return!1}else{if(f||e)return!1;t=!1}if(h&&t)return!1;if(e)return!0;for(n=0;n<a.D();n++)if(1==b.read(n)){if(h)return!0}else if(f||
k)return!1;return h?!1:!0};c.WI=function(a,b,d){if(a.D()>b.D())var e=b;else e=a,a=b;b=new g.g;var f=new g.g,h=new g.g;e.s(b);a.s(f);b.O(d,d);f.O(d,d);h.H(b);h.Ia(f);f=new g.b;for(var k=new g.b,m=d*d,n=g.la.aF(a,h),p=n.getIterator(),q=0;q<e.D();q++)if(e.w(q,f),h.contains(f)){b.H(f.x,f.y,f.x,f.y);p.vi(b,d);for(var r=p.next();-1!=r;r=p.next())if(a.w(n.ga(r),k),g.b.oc(f,k)<=m)return!0}return!1};c.GA=function(a,b,d,e){return c.Lm(a,b,d,e)&&c.Lm(b,a,d,e)};c.Lm=function(a,b,d,e){function f(Ma,La){return q.BF(Ma,
La)}var h=!0,k=[0,0],m=[0,0],n=0,p=new g.ha(0),q=new c,r,t=new g.g,v=new g.g,E=new g.g;a.s(t);b.s(v);t.O(d,d);v.O(d,d);E.H(t);E.Ia(v);a=a.Ba();v=b.Ba();var O=null,M=O=null,S=b.ib;null!=S?(O=S.Hb,M=S.To,null==O&&(O=g.la.pj(b,E))):O=g.la.pj(b,E);b=O.getIterator();S=null;for(null!=M&&(S=M.getIterator());a.Ta();)for(;a.Aa();){var da=!1,ca=a.aa();ca.s(t);if(!t.isIntersecting(E))return!1;if(null!=S&&(S.vi(t,d),-1==S.next()))return h=!1;M=ca.Pb();b.wn(ca,d);for(r=b.next();-1!=r;r=b.next()){v.Rb(O.ga(r));
r=v.aa();var fa=ca.Ia(r,null,k,m,d);if(2==fa&&(!e||m[0]<=m[1])){fa=k[0];var qa=k[1],ya=m[0],Ia=m[1];if(fa*M<=d&&(1-qa)*M<=d){da=!0;n=0;p.resize(0);q.yh.length=0;var Ga=a.wb();for(ya=!0;ya;){if(a.Aa()){ca=a.aa();M=ca.Pb();fa=ca.Ia(r,null,k,m,d);if(2==fa&&(!e||m[0]<=m[1])&&(fa=k[0],qa=k[1],fa*M<=d&&(1-qa)*M<=d)){Ga=a.wb();continue}if(v.Aa()&&(r=v.aa(),fa=ca.Ia(r,null,k,m,d),2==fa&&(!e||m[0]<=m[1])&&(fa=k[0],qa=k[1],fa*M<=d&&(1-qa)*M<=d))){Ga=a.wb();continue}}ya=!1}Ga!=a.wb()&&(a.Rb(Ga),a.aa());break}else Ga=
a.wb(),r=u.construct(Ga,a.Pa,fa,qa,v.wb(),v.Pa,ya,Ia),q.yh.push(r),p.add(p.size)}}if(!da){if(n==q.yh.length)return!1;1<p.size-n&&p.Zd(n,p.size,f);for(da=0;n<q.yh.length;n++)if(r=q.yh[p.get(n)],!(r.Mj<da&&r.Yi<da)){if(M*(r.Mj-da)>d)return!1;da=r.Yi;if(M*(1-da)<=d||1==da)break}if(M*(1-da)>d)return!1;n=0;p.resize(0);q.yh.length=0}}return h};c.HH=function(a,b,d){if(1>c.HA(a,b,d,null))return!1;var e=new g.g,f=new g.g;a.s(e);b.s(f);var h=c.Ts(e,f,d);e=c.Ts(f,e,d);return h&&e?!0:h&&!e?!c.Lm(b,a,d,!1):e&&
!h?!c.Lm(a,b,d,!1):!c.Lm(a,b,d,!1)&&!c.Lm(b,a,d,!1)};c.HA=function(a,b,d,e){function f(Ta,Xa){return t.BF(Ta,Xa)}if(a.gA()>b.gA())var h=b,k=a;else h=a,k=b;a=h.Ba();b=k.Ba();var m=[0,0],n=[0,0],p=-1,q=0,r=new g.ha(0),t=new c,v=new g.g,E=new g.g,O=new g.g;h.s(v);k.s(E);v.O(d,d);E.O(d,d);O.H(v);O.Ia(E);h=null;null!=e&&(h=new g.b);var M=E=E=null,S=k.ib;null!=S?(E=S.Hb,M=S.To,null==E&&(E=g.la.pj(k,O))):E=g.la.pj(k,O);k=E.getIterator();S=null;for(null!=M&&(S=M.getIterator());a.Ta();)for(M=0;a.Aa();){var da=
a.aa();da.s(v);if(v.isIntersecting(O)&&(null==S||(S.vi(v,d),-1!=S.next()))){var ca=da.Pb();k.wn(da,d);for(var fa=k.next();-1!=fa;fa=k.next()){var qa=E.ga(fa);b.Rb(qa);var ya=b.aa(),Ia=ya.Pb(),Ga=da.Ia(ya,null,m,n,d);if(0<Ga){fa=m[0];p=n[0];var Ma=2==Ga?m[1]:NaN,La=2==Ga?n[1]:NaN;if(2==Ga){if(ca*(Ma-fa)>d)return p=1;var Oa=ca*(Ma-fa);if(b.Aa()){ya=b.aa();Ga=da.Ia(ya,null,m,null,d);if(2==Ga){Ga=m[0];var Pa=m[1];Ga=ca*(Pa-Ga);if(Oa+Ga>d)return p=1}b.Rb(qa);b.aa()}if(!b.Im()){b.ti();ya=b.ti();Ga=da.Ia(ya,
null,m,null,d);if(2==Ga&&(Ga=m[0],Pa=m[1],Ga=ca*(Pa-Ga),Oa+Ga>d))return p=1;b.Rb(qa);b.aa()}if(a.Aa()){qa=a.wb();da=a.aa();Ga=da.Ia(ya,null,m,null,d);if(2==Ga&&(Ga=m[0],Pa=m[1],Ga=ca*(Pa-Ga),Oa+Ga>d))return p=1;a.Rb(qa);a.aa()}if(!a.Im()){qa=a.wb();a.ti();da=a.ti();Ga=da.Ia(ya,null,m,null,d);if(2==Ga&&(Ga=m[0],Pa=m[1],Ga=Ia*(Pa-Ga),Oa+Ga>d))return p=1;a.Rb(qa);a.aa()}ya=u.construct(a.wb(),a.Pa,fa,Ma,b.wb(),b.Pa,p,La);t.yh.push(ya);r.add(r.size)}p=0;null!=e&&(da.cc(fa,h),e.add(h.x),e.add(h.y))}}if(q<
t.yh.length){r.Zd(q,r.size,f);da=0;for(fa=t.yh[r.get(q)].Zm;q<t.yh.length;q++)if(ya=t.yh[r.get(q)],!(ya.Mj<da&&ya.Yi<da))if(ca*(ya.Mj-da)>d)M=ca*(ya.Yi-ya.Mj),da=ya.Yi,fa=ya.Zm;else{ya.Zm!=fa?(M=ca*(ya.Yi-ya.Mj),fa=ya.Zm):M+=ca*(ya.Yi-ya.Mj);if(M>d)return p=1;da=ya.Yi;if(1==da)break}ca*(1-da)>d&&(M=0);q=0;r.resize(0);t.yh.length=0}}}return p};c.FH=function(a,b,d){var e=a.Ba(),f=b.Ba();for(a=new g.km(a,b,d,!1);a.next();){b=a.tl();var h=a.ol();e.Rb(b);f.Rb(h);b=e.aa();if(0<f.aa().Ia(b,null,null,null,
d))return!0}return!1};c.GH=function(a,b,d,e){var f=a.Ba(),h=new g.g,k=new g.g,m=new g.g;a.s(h);b.s(k);h.O(d,d);h.contains(k);k.O(d,d);m.H(h);m.Ia(k);h=a.ib;null!=h?(h=h.Hb,null==h&&(h=g.la.pj(a,m))):h=g.la.pj(a,m);a=h.getIterator();for(var n=new g.b,p=new g.b,q=d*d,r=0;r<b.D();r++)if(b.w(r,n),m.contains(n)){k.H(n.x,n.y,n.x,n.y);a.vi(k,d);for(var t=!1,v=a.next();-1!=v;v=a.next())if(f.Rb(h.ga(v)),v=f.aa(),v.cc(v.ae(n,!1),p),g.b.oc(p,n)<=q){t=!0;break}if(e){if(!t)return!1}else if(t)return!0}return e?
!0:!1};c.IA=function(a,b,d){var e=new g.b,f=d*d,h=a.Ba();a=a.ib;if(null!=a&&(a=a.Hb,null!=a)){var k=new g.g;k.H(b);d=a.Vz(k,d);for(k=d.next();-1!=k;k=d.next())if(h.Rb(a.ga(k)),h.Aa()){k=h.aa();var m=k.ae(b,!1);k.cc(m,e);if(g.b.oc(b,e)<=f)return!0}return!1}for(a=new g.g;h.Ta();)for(;h.Aa();)if(k=h.aa(),k.s(a),a.O(d,d),a.contains(b)&&(m=k.ae(b,!1),k.cc(m,e),g.b.oc(b,e)<=f))return!0;return!1};c.DH=function(a,b,d){return c.IA(a,b,d)&&!c.JA(a,b,d)};c.JA=function(a,b,d){a=a.sg();return!c.Tt(a,b,d)};c.EH=
function(a,b,d){if(a.Fm()){var e=new g.zb(b.o,b.A,b.o,b.B),f=new g.zb(b.o,b.B,b.v,b.B),h=new g.zb(b.v,b.B,b.v,b.A);b=new g.zb(b.v,b.A,b.o,b.A);for(a=a.Ba();a.Ta();)for(;a.Aa();){var k=a.aa();if(k.isIntersecting(e,d)||k.isIntersecting(f,d)||k.isIntersecting(h,d)||k.isIntersecting(b,d))return!0}}else{e=new g.g;e.H(b);e.O(d,d);d=a.Va(0);f=new g.b;h=new g.b;b=new g.b;k=new g.b;for(var m=0,n=a.$();m<n;m++)for(var p=!0,q=a.ua(m),r=a.zc(m);q<r;q++)if(p)d.mc(2*q,h),p=!1;else{d.mc(2*q,f);b.K(h);k.K(f);if(0!=
e.ez(b,k))return!0;h.K(f)}}return!1};c.qc=function(a,b,d){var e=a.F(),f=b.F();if(g.R.Rg(e)){var h=a.ib;if(null!=h&&(h=h.oi,null!=h))if(33==f){var k=b.w();k=h.Xl(k.x,k.y);if(1==k)return 1;if(0==k)return 4}else{k=new g.g;b.s(k);k=h.rn(k);if(1==k)return 1;if(0==k)return 4;if(d&&g.R.Rg(f)&&c.rF(b,h))return 1073741824}}if(g.R.Rg(f)&&(h=b.ib,null!=h&&(h=h.oi,null!=h)))if(33==e){a=a.w();k=h.Xl(a.x,a.y);if(1==k)return 2;if(0==k)return 4}else{b=new g.g;a.s(b);k=h.rn(b);if(1==k)return 2;if(0==k)return 4;if(d&&
g.R.Rg(e)&&c.rF(a,h))return 1073741824}return 0};c.rF=function(a,b){for(var d=a.D(),e=new g.b,f=0;f<d;f++)if(a.w(f,e),1==b.Xl(e.x,e.y))return!0;return!1};c.zJ=function(a,b,d,e){for(var f=1<=a.rk(0)&&1<=b.rk(0),h=a.Ba(),k=b.Ba(),m=[0,0],n=[0,0],p=new g.km(a,b,d,!1),q=!1;p.next();){var r=p.tl(),t=p.ol();h.Rb(r);k.Rb(t);r=h.aa();t=k.aa().Ia(r,null,n,m,d);if(2==t){q=m[0];t=m[1];r=r.Pb();if(f&&(t-q)*r>d)return!1;q=!0}else if(0!=t){q=m[0];r=n[0];if(0<q&&1>q&&0<r&&1>r)return!1;q=!0}}if(!q)return!1;h=new g.g;
k=new g.g;f=new g.g;a.s(h);b.s(k);h.O(1E3*d,1E3*d);k.O(1E3*d,1E3*d);f.H(h);f.Ia(k);return 10<a.D()&&(a=g.Yd.clip(a,f,d,0),a.u())||10<b.D()&&(b=g.Yd.clip(b,f,d,0),b.u())?!1:g.mm.$t(a,b,d,"F********",e)};c.wJ=function(a,b,d,e){var f=1<=a.rk(0)&&1<=b.rk(0),h=new g.g,k=new g.g,m=new g.g;a.s(h);b.s(k);for(var n=!1,p=c.Ts(h,k,d),q=c.Ts(k,h,d),r=a.Ba(),t=b.Ba(),v=[0,0],E=[0,0],O=new g.km(a,b,d,!1);O.next();){var M=O.tl(),S=O.ol();r.Rb(M);t.Rb(S);S=r.aa();M=t.aa().Ia(S,null,E,v,d);if(2==M){M=v[0];var da=
v[1];S=S.Pb();if(f&&(da-M)*S>d&&(n=!0,p&&q))return!0}else if(0!=M&&(M=v[0],S=E[0],0<M&&1>M&&0<S&&1>S))return!0}f=new g.g;r=new g.g;f.H(h);f.O(1E3*d,1E3*d);r.H(k);r.O(1E3*d,1E3*d);m.H(f);m.Ia(r);h="";h=n?h+"**":h+"T*";if(p){if(10<b.D()&&(b=g.Yd.clip(b,m,d,0),b.u()))return!1;h+="****"}else h+="T***";if(q){if(10<a.D()&&(a=g.Yd.clip(a,m,d,0),a.u()))return!1;h+="***"}else h+="T**";return g.mm.$t(a,b,d,h.toString(),e)};c.sJ=function(a,b,d,e){var f=[!1],h=c.qJ(a,b,d,f);if(f[0])return h;f=new g.g;b.s(f);
f.O(1E3*d,1E3*d);return 10<a.D()&&(a=g.Yd.clip(a,f,d,0),a.u())?!1:g.mm.yx(a,b,d,e)};c.qJ=function(a,b,d,e){e[0]=!1;for(var f=a.Ba(),h=b.Ba(),k=[0,0],m=[0,0],n=new g.km(a,b,d,!1),p=!1;n.next();){var q=n.tl(),r=n.ol();f.Rb(q,-1);h.Rb(r,-1);q=f.aa();q=h.aa().Ia(q,null,m,k,d);if(0!=q&&(p=!0,1==q&&(q=k[0],r=m[0],0<q&&1>q&&0<r&&1>r)))return e[0]=!0,!1}if(!p){e[0]=!0;k=new g.g;a.s(k);k.O(d,d);n=a;p=!1;m=new g.g;e=0;for(f=b.$();e<f;e++)if(0<b.Ha(e)){b.Sj(e,m);if(k.isIntersecting(m)){if(h=b.xa(b.ua(e)),h=
g.Oe.Jm(n,h,0),0==h)return!1}else return!1;p||(!g.Oe.Wl(a,b.$()-1)||null!=a.ib&&null!=a.ib.Hb?n=a:(h=new g.Ga,a.copyTo(h),h.lj(1),n=h),p=!0)}if(1==a.$()||1607==b.F())return!0;k=new g.g;b.s(k);k.O(d,d);m=b;n=!1;d=new g.g;e=0;for(f=a.$();e<f;e++)if(0<a.Ha(e)){a.Sj(e,d);if(k.isIntersecting(d)&&(h=a.xa(a.ua(e)),h=g.Oe.Jm(m,h,0),1==h))return!1;n||(!g.Oe.Wl(b,a.$()-1)||null!=b.ib&&null!=b.ib.Hb?m=b:(h=new g.Ga,b.copyTo(h),h.lj(1),m=h),n=!0)}return!0}return!1};c.AJ=function(a,b,d,e){for(var f=a.Ba(),h=b.Ba(),
k=[0,0],m=[0,0],n=new g.km(a,b,d,!1),p=!1;n.next();){var q=n.tl(),r=n.ol();f.Rb(q);h.Rb(r);q=f.aa();q=h.aa().Ia(q,null,m,k,d);if(2==q)p=!0;else if(0!=q){p=k[0];q=m[0];if(0<p&&1>p&&0<q&&1>q)return!1;p=!0}}if(!p)return!1;h=new g.g;k=new g.g;f=new g.g;a.s(h);b.s(k);h.O(1E3*d,1E3*d);k.O(1E3*d,1E3*d);f.H(h);f.Ia(k);return 10<a.D()&&(a=g.Yd.clip(a,f,d,0),a.u())||10<b.D()&&(b=g.Yd.clip(b,f,d,0),b.u())?!1:g.mm.on(a,b,d,"F********",e)};c.uJ=function(a,b,d,e){for(var f=a.Ba(),h=b.Ba(),k=[0,0],m=[0,0],n=new g.km(a,
b,d,!1),p=!1;n.next();){var q=n.tl(),r=n.ol();f.Rb(q);h.Rb(r);q=f.aa();q=h.aa().Ia(q,null,m,k,d);if(2==q)p=!0;else if(0!=q){p=k[0];q=m[0];if(0<p&&1>p&&0<q&&1>q)return!0;p=!0}}if(!p)return!1;h=new g.g;k=new g.g;m=new g.g;n=new g.g;f=new g.g;a.s(h);b.s(k);return c.Ts(k,h,d)?(m.H(h),m.O(1E3*d,1E3*d),n.H(k),n.O(1E3*d,1E3*d),f.H(m),f.Ia(n),10<a.D()&&(a=g.Yd.clip(a,f,d,0),a.u())||10<b.D()&&(b=g.Yd.clip(b,f,d,0),b.u())?!1:d=g.mm.on(a,b,d,"T********",e)):d=g.mm.on(a,b,d,"T*****T**",e)};c.tJ=function(a,b,
d,e){var f=[!1],h=c.qJ(a,b,d,f);if(f[0])return h;f=new g.g;b.s(f);f.O(1E3*d,1E3*d);return 10<a.D()&&(a=g.Yd.clip(a,f,d,0),a.u())?!1:g.mm.QB(a,b,d,e)};c.rJ=function(a,b,d){return 1==g.Zc.Td(a,b,d)?!0:!1};c.yJ=function(a,b,d){return 2==g.Zc.Td(a,b,d)?!0:!1};c.Tt=function(a,b,d){var e=new g.b;d*=d;for(var f=0;f<a.D();f++)if(a.w(f,e),g.b.oc(e,b)<=d)return!1;return!0};c.prototype.BF=function(a,b){a=this.yh[a];b=this.yh[b];return a.Zm<b.Zm||a.Zm==b.Zm&&(a.Ww<b.Ww||a.Ww==b.Ww&&(a.Mj<b.Mj||a.Mj==b.Mj&&(a.Yi<
b.Yi||a.Yi==b.Yi&&a.rI<b.rI)))?-1:1};return c}();g.wd=l})(J||(J={}));(function(g){var u;(function(c){c[c.InteriorInterior=0]="InteriorInterior";c[c.InteriorBoundary=1]="InteriorBoundary";c[c.InteriorExterior=2]="InteriorExterior";c[c.BoundaryInterior=3]="BoundaryInterior";c[c.BoundaryBoundary=4]="BoundaryBoundary";c[c.BoundaryExterior=5]="BoundaryExterior";c[c.ExteriorInterior=6]="ExteriorInterior";c[c.ExteriorBoundary=7]="ExteriorBoundary";c[c.ExteriorExterior=8]="ExteriorExterior"})(u||(u={}));
var l;(function(c){c[c.AreaAreaPredicates=0]="AreaAreaPredicates";c[c.AreaLinePredicates=1]="AreaLinePredicates";c[c.LineLinePredicates=2]="LineLinePredicates";c[c.AreaPointPredicates=3]="AreaPointPredicates";c[c.LinePointPredicates=4]="LinePointPredicates";c[c.PointPointPredicates=5]="PointPointPredicates"})(l||(l={}));u=function(){function c(){this.se=0;this.h=new g.Pu;this.G=[0,0,0,0,0,0,0,0,0];this.$a=[0,0,0,0,0,0,0,0,0];this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.en=this.cx=-1}c.hC=function(a,
b,d,e,f){if(9!=e.length)throw g.f.Y("relation string length has to be 9 characters");for(var h=0;9>h;h++){var k=e.charAt(h);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw g.f.Y("relation string");}h=this.cT(e,a.pb(),b.pb());if(0!=h)return g.wd.iC(a,b,d,h,f);h=new g.g;a.s(h);k=new g.g;b.s(k);var m=new g.g;m.H(h);m.Nb(k);d=g.la.Qd(d,m,!1);a=this.HF(a,d);b=this.HF(b,d);if(a.u()||b.u())return this.$X(a,b,e);h=b.F();k=!1;switch(a.F()){case 1736:switch(h){case 1736:k=this.$t(a,b,d,e,f);break;case 1607:k=
this.on(a,b,d,e,f);break;case 33:k=this.Zt(a,b,d,e);break;case 550:k=this.Yt(a,b,d,e,f)}break;case 1607:switch(h){case 1736:k=this.on(b,a,d,this.rq(e),f);break;case 1607:k=this.RB(a,b,d,e,f);break;case 33:k=this.bu(a,b,d,e,f);break;case 550:k=this.au(a,b,d,e,f)}break;case 33:switch(h){case 1736:k=this.Zt(b,a,d,this.rq(e));break;case 1607:k=this.bu(b,a,d,this.rq(e),f);break;case 33:k=this.rW(a,b,d,e);break;case 550:k=this.Ut(b,a,d,this.rq(e))}break;case 550:switch(h){case 1736:k=this.Yt(b,a,d,this.rq(e),
f);break;case 1607:k=this.au(b,a,d,this.rq(e),f);break;case 550:k=this.JB(a,b,d,e,f);break;case 33:k=this.Ut(a,b,d,e)}break;default:k=!1}return k};c.$t=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.BK();var k=new g.g,m=new g.g;a.s(k);b.s(m);e=!1;g.wd.ik(k,m,d)&&(h.iv(a,b),e=!0);e||(k=g.wd.qc(a,b,!1),4==k?(h.iv(a,b),e=!0):1==k?(h.Ry(b),e=!0):2==k&&(h.LE(a),e=!0));e||(e=new g.Yc,a=e.Bb(a),b=e.Bb(b),h.lp(e,d,f),h.Vp(a,b),h.h.ah());return c.lg(h.G,h.Wc)};c.yx=function(a,b,d,e){var f=new c;f.dj();f.ij("T*****F**");
f.BK();var h=new g.g,k=new g.g;a.s(h);b.s(k);var m=!1;g.wd.ik(h,k,d)&&(f.iv(a,b),m=!0);m||(h=g.wd.qc(a,b,!1),4==h?(f.iv(a,b),m=!0):1==h?(f.Ry(b),m=!0):2==h&&(f.LE(a),m=!0));if(m)return h=this.lg(f.G,f.Wc);m=new g.Yc;a=m.Bb(a);h=m.Bb(b);g.$j.U(m,d,e,!1);d=m.ye(h).sg();m.$p(0,!0,!0);g.Kn.U(m,a,-1,!1,e);if(0==m.D(a))return!1;g.Kn.U(m,h,-1,!1,e);f.zr(m,e);b=0==m.D(h);if(!b&&(f.Vp(a,h),f.h.ah(),h=this.lg(f.G,f.Wc),!h))return h;a=m.ye(a);m=new g.Yc;a=m.Bb(a);h=m.Bb(d);f.zr(m,e);f.se=0;f.dj();f.ij(b?"T*****F**":
"******F**");f.sC();f.Vp(a,h);f.h.ah();return h=this.lg(f.G,f.Wc)};c.on=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.sC();var k=new g.g,m=new g.g;a.s(k);b.s(m);e=!1;g.wd.ik(k,m,d)&&(h.jv(a,b),e=!0);e||(k=g.wd.qc(a,b,!1),4==k?(h.jv(a,b),e=!0):1==k&&(h.ME(b),e=!0));e||(e=new g.Yc,a=e.Bb(a),b=e.Bb(b),h.lp(e,d,f),h.qh=h.h.Xp(),c.px(b,h.h,h.qh),h.Vp(a,b),h.h.Yp(h.qh),h.h.ah());return c.lg(h.G,h.Wc)};c.QB=function(a,b,d,e){var f=new c;f.dj();f.ij("T*****F**");f.sC();var h=new g.g,k=new g.g;a.s(h);b.s(k);
var m=!1;g.wd.ik(h,k,d)&&(f.jv(a,b),m=!0);m||(h=g.wd.qc(a,b,!1),4==h?(f.jv(a,b),m=!0):1==h&&(f.ME(b),m=!0));if(m)return d=this.lg(f.G,f.Wc);m=new g.Yc;a=m.Bb(a);b=m.Bb(b);f.lp(m,d,e);if(0==m.D(a))return!1;f.Vp(a,b);f.h.ah();return d=this.lg(f.G,f.Wc)};c.Yt=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.CK();var k=new g.g,m=new g.g;a.s(k);b.s(m);e=!1;g.wd.ik(k,m,d)&&(h.kv(a),e=!0);e||(k=g.wd.qc(a,b,!1),4==k?(h.kv(a),e=!0):1==k&&(h.KO(),e=!0));e||(e=new g.Yc,a=e.Bb(a),b=e.Bb(b),h.lp(e,d,f),h.kz(a,
b),h.h.ah());return c.lg(h.G,h.Wc)};c.RB=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.HY();e=new g.g;var k=new g.g;a.s(e);b.s(k);var m=!1;g.wd.ik(e,k,d)&&(h.BH(a,b),m=!0);m||4!=g.wd.qc(a,b,!1)||(h.BH(a,b),m=!0);m||(e=new g.Yc,a=e.Bb(a),b=e.Bb(b),h.lp(e,d,f),h.di=h.h.Xp(),h.qh=h.h.Xp(),c.px(a,h.h,h.di),c.px(b,h.h,h.qh),h.Vp(a,b),h.h.Yp(h.di),h.h.Yp(h.qh),h.h.ah());return c.lg(h.G,h.Wc)};c.au=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.QK();e=new g.g;var k=new g.g;a.s(e);b.s(k);var m=!1;g.wd.ik(e,
k,d)&&(h.FA(a),m=!0);m||4!=g.wd.qc(a,b,!1)||(h.FA(a),m=!0);m||(e=new g.Yc,a=e.Bb(a),b=e.Bb(b),h.lp(e,d,f),h.di=h.h.Xp(),c.px(a,h.h,h.di),h.kz(a,b),h.h.Yp(h.di),h.h.ah());return c.lg(h.G,h.Wc)};c.JB=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.VK();e=new g.g;var k=new g.g;a.s(e);b.s(k);var m=!1;g.wd.ik(e,k,d)&&(h.pJ(),m=!0);m||(e=new g.Yc,a=e.Bb(a),b=e.Bb(b),h.lp(e,d,f),h.kz(a,b),h.h.ah());return c.lg(h.G,h.Wc)};c.Zt=function(a,b,d,e){var f=new c;f.dj();f.ij(e);f.CK();var h=new g.g;a.s(h);b=b.w();
var k=!1;g.wd.xx(b,h,d)&&(f.kv(a),k=!0);k||(d=g.Zc.Td(a,b,d),1==d?(f.G[0]=0,f.G[2]=2,f.G[3]=-1,f.G[5]=1,f.G[6]=-1):2==d?(f.G[6]=-1,0!=a.Pe()?(f.G[0]=-1,f.G[3]=0,f.G[2]=2,f.G[5]=1):(f.G[0]=0,f.G[3]=-1,f.G[5]=-1,d=new g.g,a.s(d),f.G[2]=0==d.ca()&&0==d.N()?-1:1)):f.kv(a));return this.lg(f.G,e)};c.bu=function(a,b,d,e,f){var h=new c;h.dj();h.ij(e);h.QK();var k=new g.g;a.s(k);e=b.w();var m=!1;g.wd.xx(e,k,d)&&(h.FA(a),m=!0);if(!m){k=null;var n=m=!1;if(h.ea[0]||h.ea[6])g.wd.IA(a,e,d)?(h.ea[0]&&(k=g.yi.qm(a,
f),n=!g.wd.Tt(k,e,d),m=!0,h.G[0]=n?-1:0),h.G[6]=-1):(h.G[0]=-1,h.G[6]=0);h.ea[3]&&(null!=k&&k.u()?h.G[3]=-1:(m||(null==k&&(k=g.yi.qm(a,f)),n=!g.wd.Tt(k,e,d),m=!0),h.G[3]=n?0:-1));h.ea[5]&&(null!=k&&k.u()?h.G[5]=-1:m&&!n?h.G[5]=0:(null==k&&(k=g.yi.qm(a,f)),f=g.wd.tx(k,b,d),h.G[5]=f?-1:0));h.ea[2]&&(0!=a.Pb()?h.G[2]=1:(f=new g.Hd(a.description),f.yd(a,0,a.D()),a=g.wd.tx(f,b,d),h.G[2]=a?-1:0))}return this.lg(h.G,h.Wc)};c.Ut=function(a,b,d,e){var f=new c;f.dj();f.ij(e);f.VK();var h=new g.g;a.s(h);b=b.w();
var k=!1;g.wd.xx(b,h,d)&&(f.pJ(),k=!0);if(!k){h=!1;k=!0;d*=d;for(var m=0;m<a.D();m++){var n=a.xa(m);g.b.oc(n,b)<=d?h=!0:k=!1;if(h&&!k)break}h?(f.G[0]=0,f.G[2]=k?-1:0,f.G[6]=-1):(f.G[0]=-1,f.G[2]=0,f.G[6]=0)}return c.lg(f.G,e)};c.rW=function(a,b,d,e){a=a.w();b=b.w();for(var f=[],h=0;9>h;h++)f[h]=-1;g.b.oc(a,b)<=d*d?f[0]=0:(f[2]=0,f[6]=0);f[8]=2;return c.lg(f,e)};c.lg=function(a,b){for(var d=0;9>d;d++)switch(b.charAt(d)){case "T":if(-1==a[d])return!1;break;case "F":if(-1!=a[d])return!1;break;case "0":if(0!=
a[d])return!1;break;case "1":if(1!=a[d])return!1;break;case "2":if(2!=a[d])return!1}return!0};c.$X=function(a,b,d){var e=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var f=0;9>f;f++)e[f]=-1;return this.lg(e,d)}f=!1;a.u()&&(a=b,f=!0);e[0]=-1;e[1]=-1;e[3]=-1;e[4]=-1;e[6]=-1;e[7]=-1;e[8]=2;b=a.F();g.R.Bc(b)?1736==b?0!=a.Pe()?(e[2]=2,e[5]=1):(e[5]=-1,b=new g.g,a.s(b),e[2]=0==b.ca()&&0==b.N()?0:1):(b=0!=a.Pb(),e[2]=b?1:0,e[5]=g.yi.tq(a)?0:-1):(e[2]=0,e[5]=-1);f&&this.CL(e);return this.lg(e,d)};c.cT=
function(a,b,d){return c.oR(a)?3:c.eR(a)?4:c.JZ(a,b,d)?8:c.NQ(a,b,d)?16:c.oQ(a)?1:c.XV(a,b,d)?32:0};c.oR=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.eR=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.JZ=function(a,b,d){if(0==
b&&0==d)return!1;if(2!=b||2!=d)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||1==b&&1==d&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=d&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==
a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.NQ=function(a,b,d){return b>d?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==d&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.oQ=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&
"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};c.XV=function(a,b,d){if(b==d){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};
c.px=function(a,b,d){a=b.Fa(a);for(var e=b.We;-1!=e;e=b.$f(e))if(0!=(b.Bd(e)&a)){var f=b.Re(e);if(-1==f)b.Dn(e,d,0);else{var h=f,k=0;do 0!=(b.lh(h)&a)&&k++,h=b.kc(b.wa(h));while(h!=f);b.Dn(e,d,k)}}};c.rq=function(a){var b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};c.prototype.dj=function(){for(var a=0;9>a;a++)this.G[a]=-2,this.$a[a]=-2};c.CL=function(a){var b=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];
a[5]=a[7];a[3]=b;a[6]=d;a[7]=e};c.prototype.ij=function(a){this.Wc=a;for(a=0;9>a;a++)"*"!=this.Wc.charAt(a)?(this.ea[a]=!0,this.se++):this.ea[a]=!1};c.prototype.YK=function(){for(var a=0;9>a;a++)this.ea[a]&&-2==this.G[a]&&(this.G[a]=-1,this.ea[a]=!1)};c.prototype.pc=function(a){if(-2==this.G[a])return!1;if(-1==this.G[a])return this.ea[a]=!1,this.se--,!0;if("T"!=this.Wc.charAt(a)&&"F"!=this.Wc.charAt(a)){if(this.G[a]<this.$a[a])return!1;this.ea[a]=!1;this.se--;return!0}this.ea[a]=!1;this.se--;return!0};
c.prototype.BK=function(){this.cx=0;this.$a[0]=2;this.$a[1]=1;this.$a[2]=2;this.$a[3]=1;this.$a[4]=1;this.$a[5]=1;this.$a[6]=2;this.$a[7]=1;this.$a[8]=2;this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)};c.prototype.sC=function(){this.cx=1;this.en=3;this.$a[0]=1;this.$a[1]=0;this.$a[2]=2;this.$a[3]=1;this.$a[4]=0;this.$a[5]=1;this.$a[6]=1;this.$a[7]=0;this.$a[8]=2;this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)};c.prototype.HY=function(){this.cx=2;this.en=4;this.$a[0]=1;this.$a[1]=0;this.$a[2]=
1;this.$a[3]=0;this.$a[4]=0;this.$a[5]=0;this.$a[6]=1;this.$a[7]=0;this.$a[8]=2;this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)};c.prototype.CK=function(){this.en=3;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=2;this.$a[3]=0;this.$a[4]=-1;this.$a[5]=1;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.ea[1]&&(this.G[1]=-1,this.ea[1]=!1,this.se--);this.ea[4]&&(this.G[4]=-1,this.ea[4]=!1,this.se--);this.ea[7]&&(this.G[7]=-1,this.ea[7]=!1,this.se--);this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)};c.prototype.QK=
function(){this.en=4;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=1;this.$a[3]=0;this.$a[4]=-1;this.$a[5]=0;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=2;this.ea[1]&&(this.G[1]=-1,this.ea[1]=!1,this.se--);this.ea[4]&&(this.G[4]=-1,this.ea[4]=!1,this.se--);this.ea[7]&&(this.G[7]=-1,this.ea[7]=!1,this.se--);this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)};c.prototype.VK=function(){this.en=5;this.$a[0]=0;this.$a[1]=-1;this.$a[2]=0;this.$a[3]=-1;this.$a[4]=-1;this.$a[5]=-1;this.$a[6]=0;this.$a[7]=-1;this.$a[8]=
2;this.ea[1]&&(this.G[1]=-1,this.ea[1]=!1,this.se--);this.ea[3]&&(this.G[3]=-1,this.ea[3]=!1,this.se--);this.ea[4]&&(this.G[4]=-1,this.ea[4]=!1,this.se--);this.ea[5]&&(this.G[5]=-1,this.ea[5]=!1,this.se--);this.ea[7]&&(this.G[7]=-1,this.ea[7]=!1,this.se--);this.ea[8]&&(this.G[8]=2,this.ea[8]=!1,this.se--)};c.prototype.IO=function(a,b,d){var e=!0;this.ea[0]&&(this.XT(a,b,d),e=e&&this.pc(0));this.ea[1]&&(this.eH(a,b,1),e=e&&this.pc(1));this.ea[2]&&(this.fH(a,b,d,2),e=e&&this.pc(2));this.ea[3]&&(this.eH(a,
d,3),e=e&&this.pc(3));this.ea[4]&&(this.MO(a,b,d),e=e&&this.pc(4));this.ea[5]&&(this.RE(a,d,5),e=e&&this.pc(5));this.ea[6]&&(this.fH(a,d,b,6),e=e&&this.pc(6));this.ea[7]&&(this.RE(a,b,7),e=e&&this.pc(7));return e};c.prototype.iv=function(a,b){this.G[0]=-1;this.G[1]=-1;this.G[3]=-1;this.G[4]=-1;this.fs(a,this.ea[2]?2:-1,this.Wc.charAt(2),this.ea[5]?5:-1,this.Wc.charAt(5));this.fs(b,this.ea[6]?6:-1,this.Wc.charAt(6),this.ea[7]?7:-1,this.Wc.charAt(7))};c.prototype.fs=function(a,b,d,e,f){if(-1!=b||-1!=
e)("T"!=d&&"F"!=d&&-1!=b||"T"!=f&&"F"!=f&&-1!=e?0!=a.Pe():1)?(-1!=b&&(this.G[b]=2),-1!=e&&(this.G[e]=1)):(-1!=e&&(this.G[e]=-1),-1!=b&&(d=new g.g,a.s(d),this.G[b]=0==d.ca()&&0==d.N()?0:1))};c.prototype.Ry=function(a){this.G[2]=2;this.G[3]=-1;this.G[4]=-1;this.G[5]=1;this.G[6]=-1;this.G[7]=-1;this.fs(a,this.ea[0]?0:-1,this.Wc.charAt(0),this.ea[1]?1:-1,this.Wc.charAt(1))};c.prototype.LE=function(a){this.Ry(a);c.CL(this.G)};c.prototype.jv=function(a,b){this.G[0]=-1;this.G[1]=-1;this.G[3]=-1;this.G[4]=
-1;if(this.ea[6]){var d=this.Wc.charAt(6);d="T"!=d&&"F"!=d?0!=b.Pb():!0;this.G[6]=d?1:0}this.ea[7]&&(b=g.yi.tq(b),this.G[7]=b?0:-1);this.fs(a,this.ea[2]?2:-1,this.Wc.charAt(2),this.ea[5]?5:-1,this.Wc.charAt(5))};c.prototype.ME=function(a){if(this.ea[0]){var b=this.Wc.charAt(0);b="T"!=b&&"F"!=b?0!=a.Pb():!0;this.G[0]=b?1:0}this.ea[1]&&(a=g.yi.tq(a),this.G[1]=a?0:-1);this.G[2]=2;this.G[3]=-1;this.G[4]=-1;this.G[5]=1;this.G[6]=-1;this.G[7]=-1};c.prototype.kv=function(a){this.G[0]=-1;this.G[3]=-1;this.G[6]=
0;this.fs(a,this.ea[2]?2:-1,this.Wc.charAt(2),this.ea[5]?5:-1,this.Wc.charAt(5))};c.prototype.KO=function(){this.G[0]=0;this.G[2]=2;this.G[3]=-1;this.G[5]=1;this.G[6]=-1};c.prototype.BH=function(a,b){this.G[0]=-1;this.G[1]=-1;this.G[3]=-1;this.G[4]=-1;if(this.ea[2]){var d=this.Wc.charAt(2);d="T"!=d&&"F"!=d?0!=a.Pb():!0;this.G[2]=d?1:0}this.ea[5]&&(a=g.yi.tq(a),this.G[5]=a?0:-1);this.ea[6]&&(d=this.Wc.charAt(6),d="T"!=d&&"F"!=d?0!=b.Pb():!0,this.G[6]=d?1:0);this.ea[7]&&(b=g.yi.tq(b),this.G[7]=b?0:
-1)};c.prototype.FA=function(a){this.G[0]=-1;this.G[3]=-1;if(this.ea[2]){var b=this.Wc.charAt(2);b="T"!=b&&"F"!=b?0!=a.Pb():!0;this.G[2]=b?1:0}this.ea[5]&&(a=g.yi.tq(a),this.G[5]=a?0:-1);this.G[6]=0};c.prototype.pJ=function(){this.G[0]=-1;this.G[2]=0;this.G[6]=0};c.prototype.JO=function(a,b,d){var e=!0;this.ea[0]&&(this.YT(a,b),e=e&&this.pc(0));this.ea[1]&&(this.UT(a,b,d,this.qh),e=e&&this.pc(1));this.ea[2]&&(this.VT(a,b),e=e&&this.pc(2));this.ea[3]&&(this.QO(a,b,d,this.qh),e=e&&this.pc(3));this.ea[4]&&
(this.NO(a,b,d,this.qh),e=e&&this.pc(4));this.ea[5]&&(this.OO(a,b,d),e=e&&this.pc(5));this.ea[6]&&(this.xR(a,b),e=e&&this.pc(6));this.ea[7]&&(this.wR(a,b,d,this.qh),e=e&&this.pc(7));return e};c.prototype.IU=function(a,b,d){var e=!0;this.ea[0]&&(this.aU(a,b,d,this.di,this.qh),e=e&&this.pc(0));this.ea[1]&&(this.gH(a,b,d,this.di,this.qh,1),e=e&&this.pc(1));this.ea[2]&&(this.hH(a,b,d,2),e=e&&this.pc(2));this.ea[3]&&(this.gH(a,d,b,this.qh,this.di,3),e=e&&this.pc(3));this.ea[4]&&(this.SO(a,b,d,this.di,
this.qh),e=e&&this.pc(4));this.ea[5]&&(this.SE(a,d,this.di,5),e=e&&this.pc(5));this.ea[6]&&(this.hH(a,d,b,6),e=e&&this.pc(6));this.ea[7]&&(this.SE(a,b,this.qh,7),e=e&&this.pc(7));return e};c.prototype.NE=function(a,b,d){var e=!0;this.ea[0]&&(this.ZT(a,b),e=e&&this.pc(0));this.ea[2]&&(this.WT(a,b),e=e&&this.pc(2));this.ea[3]&&(this.RO(a,b,d),e=e&&this.pc(3));this.ea[5]&&(this.PO(a,b),e=e&&this.pc(5));this.ea[6]&&(this.yR(a,b),e=e&&this.pc(6));return e};c.prototype.CH=function(a,b,d){var e=!0;this.ea[0]&&
(this.bU(a,b,d,this.di),e=e&&this.pc(0));this.ea[2]&&(this.$T(a,d),e=e&&this.pc(2));this.ea[3]&&(this.UO(a,b,d,this.di),e=e&&this.pc(3));this.ea[5]&&(this.TO(a,b,d,this.di),e=e&&this.pc(5));this.ea[6]&&(this.zR(a,b,d),e=e&&this.pc(6));return e};c.prototype.qW=function(a,b,d){var e=!0;this.ea[0]&&(this.cU(a,b,d),e=e&&this.pc(0));this.ea[2]&&(this.iH(a,b,d,2),e=e&&this.pc(2));this.ea[6]&&(this.iH(a,d,b,6),e=e&&this.pc(6));return e};c.prototype.XT=function(a,b,d){2!=this.G[0]&&(a=this.h.kf(a),0!=(a&
b)&&0!=(a&d)&&(this.G[0]=2))};c.prototype.eH=function(a,b,d){if(1!=this.G[d]){var e=this.h.kf(this.h.wa(a));0!=(this.h.kf(a)&b)&&0!=(e&b)&&(this.G[d]=1)}};c.prototype.fH=function(a,b,d,e){2!=this.G[e]&&(a=this.h.kf(a),0!=(a&b)&&0==(a&d)&&(this.G[e]=2))};c.prototype.MO=function(a,b,d){if(1!=this.G[4]){var e=this.h.lh(a);0!=(e&b)&&0!=(e&d)?this.G[4]=1:0!=this.G[4]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)&&(a=this.h.Bd(this.h.Df(a)),0!=(a&b)&&0!=(a&d)&&(this.G[4]=0))}};c.prototype.RE=function(a,
b,d){if(1!=this.G[d]){var e=this.h.kf(this.h.wa(a));0==(this.h.kf(a)&b)&&0==(e&b)&&(this.G[d]=1)}};c.prototype.YT=function(a,b){if(1!=this.G[0]){var d=this.h.kf(this.h.wa(a));0!=(this.h.kf(a)&b)&&0!=(d&b)&&(this.G[0]=1)}};c.prototype.UT=function(a,b,d,e){if(0!=this.G[1]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)){var f=this.h.Df(a),h=this.h.Bd(f);0==(h&b)&&0!=(this.h.kf(a)&b)&&(a=this.h.tg(f,e),0!=(h&d)&&0!=a%2&&(this.G[1]=0))}};c.prototype.VT=function(a,b){2!=this.G[2]&&0!=(this.h.lh(a)&b)&&
(this.G[2]=2)};c.prototype.QO=function(a,b,d,e){if(1!=this.G[3]){var f=this.h.lh(a);0!=(f&b)&&0!=(f&d)?this.G[3]=1:0!=this.G[3]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)&&(f=this.h.Df(a),a=this.h.Bd(f),0!=(a&b)&&(b=this.h.tg(f,e),0!=(a&d)&&0==b%2&&(this.G[3]=0)))}};c.prototype.NO=function(a,b,d,e){if(0!=this.G[4]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)){var f=this.h.Df(a);a=this.h.Bd(f);0!=(a&b)&&(b=this.h.tg(f,e),0!=(a&d)&&0!=b%2&&(this.G[4]=0))}};c.prototype.OO=function(a,b,d){1!=this.G[5]&&
(a=this.h.lh(a),0!=(a&b)&&0==(a&d)&&(this.G[5]=1))};c.prototype.xR=function(a,b){if(1!=this.G[6]){var d=this.h.kf(this.h.wa(a));0==(this.h.kf(a)&b)&&0==(d&b)&&(this.G[6]=1)}};c.prototype.wR=function(a,b,d,e){if(0!=this.G[7]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)){var f=this.h.Df(a),h=this.h.Bd(f);0==(h&b)&&0==(this.h.kf(a)&b)&&(a=this.h.tg(f,e),0!=(h&d)&&0!=a%2&&(this.G[7]=0))}};c.prototype.aU=function(a,b,d,e,f){if(1!=this.G[0]){var h=this.h.lh(a);0!=(h&b)&&0!=(h&d)?this.G[0]=1:0!=this.G[0]&&
1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)&&(a=this.h.Df(a),h=this.h.Bd(a),0!=(h&b)&&0!=(h&d)&&(b=this.h.tg(a,e),f=this.h.tg(a,f),0==b%2&&0==f%2&&(this.G[0]=0)))}};c.prototype.gH=function(a,b,d,e,f,h){if(0!=this.G[h]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)){a=this.h.Df(a);var k=this.h.Bd(a);0!=(k&b)&&0!=(k&d)&&(b=this.h.tg(a,e),f=this.h.tg(a,f),0==b%2&&0!=f%2&&(this.G[h]=0))}};c.prototype.hH=function(a,b,d,e){1!=this.G[e]&&(a=this.h.lh(a),0!=(a&b)&&0==(a&d)&&(this.G[e]=1))};c.prototype.SO=
function(a,b,d,e,f){if(0!=this.G[4]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)){a=this.h.Df(a);var h=this.h.Bd(a);0!=(h&b)&&0!=(h&d)&&(b=this.h.tg(a,e),f=this.h.tg(a,f),0!=b%2&&0!=f%2&&(this.G[4]=0))}};c.prototype.SE=function(a,b,d,e){0!=this.G[e]&&1!=this.h.Cb(this.h.ze(this.h.wa(a)),this.aj)&&(a=this.h.Df(a),0==(this.h.Bd(a)&b)&&0!=this.h.tg(a,d)%2&&(this.G[e]=0))};c.prototype.ZT=function(a,b){0!=this.G[0]&&0==(this.h.Bd(a)&b)&&0!=(this.h.mk(this.h.Iz(a))&b)&&(this.G[0]=0)};c.prototype.WT=function(a,
b){2!=this.G[2]&&0!=(this.h.Bd(a)&b)&&(this.G[2]=2)};c.prototype.RO=function(a,b,d){0!=this.G[3]&&(a=this.h.Bd(a),0!=(a&b)&&0!=(a&d)&&(this.G[3]=0))};c.prototype.PO=function(a,b){1!=this.G[5]&&0!=(this.h.Bd(a)&b)&&(this.G[5]=1)};c.prototype.yR=function(a,b){0!=this.G[6]&&0==(this.h.Bd(a)&b)&&0==(this.h.mk(this.h.Iz(a))&b)&&(this.G[6]=0)};c.prototype.bU=function(a,b,d,e){if(0!=this.G[0]){var f=this.h.Bd(a);0!=(f&b)&&0!=(f&d)&&0==this.h.tg(a,e)%2&&(this.G[0]=0)}};c.prototype.$T=function(a,b){1!=this.G[2]&&
(-1!=this.h.Re(a)?this.G[2]=1:0!=this.G[2]&&0==(this.h.Bd(a)&b)&&(this.G[2]=0))};c.prototype.UO=function(a,b,d,e){if(0!=this.G[3]){var f=this.h.Bd(a);0!=(f&b)&&0!=(f&d)&&0!=this.h.tg(a,e)%2&&(this.G[3]=0)}};c.prototype.TO=function(a,b,d,e){if(0!=this.G[5]){var f=this.h.Bd(a);0!=(f&b)&&0==(f&d)&&0!=this.h.tg(a,e)%2&&(this.G[5]=0)}};c.prototype.zR=function(a,b,d){0!=this.G[6]&&(a=this.h.Bd(a),0==(a&b)&&0!=(a&d)&&(this.G[6]=0))};c.prototype.cU=function(a,b,d){0!=this.G[0]&&(a=this.h.Bd(a),0!=(a&b)&&
0!=(a&d)&&(this.G[0]=0))};c.prototype.iH=function(a,b,d,e){0!=this.G[e]&&(a=this.h.Bd(a),0!=(a&b)&&0==(a&d)&&(this.G[e]=0))};c.prototype.Vp=function(a,b){var d=!1;a=this.h.Fa(a);b=this.h.Fa(b);this.aj=this.h.ih();for(var e=this.h.We;-1!=e;e=this.h.$f(e)){var f=this.h.Re(e);if(-1==f){if(-1!=this.en)switch(this.en){case 3:d=this.NE(e,a,b);break;case 4:d=this.CH(e,a,b);break;default:throw g.f.Y("internal error");}}else{var h=f;do{var k=h;if(1!=this.h.Cb(k,this.aj)){do{switch(this.cx){case 0:d=this.IO(k,
a,b);break;case 1:d=this.JO(k,a,b);break;case 2:d=this.IU(k,a,b);break;default:throw g.f.Y("internal error");}if(d)break;this.h.Jb(k,this.aj,1);k=this.h.kc(k)}while(k!=h&&!d)}if(d)break;h=this.h.kc(this.h.wa(k))}while(h!=f);if(d)break}}d||this.YK();this.h.Uh(this.aj)};c.prototype.kz=function(a,b){var d=!1;a=this.h.Fa(a);b=this.h.Fa(b);for(var e=this.h.We;-1!=e;e=this.h.$f(e)){switch(this.en){case 3:d=this.NE(e,a,b);break;case 4:d=this.CH(e,a,b);break;case 5:d=this.qW(e,a,b);break;default:throw g.f.za();
}if(d)break}d||this.YK()};c.prototype.zr=function(a,b){this.h.xr(a,b)};c.prototype.lp=function(a,b,d){this.iR(a,b,d);this.zr(a,d)};c.prototype.iR=function(a,b,d){g.$j.U(a,b,d,!1);a.$p(0,!0,!0);for(b=a.ld;-1!=b;b=a.Ae(b))1736==a.dc(b)&&g.Kn.U(a,b,-1,!1,d)};c.HF=function(a,b){var d=a.F();if(g.R.Ic(d))return b=new g.Oa(a.description),b.$b(a,!0),b;if(197==d){d=new g.g;a.s(d);if(d.ca()<=b&&d.N()<=b)return b=new g.Ra(a.description),a.hf(b),b;if(d.ca()<=b||d.N()<=b)return b=new g.Oa(a.description),d=new g.Ra,
a.Pf(0,d),b.xf(d),a.Pf(2,d),b.lineTo(d),b;b=new g.Ga(a.description);b.bd(a,!1);return b}return a};return c}();g.mm=u})(J||(J={}));(function(g){var u=function(){function a(b){this.Rm=new g.ha(0);this.Lw=new g.ha(0);this.fu=new g.b;this.gu=new g.b;this.a=b;this.pt=-1}a.prototype.ec=function(b){return this.a.ec(this.hA(b))};a.prototype.iw=function(b){var d=this.Pz(b);b=this.tG(b);if(this.a.Ma(d)==b){var e=d;d=b;b=e}this.a.Hc(d,this.fu);this.a.Hc(b,this.gu);return this.fu.y<this.gu.y};a.prototype.hA=
function(b){var d=this.Pz(b);b=this.tG(b);return this.a.T(d)==b?d:b};a.prototype.Pz=function(b){return this.Rm.get(b)};a.prototype.tG=function(b){return this.Lw.get(b)};a.prototype.eG=function(b){this.Rm.set(b,this.pt);this.pt=b};a.prototype.cJ=function(b){if(-1!=this.pt){var d=this.pt;this.pt=this.Rm.get(d);this.Rm.set(d,b);this.Lw.set(d,this.a.T(b));return d}null==this.Rm&&(this.Rm=new g.ha(0),this.Lw=new g.ha(0));d=this.Rm.size;this.Rm.add(b);this.Lw.add(this.a.T(b));return d};a.prototype.aA=function(b){return this.a.cd(this.Pz(b))};
return a}();g.e_=u;var l=function(){function a(b){this.Ie=b;this.qe=new g.zb;this.$m=new g.zb;this.sI=0;this.Uo=null;this.hB=-1}a.prototype.compare=function(b,d,e){e=b.ga(e);var f=this.Ie.eb;if(this.hB==d)var h=this.sI;else this.Uo=f.ec(d),null==this.Uo?(b=f.a,b.gd(f.hA(d),this.qe),this.Uo=this.qe,h=this.qe.Te(this.Ie.Fh,0)):h=this.Uo.Te(this.Ie.Fh,0),this.sI=h,this.hB=d;b=f.ec(e);if(null==b){b=f.a;b.gd(f.hA(e),this.$m);b=this.$m;var k=this.$m.Te(this.Ie.Fh,0)}else k=b.Te(this.Ie.Fh,0);h==k&&(d=f.iw(d),
e=f.iw(e),e=Math.min(d?this.Uo.ma:this.Uo.na,e?b.ma:b.na),d=.5*(e+this.Ie.Fh),d==this.Ie.Fh&&(d=e),h=this.Uo.Te(d,0),k=b.Te(d,0));return h<k?-1:h>k?1:0};a.prototype.reset=function(){this.hB=-1};return a}(),c=function(){function a(){this.kn=this.Ol=null;this.cb=new g.bk;this.cb.bR();this.ge=new l(this);this.cb.kp(this.ge)}a.prototype.TR=function(){var b=!1;this.Pw&&(b=this.UR());if(1==this.a.$(this.W)){var d=this.a.Kb(this.W);b=this.a.eA(d);this.a.yC(d,!0);return 0>b?(b=this.a.Za(d),this.a.tK(b),this.a.dh(d,
this.a.Ma(b)),!0):!1}this.Ml=this.a.oz();this.Po=this.a.oz();for(d=this.a.Kb(this.W);-1!=d;d=this.a.Qb(d))this.a.Br(d,this.Ml,0),this.a.Br(d,this.Po,-1);d=new g.ha(0);this.Fh=NaN;var e=new g.b;this.Mt=this.a.$(this.W);this.Ko=this.a.Kd();this.zt=this.a.Kd();for(var f=this.Ol.sc(this.Ol.re);-1!=f;f=this.Ol.hb(f)){var h=this.Ol.getData(f);this.a.Hc(h,e);e.y!=this.Fh&&0!=d.size&&(b=this.cu(d)||b,this.ge.reset(),d.clear(!1));d.add(h);this.Fh=e.y;if(0==this.Mt)break}0<this.Mt&&(b=this.cu(d)||b,d.clear(!1));
this.a.Xd(this.Ko);this.a.Xd(this.zt);for(d=this.a.Kb(this.W);-1!=d;)if(3==this.a.yj(d,this.Ml)){this.a.yC(d,!0);e=d;for(d=this.a.yj(d,this.Po);-1!=d;)f=this.a.yj(d,this.Po),this.a.sV(this.W,this.a.Qb(e),d),e=d,d=f;d=this.a.Qb(e)}else this.a.yC(d,!1),d=this.a.Qb(d);this.a.lC(this.Ml);this.a.lC(this.Po);return b};a.prototype.cu=function(b){return this.sX(b)};a.prototype.sX=function(b){var d=!1;null==this.eb&&(this.eb=new u(this.a));null==this.kn?(this.kn=new g.ha(0),this.kn.Db(16)):this.kn.clear(!1);
this.rX(b);for(var e=0,f=b.size;e<f;e++){var h=b.get(e);-1!=h&&this.aH(h,-1)}for(e=0;e<this.kn.size&&0<this.Mt;e++)if(b=this.kn.get(e),h=this.eb.aA(this.cb.ga(b)),f=-1,0==this.a.yj(h,this.Ml)){h=this.cb.Be(b);for(var k=b,m;-1!=h;){var n=this.cb.ga(h),p=this.eb.aA(n),q=this.a.yj(p,this.Ml);if(0!=q){f=p;break}k=h;h=this.cb.Be(h)}-1==h?(m=!0,h=k):(n=this.cb.ga(h),m=this.eb.iw(n),h=this.cb.hb(h),m=!m);do{n=this.cb.ga(h);p=this.eb.aA(n);q=this.a.yj(p,this.Ml);if(0==q&&(m!=this.eb.iw(n)&&(d=this.a.Za(p),
this.a.tK(d),this.a.dh(p,this.a.Ma(d)),d=!0),this.a.Br(p,this.Ml,m?3:2),m||(k=this.a.yj(f,this.Po),this.a.Br(f,this.Po,p),this.a.Br(p,this.Po,k)),this.Mt--,0==this.Mt))return d;f=p;k=h;h=this.cb.hb(h);m=!m}while(k!=b)}return d};a.prototype.rX=function(b){for(var d=0,e=b.size;d<e;d++){var f=b.get(d),h=this.a.Na(f,this.Ko),k=this.a.Na(f,this.zt);if(-1!=h){var m=this.cb.ga(h);this.eb.eG(m);this.a.Qa(f,this.Ko,-1)}-1!=k&&(m=this.cb.ga(k),this.eb.eG(m),this.a.Qa(f,this.zt,-1));m=-1;-1!=h&&-1!=k?(this.cb.zd(h,
-1),this.cb.zd(k,-1),b.set(d,-1)):m=-1!=h?h:k;-1!=m&&(this.aH(f,m)||this.cb.zd(m,-1),b.set(d,-1))}};a.prototype.aH=function(b,d){var e=new g.b,f=new g.b;this.a.Hc(b,e);var h=this.a.T(b);this.a.Hc(h,f);var k=!1;if(e.y<f.y){k=!0;var m=this.eb.cJ(b);if(-1==d)var n=this.cb.addElement(m,-1);else n=d,this.cb.Tj(n,m);m=this.a.Na(h,this.Ko);-1==m?this.a.Qa(h,this.Ko,n):this.a.Qa(h,this.zt,n);h=this.a.cd(b);0==this.a.yj(h,this.Ml)&&this.kn.add(n)}h=this.a.Ma(b);this.a.Hc(h,f);e.y<f.y&&(k=!0,m=this.eb.cJ(h),
-1==d?n=this.cb.addElement(m,-1):(n=d,this.cb.Tj(n,m)),m=this.a.Na(h,this.Ko),-1==m?this.a.Qa(h,this.Ko,n):this.a.Qa(h,this.zt,n),h=this.a.cd(b),0==this.a.yj(h,this.Ml)&&this.kn.add(n));return k};a.U=function(b,d,e,f){var h=new a;h.a=b;h.W=d;h.Ol=e;h.Pw=f;return h.TR()};a.prototype.UR=function(){var b=new g.ha(0),d=new g.ha(0),e=-1,f=-1,h=new g.b;h.Tc();for(var k=-1,m=-1,n=-1,p=new g.b,q=this.Ol.sc(this.Ol.re);-1!=q;q=this.Ol.hb(q)){var r=this.Ol.getData(q);this.a.Hc(r,p);var t=this.a.cd(r);h.qb(p)&&
m==t?(-1==f&&(e=this.a.oz(),f=this.a.Kd()),-1==n&&(n=d.size,this.a.Qa(k,f,n),d.add(1),-1==this.a.yj(t,e)&&(this.a.Br(t,e,k),b.add(t))),this.a.Qa(r,f,n),d.EY(d.Gc()+1)):(n=-1,h.K(p));k=r;m=t}if(0==b.size)return!1;h=new g.ha(0);k=new g.ha(0);m=0;for(n=b.size;m<n;m++){t=b.get(m);var v=this.a.yj(t,e);r=this.a.Na(v,f);h.clear(!1);k.clear(!1);h.add(v);k.add(r);for(r=this.a.T(v);r!=v;r=this.a.T(r)){var E=r;p=this.a.Na(E,f);if(-1!=p)if(0==k.size)k.add(p),h.add(E);else if(k.Gc()==p){q=h.Gc();var O=this.a.T(q);
v=this.a.T(E);this.a.Dc(q,v);this.a.Ec(v,q);this.a.Dc(E,O);this.a.Ec(O,E);E=[!1];O=this.a.$G(this.W,O,this.a.Za(t),E);this.a.Qa(r,f,-1);E[0]&&this.a.Sf(t,v);r=this.a.Ha(t);v=this.a.Ha(O);r-=v;this.a.Wj(t,r);d.set(p,d.get(p)-1);1==d.get(p)&&(d.set(p,0),k.Rf(),h.Rf());r=v=q}else h.add(r),k.add(p)}}this.a.lC(e);this.a.Xd(f);return!0};return a}();g.dN=c})(J||(J={}));(function(g){var u=function(){function l(){}l.prototype.og=function(){this.yB=this.sb=null};l.prototype.get=function(){return this.yB};l.prototype.set=
function(c){this.yB=c;if(null!=c)throw 322==c.F()&&(this.sb=c),g.f.za();};l.prototype.create=function(c){if(322==c)this.ps();else throw g.f.Y("Not Implemented");};l.prototype.ps=function(){null==this.sb&&(this.sb=new g.zb);this.yB=this.sb};return l}();g.og=u})(J||(J={}));(function(g){g=g.eN||(g.eN={});g[g.enumLineSeg=1]="enumLineSeg";g[g.enumBezierSeg=2]="enumBezierSeg";g[g.enumArcSeg=4]="enumArcSeg";g[g.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";g[g.enumSegmentMask=7]="enumSegmentMask";
g[g.enumDensified=8]="enumDensified"})(J||(J={}));(function(g){var u=function(){return function(c){this.gj=c;this.ZC=this.$C=1;this.bC=this.aC=this.cC=0}}(),l=function(){function c(){this.Zq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Jk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Jf=new g.Ra;this.qa=this.kx=0;this.Fo=[];this.It=[];this.fx=[];this.ar=[];this.vB=[]}c.prototype.fC=function(a){if(null!=a){for(var b=0,d=a.length;b<d;b++)this.XX(a[b]);a.length=0}};c.prototype.XX=function(a){a.gj=null;this.ar.push(a)};
c.prototype.ux=function(a){if(0===this.ar.length)var b=new u(a);else b=this.ar[this.ar.length-1],b.gj=a,--this.ar.length;return b};c.prototype.iT=function(a,b){return 0==a?this.It[b]:this.fx[b]};c.prototype.LB=function(){this.kx>=this.vB.length&&this.vB.push(new g.og);var a=this.vB[this.kx];this.kx++;return a};c.prototype.clear=function(){this.fC(this.Fo);this.fC(this.It);this.fC(this.fx);this.kx=0};c.prototype.gp=function(a){this.Fo.push(this.ux(a))};c.prototype.ul=function(a){return 0==a?this.It.length:
this.fx.length};c.prototype.nq=function(a,b){return this.iT(a,b).gj};c.prototype.Ia=function(a,b){if(2!=this.Fo.length)throw g.f.za();this.qa=a;var d=g.Tb.Wx(.01*a),e=!1,f=this.Fo[0],h=this.Fo[1];if(b||0!=(f.gj.Zr(h.gj,a,!0)&5)){if(322==f.gj.F()){var k=f.gj;if(322==h.gj.F()){b=h.gj;var m=g.zb.Dy(k,b,null,this.Zq,this.Jk,a);if(0==m)throw g.zb.Dy(k,b,null,this.Zq,this.Jk,a),g.f.za();a=Array(9);g.L.Hv(a,null);for(var n=0;n<m;n++){var p=this.Zq[n],q=this.Jk[n],r=f.bC,t=1;0==p?(r=f.cC,t=f.$C):1==p&&(r=
f.aC,t=f.ZC);var v=h.bC,E=1;0==q?(v=h.cC,E=h.$C):1==q&&(v=h.aC,E=h.ZC);var O=new g.b;r==v?(r=new g.b,k.cc(p,r),p=new g.b,b.cc(q,p),q=t+E,E/=q,g.Tb.AH(r,p,E,O),g.b.oc(O,r)+g.b.oc(O,p)>d&&(e=!0)):r>v?(k.cc(p,O),p=new g.b,b.cc(q,p),g.b.oc(O,p)>d&&(e=!0)):(b.cc(q,O),r=new g.b,k.cc(p,r),g.b.oc(O,r)>d&&(e=!0));a[n]=O}f=0;h=-1;for(n=0;n<=m;n++)E=n<m?this.Zq[n]:1,E!=f&&(d=this.LB(),k.jh(f,E,d),-1!=h&&d.get().Fc(a[h]),n!=m&&d.get().Sc(a[n]),f=E,this.It.push(this.ux(d.get()))),h=n;k=[0,0,0,0,0,0,0,0,0];for(n=
0;n<m;n++)k[n]=n;1<m&&this.Jk[0]>this.Jk[1]&&(E=this.Jk[0],this.Jk[0]=this.Jk[1],this.Jk[1]=E,n=k[0],k[0]=k[1],k[1]=n);f=0;h=-1;for(n=0;n<=m;n++)E=n<m?this.Jk[n]:1,E!=f&&(d=this.LB(),b.jh(f,E,d),-1!=h&&(f=k[h],d.get().Fc(a[f])),n!=m&&(f=k[n],d.get().Sc(a[f])),f=E,this.fx.push(this.ux(d.get()))),h=n;return e}}throw g.f.za();}return!1};c.prototype.rA=function(a,b,d){b.copyTo(this.Jf);if(1!=this.Fo.length)throw g.f.za();this.qa=a;var e=this.Fo[0];if(d||e.gj.Yu(b.w(),a,!0))if(322==e.gj.F()){a=e.gj;var f=
a.ae(b.w(),!1);this.Zq[0]=f;var h=e.bC;d=1;0==f?(h=e.cC,d=e.$C):1==f&&(h=e.aC,d=e.ZC);e=new g.b;0==h?(h=new g.b,a.cc(f,h),b=b.w(),g.Tb.AH(h,b,1/(d+1),e)):0<h?(e=new g.b,a.cc(f,e)):e=b.w();d=0;f=-1;for(h=0;1>=h;h++){b=1>h?this.Zq[h]:1;if(b!=d){var k=this.LB();a.jh(d,b,k);-1!=f&&k.get().Fc(e);1!=h&&k.get().Sc(e);d=b;this.It.push(this.ux(k.get()))}f=h}this.Jf.nb(e)}else throw g.f.za();};return c}();g.AD=l})(J||(J={}));(function(g){var u=function(){function l(c){this.lt=this.yk=this.sb=null;this.Ll=this.$e=
0;this.wl=this.Mm=!1;this.Ue=-1;this.ki=this.ed=0;this.Pa=-1;this.Ya=c;this.$e=this.Xr(this.ki);this.Mm=!1;this.yk=null;this.Ll=-1;this.wl=!1;this.lt=new g.b}l.M_=function(c,a){if(0>a||a>=c.D())throw g.f.Gd();var b=new l(c),d=c.Yv(a);b.ed=a-c.ua(d);b.ki=d+1;b.Pa=d;b.$e=b.Xr(b.Pa);b.Ll=b.Ya.ua(b.Pa);b.wl=b.Ya.Lb(b.Pa);return b};l.L_=function(c,a,b){if(0>a||a>=c.$()||0>b)throw g.f.Gd();var d=c.Lb(a)?0:1;if(b>=c.Ha(a)-d)throw g.f.Gd();c=new l(c);c.Ue=-1;c.ed=b;c.Pa=a;c.ki=c.ed+1;c.$e=c.Xr(c.ki);c.Ll=
c.Ya.ua(c.Pa);c.wl=c.Ya.Lb(c.Pa);return c};l.prototype.gY=function(c){if(this.Ya!=c.Ya)throw g.f.Eb();this.Ue=c.Ue;this.ed=c.ed;this.Pa=c.Pa;this.ki=c.ki;this.$e=c.$e;this.Mm=c.Mm;this.Ll=c.Ll;this.yk=null;this.wl=c.wl};l.prototype.aa=function(){this.Ue!=this.ed&&this.nE();if(this.Mm)this.ed=(this.ed+1)%this.$e;else{if(this.ed==this.$e)throw g.f.Gd();this.ed++}return this.yk};l.prototype.ti=function(){if(this.Mm)this.ed=(this.$e+this.ed-1)%this.$e;else{if(0==this.ed)throw g.f.Gd();this.ed--}this.ed!=
this.Ue&&this.nE();return this.yk};l.prototype.hY=function(){this.Ue=-1;this.ed=0};l.prototype.iY=function(){this.ed=this.$e;this.Ue=-1};l.prototype.Rb=function(c,a){void 0===a&&(a=-1);if(0<=this.Pa&&this.Pa<this.Ya.$()){var b=this.QN();if(c>=b&&c<this.Ya.zc(this.Pa)){this.Ue=-1;this.ed=c-b;return}}a=0<=a&&a<this.Ya.$()&&c>=this.Ya.ua(a)&&c<this.Ya.zc(a)?a:this.Ya.Yv(c);this.ki=a+1;this.Pa=a;this.Ue=-1;this.ed=c-this.Ya.ua(a);this.$e=this.Xr(a);this.Ll=this.Ya.ua(this.Pa);this.wl=this.Ya.Lb(this.Pa)};
l.prototype.Ta=function(){this.Pa=this.ki;if(this.Pa>=this.Ya.$())return!1;this.Ue=-1;this.ed=0;this.$e=this.Xr(this.Pa);this.Ll=this.Ya.ua(this.Pa);this.wl=this.Ya.Lb(this.Pa);this.ki++;return!0};l.prototype.ej=function(){this.$e=this.ed=this.Ue=-1;this.ki=0;this.Pa=-1;this.wl=!1;this.Ll=-1};l.prototype.oC=function(c){if(0>c)throw g.f.Gd();this.ki=c;this.Ll=this.$e=this.ed=this.Ue=this.Pa=-1;this.wl=!1};l.prototype.Xr=function(c){if(this.Ya.Ac())return 0;var a=1;this.Ya.Lb(c)&&(a=0);return this.Ya.Ha(c)-
a};l.prototype.io=function(){return this.Ue==this.$e-1&&this.Ya.Lb(this.Pa)};l.prototype.tC=function(){this.Mm=!0};l.prototype.wb=function(){return this.Ya.kb.i[this.Pa]+this.Ue};l.prototype.QN=function(){return this.Ya.ua(this.Pa)};l.prototype.nk=function(){return this.io()?this.Ya.ua(this.Pa):this.wb()+1};l.prototype.Im=function(){return 0==this.Ue};l.prototype.ko=function(){return this.Ue==this.$e-1};l.prototype.Aa=function(){return this.ed<this.$e};l.prototype.mA=function(){return 0<this.ed};
l.prototype.Cf=function(){var c=new l(this.Ya);c.Ue=this.Ue;c.ed=this.ed;c.$e=this.$e;c.Pa=this.Pa;c.ki=this.ki;c.Ya=this.Ya;c.Mm=this.Mm;return c};l.prototype.nE=function(){if(0>this.ed||this.ed>=this.$e)throw g.f.Gd();this.Ue=this.ed;var c=this.wb();this.Ya.rc();var a=this.Ya.af,b=1;null!=a&&(b=a.read(c)&7);a=this.Ya.description;switch(b){case 1:null==this.sb&&(this.sb=new g.zb);this.yk=this.sb;break;case 2:throw g.f.Y("internal error");case 4:throw g.f.za();default:throw g.f.za();}this.yk.rg(a);
b=this.nk();this.Ya.Hc(c,this.lt);this.yk.Fc(this.lt);this.Ya.Hc(b,this.lt);this.yk.Sc(this.lt);for(var d=1,e=a.Ca;d<e;d++)for(var f=a.kd(d),h=g.oa.Sa(f),k=0;k<h;k++){var m=this.Ya.Rc(f,c,k);this.yk.Qx(f,k,m);m=this.Ya.Rc(f,b,k);this.yk.Hx(f,k,m)}};l.prototype.uU=function(){return this.Pa==this.Ya.$()-1};l.prototype.jo=function(){var c=this.Ya.lT();return null!=c?1!=(c.read(this.Ue)&7):!1};return l}();g.fN=u})(J||(J={}));(function(g){var u=function(){function l(c){c instanceof g.R?(this.kI=c,this.ya=
-1,this.Ki=1):(this.QU=c.slice(0),this.ya=-1,this.Ki=c.length)}l.prototype.Fa=function(){return this.ya};l.prototype.next=function(){return this.ya<this.Ki-1?(this.ya++,null!=this.kI?this.kI:this.QU[this.ya]):null};l.prototype.xe=function(){};return l}();g.$c=u})(J||(J={}));(function(g){var u=function(){return function(){this.next=null}}(),l=function(){function c(){this.mr=this.qx=this.rx=0;this.YF=!1;this.lL=0;this.xn=this.Tf=this.hm=this.Nh=null;this.Zl=0;this.$y=null;this.vl=this.xi=-1}c.prototype.dZ=
function(a,b,d){this.xi=a;this.vl=b;this.Nh=this.hm=null;this.mr=0;this.$y=d;null==this.xn&&(this.xn=g.L.Xf(384,0));this.tL()};c.prototype.N=function(){return this.xi};c.prototype.ca=function(){return this.vl};c.prototype.flush=function(){0<this.Zl&&(this.$y.UF(this.xn,this.Zl),this.Zl=0)};c.prototype.tL=function(){if(0<this.mr){for(var a=0;a<this.vl;a++){for(var b=this.hm[a];null!=b;){var d=b;b=b.next;d.next=null}this.hm[a]=null}this.Nh=null}this.rx=this.vl;this.qx=-1;this.mr=0};c.prototype.mK=function(a){this.YF=
a==c.iy;for(a=this.rx;a<=this.qx;a++)this.DO(),this.vO(a),this.jR();this.tL()};c.prototype.Py=function(a,b,d,e){if(b!=e){var f=1;b>e&&(f=a,a=d,d=f,f=b,b=e,e=f,f=-1);if(!(0>e||b>=this.vl)){0>a&&0>d?d=a=-1:a>=this.xi&&d>=this.xi&&(d=a=this.xi);var h=(d-a)/(e-b);e>this.vl&&(e=this.vl,d=h*(e-b)+a);0>b&&(a=h*(0-b)+a,b=0);var k=Math.max(this.xi+1,8388607);-8388607>a?(b=(0-a)/h+b,a=0):a>k&&(b=(this.xi-a)/h+b,a=this.xi);-8388607>d?e=(0-a)/h+b:d>k&&(e=(this.xi-a)/h+b);b=g.L.truncate(b);e=g.L.truncate(e);b!=
e&&(d=new u,d.x=g.L.truncate(4294967296*a),d.y=b,d.B=e,d.gR=g.L.truncate(4294967296*h),d.dir=f,null==this.hm&&(this.hm=g.L.Xf(this.vl,null)),d.next=this.hm[d.y],this.hm[d.y]=d,d.y<this.rx&&(this.rx=d.y),d.B>this.qx&&(this.qx=d.B),this.mr++)}}};c.prototype.DO=function(){if(null!=this.Nh){for(var a=!1,b=null,d=this.Nh;null!=d;)if(d.y++,d.y==d.B){var e=d;d=d.next;null!=b?b.next=d:this.Nh=d;e.next=null}else d.x+=d.gR,null!=b&&b.x>d.x&&(a=!0),b=d,d=d.next;a&&(this.Nh=this.kL(this.Nh))}};c.prototype.vO=
function(a){if(!(a>=this.vl)){var b=this.hm[a];if(null!=b){this.hm[a]=null;b=this.kL(b);this.mr-=this.lL;a=this.Nh;for(var d=!0,e=b,f=null;null!=a&&null!=e;)a.x>e.x?(d&&(this.Nh=e),d=e.next,e.next=a,null!=f&&(f.next=e),f=e,e=d):(d=a.next,a.next=e,null!=f&&(f.next=a),f=a,a=d),d=!1;null==this.Nh&&(this.Nh=b)}}};c.jL=function(a,b){return 0>a?0:a>b?b:a};c.prototype.jR=function(){if(null!=this.Nh)for(var a=0,b=this.Nh,d=g.L.truncate(g.L.IH(b.x)),e=b.next;null!=e;e=e.next)if(a=this.YF?a^1:a+e.dir,e.x>b.x){var f=
g.L.truncate(g.L.IH(e.x));0!=a&&(b=c.jL(d,this.xi),d=c.jL(f,this.xi),d>b&&b<this.xi&&(this.xn[this.Zl++]=b,this.xn[this.Zl++]=d,this.xn[this.Zl++]=e.y,this.Zl==this.xn.length&&(this.$y.UF(this.xn,this.Zl),this.Zl=0)));b=e;d=f}};c.prototype.kL=function(a){for(var b=0,d=a;null!=d;d=d.next)b++;this.lL=b;if(1==b)return a;null==this.Tf?this.Tf=g.L.Xf(Math.max(b,16),null):this.Tf.length<b&&(this.Tf=g.L.Xf(Math.max(b,2*this.Tf.length),null));var e=0;for(d=a;null!=d;d=d.next)this.Tf[e++]=d;2==b?this.Tf[0].x>
this.Tf[1].x&&(a=this.Tf[0],this.Tf[0]=this.Tf[1],this.Tf[1]=a):c.LO(this.Tf,b,function(f,h){return f==h?0:f.x<h.x?-1:f.x>h.x?1:0});a=this.Tf[0];this.Tf[0]=null;d=a;for(e=1;e<b;e++)d.next=this.Tf[e],d=this.Tf[e],this.Tf[e]=null;d.next=null;return a};c.LO=function(a,b,d){if(b==a.length)a.sort(d);else{var e=a.slice(0,0),f=a.slice(b);b=a.slice(0,b).sort(d);a.length=0;a.push.apply(a,e.concat(b).concat(f))}};c.iy=0;c.v_=1;return c}();g.uy=l})(J||(J={}));(function(g){var u=function(){function l(){}l.prototype.Bi=
function(c,a){var b=this.a.Na(c,this.hr);this.Kl==b&&(this.Kl=this.ve.hb(this.Kl));this.zo==b&&(this.zo=this.ve.hb(this.zo));this.ve.jd(this.AB,b);this.fk(c);if(a&&(a=this.a.cd(c),-1!=a&&this.a.Za(a)==c)){var d=this.a.T(c);if(d!=c){b=this.a.cd(d);if(b==a){this.a.Sf(a,d);return}d=this.a.Ma(c);if(d!=c&&(b=this.a.cd(d),b==a)){this.a.Sf(a,d);return}}this.a.Sf(a,-1);this.a.dh(a,-1)}};l.prototype.aE=function(){for(var c=!1,a=new g.b;;){null==this.bi?(this.bi=new g.ha(0),this.ht=new g.ha(0),this.De=new g.ha(0)):
(this.bi.clear(!1),this.ht.clear(!1),this.De.clear(!1));for(var b=this.zo,d=0,e=!0;b!=this.Kl;){var f=this.ve.getData(b),h=new g.b;this.a.Hc(f,h);e&&(this.a.Hc(f,a),e=!1);h=this.a.Ma(f);var k=this.a.T(f);-559038737!=this.a.Na(h,this.Fg)&&(this.bi.add(h),this.a.Qa(h,this.Fg,-559038737),this.ht.add(f),this.De.add(d++));-559038737!=this.a.Na(k,this.Fg)&&(this.bi.add(k),this.a.Qa(k,this.Fg,-559038737),this.ht.add(f),this.De.add(d++));b=this.ve.hb(b)}if(2>this.bi.size)break;var m=this;this.De.Zd(0,this.De.size,
function(n,p){return m.xN(n,p)});b=0;for(d=this.De.size;b<d;b++)e=this.De.get(b),e=this.bi.get(e),this.a.Qa(e,this.Fg,b),h=new g.b,this.a.Hc(e,h);h=this.bO(a);b=0;for(d=this.De.size;b<d;b++)e=this.De.get(b),-1!=e&&(e=this.bi.get(e),this.a.Qa(e,this.Fg,-1));if(h)c=!0;else break}return c};l.prototype.bO=function(c){for(var a=!1,b=!0;b;){b=!1;var d=0;-1==this.De.get(d)&&(d=this.om(d));for(var e=this.om(d),f=0,h=this.De.size;f<h&&-1!=d&&-1!=e&&d!=e;f++){var k=this.De.get(d);e=this.De.get(e);k=this.bi.get(k);
e=this.bi.get(e);var m=this.a.T(k);this.a.kw(m,c)||(m=this.a.Ma(k));var n=this.a.T(e);this.a.kw(n,c)||(n=this.a.Ma(e));var p=this.Wu(m,k),q=this.Wu(n,e),r=p?this.a.Ma(m):this.a.T(m),t=q?this.a.Ma(n):this.a.T(n),v=!1;this.Lp(m)?v=!0:this.Lp(n)?v=!0:this.Lp(k)?v=!0:this.Lp(e)?v=!0:this.Lp(r)?v=!0:this.Lp(t)&&(v=!0);!v&&this.a.wq(k,e)&&(v=!0,this.eE(p,q,m,k,n,e));!v&&this.a.wq(r,t)&&(v=!0,this.eE(!p,!q,m,r,n,t));v&&(a=!0);b=b||v;d=this.om(d);e=this.om(d)}}if(!a)for(d=0,-1==this.De.get(d)&&(d=this.om(d)),
e=this.om(d),f=0,h=this.De.size;f<h&&-1!=d&&-1!=e&&d!=e;f++)k=this.De.get(d),e=this.De.get(e),k=this.bi.get(k),e=this.bi.get(e),m=this.a.T(k),this.a.kw(m,c)||(m=this.a.Ma(k)),n=this.a.T(e),this.a.kw(n,c)||(n=this.a.Ma(e)),p=this.Wu(m,k),q=this.Wu(n,e),r=p?this.a.Ma(m):this.a.T(m),t=q?this.a.Ma(n):this.a.T(n),this.LN(p,q,k,m,r,e,n,t)&&(a=!0),d=this.om(d),e=this.om(d);return a};l.prototype.fO=function(){1736==this.a.dc(this.W)&&1==this.a.$n(this.W)&&(new g.pg).dW(this.Pw,this.a,this.W,this.nd);var c=
!1,a=!0;this.Fg=this.hr=-1;var b=this.a.D(this.W),d=new g.ha(0);d.Db(b);for(var e=this.a.Kb(this.W);-1!=e;e=this.a.Qb(e))for(var f=this.a.Za(e),h=0,k=this.a.Ha(e);h<k;h++)d.add(f),f=this.a.T(f);var m=this.a.ud.i,n=this.a.ud.Uf;this.a.xb.rc();var p=this.a.xb.va[0].i;d.Zd(0,b,function(r,t){var v=m[n*r],E=m[n*t],O=p[2*v];v=p[2*v+1];var M=p[2*E];E=p[2*E+1];O=v<E?-1:v>E?1:O<M?-1:O>M?1:0;0==O&&(r=m[n*r+3],t=m[n*t+3],O=r<t?-1:r==t?0:1);return O});this.hr=this.a.Kd();this.ve=new g.Ap;this.AB=this.ve.Th(0);
this.ve.vn(b);for(e=0;e<b;e++)f=d.get(e),h=this.ve.addElement(this.AB,f),this.a.Qa(f,this.hr,h);this.Fg=this.a.Kd();this.Kl=-1;for(this.MD()&&(c=!0);a;){a=!1;b=0;d=!1;do{d=!1;this.zo=-1;k=0;e=new g.b;h=new g.b;for(var q=this.ve.sc(this.AB);-1!=q;)f=this.ve.getData(q),-1!=this.zo?(this.a.Hc(f,h),e.qb(h))?k++:(e.K(h),this.Kl=q,0<k&&(f=this.aE())&&(d=!0,-1!=this.Kl&&(f=this.ve.getData(this.Kl),this.a.Hc(f,e))),this.zo=q=this.Kl,k=0):(this.zo=q,this.a.Hc(this.ve.getData(q),e),k=0),-1!=q&&(q=this.ve.hb(q));
this.Kl=-1;0<k&&(f=this.aE())&&(d=!0);if(10<b++)throw g.f.za();d&&this.ON();this.MD()&&(d=!0);a=a||d&&!1;c=c||d}while(d)}this.a.Xd(this.hr);this.a.Xd(this.Fg);return c=g.dN.U(this.a,this.W,this.ve,this.Pw)||c};l.prototype.Wu=function(c,a){return this.a.T(a)==c?!1:!0};l.prototype.LN=function(c,a,b,d,e,f,h,k){if(d==h)return this.fk(b),this.fk(f),!1;var m=this.a.Na(b,this.Fg),n=this.a.Na(e,this.Fg),p=this.a.Na(f,this.Fg),q=this.a.Na(k,this.Fg);b=[0,0,0,0,0,0,0,0];var r=[0,0,0,0];b[0]=0;r[0]=m;b[1]=0;
r[1]=n;b[2]=1;r[2]=p;b[3]=1;r[3]=q;for(m=1;4>m;m++){n=r[m];p=b[m];for(q=m-1;0<=q&&r[q]>n;)r[q+1]=r[q],b[q+1]=b[q],q--;r[q+1]=n;b[q+1]=p}r=0;0!=b[0]&&(r|=1);0!=b[1]&&(r|=2);0!=b[2]&&(r|=4);0!=b[3]&&(r|=8);if(5!=r&&10!=r)return!1;c==a?c?(this.a.Dc(k,d),this.a.Ec(d,k),this.a.Dc(e,h),this.a.Ec(h,e)):(this.a.Ec(k,d),this.a.Dc(d,k),this.a.Ec(e,h),this.a.Dc(h,e)):c?(this.a.Ec(d,f),this.a.Dc(f,d),this.a.Ec(h,e),this.a.Dc(e,h)):(this.a.Dc(d,f),this.a.Ec(f,d),this.a.Dc(h,e),this.a.Ec(e,h));return!0};l.prototype.eE=
function(c,a,b,d,e,f){this.r0?this.dO():this.cO(c,a,b,d,e,f)};l.prototype.dO=function(){throw g.f.Y("not implemented.");};l.prototype.cO=function(c,a,b,d,e,f){if(c!=a)c?(this.a.Dc(b,e),this.a.Ec(e,b),this.a.Dc(f,d),this.a.Ec(d,f),this.On(e,b),this.Bi(e,!0),this.a.ui(e,!0),this.fk(b),this.On(f,d),this.Bi(f,!0),this.a.ui(f,!1)):(this.a.Dc(e,b),this.a.Ec(b,e),this.a.Dc(d,f),this.a.Ec(f,d),this.On(e,b),this.Bi(e,!0),this.a.ui(e,!1),this.fk(b),this.On(f,d),this.Bi(f,!0),this.a.ui(f,!0)),this.fk(d);else{var h=
c?b:d,k=a?e:f;c=c?d:b;a=a?f:e;e=!1;this.a.Dc(h,k);this.a.Dc(k,h);this.a.Ec(c,a);this.a.Ec(a,c);for(f=a;f!=k;)b=this.a.Ma(f),d=this.a.T(f),this.a.Ec(f,d),this.a.Dc(f,b),e=e||f==h,f=d;e||(b=this.a.Ma(k),d=this.a.T(k),this.a.Ec(k,d),this.a.Dc(k,b));this.On(k,h);this.Bi(k,!0);this.a.ui(k,!1);this.fk(h);this.On(a,c);this.Bi(a,!0);this.a.ui(a,!1);this.fk(c)}};l.prototype.MD=function(){for(var c=!1,a=this.a.Kb(this.W);-1!=a;){for(var b=this.a.Za(a),d=0,e=this.a.Ha(a);d<e&&1<e;){var f=this.a.Ma(b),h=this.a.T(b);
this.a.wq(f,h)?(c=!0,this.Bi(b,!1),this.a.pd(b,!0),this.Bi(h,!1),this.a.pd(h,!0),b=f,d=0,e=this.a.Ha(a)):(b=h,d++)}if(2>this.a.Ha(a)){c=this.a.Za(a);d=0;for(e=this.a.Ha(a);d<e;d++)this.Bi(c,!1),c=this.a.T(c);a=this.a.sr(a);c=!0}else a=this.a.Qb(a)}return c};l.prototype.Lp=function(c){for(var a=!1;;){var b=this.a.T(c),d=this.a.Ma(c);if(b==c)return this.Bi(c,!0),this.a.ui(c,!1),!0;if(!this.a.wq(b,d))break;a=!0;this.fk(d);this.fk(b);this.Bi(c,!0);this.a.ui(c,!1);this.On(b,d);this.Bi(b,!0);this.a.ui(b,
!0);if(b==d)break;c=d}return a};l.prototype.ON=function(){for(var c=0,a=this.ve.sc(this.ve.re);-1!=a;a=this.ve.hb(a)){var b=this.ve.getData(a);this.a.hj(b,-1)}for(var d=0,e=this.a.Kb(this.W);-1!=e;)if(a=this.a.Za(e),-1==a||-1!=this.a.cd(a))b=e,e=this.a.Qb(e),this.a.tr(b);else{this.a.hj(a,e);var f=1;for(b=this.a.T(a);b!=a;b=this.a.T(b))this.a.hj(b,e),f++;this.a.sp(e,!1);this.a.Wj(e,f);this.a.dh(e,this.a.Ma(a));d+=f;c++;e=this.a.Qb(e)}for(a=this.ve.sc(this.ve.re);-1!=a;a=this.ve.hb(a))b=this.ve.getData(a),
-1==this.a.cd(b)&&(e=this.a.$G(this.W,b,b,null),d+=this.a.Ha(e),c++);this.a.bm(this.W,c);this.a.Uj(this.W,d);c=0;for(d=this.a.ld;-1!=d;d=this.a.Ae(d))c+=this.a.D(d);this.a.JC(c)};l.prototype.om=function(c){for(var a=0,b=this.De.size-1;a<b;a++)if(c=(c+1)%this.De.size,-1!=this.De.get(c))return c;return-1};l.prototype.On=function(c,a){var b=this.a.Na(a,this.hr),d=this.a.Na(a,this.Fg);this.a.UC(c,a);this.a.Qa(a,this.hr,b);this.a.Qa(a,this.Fg,d)};l.prototype.fk=function(c){var a=this.a.Na(c,this.Fg);-1!=
a&&(this.De.set(a,-1),this.a.Qa(c,this.Fg,-1))};l.U=function(c,a,b,d,e){var f=new l;f.a=c;f.W=a;f.gB=b;f.Pw=d;f.nd=e;return f.fO()};l.prototype.xN=function(c,a){var b=this.bi.get(c),d=new g.b;this.a.Hc(b,d);b=new g.b;var e=this.bi.get(a);this.a.Hc(e,b);if(d.qb(b))return 0;e=this.ht.get(c);c=new g.b;this.a.Hc(e,c);e=this.ht.get(a);a=new g.b;this.a.Hc(e,a);e=new g.b;e.tc(d,c);d=new g.b;d.tc(b,a);return g.b.Wr(e,d)};return l}();g.Kn=u})(J||(J={}));(function(g){(function(l){l[l.Local=0]="Local";l[l.Geographic=
1]="Geographic";l[l.Projected=2]="Projected";l[l.Image=3]="Image";l[l.Unknown=4]="Unknown"})(g.gN||(g.gN={}));(function(l){l[l.Integer32=0]="Integer32";l[l.Integer64=1]="Integer64";l[l.FloatingPoint=2]="FloatingPoint"})(g.aN||(g.aN={}));var u=function(){function l(){this.Ip="";this.Zu=null;this.jg=0;this.NI=this.$o=-1;this.Dh=null}l.prototype.xc=function(){return this.jg};l.prototype.xs=function(){return 0};l.prototype.ys=function(){return 0};l.prototype.zs=function(){return 0};l.prototype.ws=function(){return 0};
l.prototype.Rz=function(){return 5.7295779513082306E10};l.prototype.Sz=function(){return 1E3};l.prototype.Qz=function(){return 1E3};l.prototype.Is=function(){return 1};l.prototype.ce=function(){var c=.001;0!=this.jg?c=g.Vr.OR(this.jg):null!=this.Dh&&(c=g.FD.PR(this.Dh));return c};l.prototype.jA=function(){return this.Dh};l.prototype.Ld=function(){if(0!=this.jg)return g.Uc.hh(g.Vr.yz(this.jg));if(null!=this.Dh)return g.FD.QR(this.Dh)};l.Fb=function(c){if(0!=c.jg){if(!0===g.Vr.sU(c.jg))return 1;if(!0===
g.Vr.vU(c.jg))return 2}return 4};l.prototype.Gs=function(){var c=this.xc();if(-1!=this.$o)return this.$o;this.$o=g.Vr.OL(c);return-1!=this.$o?this.$o:c};l.create=function(c){if(0>=c)throw g.f.I("Invalid or unsupported wkid: "+c);var a=new l;a.jg=c;return a};l.AQ=function(c){if(null==c||0==c.length)throw g.f.I("Cannot create SpatialReference from null or empty text.");var a=new l;a.Dh=c;return a};l.prototype.Ib=function(c){return this==c?!0:null==c||this.constructor!=c.constructor||this.jg!=c.jg||
0==this.jg&&this.Dh!==c.Dh?!1:!0};l.kS=function(c,a){var b=Math.PI/180,d=new g.da;g.bM.nS(c.w().x*b,c.w().y*b,a.w().x*b,a.w().y*b,d);return d.j};l.prototype.toString=function(){return"[ tol: "+this.co()+"; wkid: "+this.xc()+"; wkt: "+this.jA()+"]"};l.prototype.fc=function(){if(""!==this.Ip)return this.Ip;var c=this.toString();if(Array.prototype.reduce)return this.Ip="S"+c.split("").reduce(function(d,e){d=(d<<5)-d+e.charCodeAt(0);return d&d},0);var a=0;if(0===c.length)return"";for(var b=0;b<c.length;b++)a=
(a<<5)-a+c.charCodeAt(b),a&=a;return this.Ip="S"+a};l.prototype.co=function(){return this.ce(0)};l.prototype.mh=function(){return null!==this.Zu?this.Zu:this.Zu=g.Nu.JQ(this)};l.z0=!0;l.nv=2147483645;l.ov=9007199254740990;return l}();g.je=u})(J||(J={}));(function(g){var u=function(l){function c(){var a=null!==l&&l.apply(this,arguments)||this;a.Pi=null;a.kV=null;a.Ro=new g.BD;a.Yo=null;a.Rw=null;return a}ma(c,l);c.JQ=function(a){var b=new c;b.jg=a.jg;b.$o=a.$o;b.NI=a.NI;b.Dh=a.Dh;if(""!==b.Dh&&null!==
b.Dh){a=c.rN(b.Dh);var d=c.pN(b.Dh);b.Ro.By(a,d,g.Ou.Integer64);b.Iy(a);b.Ly(d);b.jg=a.Gs()}else a=c.qN(b.jg),b.Iy(a),b.Ly(null),b.Ro.By(a,null,g.Ou.Integer64);return b};c.prototype.ce=function(a){return this.Ro.co(a)};c.pN=function(a){if(0>=a.length)throw g.f.I();var b=null;try{b=g.uD.fromString(a)}catch(d){b=null}return null==b?null:c.LD(b,!0)};c.prototype.Iy=function(a){this.Dd=a;this.Yo=this.Dd.Ld()};c.prototype.Ly=function(a){this.zI=a;this.kV=null!=this.zI?this.zI.Yo:null};c.prototype.Cc=function(){return 0==
this.Fb()||3==this.Fb()?!1:this.Dd.Cc()};c.prototype.uH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.Pi.kk().Cc():this.Dd.Cc()};c.prototype.wg=function(){return null!=this.Dd?this.Dd.Ze:null};c.prototype.Am=function(){return this.Dd.Am()};c.prototype.Sd=function(){return this.Dd.Sd()};c.prototype.oh=function(){return null!=this.Dd?this.Dd.Zw:NaN};c.prototype.Cm=function(){return this.Dd.Cm()};c.prototype.Cs=function(){return this.Dd.Cs()};c.prototype.xj=function(){return this.Dd.xj()};c.prototype.FT=
function(a){return g.vD.vz(this.Dd,a.Dd)};c.prototype.sk=function(){return this.Dd.sk()};c.prototype.Bs=function(){return this.Dd.Bs()};c.prototype.Wh=function(){return 3==this.Fb()?this.Pi.kk().Wh():this.Dd.Wh()};c.prototype.nh=function(){if(!this.Cc())throw g.f.I("!isPannable()");var a=new g.g;this.Dd.nh(a);return a};c.prototype.be=function(){if(!this.Cc())throw g.f.I("!isPannable()");return this.Dd.Lo};c.prototype.XS=function(){if(!this.Cc())throw g.f.I("!isPannable()");var a=new g.g;this.Dd.WS(a);
return a};c.prototype.Xv=function(){if(!this.Cc())throw g.f.I("!isPannable()");return this.Dd.Xv()};c.prototype.Wv=function(){if(!this.Cc())throw g.f.I("!isPannable()");return this.Dd.Wv()};c.prototype.Ds=function(){return null!=this.Pi?this.Pi.kk().Ds():this.Dd.Ds()};c.prototype.aS=function(){return this.Dd.Pv()};c.prototype.FX=function(a){a.assign(this.Ro)};c.prototype.qk=function(){return this.Yo.getUnitFactor()};c.prototype.dA=function(a){return this.Ro.dA(a)};c.prototype.hc=function(){var a=
this.Fb();if(1==a)return this;if(3==a)return this.Pi.kk().hc();if(0==a)throw g.f.Y("invalid call");if(4===a)throw g.f.Y("invalid call");if(null!==this.Rw)return this.Rw;a=this.wg().getGeogcs();if(null==a)throw g.f.za();return this.Rw=c.OF(a,this.Ro.Is())};c.OF=function(a,b){if(null==a)throw g.f.I("null pointer.");var d=new c;a=c.Uu(a,!0);d.Ro.By(a,null,b);d.Iy(a);d.Ly(null);d.jg=a.Gs();return d};c.prototype.Fb=function(){var a=this.wg();if(null!=a)switch(a.getType()){case g.Pc.PE_TYPE_GEOGCS:return 1;
case g.Pc.PE_TYPE_PROJCS:return 2}return 4};c.prototype.bA=function(a){var b=new g.b;this.Dd.bA(a,b);return b};c.prototype.Pv=function(){return this.Dd.Pv()};c.Uu=function(a,b){var d=a.getCode();if(0>=d&&(d=g.zf.getCode(a),0<d)){a=g.zf.coordsys(d);if(null==a)throw g.f.I("Text to wkid mapping had failed: "+d);return c.Uu(a,b)}if(b&&0<d&&(b=c.Yx[d]))return b;b=g.Ab.ew(a,d,!1);var e=c.rL[b];if(e)return e;a=0>=d?a:g.zf.coordsys(d);a=new g.vD(a);c.rL[b]=a;0<d&&(c.Yx[d]=a);return a};c.qN=function(a){if(0>=
a)throw g.f.I("Invalid or unsupported wkid: "+a);var b=c.Yx[a];if(null!=b)return b;b=g.zf.coordsys(a);if(null==b)throw g.f.I("Invalid or unsupported wkid: "+a);b=c.Uu(b,!1);b.Gs()!=a&&(c.Yx[a]=b);return b};c.rN=function(a){if(null==a||void 0===a||0==a.length)throw g.f.I("Cannot create SpatialReference from null or empty text.");var b=null;try{b=g.zf.fromString(g.Pc.PE_TYPE_COORDSYS,a)}catch(d){throw g.f.I("Cannot create SpatialReference from text. "+d.message);}if(null===b)throw g.f.I("Cannot create SpatialReference from text. ");
return c.Uu(b,!0)};c.LD=function(a,b){var d=a.getCode();if(0>=d&&(d=g.zf.getCode(a),0<d)){d=g.zf.vertcs(d);if(null===d)throw g.f.I();return c.LD(d,b)}if(b&&0<d&&(b=c.qL[d]))return b;a=g.Ab.ew(a,d,!1);if(b=c.sL[a])return b;var e;0>=d||(e=g.zf.vertcs(d));if(null===e)throw g.f.I();e=new g.XM(e);c.sL[a]=e;0<d&&(c.qL[d]=e);return e};c.iJ=function(a,b){if(null===b||b.u())return null;var d=new g.g;if(null!==b&&1!=a.Fb()){var e=a.hc(),f=e.wg();a=g.Ur.os(a,e,null,null);b=g.Rr.local().U(b,a,null)}else f=a.wg();
b.s(d);b=f.getPrimem().getLongitude();f=f.getUnit().getUnitFactor();return new g.sD(d.o,d.A,d.v,d.B,b,f)};c.XD=function(a){var b={name:"",steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<a.length;d++){var e=a[d],f={l0:!1,N0:"",M0:-1,geogtran:null};0===e.getDirection()?f.isInverse=!1:f.isInverse=!0;var h=e.getGeogtran().getCode();-1<h?f.wkid=h:f.wkt=e.getGeogtran().toString();b.steps.push(f)}return b};c.nT=function(a,b,d,e){void 0===d&&(d=null);d=c.iJ(e,d);a=g.Dp.getGTlist(a.wg(),b.wg(),2,
g.Dp.PE_GTLIST_OPTS_COMMON,d,1);b=null;a&&0<a.length&&(b=this.XD(a[0]),g.ry.destroy(a));null!==d&&d.destroy();return b};c.oT=function(a,b,d,e){var f;void 0===d&&(d=null);void 0===e&&(e=null);void 0===f&&(f=30);d=c.iJ(e,d);a=g.Dp.getGTlist(a.wg(),b.wg(),2,g.Dp.PE_GTLIST_OPTS_COMMON,d,f);b=[];if(a&&0<a.length){for(f=0;f<a.length;f++)b.push(this.XD(a[f]));g.ry.destroy(a)}null!==d&&d.destroy();return b};c.Yx={};c.rL={};c.qL={};c.sL={};return c}(g.je);g.Nu=u})(J||(J={}));(function(g){var u;(function(c){c[c.Integer32=
0]="Integer32";c[c.Integer64=1]="Integer64";c[c.FloatingPoint=2]="FloatingPoint"})(u=g.Ou||(g.Ou={}));var l=function(){function c(){this.Jp()}c.prototype.assign=function(a){this.Bl=a.Bl;this.Cl=a.Cl;this.$i=a.$i;this.Nw=a.Nw;this.jn=a.jn;this.Mw=a.Mw;this.jx=a.jx;this.Pk=a.Pk;this.er=a.er;this.dr=a.dr;this.dn=a.dn};c.prototype.xs=function(){return this.Bl};c.prototype.ys=function(){return this.Cl};c.prototype.zs=function(){return this.Nw};c.prototype.ws=function(){return this.Mw};c.prototype.Rz=function(){return this.$i};
c.prototype.Sz=function(){return this.jn};c.prototype.Qz=function(){return this.jx};c.prototype.Is=function(){return this.dn};c.prototype.Jp=function(){this.Cl=this.Bl=0;this.$i=1;this.Nw=0;this.jn=1;this.Mw=0;this.jx=1;this.dr=this.er=this.Pk=2.220446049250313E-14;this.dn=u.FloatingPoint};c.prototype.By=function(a,b,d){this.Jp();this.dn=d;if(d!=u.FloatingPoint){var e=new g.g;a.vS(e);this.Bl=e.o;this.Cl=e.A}else this.Cl=this.Bl=-1.7976931348623157E308;e=a.Ze.getType();e==g.Pc.PE_TYPE_GEOGCS?(e=(d==
u.Integer64?1E-9:1/18E5)*a.Sd(),this.$i=1/e):e==g.Pc.PE_TYPE_PROJCS&&(e=(d==u.Integer64?1E-4:.001)*a.Am(),this.$i=1/e);null!=b?(e=(d==u.Integer32?.001:1E-4)*b.xI,this.jn=1/e):this.jn=1E4;this.jx=1E4;this.gO();this.Pk=a.Zw;this.er=null!=b?.001*b.xI:.001;this.dr=2.220446049250313E-14};c.prototype.gO=function(){if(this.dn!=u.FloatingPoint){var a=this.dn==u.Integer64?g.je.ov:g.je.nv,b=a/this.$i,d=this.Bl+b,e=g.L.truncate((d-this.Bl)*this.$i);e>a&&(this.$i=a/(d-this.Bl));b=this.Cl+b;e=g.L.truncate((b-
this.Cl)*this.$i);e>a&&(this.$i=a/(b-this.Cl))}};c.prototype.IC=function(a){switch(a){case 0:this.Pk=void 0;case 1:this.er=void 0;case 2:this.dr=void 0}};c.prototype.co=function(a){switch(a){case 0:return this.Pk;case 1:return this.er;case 2:return this.dr}return 0};c.prototype.uT=function(){var a=new g.g;switch(this.Is()){case u.Integer32:var b=g.je.nv/this.Rz();a.H(this.xs(),this.ys(),this.xs()+b,this.ys()+b);break;case u.Integer64:b=g.je.ov/this.Rz();a.H(this.xs(),this.ys(),this.xs()+b,this.ys()+
b);break;case u.FloatingPoint:a.H(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw g.f.Y("internal error");}return a};c.prototype.wT=function(){var a=new g.uc;switch(this.Is()){case u.Integer32:var b=g.je.nv/this.Sz();a.H(this.zs(),this.zs()+b);break;case u.Integer64:b=g.je.ov/this.Sz();a.H(this.zs(),this.zs()+b);break;case u.FloatingPoint:a.H(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw g.f.Y("internal error");
}return a};c.prototype.PS=function(){var a=new g.uc;switch(this.Is()){case u.Integer32:var b=g.je.nv/this.Qz();a.H(this.ws(),this.ws()+b);break;case u.Integer64:b=g.je.ov/this.Qz();a.H(this.ws(),this.ws()+b);break;case u.FloatingPoint:a.H(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw g.f.Y("internal error");}return a};c.prototype.dA=function(a){if(this.dn==u.FloatingPoint)return 0;switch(a){case 0:return 1/this.$i;case 1:return 1/this.jn;case 2:return 1/this.jn;default:return 0}};
c.prototype.toString=function(){var a="SRPD [m_toleranceXY: "+this.Pk.toString();a=a+";m_falseX: "+this.Bl.toString();a=a+";m_falseY: "+this.Cl.toString();a=a+";m_unitsXY: "+this.$i.toString();a=a+";m_falseZ: "+this.Nw.toString();a=a+";m_unitsZ: "+this.jn.toString();a=a+";m_falseM: "+this.Mw.toString();a=a+";m_toleranceZ: "+this.er.toString();a=a+";m_toleranceM: "+this.dr.toString();a=a+";m_precision: "+this.dn.toString();return a+"] "};return c}();g.BD=l})(J||(J={}));(function(g){function u(e,f){89.99999<
f?f=89.99999:-89.99999>f&&(f=-89.99999);f*=.017453292519943;return[111319.49079327169*e,3189068.5*Math.log((1+Math.sin(f))/(1-Math.sin(f)))]}function l(e,f,h){e=e/6378137*57.29577951308232;return h?[e,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*f/6378137)))]:[e-360*Math.floor((e+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*f/6378137)))]}function c(e,f,h){var k=e.Cf();if(33===e.F())f=f(k.Ce(),k.lf()),k.nb(f[0],f[1]);else if(197===e.F()){var m=f(e.Ms(),e.Os(),
h);f=f(e.Ls(),e.Ns(),h);k.H(m[0],m[1],f[0],f[1])}else for(m=new g.b,e=0;e<k.D();e++){k.w(e,m);var n=f(m.x,m.y,h);m.ka(n[0],n[1]);k.nb(e,m)}return k}function a(e){return c(e,l,!0)}function b(e){return c(e,u,!0)}var d=Math.PI/180;g.cM=function(){function e(){}e.bv=function(f){var h=Math.sqrt(.006694379990197414),k=Math.sin(f.y*d);return g.b.construct(6378137*f.x*d,3167719.6636462314*(k/(1-.006694379990197414*k*k)-1/(2*h)*Math.log((1-h*k)/(1+h*k))))};e.Ay=function(f,h,k,m){var n=1/298.257223563,p=Math.sin(k);
k=Math.cos(k);var q=(1-n)*Math.tan(f);f=1/Math.sqrt(1+q*q);var r=q*f,t=Math.atan2(q,k);q=f*p;var v=q*q,E=1-v,O=2.7233160610754688E11*E/4.040829998466145E13,M=1+O/16384*(4096+O*(-768+O*(320-175*O))),S=O/1024*(256+O*(-128+O*(74-47*O)));O=m/(6356752.31424518*M);for(var da=2*Math.PI,ca,fa,qa,ya;1E-12<Math.abs(O-da);)qa=Math.cos(2*t+O),ca=Math.sin(O),fa=Math.cos(O),ya=S*ca*(qa+S/4*(fa*(-1+2*qa*qa)-S/6*qa*(-3+4*ca*ca)*(-3+4*qa*qa))),da=O,O=m/(6356752.31424518*M)+ya;m=r*ca-f*fa*k;E=n/16*E*(4+n*(4-3*E));
return g.b.construct((h+(Math.atan2(ca*p,f*fa-r*ca*k)-(1-E)*n*q*(O+E*ca*(qa+E*fa*(-1+2*qa*qa)))))/d,Math.atan2(r*fa+f*ca*k,(1-n)*Math.sqrt(v+m*m))/d)};e.UN=function(f,h,k,m){var n=1/298.257223563,p=m-h,q=Math.atan((1-n)*Math.tan(f)),r=Math.atan((1-n)*Math.tan(k)),t=Math.sin(q);q=Math.cos(q);var v=Math.sin(r);r=Math.cos(r);var E=p,O=1E3;do{var M=Math.sin(E),S=Math.cos(E),da=Math.sqrt(r*M*r*M+(q*v-t*r*S)*(q*v-t*r*S));if(0===da)return 0;S=t*v+q*r*S;var ca=Math.atan2(da,S),fa=q*r*M/da,qa=1-fa*fa;M=S-
2*t*v/qa;isNaN(M)&&(M=0);var ya=n/16*qa*(4+n*(4-3*qa)),Ia=E;E=p+(1-ya)*n*fa*(ca+ya*da*(M+ya*S*(-1+2*M*M)))}while(1E-12<Math.abs(E-Ia)&&0<--O);if(0===O)return t=m-h,{azimuth:Math.atan2(Math.sin(t)*Math.cos(k),Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)*Math.cos(t)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k)*Math.cos(m-h))};f=2.7233160610754688E11*qa/4.040829998466145E13;h=f/1024*(256+f*(-128+f*(74-47*f)));return{azimuth:Math.atan2(r*Math.sin(E),
q*v-t*r*Math.cos(E)),jS:6356752.31424518*(1+f/16384*(4096+f*(-768+f*(320-175*f))))*(ca-h*da*(M+h/4*(S*(-1+2*M*M)-h/6*M*(-3+4*da*da)*(-3+4*M*M)))),F0:Math.atan2(q*Math.sin(E),q*v*Math.cos(E)-t*r)}};e.vR=function(f){var h=f.hasAttribute(1),k=f.hasAttribute(2),m=[],n=f.$(),p=null,q=null;h&&(p=f.Va(1));k&&(q=f.Va(2));for(var r=new g.b,t=0;t<n;t++){for(var v=f.ua(t),E=f.Ha(t),O=0,M=0,S=NaN,da=NaN,ca=NaN,fa=NaN,qa=f.Lb(t),ya=[],Ia=v;Ia<v+E;Ia++){f.w(Ia,r);fa=ca=NaN;var Ga=[r.x,r.y];h&&(ca=p.get(Ia),Ga.push(ca));
k&&(n=q.get(Ia),Ga.push(fa));Ia==v&&qa&&(O=r.x,M=r.y,S=ca,da=fa);ya.push(Ga)}!qa||O==r.x&&M==r.y&&(!h||isNaN(S)&&isNaN(ca)||S==ca)&&(!k||isNaN(da)&&isNaN(fa)||da==fa)||ya.push(ya[0].slice(0));m.push(ya)}return m};e.Bz=function(f,h){f=e.vR(f);637.100877141506>h&&(h=637.100877141506);for(var k=[],m,n=0;n<f.length;n++){var p=f[n];k.push(m=[]);m.push([p[0][0],p[0][1]]);var q,r,t=p[0][0]*d,v=p[0][1]*d;for(q=0;q<p.length-1;q++){var E=p[q+1][0]*d,O=p[q+1][1]*d;if(t!==E||v!==O){O=e.UN(v,t,O,E);E=O.azimuth;
O=O.jS;var M=O/h;if(1<M){for(r=1;r<=M-1;r++){var S=e.Ay(v,t,E,r*h);m.push([S.x,S.y])}r=e.Ay(v,t,E,(O+Math.floor(M-1)*h)/2);m.push([r.x,r.y])}v=e.Ay(v,t,E,O);m.push([v.x,v.y]);t=v.x*d;v=v.y*d}}}return{uK:k}};e.iS=function(f){for(var h=[],k=0;k<f.length;k++){var m=f[k];m=e.Bz(m,1E4);h.push(m)}f=[];for(var n=0;n<h.length;n++){m=h[n];var p=0;for(k=0;k<m.uK.length;k++){var q=m.uK[k],r=e.bv(g.b.construct(q[0][0],q[0][1])),t=e.bv(g.b.construct(q[q.length-1][0],q[q.length-1][1])),v=t.x*r.y-r.x*t.y,E;for(E=
0;E<q.length-1;E++)r=e.bv(g.b.construct(q[E+1][0],q[E+1][1])),t=e.bv(g.b.construct(q[E][0],q[E][1])),v+=t.x*r.y-r.x*t.y;p+=v}p/=1;f.push(p/-2)}return f};return e}();g.ab=function(){function e(){}e.gC=function(f,h,k,m,n,p,q){e.RD[f.fc()]=h;0==isNaN(k)&&(e.YD[f.fc()]=k);0==isNaN(m)&&(e.lE[f.fc()]=m);0==isNaN(n)&&(e.KD[f.fc()]=n);e.ZD[f.fc()]=p;null!==q&&(e.$D[f.fc()]=q)};e.Dx=function(f,h,k){e.dE[f.fc()+"-"+h.fc()]=k};e.hc=function(f){f=e.RD[f.fc()];if(void 0==f)throw g.f.Me();return f};e.Sd=function(f){f=
e.YD[f.fc()];if(void 0==f)throw g.f.Me();return f};e.dw=function(f){f=e.lE[f.fc()];if(void 0==f)throw g.f.Me();return f};e.Nv=function(f){f=e.KD[f.fc()];if(void 0==f)throw g.f.Me();return f};e.nh=function(f){f=e.$D[f.fc()];if(void 0==f)throw g.f.Me();return g.g.construct(f[0],f[1],f[2],f[3])};e.Cc=function(f){f=e.ZD[f.fc()];if(void 0==f)throw g.f.Me();return f};e.$g=function(f,h,k){if(h.Ib(k))return f;var m=e.dE[h.fc()+"-"+k.fc()];if(void 0!==m)return m(f,h,k);throw g.f.Me();};e.eu=function(){throw g.f.Me();
};e.pS=function(){throw g.f.Me();};e.uX=function(){throw g.f.Me();};e.sk=function(){throw g.f.Me();};e.YX=function(){var f=g.je.create(102100),h=g.je.create(3857),k=g.je.create(4326);g.ab.gC(f,k,NaN,NaN,NaN,!1,null);g.ab.gC(k,k,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);g.ab.gC(h,k,NaN,NaN,NaN,!1,null);g.ab.Dx(f,k,a);g.ab.Dx(k,f,b);g.ab.Dx(h,k,a);g.ab.Dx(k,h,b)};e.RD=[];e.YD=[];e.lE=[];e.KD=[];e.ZD=[];e.$D=[];e.dE=[];return e}()})(J||(J={}));J.ab.YX();(function(g){var u=function(){function l(c){this.i=
new Int32Array(0);this.Ao=-1;this.Og=this.size=this.Jl=0;this.Uf=c}l.prototype.jd=function(c){c<this.Jl?(this.i[c*this.Uf]=this.Ao,this.Ao=c):this.Jl--;this.size--};l.prototype.S=function(c,a){return this.i[c*this.Uf+a]};l.prototype.P=function(c,a,b){this.i[c*this.Uf+a]=b};l.prototype.Ke=function(){var c=this.Ao;if(-1==c){if(this.Jl==this.Og){c=0!=this.Og?g.L.truncate(3*(this.Og+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.Og)throw g.f.Gd();this.lA(c)}c=this.Jl;this.Jl++}else this.Ao=this.i[c*
this.Uf];this.size++;for(var a=c*this.Uf;a<c*this.Uf+this.Uf;a++)this.i[a]=-1;return c};l.prototype.Vl=function(c){var a=this.Ao;if(-1==a){if(this.Jl==this.Og){a=0!=this.Og?g.L.truncate(3*(this.Og+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.Og)throw g.f.Gd();this.lA(a)}a=this.Jl;this.Jl++}else this.Ao=this.i[a*this.Uf];this.size++;for(var b=a*this.Uf,d=0;d<c.length;d++)this.i[b+d]=c[d];return a};l.prototype.rj=function(c){this.Ao=-1;this.size=this.Jl=0;c&&(this.i=null,this.Og=0)};l.prototype.Le=
function(c){c>this.Og&&this.lA(c)};l.prototype.$x=function(c,a){c*=this.Uf;a*=this.Uf;for(var b=0;b<this.Uf;b++){var d=this.i[a+b];this.i[a+b]=this.i[c+b];this.i[c+b]=d}};l.prototype.PC=function(c,a,b){var d=this.i[this.Uf*a+b];this.i[this.Uf*a+b]=this.i[this.Uf*c+b];this.i[this.Uf*c+b]=d};l.f0=function(){return-2};l.g0=function(){return-3};l.xH=function(c){return 0<=c};l.prototype.lA=function(c){null==this.i&&(this.i=new Int32Array(0));var a=new Int32Array(this.Uf*c);a.set(this.i,0);this.i=a;this.Og=
c};return l}();g.ad=u})(J||(J={}));(function(g){var u;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(u||(u={}));var l=function(){function a(b){this.Ie=b;this.Fh=NaN;this.SH=new g.og;this.TH=new g.og;this.Us=new g.uc;this.Vs=new g.uc}a.prototype.compare=function(b,d,e){b=
b.ga(e);this.Ie.ZB(d,this.SH);this.Ie.ZB(b,this.TH);d=this.SH.get();b=this.TH.get();this.Us.H(d.ra,d.pa);this.Vs.H(b.ra,b.pa);if(this.Us.ja<this.Vs.fa)return-1;if(this.Us.fa>this.Vs.ja)return 1;e=d.na==d.ma;var f=b.na==b.ma;if(e||f){if(e&&f)return 0;if(d.na==b.na&&d.ra==b.ra)return e?1:-1;if(d.ma==b.ma&&d.pa==b.pa)return e?-1:1}e=d.Te(this.Fh,this.Us.fa);f=b.Te(this.Fh,this.Vs.fa);e==f&&(e=Math.min(d.ma,b.ma),f=.5*(e+this.Fh),f==this.Fh&&(f=e),e=d.Te(f,this.Us.fa),f=b.Te(f,this.Vs.fa));return e<f?
-1:e>f?1:0};a.prototype.eL=function(b){this.Fh=b};return a}(),c=function(){function a(b){this.Ya=b;this.LI=new g.og;this.Jf=new g.b;this.fB=new g.uc}a.prototype.NY=function(b){this.Jf.K(b)};a.prototype.compare=function(b,d){this.Ya.ZB(b.ga(d),this.LI);b=this.LI.get();this.fB.H(b.ra,b.pa);if(this.Jf.x<this.fB.fa)return-1;if(this.Jf.x>this.fB.ja)return 1;b=b.Te(this.Jf.y,this.Jf.x);return this.Jf.x<b?-1:this.Jf.x>b?1:0};return a}();u=function(){function a(){this.VH=this.Ji=this.Mi=this.WA=this.ro=this.Ee=
this.Lc=this.ph=this.oe=null;this.Zo=this.Eg=-1;this.UH=!0;this.$A=!1;this.XA=NaN;this.Ti=new g.Od;this.kP=2147483647;this.jP=g.L.truncate(-2147483648);this.ig=this.he=this.Pl=this.Vq=this.Pm=this.Uq=this.wt=this.We=-1;this.sa=0}a.prototype.dz=function(b){this.XA=b};a.prototype.mn=function(){null==this.oe&&(this.oe=new g.ad(8));var b=this.oe.Ke();this.oe.P(b,1,0);return b};a.prototype.PV=function(){null==this.Lc&&(this.Lc=new g.ad(8));var b=this.Lc.Ke();this.Lc.P(b,2,0);this.Lc.P(b,3,0);var d=this.Lc.Ke();
this.Lc.P(d,2,0);this.Lc.P(d,3,0);this.NK(b,d);this.NK(d,b);return b};a.prototype.bJ=function(){null==this.Ee&&(this.Ee=new g.ad(8));var b=this.Ee.Ke();this.Ee.P(b,2,0);return b};a.prototype.wY=function(b,d){this.oe.P(b,7,d)};a.prototype.Cn=function(b,d){this.oe.P(b,2,d)};a.prototype.vY=function(b,d){this.oe.P(b,1,d)};a.prototype.OY=function(b,d){this.oe.P(b,3,d)};a.prototype.LY=function(b,d){this.oe.P(b,4,d)};a.prototype.wr=function(b,d){this.oe.P(b,5,d)};a.prototype.sS=function(b){return this.oe.S(b,
5)};a.prototype.uY=function(b,d){this.oe.P(b,6,d)};a.prototype.mO=function(b,d){this.uY(d,b)};a.prototype.MK=function(b,d){this.Lc.P(b,1,d)};a.prototype.NK=function(b,d){this.Lc.P(b,4,d)};a.prototype.dm=function(b,d){this.Lc.P(b,5,d)};a.prototype.cm=function(b,d){this.Lc.P(b,6,d)};a.prototype.CY=function(b,d){this.Lc.P(b,2,d)};a.prototype.Jx=function(b,d){this.Lc.P(b,3,d)};a.prototype.xG=function(b){return this.Lc.S(b,3)};a.prototype.qu=function(b,d){this.Lc.P(b,7,d)};a.prototype.NL=function(b,d){if(-1!=
this.ym(b))for(d=d?-1:b,b=this.ym(b);-1!=b;b=this.Rs(b))this.a.Qa(this.zj(b),this.Vq,d)};a.prototype.dy=function(b,d){-1!=b&&(this.NL(b,d),this.NL(this.wa(b),d))};a.prototype.ou=function(b,d){this.Ee.P(b,1,d)};a.prototype.bh=function(b,d){this.Ee.P(b,2,d)};a.prototype.zn=function(b,d){this.Ee.P(b,3,d);this.sY(b,this.rS(d));this.rY(d,b)};a.prototype.rY=function(b,d){this.Ee.P(b,4,d)};a.prototype.sY=function(b,d){this.Ee.P(b,5,d)};a.prototype.HK=function(b,d){this.Ee.P(b,6,d)};a.prototype.FK=function(b,
d){this.Ee.P(b,7,d)};a.prototype.EK=function(b,d){this.ro.write(b,d)};a.prototype.GK=function(b,d){this.WA.write(b,d)};a.prototype.TZ=function(b){var d=0,e=0,f=this.nG(b),h=new g.b,k=new g.b,m=new g.b;this.Es(f,h);k.K(h);var n=f;do this.xm(n,m),e+=g.b.vb(k,m),this.jf(this.wa(n))!=b&&(d+=(m.x-h.x-(k.x-h.x))*(m.y-h.y+(k.y-h.y))*.5),k.K(m),n=this.kc(n);while(n!=f);this.ro.write(b,d);this.WA.write(b,e)};a.prototype.gW=function(b,d){var e=new l(this),f=new g.bk;f.Le(g.L.truncate(this.sa/2));f.kp(e);for(var h=
new g.ha(0),k=this.ih(),m=null,n=0,p=new g.b,q=this.We;-1!=q;q=this.$f(q)){n++;if(0==(n&255)&&null!=d&&!d.progress(-1,-1))throw g.f.ED();var r=this.Re(q);if(-1!=r){h.Gh(0);if(!this.PZ(f,k,h,r)){this.w(q,p);e.eL(p.y);var t=r;do{var v=this.Cb(t,k);-1!=v&&(f.zd(v,-1),this.Jb(t,k,-2));t=this.kc(this.wa(t))}while(r!=t);t=r;do v=this.Cb(t,k),-1==v&&(v=f.addElement(t,-1),h.add(v)),t=this.kc(this.wa(t));while(r!=t)}for(r=h.size-1;0<=r;r--)v=h.get(r),t=f.ga(v),this.Jb(this.wa(t),k,v),this.fW(f,v,b)}else-1==
this.Iz(q)&&(null==m&&(m=new c(this)),this.w(q,p),m.NY(p),t=f.nY(m),r=this.Pl,-1!=t&&(v=f.ga(t),this.jf(v)==this.jf(this.wa(v))&&(v=this.zG(f,t)),-1!=v&&(r=this.jf(v))),this.mO(r,q))}this.Uh(k)};a.prototype.fW=function(b,d,e){var f=b.ga(d),h=this.jf(f);if(-1==this.Yn(h)){var k=this.zG(b,d),m=this.wa(f),n=this.jf(m);this.eq(h);this.eq(n);var p=this.Yn(h),q=this.Yn(n);-1==k&&-1==p&&(n==h?(this.zn(n,this.Pl),p=q=this.Pl):(-1==q&&(this.zn(n,this.Pl),q=this.Pl),this.zn(h,n),p=n));if(-1!=k){var r=this.jf(k);
-1==q&&(0>=this.eq(r)?(q=this.Yn(r),this.zn(n,q)):(this.zn(n,r),q=r),n==h&&(p=q))}-1==p&&this.QZ(h,n);0==e?this.AX(b,d,f,k,h,n):5==e?this.BX(b,d,f,m,h,n):4==e&&this.zX(f,k,h,n)}};a.prototype.AX=function(b,d,e,f,h,k){var m=this.mk(h);if(-1!=f){var n=this.mk(k),p=this.mk(this.jf(f));f=m&n&p;p^=p&this.lh(e);p|=f;0!=p&&(this.bh(k,n|p),this.bh(h,p|m),m=m||p)}for(d=b.hb(d);-1!=d;d=b.hb(d)){f=b.ga(d);e=this.jf(this.wa(f));h=this.mk(e);k=this.lh(f);n=this.jf(f);p=this.mk(n);f=h&p&m;m^=m&k;m|=f;if(0==m)break;
this.bh(e,h|m);this.bh(n,p|m)}};a.prototype.BX=function(b,d,e,f,h,k){if(h!=k){e=this.Cb(e,this.ig);e+=this.Cb(f,this.ig);f=0;var m=new g.ha(0),n=new g.ha(0);n.add(0);for(var p=b.sc(-1);p!=d;p=b.hb(p)){var q=b.ga(p),r=this.wa(q),t=this.jf(q),v=this.jf(r);if(t!=v){q=this.Cb(q,this.ig);q+=this.Cb(r,this.ig);f+=q;r=!1;0!=m.size&&m.Gc()==v&&(n.Rf(),m.Rf(),r=!0);if(-1==this.Yn(v))throw g.f.za();r&&this.Yn(v)==t||(n.add(f),m.add(t))}}f+=e;0!=m.size&&m.Gc()==k&&(n.Rf(),m.Rf());0!=f?0==n.Gc()&&(b=this.a.ld,
b=this.Fa(b),this.bh(h,b)):0!=n.Gc()&&(b=this.a.ld,b=this.Fa(b),this.bh(h,b))}};a.prototype.zX=function(b,d,e,f){var h=this.Fa(this.a.ld);if(-1==d)this.bh(f,this.Zo),b=this.Cb(b,this.Eg),0!=(b&1)?this.bh(e,h):this.bh(e,this.Zo);else{var k=this.mk(f);0==k?(k=this.mk(this.jf(d)),this.bh(f,k),b=this.Cb(b,this.Eg),0!=(b&1)?this.bh(e,k==h?this.Zo:h):this.bh(e,k)):(b=this.Cb(b,this.Eg),0!=(b&1)?this.bh(e,k==h?this.Zo:h):this.bh(e,k))}};a.prototype.PZ=function(b,d,e,f){var h=f,k=-1,m=-1,n=0;do{if(2==n)return!1;
var p=this.Cb(h,d);if(-1!=p){if(-1!=k)return!1;k=p}else{if(-1!=m)return!1;m=h}n++;h=this.kc(this.wa(h))}while(f!=h);if(-1==m||-1==k)return!1;this.Jb(b.ga(k),d,-2);b.Tj(k,m);e.add(k);return!0};a.prototype.QZ=function(b,d){var e=this.eq(b);if(0!=e){var f=this.eq(d);0<e&&0>f?this.zn(b,d):0>e&&0<f?this.zn(b,d):(d=this.Yn(d),-1!=d&&this.zn(b,d))}};a.prototype.FQ=function(b,d){this.Vq=this.a.Kd();for(var e=0,f=d.size;e<f;e++){var h=d.get(e),k=this.a.Na(h,this.Pm),m=this.a.Zf(this.a.cd(h)),n=this.a.dc(m);
if(g.R.Bc(n)){var p=this.a.T(h);if(-1!=p){var q=this.a.Na(p,this.Pm);if(k!=q){var r=this.PV(),t=this.wa(r),v=this.ph.Ke();this.ph.P(v,0,h);this.ph.P(v,1,-1);this.qu(r,v);this.MK(r,k);v=this.Re(k);-1==v?(this.Cn(k,r),this.dm(r,t),this.cm(t,r)):(k=this.ze(v),this.dm(v,t),this.cm(t,v),this.cm(k,r),this.dm(r,k));this.MK(t,q);k=this.Re(q);-1==k?(this.Cn(q,t),this.cm(r,t),this.dm(t,r)):(q=this.ze(k),this.dm(k,r),this.cm(r,k),this.cm(q,t),this.dm(t,q));m=this.Fa(m);0==b?(this.Jb(t,this.he,0),this.Jb(r,this.he,
1736==n?m:0)):5==b?(q=new g.b,this.a.w(h,q),h=new g.b,this.a.w(p,h),k=p=0,0>q.compare(h)?p=1:k=-1,this.Jb(t,this.he,0),this.Jb(r,this.he,0),this.Jb(r,this.ig,p),this.Jb(t,this.ig,k)):7==b?(this.Jb(t,this.he,this.Zo),this.Jb(r,this.he,1736==n?m:0)):4==b&&(this.Jb(t,this.he,0),this.Jb(r,this.he,0),this.Jb(r,this.Eg,1),this.Jb(t,this.Eg,1));n=1736==n?this.jP:0;this.Jx(r,m|n);this.Jx(t,m|n)}}}}};a.prototype.nV=function(b,d){var e=this.ym(d);if(-1!=e){var f=this.ym(b);this.ph.P(e,1,f);this.qu(b,e);this.qu(d,
-1)}b=this.wa(b);d=this.wa(d);e=this.ym(d);-1!=e&&(f=this.ym(b),this.ph.P(e,1,f),this.qu(b,e),this.qu(d,-1))};a.prototype.nZ=function(b){function d(da,ca){return f.RP(da,ca)}var e=new g.ha(0);e.Db(10);for(var f=this,h=this.We;-1!=h;h=this.$f(h)){e.clear(!1);var k=this.Re(h);if(-1!=k){var m=k;do e.add(m),m=this.kc(this.wa(m));while(m!=k);if(1<e.size){m=!0;if(2<e.size)e.Zd(0,e.size,d),e.add(e.get(0));else if(0<this.QP(e.get(0),e.get(1))){var n=e.get(0);e.set(0,e.get(1));e.set(1,n)}else m=!1;for(var p=
n=e.get(0),q=this.Df(p),r=this.wa(p),t=-1,v=1,E=e.size;v<E;v++){var O=e.get(v),M=this.wa(O),S=this.pk(M);if(S==q&&O!=p){if(0==b)t=this.xG(p)|this.xG(O),this.Jx(p,t),this.Jx(r,t),this.Jb(p,this.he,this.Cb(p,this.he)|this.Cb(O,this.he)),this.Jb(r,this.he,this.Cb(r,this.he)|this.Cb(M,this.he));else if(-1!=this.ig)t=this.Cb(p,this.ig)+this.Cb(O,this.ig),M=this.Cb(r,this.ig)+this.Cb(M,this.ig),this.Jb(p,this.ig,t),this.Jb(r,this.ig,M);else{if(7==b){this.Ti=new g.Od(5,h,-1);return}-1!=this.Eg&&(t=this.Cb(p,
this.Eg)+this.Cb(O,this.Eg),M=this.Cb(r,this.Eg)+this.Cb(M,this.Eg),this.Jb(p,this.Eg,t),this.Jb(r,this.Eg,M))}this.nV(p,O);this.pz(O);t=p;e.set(v,-1);O==n&&(e.set(0,-1),n=-1)}else this.dy(t,!1),t=-1,p=O,q=S,r=M}this.dy(t,!1);t=-1;if(m){n=-1;v=0;for(E=e.size;v<E;v++)if(O=e.get(v),-1!=O)if(-1==n)p=n=O,q=this.Df(p),r=this.wa(p);else if(O!=p&&(M=this.wa(O),S=this.pk(M),this.cm(r,O),this.dm(O,r),p=O,q=S,r=M,7==b&&(this.Cb(O,this.he)|this.Cb(this.ze(O),this.he))==(this.Zo|1))){this.Ti=new g.Od(5,h,-1);
return}this.Cn(h,n)}else{n=-1;v=0;for(E=e.size;v<E;v++)if(O=e.get(v),-1!=O){n=O;break}k!=n&&this.Cn(h,n)}}}}};a.prototype.gP=function(){for(var b=-1,d=this.ih(),e=this.We;-1!=e;e=this.$f(e)){var f=this.Re(e);if(-1!=f){var h=f;do{if(1!=this.Cb(h,d)){var k=this.bJ();this.ou(k,h);this.FK(k,b);-1!=b&&this.HK(b,k);b=k;var m=0,n=h;do m|=this.Cb(n,this.he),this.CY(n,k),this.Jb(n,d,1),n=this.kc(n);while(n!=h);this.bh(k,m)}h=this.kc(this.wa(h))}while(h!=f)}}k=this.bJ();this.ou(k,-1);this.FK(k,b);-1!=b&&this.HK(b,
k);this.Pl=k;this.ro=g.ie.Af(this.Ee.size,NaN);this.WA=g.ie.Af(this.Ee.size,NaN);this.EK(this.Pl,Infinity);this.GK(this.Pl,Infinity);this.Uh(d)};a.prototype.FS=function(b,d,e){d=-1!=d?d:this.Re(b);if(-1==d)return-1;for(b=d;;){if(1!=this.Cb(d,e))return d;d=this.kc(this.wa(d));if(d==b)return-1}};a.prototype.dY=function(){for(var b=this.ih(),d=this.We;-1!=d;d=this.$f(d))for(var e=-1;;){var f=this.FS(d,e,b);if(-1==f)break;e=this.kc(this.wa(f));for(var h=f;;){var k=this.kc(h),m=this.ze(h),n=this.wa(h);
if(m==n){this.TQ(h);if(e==h||e==n)e=-1;if(h==f||m==f){f=k;if(h==f||m==f)break;h=k;continue}}else this.Jb(h,b,1);h=k;if(h==f)break}}};a.prototype.wC=function(b,d,e,f,h){this.ah();this.UH=h;this.a=b;this.Uq=this.a.NF();b=new g.ha(0);b.Db(null!=e?this.a.D(e.get(0)):this.a.hd);var k=0,m=1,n=null!=e?e.get(0):this.a.ld;for(h=1;-1!=n;){this.a.LK(n,this.Uq,m);m<<=1;for(var p=this.a.Kb(n);-1!=p;p=this.a.Qb(p))for(var q=this.a.Za(p),r=0,t=this.a.Ha(p);r<t;r++)b.add(q),q=this.a.T(q);g.R.lo(this.a.dc(n))||(k+=
this.a.$(n));null!=e?(n=h<e.size?e.get(h):-1,h++):n=this.a.Ae(n)}this.Zo=m;this.sa=b.size;this.a.Vx(b,this.sa);null==this.ph&&(this.ph=new g.ad(2),this.oe=new g.ad(8),this.Lc=new g.ad(8),this.Ee=new g.ad(8));this.ph.Le(this.sa);g.Ep.Sp(f);this.oe.Le(this.sa+10);this.Lc.Le(2*this.sa+32);this.Ee.Le(Math.max(32,k));this.Pm=this.a.Kd();e=new g.b;h=0;k=new g.b;e.Tc();for(m=0;m<=this.sa;m++)if(m<this.sa?(q=b.get(m),this.a.w(q,k)):k.Tc(),!e.qb(k)){if(h<m){q=this.mn();for(t=r=-1;h<m;h++)t=b.get(h),this.a.Qa(t,
this.Pm,q),n=this.ph.Ke(),this.ph.P(n,0,t),this.ph.P(n,1,r),r=n,p=this.a.cd(t),n=this.a.Zf(p),n=this.Fa(n),this.vY(q,this.Bd(q)|n);this.wY(q,r);this.wr(q,this.a.Ua(t));-1!=this.wt&&this.LY(this.wt,q);this.OY(q,this.wt);this.wt=q;-1==this.We&&(this.We=q)}h=m;e.K(k)}g.Ep.Sp(f);this.he=this.ih();5==d&&(this.ig=this.ih());4==d&&(this.Eg=this.ih());this.FQ(d,b);0==this.Ti.pi&&(this.nZ(d),0==this.Ti.pi&&(isNaN(this.XA)||this.HP()?(this.gP(),0==this.Ti.pi&&(this.Uh(this.he),this.he=-1,this.UH&&this.gW(d,
f))):this.$A=!0))};a.prototype.pz=function(b){var d=this.kc(b),e=this.ze(b),f=this.wa(b),h=this.kc(f),k=this.ze(f);d!=f&&(this.cm(k,d),this.dm(d,k));e!=f&&(this.cm(e,h),this.dm(h,e));e=this.pk(b);this.Re(e)==b&&(h!=b?this.Cn(e,h):this.Cn(e,-1));h=this.pk(f);this.Re(h)==f&&(d!=f?this.Cn(h,d):this.Cn(h,-1));this.Lc.jd(b);this.Lc.jd(f)};a.prototype.zG=function(b,d){for(;;)if(d=b.Be(d),-1!=d){var e=b.ga(d);if(this.jf(e)!=this.jf(this.wa(e)))return e}else return-1};a.prototype.xr=function(b,d){var e;void 0===
e&&(e=!0);this.wC(b,0,null,d,e)};a.prototype.zK=function(b,d,e){var f=new g.ha(0);f.add(d);this.wC(b,4,f,e,1736==b.dc(d))};a.prototype.AK=function(b,d,e){var f=new g.ha(0);f.add(d);this.wC(b,5,f,e,!0)};a.prototype.ah=function(){null!=this.a&&(-1!=this.Uq&&(this.a.cY(this.Uq),this.Uq=-1),-1!=this.Pm&&(this.a.Xd(this.Pm),this.Pm=-1),-1!=this.Vq&&(this.a.Xd(this.Vq),this.Vq=-1),-1!=this.he&&(this.Uh(this.he),this.he=-1),-1!=this.ig&&(this.Uh(this.ig),this.ig=-1),-1!=this.Eg&&(this.Uh(this.Eg),this.Eg=
-1),this.a=null,this.oe.rj(!0),this.ph.rj(!0),this.wt=this.We=-1,null!=this.Lc&&this.Lc.rj(!0),null!=this.Mi&&(this.Mi.length=0),null!=this.Ji&&(this.Ji.length=0),null!=this.VH&&(this.VH.length=0),null!=this.Ee&&this.Ee.rj(!0),this.Pl=-1,this.ro=null)};a.prototype.Re=function(b){return this.oe.S(b,2)};a.prototype.w=function(b,d){this.a.PG(this.sS(b),d)};a.prototype.Bd=function(b){return this.oe.S(b,1)};a.prototype.$f=function(b){return this.oe.S(b,4)};a.prototype.Iz=function(b){return this.oe.S(b,
6)};a.prototype.wm=function(b){return this.oe.S(b,7)};a.prototype.Rs=function(b){return this.ph.S(b,1)};a.prototype.zj=function(b){return this.ph.S(b,0)};a.prototype.tg=function(b,d){d=this.Ji[d];return d.size<=b?-1:d.read(b)};a.prototype.Dn=function(b,d,e){d=this.Ji[d];d.size<=b&&d.resize(this.oe.size,-1);d.write(b,e)};a.prototype.Xp=function(){null==this.Ji&&(this.Ji=[]);for(var b=g.ha.Af(this.oe.Og,-1),d=0,e=this.Ji.length;d<e;d++)if(null==this.Ji[d])return this.Ji[d]=b,d;this.Ji.push(b);return this.Ji.length-
1};a.prototype.Yp=function(b){this.Ji[b]=null};a.prototype.pk=function(b){return this.Lc.S(b,1)};a.prototype.Df=function(b){return this.pk(this.wa(b))};a.prototype.wa=function(b){return this.Lc.S(b,4)};a.prototype.ze=function(b){return this.Lc.S(b,5)};a.prototype.kc=function(b){return this.Lc.S(b,6)};a.prototype.jf=function(b){return this.Lc.S(b,2)};a.prototype.kf=function(b){return this.mk(this.Lc.S(b,2))};a.prototype.ym=function(b){return this.Lc.S(b,7)};a.prototype.Es=function(b,d){this.w(this.pk(b),
d)};a.prototype.xm=function(b,d){this.w(this.Df(b),d)};a.prototype.lh=function(b){return this.Lc.S(b,3)&this.kP};a.prototype.Cb=function(b,d){d=this.Mi[d];return d.size<=b?-1:d.read(b)};a.prototype.Jb=function(b,d,e){d=this.Mi[d];d.size<=b&&d.resize(this.Lc.size,-1);d.write(b,e)};a.prototype.ih=function(){null==this.Mi&&(this.Mi=[]);for(var b=g.ha.Af(this.Lc.Og,-1),d=0,e=this.Mi.length;d<e;d++)if(null==this.Mi[d])return this.Mi[d]=b,d;this.Mi.push(b);return this.Mi.length-1};a.prototype.Uh=function(b){this.Mi[b]=
null};a.prototype.TQ=function(b){var d=this.jf(b),e=this.kc(b);e==this.wa(b)&&(e=this.kc(e),e==b&&(e=-1));this.nG(d)==b&&this.ou(d,e);e=this.ro.read(d);isNaN(e)||(this.EK(d,NaN),this.GK(d,NaN));this.dy(b,!0);this.pz(b)};a.prototype.UQ=function(b){for(var d=0,e=b.size;d<e;d++){var f=b.get(d),h=this.jf(this.wa(f));this.ou(this.jf(f),-1);this.ou(h,-1);this.dy(f,!0);this.pz(f)}};a.prototype.nG=function(b){return this.Ee.S(b,1)};a.prototype.mk=function(b){return this.Ee.S(b,2)};a.prototype.Yn=function(b){return this.Ee.S(b,
3)};a.prototype.rS=function(b){return this.Ee.S(b,4)};a.prototype.eq=function(b){var d=this.ro.read(b);isNaN(d)&&(this.TZ(b),d=this.ro.read(b));return d};a.prototype.Fa=function(b){return this.a.wG(b,this.Uq)};a.prototype.Qe=function(b){return this.a.Na(b,this.Pm)};a.prototype.IS=function(b){return this.a.Na(b,this.Vq)};a.prototype.HS=function(b,d){var e=this.Re(b);if(-1==e)return-1;var f=e,h=-1,k=-1;do{if(this.Df(f)==d)return f;if(-1==h){h=this.Re(d);if(-1==h)break;k=h}if(this.Df(k)==b)return f=
this.wa(k);f=this.kc(this.wa(f));k=this.kc(this.wa(k))}while(f!=e&&k!=h);return-1};a.prototype.ZB=function(b,d){d.ps();d=d.get();var e=new g.b;this.Es(b,e);d.Fc(e);this.xm(b,e);d.Sc(e)};a.prototype.RP=function(b,d){if(b==d)return 0;var e=new g.b;this.xm(b,e);var f=new g.b;this.xm(d,f);if(e.qb(f))return 0;d=new g.b;this.Es(b,d);b=new g.b;b.tc(e,d);e=new g.b;e.tc(f,d);return g.b.Wr(b,e)};a.prototype.QP=function(b,d){if(b==d)return 0;var e=new g.b;this.xm(b,e);var f=new g.b;this.xm(d,f);if(e.qb(f))return 0;
d=new g.b;this.Es(b,d);b=new g.b;b.tc(e,d);e=new g.b;e.tc(f,d);return 0<=e.y&&0<b.y?g.b.Wr(b,e):0};a.prototype.HP=function(){for(var b=g.Tb.Wx(this.XA),d=new g.b,e=new g.b,f=new g.b,h=new g.b,k=new g.b,m=this.We;-1!=m;m=this.$f(m)){var n=this.Re(m);if(-1!=n){var p=n;this.Es(p,d);this.xm(p,e);k.tc(e,d);var q=k.En();do{var r=p;p=this.kc(this.wa(p));if(p!=r){this.xm(p,f);h.tc(f,d);r=h.En();var t=h.Di(k);if(t*t/(r*q)*Math.min(r,q)<=b)return!1;k.K(h);q=r;e.K(f)}}while(p!=n)}}return!0};return a}();g.Pu=
u})(J||(J={}));(function(g){var u=function(){function l(){this.h=null;this.bI=new g.b;this.cI=new g.b;this.wh=null;this.bt=!1;this.Bo=-1}l.prototype.mf=function(c){return c<this.wh.length?this.wh[c]:!1};l.prototype.jl=function(c,a,b,d){var e=g.R.Se(this.h.a.dc(b));if(2==g.R.Se(this.h.a.dc(a))&&1==e)this.QQ(c,a,b,d);else throw g.f.za();};l.prototype.xr=function(c,a){null==this.h&&(this.h=new g.Pu);this.h.xr(c,a)};l.prototype.yr=function(c,a,b){g.$j.U(c,a,b,!0);for(a=c.ld;-1!=a;a=c.Ae(a))1736==c.dc(a)&&
g.Kn.U(c,a,-1,this.bt,b);this.xr(c,b)};l.prototype.xF=function(c,a,b,d,e){var f=this.h.a;if(1736==f.dc(c))for(c=f.Kb(c);-1!=c;c=f.Qb(c)){var h=f.Za(c);this.h.Qe(h);this.h.Qe(f.T(h));var k=this.h.IS(h);if(-1!=k){var m=this.h.Cb(k,b);if(1!=m&&2!=m)if(this.mf(this.h.kf(k))){this.h.Jb(k,b,1);m=f.Ef(a,-1);var n=k,p=this.h.Qe(h),q=1;do{var r=this.Em(h,e);f.oj(m,r);-1!=d&&this.h.Dn(p,d,1);this.h.Jb(n,b,1);n=this.h.kc(n);do{r=1==q?f.T(h):f.Ma(h);var t=-1!=r?this.h.Qe(r):-1}while(t==p);var v=this.h.pk(n);
if(v!=t){do r=1==q?f.Ma(h):f.T(h),t=-1!=r?this.h.Qe(r):-1;while(t==p);v!=t?(t=v,r=this.h.zj(this.h.wm(t))):q=-q}p=t;h=r}while(n!=k);f.An(m,!0)}else this.h.Jb(k,b,2)}}};l.prototype.SF=function(){for(var c=this.h.ih(),a=new g.ha(0),b=this.h.We;-1!=b;b=this.h.$f(b)){var d=this.h.Re(b),e=d;if(-1!=d){do{if(1!=this.h.Cb(e,c)){var f=this.h.wa(e);this.h.Jb(f,c,1);this.h.Jb(e,c,1);this.mf(this.h.kf(e))&&this.mf(this.h.kf(f))&&a.add(e)}e=this.h.kc(this.h.wa(e))}while(e!=d)}}this.h.Uh(c);this.h.UQ(a)};l.prototype.Em=
function(c,a){return-1==a?c:this.tT(c,a)};l.prototype.tT=function(c,a){var b=this.h.a,d=this.h.wm(this.h.Qe(c));do{var e=this.h.zj(d);if(b.Zf(b.cd(e))==a)return e;d=this.h.Rs(d)}while(-1!=d);return c};l.prototype.Ir=function(c,a,b){this.SF();var d=this.h.a,e=d.Pg(1736),f=this.h.ih();this.AL(c,a,e,b,f,-1);this.h.Uh(f);g.Kn.U(d,e,1,this.bt,null);return e};l.prototype.AL=function(c,a,b,d,e,f){this.xF(c,b,e,f,d);-1!=a&&this.xF(a,b,e,f,d);c=this.h.a;for(a=this.h.We;-1!=a;a=this.h.$f(a)){var h=this.h.Re(a);
if(-1!=h){var k=h;do{var m=this.h.Cb(k,e);if(1!=m&&2!=m)if(this.mf(this.h.kf(k))){m=c.Ef(b,-1);var n=k;do{var p=this.h.ym(n);-1!=p?p=this.h.zj(p):(p=this.h.zj(this.h.ym(this.h.wa(n))),p=this.h.a.T(p));p=this.Em(p,d);c.oj(m,p);this.h.Jb(n,e,1);-1!=f&&(p=this.h.Qe(p),this.h.Dn(p,f,1));n=this.h.kc(n)}while(n!=k);c.An(m,!0)}else this.h.Jb(k,e,2);k=this.h.kc(this.h.wa(k))}while(k!=h)}}};l.prototype.HZ=function(c,a,b){var d=this.h.a,e=d.Pg(1736),f=d.Pg(1607),h=d.Pg(550);this.SF();var k=-1,m=this.h.ih(),
n=this.h.Xp();this.AL(c,a,e,b,m,n);for(c=this.h.We;-1!=c;c=this.h.$f(c))if(a=this.h.Re(c),-1!=a){var p=a;do{var q=this.h.Cb(p,m),r=this.h.Cb(this.h.wa(p),m);q|=r;if(2==q)if(q=this.h.lh(p),this.mf(q)){var t=d.Ef(f,-1),v=p;q=this.Fx(c,d);q=this.Em(q,b);d.oj(t,q);this.h.Dn(c,n,1);do{q=this.h.Df(v);r=this.Fx(q,d);r=this.Em(r,b);d.oj(t,r);this.h.Jb(v,m,1);this.h.Jb(this.h.wa(v),m,1);this.h.Dn(q,n,1);v=this.h.kc(v);q=this.h.Cb(v,m);r=this.h.Cb(this.h.wa(v),m);q|=r;if(2!=q)break;q=this.h.lh(v);if(!this.mf(q)){this.h.Jb(v,
m,1);this.h.Jb(this.h.wa(v),m,1);break}}while(v!=p)}else this.h.Jb(p,m,1),this.h.Jb(this.h.wa(p),m,1);p=this.h.kc(this.h.wa(p))}while(p!=a)}for(c=this.h.We;-1!=c;c=this.h.$f(c))q=this.h.tg(c,n),1!=q&&(q=this.h.Bd(c),this.mf(q)&&(-1==k&&(k=d.Ef(h,-1)),a=this.h.wm(c),-1!=a&&(a=this.h.zj(a),q=this.Em(a,b),d.oj(k,q))));this.h.Yp(n);this.h.Uh(m);g.Kn.U(d,e,1,this.bt,null);b=[];b[0]=h;b[1]=f;b[2]=e;return b};l.prototype.Fx=function(c,a){var b=-1;for(c=this.h.wm(c);-1!=c;c=this.h.Rs(c)){var d=this.h.zj(c);
-1==b&&(b=d);var e=this.h.Fa(a.Zf(a.cd(d)));if(this.mf(e)){b=d;break}}return b};l.prototype.WB=function(c,a){for(var b=this.h.pk(a),d=this.h.Df(a),e=0,f=0,h=this.h.wm(b);-1!=h;h=this.h.Rs(h)){var k=this.h.zj(h),m=c.cd(k),n=this.h.Fa(c.Zf(m)),p=c.T(k),q=c.Ma(k);m=c.Za(m);m==k&&(this.Bo=a);-1!=p&&this.h.Qe(p)==d?(e++,this.mf(n)&&(m==p&&(this.Bo=this.h.kc(a)),f++)):-1!=q&&this.h.Qe(q)==d&&(e--,this.mf(n)&&(m==q&&(this.Bo=this.h.kc(a)),f--))}this.h.w(b,this.bI);this.h.w(d,this.cI);c=g.b.vb(this.bI,this.cI);
return(0!=f?f:e)*c};l.prototype.gq=function(c){return this.h.lh(c)|this.h.kf(c)|this.h.kf(this.h.wa(c))};l.prototype.EL=function(c){for(var a=this.h.wa(this.h.ze(c)),b=-1;a!=c;){if(this.mf(this.gq(a))){if(-1!=b)return-1;b=a}a=this.h.wa(this.h.ze(a))}return-1!=b?this.h.wa(b):-1};l.prototype.FL=function(c){for(var a=this.h.wa(this.h.kc(c)),b=-1;a!=c;){if(this.mf(this.gq(a))){if(-1!=b)return-1;b=a}a=this.h.wa(this.h.kc(a))}return-1!=b?this.h.wa(b):-1};l.prototype.qK=function(c,a,b,d,e){var f=this.h.a,
h=c,k=this.h.wa(h);this.h.Jb(h,b,1);this.h.Jb(k,b,1);var m=this.WB(f,h);this.Bo=-1;for(var n=h,p=-1,q=!1,r=1;;){var t=this.h.ze(h);if(t==k)break;k=this.h.kc(k);if(this.h.wa(t)!=k)if(h=this.EL(h),-1==h)break;else q=!0,k=this.h.wa(h);else h=t;if(h==c){p=c;break}t=this.gq(h);if(!this.mf(t))break;this.h.Jb(h,b,1);this.h.Jb(k,b,1);n=h;m+=this.WB(f,h);r++}if(-1==p)for(h=c,k=this.h.wa(h),p=h;;){c=this.h.kc(h);if(c==k)break;k=this.h.ze(k);if(this.h.wa(c)!=k)if(h=this.FL(h),-1==h){q=!0;break}else k=this.h.wa(h);
else h=c;t=this.gq(h);if(!this.mf(t))break;this.h.Jb(h,b,1);this.h.Jb(k,b,1);p=h;m+=this.WB(f,h);r++}else if(-1!=this.Bo&&(n=this.Bo,p=this.h.ze(this.Bo),this.h.wa(p)!=this.h.kc(this.h.wa(n))&&(p=this.EL(n),-1==p)))throw g.f.za();0<=m||(h=p,p=this.h.wa(n),n=this.h.wa(h));b=f.Ef(a,-1);h=n;n=this.h.pk(n);q=this.h.Df(p)==n&&q;m=this.Fx(n,f);m=this.Em(m,e);f.oj(b,m);-1!=d&&this.h.Dn(n,d,1);n=0;for(r=q?g.L.truncate((r+1)/2):-1;;){c=this.h.Df(h);m=this.Fx(c,f);m=this.Em(m,e);f.oj(b,m);n++;-1!=d&&this.h.Dn(c,
d,1);q&&n==r&&(b=f.Ef(a,-1),f.oj(b,m));if(h==p)break;c=this.h.kc(h);if(this.h.ze(this.h.wa(h))!=this.h.wa(c)){if(h=this.FL(h),-1==h)throw g.f.za();}else h=c}};l.prototype.Jr=function(c){for(var a=this.h.a.Pg(1607),b=this.h.ih(),d=this.h.We;-1!=d;d=this.h.$f(d)){var e=this.h.Re(d),f=e;do 1!=this.h.Cb(f,b)&&this.mf(this.gq(f))&&this.qK(f,a,b,-1,c),f=this.h.kc(this.h.wa(f));while(f!=e)}this.h.Uh(b);return a};l.prototype.IZ=function(c){for(var a=this.h.a,b=a.Pg(1607),d=a.Pg(550),e=this.h.ih(),f=this.h.Xp(),
h=-1,k=this.h.We;-1!=k;k=this.h.$f(k)){var m=this.h.Re(k),n=m;do{var p=this.h.Cb(n,e);1!=p&&(p=this.gq(n),this.mf(p)&&this.qK(n,b,e,f,c));n=this.h.kc(this.h.wa(n))}while(n!=m)}for(k=this.h.We;-1!=k;k=this.h.$f(k))p=this.h.tg(k,f),1!=p&&(p=this.h.Bd(k),this.mf(p)&&(-1==h&&(h=a.Ef(d,-1)),m=this.h.wm(k),-1!=m&&(m=this.h.zj(m),m=this.Em(m,c),a.oj(h,m))));this.h.Uh(e);this.h.Yp(f);c=[];c[0]=d;c[1]=b;return c};l.prototype.up=function(){for(var c=this.h.a,a=c.Pg(550),b=c.Ef(a,-1),d=this.h.We;-1!=d;d=this.h.$f(d))if(this.mf(this.h.Bd(d))){for(var e=
-1,f=this.h.wm(d);-1!=f;f=this.h.Rs(f)){var h=this.h.zj(f);-1==e&&(e=h);var k=this.h.Fa(c.Zf(c.cd(h)));if(this.mf(k)){e=h;break}}c.oj(b,e)}return a};l.prototype.eo=function(c){this.wh=[];for(var a=0;a<c;a++)this.wh[a]=!1};l.IJ=function(c,a,b,d){var e=c.Ea(),f=Array(1E3);g.L.Hv(f,null);var h=g.L.Xf(1E3,0),k=c.D(),m=!0,n=2==a.pb();if(1!=a.pb()&&2!=a.pb())throw g.f.za();for(var p=0;p<k;){var q=g.L.truncate(c.CX(f,p)-p);n?g.Zc.yL(a,f,q,b,h):g.Zc.zL(a,f,q,b,h);for(var r=0,t=0;t<q;t++){var v=0==h[t];d||
(v=!v);v&&(m&&(m=!1,e.yd(c,0,p)),r!=t&&e.yd(c,p+r,p+t),r=t+1)}m||r==q||e.yd(c,p+r,p+q);p+=q}return m?c:e};l.lH=function(c,a,b){return c instanceof g.Hd?l.IJ(c,a,b,!0):a instanceof g.Ra?c.u()||a.u()?c.Ea():g.$j.eJ(b,c,a)?g.$j.MP(c,a):c.Ea():l.JJ(c,a,b,!0)};l.hw=function(c,a,b,d){var e=new g.g;c.s(e);var f=new g.g;a.s(f);var h=new g.g;h.H(e);h.Nb(f);b=g.la.Qd(b,h,!0);h=new g.g;h.H(f);f=g.la.es(b);h.O(f,f);if(!e.isIntersecting(h)){if(c.pb()<=a.pb())return l.kg(l.vd(c.Ea()),c,"\x26");if(c.pb()>a.pb())return l.kg(l.vd(a.Ea()),
c,"\x26")}f=new l;e=new g.Yc;h=e.Bb(l.vd(c));a=e.Bb(l.vd(a));f.yr(e,b,d);d=f.hw(h,a);c=l.kg(e.ye(d),c,"\x26");g.R.Bc(c.F())&&(c.Jg(2,b),1736==c.F()&&c.cl());return c};l.JJ=function(c,a,b,d){if(c.u())return c.Ea();if(a.u())return d?c.Ea():null;var e=[null],f=[0],h=2==a.pb();if(1!=a.pb()&&2!=a.pb())throw g.f.za();e[0]=c.w();h?g.Zc.yL(a,e,1,b,f):g.Zc.zL(a,e,1,b,f);a=0==f[0];d||(a=!a);return a?c.Ea():c};l.T_=function(c,a,b){return c instanceof g.Hd?l.IJ(c,a,b,!1):a instanceof g.Ra?c.u()?c.Ea():a.u()?
c:g.$j.eJ(b,c,a)?c.Ea():c:l.JJ(c,a,b,!1)};l.prototype.jJ=function(c,a,b,d,e){if(c.u())return c;var f=new g.Yc;c=f.Bb(c);return this.Tk(f,c,a,b,d,e)};l.prototype.eW=function(c,a,b,d,e,f){if(e&&550!=c.dc(a)){var h=new g.yD;h.yZ(c,b);h.Tg?(g.$j.U(c,b,f,!0),e=!1):this.h.dz(b)}else g.$j.U(c,b,f,!0),e=!1;d&&550!=c.dc(a)?this.h.AK(c,a,f):this.h.zK(c,a,f);if(this.h.$A)return this.h.ah(),this.h=null,this.Tk(c,a,b,d,!1,f);this.h.dz(NaN);f=this.h.Fa(a);this.eo(f+1);this.wh[f]=!0;if(1736==c.dc(a)||d&&550!=c.dc(a))return c.np(a,
0),a=this.Ir(a,-1,-1),c=c.ye(a),c.np(0),e?c.Jg(1,0):(c.Jg(2,b),c.cl()),c;if(1607==c.dc(a))return a=this.Jr(-1),c=c.ye(a),e||c.Jg(2,b),c;if(550==c.dc(a))return a=this.up(),c=c.ye(a),e||c.Jg(2,b),c;throw g.f.za();};l.prototype.Tk=function(c,a,b,d,e,f){this.h=new g.Pu;try{return this.eW(c,a,b,d,e,f)}finally{this.h.ah()}};l.Tk=function(c,a,b,d,e){return(new l).jJ(c,a,b,d,e)};l.prototype.dW=function(c,a,b,d){this.bt=c;this.h=new g.Pu;c=a.$n(b);var e=a.dc(b);1!=c||550==e?this.h.zK(a,b,d):this.h.AK(a,b,
d);if(!this.h.$A)if(this.h.dz(NaN),d=this.h.Fa(b),this.eo(d+1),this.wh[d]=!0,1736==a.dc(b)||1==c&&550!=a.dc(b))a.np(b,0),d=this.Ir(b,-1,-1),a.QC(d,b),a.kC(d);else if(1607==a.dc(b))d=this.Jr(-1),a.QC(d,b),a.kC(d);else if(550==a.dc(b))d=this.up(),a.QC(d,b),a.kC(d);else throw g.f.Y("internal error");};l.NC=function(c,a,b,d){var e=new l;e.bt=!0;return e.jJ(c,a,!1,b,d)};l.prototype.tm=function(c,a){var b=g.R.Se(this.h.a.dc(c)),d=g.R.Se(this.h.a.dc(a));if(b>d)return c;var e=this.h.Fa(c),f=this.h.Fa(a);
this.eo((e|f)+1);this.wh[this.h.Fa(c)]=!0;if(2==b&&2==d)return this.Ir(c,a,-1);if(1==b&&2==d||1==b&&1==d)return this.Jr(-1);if(0==b)return this.up();throw g.f.za();};l.prototype.RF=function(c,a){var b=g.R.Se(this.h.a.dc(c)),d=g.R.Se(this.h.a.dc(a));if(b>d)return c;if(b<d)return a;var e=this.h.Fa(c),f=this.h.Fa(a);this.eo((e|f)+1);this.wh[this.h.Fa(c)]=!0;this.wh[this.h.Fa(a)]=!0;this.wh[this.h.Fa(c)|this.h.Fa(a)]=!0;if(2==b&&2==d)return this.Ir(c,a,-1);if(1==b&&1==d)return this.Jr(-1);if(0==b&&0==
d)return this.up();throw g.f.za();};l.prototype.hw=function(c,a){var b=g.R.Se(this.h.a.dc(c)),d=g.R.Se(this.h.a.dc(a)),e=this.h.Fa(c),f=this.h.Fa(a);this.eo((e|f)+1);this.wh[this.h.Fa(c)|this.h.Fa(a)]=!0;e=-1;1<this.h.a.Qt.Ca&&(e=c);if(2==b&&2==d)return this.Ir(c,a,e);if(1==b&&0<d||1==d&&0<b)return this.Jr(e);if(0==b||0==d)return this.up();throw g.f.za();};l.prototype.wA=function(c,a){var b=g.R.Se(this.h.a.dc(c)),d=g.R.Se(this.h.a.dc(a)),e=this.h.Fa(c),f=this.h.Fa(a);this.eo((e|f)+1);this.wh[this.h.Fa(c)|
this.h.Fa(a)]=!0;e=-1;1<this.h.a.Qt.Ca&&(e=c);if(2==b&&2==d)return this.HZ(c,a,e);if(1==b&&0<d||1==d&&0<b)return this.IZ(e);if(0==b||0==d)return c=[],c[0]=this.up(),c;throw g.f.za();};l.prototype.tp=function(c,a){var b=g.R.Se(this.h.a.dc(c)),d=g.R.Se(this.h.a.dc(a)),e=this.h.Fa(c),f=this.h.Fa(a);this.eo((e|f)+1);this.wh[this.h.Fa(c)]=!0;this.wh[this.h.Fa(a)]=!0;if(2==b&&2==d)return this.Ir(c,a,-1);if(1==b&&1==d)return this.Jr(-1);if(0==b&&0==d)return this.up();throw g.f.za();};l.vd=function(c){var a=
c.F();return 197==a?(a=new g.Ga(c.description),c.u()||a.bd(c,!1),a):33==a?(a=new g.Hd(c.description),c.u()||a.add(c),a):322==a?(a=new g.Oa(c.description),c.u()||a.$b(c,!0),a):c};l.kg=function(c,a,b){var d=c.F();return 197==d?(a=new g.Ga(c.description),c.u()||a.bd(c,!1),a):33!=d||"|"!=b&&"^"!=b?322==d?(a=new g.Oa(c.description),c.u()||a.$b(c,!0),a):33==d&&"-"==b&&33==a.F()||550==d&&"\x26"==b&&33==a.F()?(a=new g.Ra(c.description),c.u()||c.ne(0,a),a):c:(a=new g.Hd(c.description),c.u()||a.add(c),a)};
l.tm=function(c,a,b,d){if(c.u()||a.u()||c.pb()>a.pb())return l.kg(l.vd(c),c,"-");var e=new g.g;c.s(e);var f=new g.g;a.s(f);if(!e.isIntersecting(f))return l.kg(l.vd(c),c,"-");var h=new g.g;h.H(e);h.Nb(f);b=g.la.Qd(b,h,!0);f=new l;e=new g.Yc;h=e.Bb(l.vd(c));a=e.Bb(l.vd(a));f.yr(e,b,d);d=f.tm(h,a);d=e.ye(d);c=l.kg(d,c,"-");g.R.Bc(c.F())&&(c.Jg(2,b),1736==c.F()&&c.cl());return c};l.RF=function(c,a){if(c.pb()>a.pb())return l.kg(l.vd(c),c,"|");if(c.pb()<a.pb()||c.u())return l.kg(l.vd(a),c,"|");if(a.u())return l.kg(l.vd(c),
c,"|");var b=new g.g;c.s(b);var d=new g.g;a.s(d);var e=new g.g;e.H(b);e.Nb(d);e=g.la.Qd(void 0,e,!0);if(!b.isIntersecting(d.KS(e,e)))switch(c=l.vd(c),e=l.vd(a),c.F()){case 550:return c=g.R.$d(c),c.yd(e,0,-1),c;case 1607:return c=g.R.$d(c),c.add(e,!1),c;case 1736:return c=g.R.$d(c),c.add(e,!1),c;default:throw g.f.za();}d=new l;b=new g.Yc;var f=b.Bb(l.vd(c));a=b.Bb(l.vd(a));d.yr(b,e,void 0);a=d.RF(f,a);c=l.kg(b.ye(a),c,"|");g.R.Bc(c.F())&&(c.Jg(2,e),1736==c.F()&&c.cl());return c};l.fR=function(c,a,
b){if(2>c.length)throw g.f.I("not enough geometries to dissolve");for(var d=0,e=0,f=c.length;e<f;e++)d=Math.max(c[e].pb(),d);var h=new g.g;h.Ka();var k=new g.Yc,m=-1,n=0,p=-1;e=0;for(f=c.length;e<f;e++)if(c[e].pb()==d)if(c[e].u())-1==p&&(p=e);else{p=e;-1==m?m=k.Bb(l.vd(c[e])):k.FO(m,l.vd(c[e]));var q=new g.g;c[e].Zb(q);h.Nb(q);n++}if(2>n)return l.vd(c[p]);c=2==d;a=g.la.Qd(0==d?a:null,h,!0);return(new l).Tk(k,m,a,c,!0,b)};l.wA=function(c,a,b,d){var e=[null,null,null],f=new g.g;c.s(f);var h=new g.g;
a.s(h);var k=new g.g;k.H(f);k.Nb(h);b=g.la.Qd(b,k,!0);k=new g.g;k.H(h);h=g.la.es(b);k.O(h,h);if(!f.isIntersecting(k)){if(c.pb()<=a.pb())return c=l.kg(l.vd(c.Ea()),c,"\x26"),e[c.pb()]=c,e;if(c.pb()>a.pb())return c=l.kg(l.vd(a.Ea()),c,"\x26"),e[c.pb()]=c,e}h=new l;f=new g.Yc;k=f.Bb(l.vd(c));a=f.Bb(l.vd(a));h.yr(f,b,d);d=h.wA(k,a);for(a=0;a<d.length;a++)h=l.kg(f.ye(d[a]),c,"\x26"),g.R.Bc(h.F())&&(h.Jg(2,b),1736==h.F()&&h.cl()),e[h.pb()]=h;return e};l.tp=function(c,a,b,d){if(c.pb()>a.pb())return l.kg(l.vd(c),
c,"^");if(c.pb()<a.pb()||c.u())return l.kg(l.vd(a),c,"^");if(a.u())return l.kg(l.vd(c),c,"^");var e=new g.g;c.s(e);var f=new g.g;a.s(f);var h=new g.g;h.H(e);h.Nb(f);b=g.la.Qd(b,h,!0);f=new l;e=new g.Yc;h=e.Bb(l.vd(c));a=e.Bb(l.vd(a));f.yr(e,b,d);d=f.tp(h,a);c=l.kg(e.ye(d),c,"^");g.R.Bc(c.F())&&(c.Jg(2,b),1736==c.F()&&c.cl());return c};l.w_=function(c,a,b){a=a.F();b=b.F();return 550==c.F()&&(33==a||33==b)&&1>=c.D()?(b=new g.Ra(c.description),c.u()||c.ne(0,b),b):c};l.prototype.XR=function(c,a){var b=
this.h.a;c=b.Ef(c,-1);for(var d=a.size,e=0;e<d;e++){var f=a.get(e);b.oj(c,f)}b.An(c,!0)};l.prototype.DY=function(c,a){for(var b=this.h.a,d=b.ld;-1!=d;d=b.Ae(d))if(d==a)for(var e=b.Kb(d);-1!=e;e=b.Qb(e)){var f=b.Za(e);if(-1!=f)for(var h=b.T(f);-1!=h;){f=this.h.Qe(f);var k=this.h.Qe(h);f=this.h.HS(f,k);-1!=f&&(k=this.h.wa(f),this.h.Jb(f,c,1),this.h.Jb(k,c,2));f=h;h=b.T(f)}}};l.prototype.tX=function(c,a,b,d){b=this.h.Fa(b);d=this.h.Fa(d);var e=new g.ha(0);e.Db(256);for(var f=this.h.a,h=this.h.ih(),k=
this.h.We;-1!=k;k=this.h.$f(k)){var m=this.h.Re(k);if(-1!=m){var n=m;do{if(1!=this.h.Cb(n,h)){var p=n,q=n,r=!1,t=0;do{this.h.Jb(p,h,1);if(!r){var v=this.h.lh(p);0!=(v&d)&&0!=(this.h.kf(p)&b)&&(q=p,r=!0)}r&&(e.add(this.h.zj(this.h.wm(this.h.pk(p)))),-1!=c&&(v=this.h.lh(p),0!=(v&d)&&(v=this.h.Cb(p,c),t|=v)));p=this.h.kc(p)}while(p!=q);r&&0<this.h.eq(this.h.jf(q))&&(p=f.Pg(1736),this.XR(p,e),-1!=a&&f.LK(p,a,t));e.clear(!1)}n=this.h.kc(this.h.wa(n))}while(n!=m)}}this.h.Uh(h)};l.prototype.QQ=function(c,
a,b,d){this.h.dY();var e=-1;-1!=c&&(e=this.h.ih(),this.DY(e,b));this.tX(e,c,a,b);var f=this.h.a;c=0;for(e=f.ld;-1!=e;e=f.Ae(e))e!=a&&e!=b&&(d.add(e),c++);d.Zd(0,c,function(h,k){h=f.eA(f.Kb(h));k=f.eA(f.Kb(k));return h<k?-1:h==k?0:1})};l.prototype.ah=function(){null!=this.h&&(this.h.ah(),this.h=null)};return l}();g.pg=u})(J||(J={}));(function(g){var u=function(){function l(c){void 0!==c?this.Dr(c):this.zC()}l.prototype.Tx=function(){this.Sb=this.Ob=this.tb=this.ob=this.bb=this.fb=0};l.prototype.Ib=
function(c){return this==c?!0:c instanceof l?this.fb==c.fb&&this.ob==c.ob&&this.Ob==c.Ob&&this.tb==c.tb&&this.bb==c.bb&&this.Sb==c.Sb:!1};l.prototype.fc=function(){g.L.Aj();g.L.Aj();g.L.Aj();g.L.Aj();g.L.Aj();return g.L.Aj()};l.prototype.Zj=function(c,a){var b=this.tb*c.x+this.bb*c.y+this.Sb;a.x=this.fb*c.x+this.ob*c.y+this.Ob;a.y=b};l.prototype.LZ=function(c,a,b,d,e){var f=2*a;d*=2;for(a=2*(a+e);f<a;f+=2,d+=2){e=c[f];var h=c[f+1];b[d]=this.fb*e+this.ob*h+this.Ob;b[d+1]=this.tb*e+this.bb*h+this.Sb}};
l.prototype.NZ=function(c,a,b){for(var d=0;d<a;d++){var e=c[d].x,f=c[d].y,h=this.fb*e+this.ob*f+this.Ob;e=this.tb*e+this.bb*f+this.Sb;null!=b[d]?b[d].ka(h,e):b[d]=g.b.construct(h,e)}};l.prototype.multiply=function(c){l.multiply(this,c,this)};l.multiply=function(c,a,b){var d=c.fb*a.fb+c.tb*a.ob,e=c.ob*a.fb+c.bb*a.ob,f=c.Ob*a.fb+c.Sb*a.ob+a.Ob,h=c.fb*a.tb+c.tb*a.bb,k=c.ob*a.tb+c.bb*a.bb;c=c.Ob*a.tb+c.Sb*a.bb+a.Sb;b.fb=d;b.ob=e;b.Ob=f;b.tb=h;b.bb=k;b.Sb=c};l.prototype.Cf=function(){var c=new l;c.fb=
this.fb;c.ob=this.ob;c.Ob=this.Ob;c.tb=this.tb;c.bb=this.bb;c.Sb=this.Sb;return c};l.prototype.VC=function(c){if(!c.u()){for(var a=[],b=0;4>b;b++)a[b]=new g.b;c.XB(a);this.OZ(a,a);c.Ix(a,4)}};l.prototype.OZ=function(c,a){for(var b=0;b<c.length;b++){var d=new g.b,e=c[b];d.x=this.fb*e.x+this.ob*e.y+this.Ob;d.y=this.tb*e.x+this.bb*e.y+this.Sb;a[b]=d}};l.prototype.KT=function(c,a){c.u()||a.u()||0==c.N()||0==c.ca()?this.Tx():(this.ob=this.tb=0,this.fb=a.N()/c.N(),this.bb=a.ca()/c.ca(),this.Ob=a.o-c.o*
this.fb,this.Sb=a.A-c.A*this.bb)};l.prototype.MZ=function(c){var a=new g.b,b=new g.b;a.ka(this.fb,this.tb);b.ka(this.ob,this.bb);a.sub(a);var d=.5*a.En();a.ka(this.fb,this.tb);b.ka(this.ob,this.bb);a.add(b);a=.5*a.En();return c*(d>a?Math.sqrt(d):Math.sqrt(a))};l.prototype.zC=function(){this.fb=1;this.tb=this.Ob=this.ob=0;this.bb=1;this.Sb=0};l.prototype.xq=function(){return 1==this.fb&&1==this.bb&&0==this.ob&&0==this.Ob&&0==this.tb&&0==this.Sb};l.prototype.Qg=function(c){return Math.abs(this.fb*this.bb-
this.tb*this.ob)<=2*c*(Math.abs(this.fb*this.bb)+Math.abs(this.tb*this.ob))};l.prototype.mg=function(c,a){this.fb=1;this.ob=0;this.Ob=c;this.tb=0;this.bb=1;this.Sb=a};l.prototype.Dr=function(c,a){void 0!==a?(this.fb=c,this.tb=this.Ob=this.ob=0,this.bb=a,this.Sb=0):this.Dr(c,c)};l.prototype.HC=function(){this.fb=0;this.ob=1;this.Ob=0;this.tb=1;this.Sb=this.bb=0};l.prototype.SY=function(c){this.TY(Math.cos(c),Math.sin(c))};l.prototype.TY=function(c,a){this.fb=c;this.ob=-a;this.Ob=0;this.tb=a;this.bb=
c;this.Sb=0};l.prototype.shift=function(c,a){this.Ob+=c;this.Sb+=a};l.prototype.scale=function(c,a){this.fb*=c;this.ob*=c;this.Ob*=c;this.tb*=a;this.bb*=a;this.Sb*=a};l.prototype.rotate=function(c){var a=new l;a.SY(c);this.multiply(a)};l.prototype.inverse=function(c){if(void 0!==c){var a=this.fb*this.bb-this.ob*this.tb;0==a?c.Tx():(a=1/a,c.Ob=(this.ob*this.Sb-this.Ob*this.bb)*a,c.Sb=(this.Ob*this.tb-this.fb*this.Sb)*a,c.fb=this.bb*a,c.ob=-this.ob*a,c.tb=-this.tb*a,c.bb=this.fb*a)}else this.inverse(this)};
return l}();g.xd=u})(J||(J={}));(function(g){var u=function(){function l(){}l.prototype.Tx=function(){this.Kg=this.Sb=this.Ob=this.gf=this.df=this.cf=this.ff=this.bb=this.ob=this.yf=this.tb=this.fb=0};l.prototype.Dr=function(c,a){this.fb=c;this.ob=this.yf=this.tb=0;this.bb=a;this.df=this.cf=this.ff=0;this.gf=void 0;this.Kg=this.Sb=this.Ob=0};l.prototype.translate=function(c,a,b){this.Ob+=c;this.Sb+=a;this.Kg+=b};l.prototype.VC=function(c){if(!c.u()){for(var a=new g.Id[8],b=0;8>b;b++)a[b]=new g.Id;
c.XB(a);this.transform(a,8,a);c.Ix(a)}};l.prototype.transform=function(c,a,b){for(var d=0;d<a;d++){var e=new g.Id,f=c[d];e.x=this.fb*f.x+this.ob*f.y+this.cf*f.z+this.Ob;e.y=this.tb*f.x+this.bb*f.y+this.df*f.z+this.Sb;e.z=this.yf*f.x+this.ff*f.y+this.gf*f.z+this.Kg;b[d]=e}};l.prototype.vp=function(c){var a=new g.Id;a.x=this.fb*c.x+this.ob*c.y+this.cf*c.z+this.Ob;a.y=this.tb*c.x+this.bb*c.y+this.df*c.z+this.Sb;a.z=this.yf*c.x+this.ff*c.y+this.gf*c.z+this.Kg;return a};l.prototype.Gg=function(c){l.multiply(this,
c,this)};l.multiply=function(c,a,b){var d=c.fb*a.fb+c.tb*a.ob+c.yf*a.cf,e=c.fb*a.tb+c.tb*a.bb+c.yf*a.df,f=c.fb*a.yf+c.tb*a.ff+c.yf*a.gf,h=c.ob*a.fb+c.bb*a.ob+c.ff*a.cf,k=c.ob*a.tb+c.bb*a.bb+c.ff*a.df,m=c.ob*a.yf+c.bb*a.ff+c.ff*a.gf,n=c.cf*a.fb+c.df*a.ob+c.gf*a.cf,p=c.cf*a.tb+c.df*a.bb+c.gf*a.df,q=c.cf*a.yf+c.df*a.ff+c.gf*a.gf,r=c.Ob*a.fb+c.Sb*a.ob+c.Kg*a.cf+a.Ob,t=c.Ob*a.tb+c.Sb*a.bb+c.Kg*a.df+a.Sb;c=c.Ob*a.yf+c.Sb*a.ff+c.Kg*a.gf+a.Kg;b.fb=d;b.tb=e;b.yf=f;b.ob=h;b.bb=k;b.ff=m;b.cf=n;b.df=p;b.gf=q;
b.Ob=r;b.Sb=t;b.Kg=c};l.inverse=function(c,a){var b=c.fb*(c.bb*c.gf-c.ff*c.df)-c.tb*(c.ob*c.gf-c.ff*c.cf)+c.yf*(c.ob*c.df-c.bb*c.cf);if(0!=b){var d=1/b;b=(c.bb*c.gf-c.ff*c.df)*d;var e=-(c.ob*c.gf-c.ff*c.cf)*d,f=(c.ob*c.df-c.bb*c.cf)*d,h=-(c.tb*c.gf-c.df*c.yf)*d,k=(c.fb*c.gf-c.yf*c.cf)*d,m=-(c.fb*c.df-c.tb*c.cf)*d,n=(c.tb*c.ff-c.yf*c.bb)*d,p=-(c.fb*c.ff-c.yf*c.ob)*d;d*=c.fb*c.bb-c.tb*c.ob;var q=-(c.Ob*b+c.Sb*e+c.Kg*f),r=-(c.Ob*h+c.Sb*k+c.Kg*m);c=-(c.Ob*n+c.Sb*p+c.Kg*d);a.fb=b;a.tb=h;a.yf=n;a.ob=e;
a.bb=k;a.ff=p;a.cf=f;a.df=m;a.gf=d;a.Ob=q;a.Sb=r;a.Kg=c}else throw g.f.Y("math singularity");};l.prototype.Cf=function(){var c=new l;c.fb=this.fb;c.tb=this.tb;c.yf=this.yf;c.ob=this.ob;c.bb=this.bb;c.ff=this.ff;c.cf=this.cf;c.df=this.df;c.gf=this.gf;c.Ob=this.Ob;c.Sb=this.Sb;c.Kg=this.Kg;return c};return l}();g.u_=u})(J||(J={}));(function(g){var u=function(c){function a(b){if(void 0!==b)b=c.call(this,b.fc(),b)||this;else{b=c.call(this)||this;b.hg=[];b.hg[0]=0;b.Ca=1;b.Bh=[];for(var d=0;10>d;d++)b.Bh[d]=
-1;b.Bh[b.hg[0]]=0}b.Cq=!0;return b}ma(a,c);a.prototype.le=function(b){this.hasAttribute(b)||(this.Bh[b]=0,this.UD())};a.prototype.removeAttribute=function(b){if(0==b)throw g.f.I("Position attribue cannot be removed");this.hasAttribute(b)&&(this.Bh[b]=-1,this.UD())};a.prototype.reset=function(){this.hg[0]=0;this.Ca=1;for(var b=0;b<this.Bh.length;b++)this.Bh[b]=-1;this.Bh[this.hg[0]]=0;this.Cq=!0};a.prototype.Mz=function(){return l.bo().add(this)};a.ug=function(){return l.bo().rT()};a.Y_=function(){return l.bo().sT()};
a.prototype.BN=function(){var b=this.fc();return new g.oa(b,this)};a.prototype.UD=function(){for(var b=this.Ca=0,d=0;10>b;b++)0<=this.Bh[b]&&(this.hg[d]=b,this.Bh[b]=d,d++,this.Ca++);this.Cq=!0};a.prototype.fc=function(){this.Cq&&(this.Fl=this.Un(),this.Cq=!1);return this.Fl};a.prototype.Ib=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ca!=this.Ca)return!1;for(var d=0;d<this.Ca;d++)if(this.hg[d]!=b.hg[d])return!1;return this.Cq!=b.Cq?!1:!0};a.prototype.sH=function(b){if(b.Ca!=
this.Ca)return!1;for(var d=0;d<this.Ca;d++)if(this.hg[d]!=b.hg[d])return!1;return!0};a.ox=function(b,d){for(var e=[],f=0;f<b.Ca;f++)e[f]=-1;f=0;for(var h=b.Ca;f<h;f++)e[f]=d.Yf(b.kd(f));return e};a.RS=function(b,d){b=new a(b);b.le(d);return b.Mz()};a.SS=function(b,d){for(var e=null,f=0;10>f;f++)!b.hasAttribute(f)&&d.hasAttribute(f)&&(null==e&&(e=new a(b)),e.le(f));return null!=e?e.Mz():b};a.E0=function(b,d){b=new a(b);b.removeAttribute(d);return b.Mz()};return a}(g.oa);g.ke=u;var l=function(){function c(){this.map=
[];var a=new u;this.add(a);a=new u;a.le(1);this.add(a)}c.bo=function(){return c.lM};c.prototype.rT=function(){return c.Nt};c.prototype.sT=function(){return c.Ot};c.prototype.add=function(a){var b=a.fc();if(null!=c.Nt&&c.Nt.fc()==b&&a.sH(c.Nt))return c.Nt;if(null!=c.Ot&&c.Ot.fc()==b&&a.sH(c.Ot))return c.Ot;var d=null;void 0!==this.map[b]&&(d=this.map[b]);null==d&&(d=a.BN(),1==d.Ca?c.Nt=d:2==d.Ca&&1==d.kd(1)?c.Ot=d:this.map[b]=d);return d};c.lM=new c;return c}()})(J||(J={}));var gb={feet:9002,kilometers:9036,
meters:9001,miles:9035,"nautical-miles":9030,yards:9096},hb={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},fb=new (function(){function g(){this.YN=50;this.Gp=new Map;this.mj=[]}g.prototype.clear=function(){this.mj.length=0;this.Gp.clear()};g.prototype.delete=function(u){return this.Gp.delete(u)?(this.mj.splice(this.mj.indexOf(u),1),!0):!1};g.prototype.get=function(u){var l=this.Gp.get(u);
if(void 0!==l)return this.mj[0]!==u&&(this.mj.splice(this.mj.indexOf(u),1),this.mj.unshift(u)),l};g.prototype.has=function(u){return this.Gp.has(u)};g.prototype.set=function(u,l){void 0!==this.get(u)&&this.delete(u);this.mj.unshift(u);this.Gp.set(u,l);this.wN();return this};g.prototype.wN=function(){for(;this.mj.length&&this.mj.length>this.YN;){var u=this.mj.pop();this.Gp.delete(u)}};return g}()),Na=(ea={},ea.convertJSONToGeometry=function(g){return J.bc.pQ(g)},ea.hasM=function(g){return g.hasAttribute(J.Mh.M)},
ea.hasZ=function(g){return g.hasAttribute(J.Mh.Z)},ea.getPointX=function(g){return g.Ce()},ea.getPointY=function(g){return g.lf()},ea.getPointZ=function(g){return g.vT()},ea.getPointM=function(g){return g.OS()},ea.getXMin=function(g){return g.Ms()},ea.getYMin=function(g){return g.Os()},ea.getXMax=function(g){return g.Ls()},ea.getYMax=function(g){return g.Ns()},ea.getZExtent=function(g){return g.Qf(J.Mh.Z,0)},ea.getMExtent=function(g){return g.Qf(J.Mh.M,0)},ea.exportPaths=function(g){var u=[],l=g.$(),
c=null,a=null,b=g.hasAttribute(J.Mh.Z),d=g.hasAttribute(J.Mh.M);b&&(c=g.Va(J.Mh.Z));d&&(a=g.Va(J.Mh.M));for(var e=new J.b,f=0;f<l;f++){for(var h=g.ua(f),k=g.Ha(f),m=0,n=0,p=NaN,q=NaN,r=NaN,t=NaN,v=g.Lb(f),E=[],O=h;O<h+k;O++){g.w(O,e);t=r=NaN;var M=[e.x,e.y];b&&(r=c.get(O),M.push(r));d&&(t=a.get(O),M.push(t));O==h&&v&&(m=e.x,n=e.y,p=r,q=t);E.push(M)}!v||m==e.x&&n==e.y&&(!b||isNaN(p)&&isNaN(r)||p==r)&&(!d||isNaN(q)&&isNaN(t)||q==t)||E.push(E[0].slice(0));u.push(E)}return u},ea.exportPathsFlat=function(){},
ea.exportPoints=function(g){var u=g.hasAttribute(J.Mh.Z),l=g.hasAttribute(J.Mh.M),c=null,a=null;u&&(c=g.Va(J.Mh.Z));l&&(a=g.Va(J.Mh.M));for(var b=new J.b,d=g.D(),e=[],f=0;f<d;f++){g.w(f,b);var h=[b.x,b.y];u&&h.push(c.get(f));l&&h.push(a.get(f));e.push(h)}return e},ea.exportPointsFlat=function(){},ea);return function(){function g(){}g.buffer=na;g.clip=aa;g.contains=U;g.convexHull=ja;g.crosses=K;g.cut=X;g.densify=wa;g.difference=ia;g.disjoint=T;g.distance=A;g.equals=y;g.extendedSpatialReferenceInfo=
Y;g.generalize=ba;g.geodesicArea=ta;g.geodesicBuffer=xa;g.geodesicDensify=ua;g.geodesicLength=ha;g.intersect=pa;g.intersects=w;g.isSimple=V;g.nearestCoordinate=ra;g.nearestVertex=Ca;g.nearestVertices=Da;g.offset=va;g.overlaps=Q;g.planarArea=Aa;g.planarLength=Ea;g.relate=I;g.simplify=R;g.symmetricDifference=la;g.touches=C;g.union=oa;g.within=N;g.rotate=J.jy.rotate;g.flipHorizontal=J.jy.VR;g.flipVertical=J.jy.WR;g._enableProjection=sa;g._project=Fa;g._getTransformation=Ba;g._getTransformationBySuitability=
Ha;return g}()}();void 0!==L&&(Z.exports=L)});var F=Object.freeze(Object.assign(Object.create(null),W,{"default":W}));z.geometryEngineBase=F;z.geometryEngineBase$1=W})},"esri/geometry/geometryAdapters/hydrated":function(){define("exports ../Point ../Extent ../Multipoint ../Polygon ../Polyline".split(" "),function(z,W,F,Z,L,B){z.hydratedAdapter={convertToGEGeometry:function(P,x){if(null==x)return null;let G="cache"in x?x.cache._geVersion:void 0;null==G&&(G=P.convertJSONToGeometry(x),"cache"in x&&(x.cache._geVersion=
G));return G},exportPoint:function(P,x,G){const D=P.hasZ(x),H=P.hasM(x);G=new W({x:P.getPointX(x),y:P.getPointY(x),spatialReference:G});D&&(G.z=P.getPointZ(x));H&&(G.m=P.getPointM(x));G.cache._geVersion=x;return G},exportPolygon:function(P,x,G){P=new L({rings:P.exportPaths(x),hasZ:P.hasZ(x),hasM:P.hasM(x),spatialReference:G});P.cache._geVersion=x;return P},exportPolyline:function(P,x,G){P=new B({paths:P.exportPaths(x),hasZ:P.hasZ(x),hasM:P.hasM(x),spatialReference:G});P.cache._geVersion=x;return P},
exportMultipoint:function(P,x,G){P=new Z({hasZ:P.hasZ(x),hasM:P.hasM(x),points:P.exportPoints(x),spatialReference:G});P.cache._geVersion=x;return P},exportExtent:function(P,x,G){var D=P.hasZ(x);const H=P.hasM(x);G=new F({xmin:P.getXMin(x),ymin:P.getYMin(x),xmax:P.getXMax(x),ymax:P.getYMax(x),spatialReference:G});D&&(D=P.getZExtent(x),G.zmin=D.vmin,G.zmax=D.vmax);H&&(P=P.getMExtent(x),G.mmin=P.vmin,G.mmax=P.vmax);G.cache._geVersion=x;return G}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/handleUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ../../../../../core/Collection ../../../../../core/Handles ../../../../../support/elevationInfoUtils ../../../../../layers/graphics/dehydratedFeatures ../../../../interactive/editGeometry/EditGeometry ../../../../interactive/editGeometry/EditGeometryHelper ../../../../interactive/snapping/SnappingContext ../../../../interactive/dragEventPipeline ../../SnappingDragPipelineStep ../../SnappingVisualizer3D ../../../../interactive/InteractiveToolBase ../../manipulatorUtils ./isSupportedGraphic ../manipulatorUtils ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../visualElementUtils ../manipulations/config ../manipulations/moveUtils ../manipulations/MoveManipulation ../manipulations/MoveXYGraphicManipulation".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia,la,pa,oa,va,na,xa,za,ra){let Ca=function(ua){this.allGraphics=ua;this.type="graphic-move-start"},Da=function(ua,Aa,Ea){this.dx=ua;this.dy=Aa;this.allGraphics=Ea;this.type="graphic-move"},ba=function(ua){this.allGraphics=ua;this.type="graphic-move-stop"};z.GraphicMoveTool=function(ua){function Aa(ta){ta=ua.call(this,ta)||this;ta.graphics=new K;ta.enableZ=!0;ta.type="move-3d";ta._toolHandles=new A;ta._handles=new A;ta.snappingPipeline=
new I.SnappingPipeline;return ta}W._inheritsLoose(Aa,ua);var Ea=Aa.prototype;Ea.initialize=function(){this._toolHandles.add([this.graphics.on("change",()=>this._refreshManipulators())]);this._refreshManipulators()};Ea.destroy=function(){this._handles.destroy();this._handles=null;this._toolHandles.destroy();this._toolHandles=null;this.graphics.removeAll();this._set("view",null)};Ea.reset=function(){};Ea._refreshManipulators=function(){this._handles.removeAll();this._moveManipulation&&this._moveManipulation.destroy();
this.manipulators.removeAll();const ta=this.graphics.toArray().filter(ha=>0===ia.isSupportedGraphic(ha)).map(ha=>new wa(ha));ta.length&&(this.createManipulators(ta),this.createVisualElements(ta),this._handles.add(ta.map(ha=>this.view.trackGraphicState(ha.state))),this.updateMoveManipulation(ta))};Ea.createManipulators=function(ta){for(const ha of ta){const sa=ha.state;ha.manipulationXY=new ra.MoveXYGraphicManipulation({tool:this,view:this.view,graphicState:sa});ha.manipulationXY.forEachManipulator(Ba=>
this._handles.add(Ba.events.on("immediate-click",Ha=>{this.emit("immediate-click",{...Ha,graphic:sa.graphic});Ha.stopPropagation()})));this._handles.add(ha.manipulationXY.createDragPipeline((Ba,Ha,Fa,ka)=>this.buildDragEventPipeline(ta,0,Ba,Ha,Fa,ka)))}this.createMoveManipulation(ta)};Ea.createMoveManipulation=function(ta){const ha=new za.MoveManipulation({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===ta.length?za.MoveManipulation.radiusForSymbol(ta[0].graphic.symbol):
na.DISC_RADIUS});this._moveManipulation=ha;ha.elevationInfo={mode:"absolute-height",offset:0};ha.forEachManipulator(Ha=>{this._handles.add(Ha.events.on("immediate-click",Fa=>{ha.zManipulation.hasManipulator(Ha)||1!==this.graphics.length||this.emit("immediate-click",{...Fa,graphic:this.graphics.getItemAt(0)});Fa.stopPropagation()}))});const sa=()=>this.updateMoveManipulation(ta);for(const Ha of ta)this._handles.add([Ha.state.on("changed",sa),Ha.state.watch("displaying",sa)]);const Ba=ta[ta.length-
1];this._handles.add(Ba.state.on("changed",()=>this.updateMoveManipulationAngle(Ba)));this._handles.add(ha.createDragPipeline((Ha,Fa,ka,ea,ma)=>this.buildDragEventPipeline(ta,Ha,Fa,ka,ea,ma),y.getGraphicEffectiveElevationInfo(Ba.graphic),L.unwrap(Ba.graphic.geometry).spatialReference,Ba.graphic));this.updateMoveManipulationAngle(Ba)};Ea.createVisualElements=function(ta){for(const ha of ta){const sa=va.createVisualElements({view:this.view,graphic:ha.graphic,forEachManipulator:Ba=>{ha.manipulationXY.forEachManipulator(Ba);
this._moveManipulation.forEachManipulator(Ba)},onManipulatorsChanged:()=>x.makeHandle()});ha.geometryRepresentation=sa.visualElement;ha.geometryRepresentation instanceof pa.OutlineVisualElement&&this._handles.add([ha.geometryRepresentation.events.on("attachment-origin-changed",()=>{ha.state.isDraped||this.updateMoveManipulation(ta)}),ha.state.watch("isDraped",()=>this.updateMoveManipulation(ta))]);this._handles.add(sa)}};Ea.updateMoveManipulationAngle=function(ta){this._moveManipulation.angleDeferred=
()=>xa.shapeOrientation(ta.graphic.geometry)};Ea.updateMoveManipulation=function(ta){const ha=w.makeDehydratedPoint(0,0,0,this.view.spatialReference);let sa=0,Ba=!1;const Ha=this._moveManipulation;for(const Fa of ta)Fa.state.displaying&&(ta=Fa.state.graphic,this.enableZ&&la.canMoveZ(ta)&&(Ba=!0),ta=Fa.geometryRepresentation instanceof pa.OutlineVisualElement&&!Fa.state.isDraped?Fa.geometryRepresentation.attachmentOrigin:ja.getGraphicAttachmentOrigin(this.view,ta),L.isSome(ta)&&(ha.x+=ta.x,ha.y+=ta.y,
ha.z+=ta.z,sa++));0<sa?(ha.x/=sa,ha.y/=sa,ha.z/=sa,Ha.location=ha,Ha.xyManipulation.available=!0,Ha.xyAxisManipulation.available=!0,Ha.zManipulation.available=Ba):Ha.available=!1};Ea.buildDragEventPipeline=function(ta,ha,sa,Ba,Ha,Fa){const ka=[],ea=[];let ma=null,J=null;const Ja=()=>{for(const Ka of ka)Ka.dragging=!1;ka.length=0;ea.length=0;J=ma=null;this._moveManipulation.interactive=!0};1===ta.length&&0===ha&&(ha=ta[0].graphic,Ba=this.buildSnappingPipelineSteps(ha,y.getGraphicEffectiveElevationInfo(ha),
Ba,Ha,Fa));Ba=Ba.next(Ka=>{if("start"===Ka.action){ka.length=0;ea.length=0;for(const Qa of ta)Qa.dragging||!Qa.manipulationXY.hasManipulator(sa)&&Qa.manipulationXY.grabbing||(ka.push(Qa),ea.push(Qa.graphic),Qa.dragging=!0);if(0!==ea.length&&(this._moveManipulation.interactive=!1,ma=Q.dragGraphicMany(ea),J=Q.resetGraphicMany(ea),this.emit("graphic-move-start",new Ca(ea)),this.destroyed))return null}return 0!==ea.length?Ka:null}).next(Ka=>ma(Ka)).next(Ka=>{switch(Ka.action){case "start":case "update":if(Ka.translationX||
Ka.translationY||Ka.translationZ){const Qa=this.view.toScreen(Ka.mapStart);Ka=this.view.toScreen(Ka.mapEnd);this.emit("graphic-move",new Da(Ka.x-Qa.x,Ka.y-Qa.y,ea));if(this.destroyed)return null}break;case "end":this.emit("graphic-move-stop",new ba(ea));if(this.destroyed)return null;Ja()}});Ha.next(Ka=>J(Ka)).next(()=>{this.emit("graphic-move-stop",new ba(ea));if(this.destroyed)return null;Ja()});return Ba};Ea.buildSnappingPipelineSteps=function(ta,ha,sa,Ba,Ha){const Fa=ta.geometry;if(L.isNone(Fa)||
"point"!==Fa.type)return sa;const ka=new T.SnappingContext({elevationInfo:ha,pointer:Ha,geometry:new N.EditGeometryHelper(C.EditGeometry.fromGeometry(Fa,this.view.viewingMode),"point"),visualizer:new V.SnappingVisualizer3D,excludeFeature:ta});ha=this.snappingManager;return sa.next(ea=>{var ma=Fa.clone();ma.z=y.getConvertedElevation(this.view,ma,y.getGraphicEffectiveElevationInfo(ta),{mode:"absolute-height",offset:0});ma=ka.coordinateHelper.fromPoint(ma);return{...ea,snapOrigin:ma}}).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:ka,
snappingManager:ha,cancel:Ba}),this.snappingPipeline.next)};return Aa}(U.EventedMixin(R.InteractiveToolBase));F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.GraphicMoveTool.prototype,"view",void 0);F.__decorate([G.property({readOnly:!0})],z.GraphicMoveTool.prototype,"graphics",void 0);F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.GraphicMoveTool.prototype,"enableZ",void 0);F.__decorate([G.property({constructOnly:!0})],z.GraphicMoveTool.prototype,"snappingManager",
void 0);F.__decorate([G.property({readOnly:!0})],z.GraphicMoveTool.prototype,"type",void 0);z.GraphicMoveTool=F.__decorate([H.subclass("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],z.GraphicMoveTool);let wa=function(){function ua(Aa){this.manipulationXY=this.geometryRepresentation=this.state=null;this.dragging=!1;this.state=new oa.GraphicState({graphic:Aa})}W._createClass(ua,[{key:"graphic",get:function(){return this.state.graphic}}]);return ua}();z.GraphicMoveEvent=Da;
z.GraphicMoveStartEvent=Ca;z.GraphicMoveStopEvent=ba;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/manipulatorUtils":function(){define("exports ../../../core/maybe ../../../chunks/vec3 ../../../chunks/mat4 ../../../chunks/vec4f64 ../support/stack ../webgl-engine/lib/GeometryUtil ../../../layers/graphics/hydratedFeatures ../layers/graphics/graphicUtils ../webgl-engine/materials/ColorMaterial ./Manipulator3D ../webgl-engine/materials/ShadedColorMaterial".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y){function aa(K,A=4){const y=L.fromValues(K[0],K[1],K[2],3<K.length?K[3]:1);return new Y.ShadedColorMaterial({color:y,transparent:1>K[3],writeDepth:!0,cullFace:2,renderOccluded:A})}function X(K,A,y,w){K=F.normalize(B.sv3d.get(),K);A=F.normalize(B.sv3d.get(),A);const C=F.cross(B.sv3d.get(),K,A);w[0]=K[0];w[1]=K[1];w[2]=K[2];w[3]=0;w[4]=A[0];w[5]=A[1];w[6]=A[2];w[7]=0;w[8]=C[0];w[9]=C[1];w[10]=C[2];w[11]=0;w[12]=y[0];w[13]=y[1];w[14]=y[2];w[15]=1;return w}function U(K,
A){const y=K.getViewForGraphic(A);return W.isSome(y)&&"computeAttachmentOrigin"in y?y.computeAttachmentOrigin(A,K.spatialReference):null}z.calculateInputRotationTransform=function(K,A,y,w){K=F.subtract(B.sv3d.get(),K,y);w=F.cross(B.sv3d.get(),w,K);y=X(K,w,y,B.sm4d.get());Z.invert(y,y);A=F.transformMat4(B.sv3d.get(),A,y);return Math.atan2(A[1],A[0])};z.calculateTranslateRotateFromBases=X;z.createManipulatorMaterial=aa;z.createManipulatorOutlineMaterial=function(K,A=4){K=L.fromValues(K[0],K[1],K[2],
4===K.length?K[3]:1);return new D.ColorMaterial({color:K,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:A})};z.createSphereManipulator=function(K,A,y){return new H.Manipulator3D({view:K,renderObjects:[{geometry:P.createSphereGeometry(1,32,32),material:aa(L.fromValues(A[0],A[1],A[2],null!=y?y:1))}]})};z.getGraphicAttachmentOrigin=U;z.placeAtGraphic=function(K,A,y){K=U(K,y);W.isSome(K)?A.elevationAlignedLocation=K:(y=y.geometry,W.isNone(y)||(y=G.computeCentroid(y),W.isNone(y)||(A.location=x.hydrateGeometry(y))))};
Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/Manipulator3D":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/compilerUtils ../../../core/maybe ../../../core/accessorSupport/utils ../../../geometry/Point ../../../geometry ../../../core/Evented ../../../core/mathUtils ../../../core/screenUtils ../../../chunks/vec3f64 ../../../chunks/vec3 ../../../geometry/projectionEllipsoid ../../../chunks/mat4 ../../../geometry/support/aaBoundingRect ../../../geometry/projection ../../../chunks/mat3f64 ../../../chunks/mat4f64 ../../../chunks/mat3 ../../../chunks/vec2 ../support/ElevationProvider ../support/stack ../support/geometryUtils ../webgl-engine/lib/Object3D ../webgl-engine/lib/Camera ../../../layers/graphics/hydratedFeatures ../webgl-engine/lib/WebGLLayer".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja){function ia(Ea){return 0!==Ea[12]||0!==Ea[13]||0!==Ea[14]}P=function(){function Ea(ha){this.idHint=0;this.camera=new V;this._elevation={offset:0,override:null};this.collisionType={type:"point"};this.collisionPriority=0;this._renderObjects=[];this._available=this.autoScaleRenderObjects=!0;this._noDisplayCount=0;this._radius=10;this._worldSized=!1;this.focusMultiplier=2;this.touchMultiplier=2.5;this.worldOriented=!1;this._modelTransform=
y.create();this._worldFrame=null;this._renderLocation=H.create();this._renderLocationDirty=!0;this._location=new B({x:0,y:0,z:0});this._elevationAlignedLocation=new B;this.interactive=this._elevationAlignedLocationDirty=!0;this.selectable=!1;this.grabbable=!0;this.cursor=null;this._selected=this._hovering=this.dragging=this._grabbing=!1;this._state=0;this._focused=!1;this.events=new x.EventEmitter;this._screenLocation={screenPointArray:D.createScreenPointArray(),renderScreenPointArray:D.createRenderScreenPointArray3(),
pixelSize:0};this._screenLocationDirty=!0;this._applyObjectTransform=null;this._engineResourcesAddedToStage=!1;this._engineResources=null;this._attached=!1;this._materialIdReferences=this._engineLayer=null;this._location.spatialReference=ha.view.spatialReference;for(const sa in ha)this[sa]=ha[sa];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}var ta=Ea.prototype;ta.destroy=function(){this._removeResourcesFromStage();this.camera=this.view=this._engineResources=
null};ta.disableDisplay=function(){this._noDisplayCount++;1===this._noDisplayCount&&this._updateEngineObject();return{remove:L.once(()=>{this._noDisplayCount--;0===this._noDisplayCount&&this._updateEngineObject()})}};ta._updateElevationAlignedLocation=function(){this._elevationAlignedLocation.x=this.location.x;this._elevationAlignedLocation.y=this.location.y;const ha=Z.isSome(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=ha+this._elevation.offset;
this._elevationAlignedLocation.spatialReference=this.location.spatialReference;this._screenLocationDirty=this._renderLocationDirty=!0;this._elevationAlignedLocationDirty=!1};ta.grabbableForEvent=function(){return!0};ta.updateStateEnabled=function(ha,sa){this.state=sa?this.state|ha:this.state&~ha};ta._setFocused=function(ha){ha!==this._focused&&(this._focused=ha,this.events.emit("focus-changed",{action:!0===ha?"focus":"unfocus"}))};ta.ensureScreenLocation=function(){if(this._screenLocationDirty){this._screenLocation.pixelSize=
this.camera.computeScreenPixelSizeAt(this.renderLocation);this._screenLocationDirty=!1;if(ia(this._modelTransform)){var ha=this._calculateModelTransformOffset(ua);ha=Y.add(ha,ha,this.renderLocation)}else ha=this.renderLocation;this.camera.projectToRenderScreen(ha,this._screenLocation.renderScreenPointArray);this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}};ta.intersectionDistance=function(ha,sa){if(!this.available)return null;ha=D.screenPointObjectToArray(ha,
la);var Ba=this._getCollisionRadius(sa);sa=-1*this.collisionPriority;switch(this.collisionType.type){case "point":if(C.squaredDistance(this.screenLocation.screenPointArray,ha)<Ba*Ba)return this.screenLocation.renderScreenPointArray[2]+sa;break;case "line":var Ha=this.collisionType.paths,Fa=this._getWorldToScreenObjectScale();Fa=this._calculateObjectTransform(Fa,xa);Ba*=this.screenLocation.pixelSize;ha=Q.ray.fromScreen(this.camera,ha,oa);if(Z.isNone(ha))break;for(var ka of Ha)if(0!==ka.length){Ha=
Y.transformMat4(ra,ka[0],Fa);for(var ea=1;ea<ka.length;ea++){var ma=Y.transformMat4(Ca,ka[ea],Fa),J=Q.lineSegment.closestRayDistance2(Q.lineSegment.fromPoints(Ha,ma,pa),ha);if(null!=J&&J<Ba*Ba)return Fa=Y.add(T.sv3d.get(),Ha,ma),Y.scale(Fa,Fa,.5),ha=D.castRenderScreenPointArray(T.sv3d.get()),this.camera.projectToRenderScreen(Fa,ha),ha[2]+sa;Y.copy(Ha,ma)}}break;case "disc":ka=this.collisionType.direction;Fa=null!=(Ha=this.collisionType.offset)?Ha:H.ZEROS;Ha=this._getWorldToScreenObjectScale();Ha=
this._calculateObjectTransform(Ha,xa);Ba*=this.screenLocation.pixelSize;ha=Q.ray.fromScreen(this.camera,ha,oa);if(Z.isNone(ha))break;ea=w.fromMat4(va,Ha);ka=Y.transformMat3(ba,ka,ea);Fa=Y.transformMat4(wa,Fa,Ha);Q.plane.fromPositionAndNormal(Fa,ka,za);ka=Da;if(Q.plane.intersectRay(za,ha,ka)&&Y.squaredDistance(ka,Fa)<Ba*Ba)return this.screenLocation.renderScreenPointArray[2]+sa;break;case "ribbon":{const {paths:Ja,direction:Ka}=this.collisionType;ka=this._getWorldToScreenObjectScale();ka=this._calculateObjectTransform(ka,
xa);Ba*=this.camera.computeScreenPixelSizeAt(this.renderLocation);Ha=Q.ray.fromScreen(this.camera,ha,oa);if(Z.isNone(Ha))break;ha=w.fromMat4(va,ka);ha=Y.transformMat3(ba,Ka,ha);ea=this._calculateModelTransformPosition(wa);Q.plane.fromPositionAndNormal(ea,ha,za);ha=Da;if(!Q.plane.intersectRay(za,Ha,ha))break;for(Fa of Ja)if(0!==Fa.length)for(Ha=Y.transformMat4(ra,Fa[0],ka),ea=1;ea<Fa.length;ea++){ma=Y.transformMat4(Ca,Fa[ea],ka);J=Q.lineSegment.distance2(Q.lineSegment.fromPoints(Ha,ma,pa),ha);if(null!=
J&&J<Ba*Ba)return Fa=Y.add(T.sv3d.get(),Ha,ma),Y.scale(Fa,Fa,.5),ha=D.castRenderScreenPointArray(T.sv3d.get()),this.camera.projectToRenderScreen(Fa,ha),ha[2]+sa;Y.copy(Ha,ma)}break}default:F.neverReached(this.collisionType)}return null};ta.attach=function(ha={manipulator3D:{}}){if(this.view._stage){ha=ha.manipulator3D;if(Z.isNone(ha.engineLayerId)){var sa=new ja.WebGLLayer({isPickable:!1});this.view._stage.add(sa);ha.engineLayerId=sa.id;this._engineLayer=sa}else null!=(sa=this.view._stage)&&sa.getObject&&
(this._engineLayer=this.view._stage.getObject(ha.engineLayerId));ha.engineLayerReferences=(ha.engineLayerReferences||0)+1;this._materialIdReferences=ha.materialIdReferences;Z.isNone(this._materialIdReferences)&&(this._materialIdReferences=new Map,ha.materialIdReferences=this._materialIdReferences);this.camera.copyFrom(this.view.state.camera);this._attached=!0;this._updateEngineObject();K.canProjectWithoutEngine(this._location.spatialReference,this.view.spatialReference)||(this.location=new B({x:0,
y:0,z:0,spatialReference:this.view.spatialReference}))}};ta.detach=function(ha={manipulator3D:{}}){ha=ha.manipulator3D;ha.engineLayerReferences--;const sa=0===ha.engineLayerReferences;sa&&(ha.engineLayerId=null);this._removeResourcesFromStage(sa);this._materialIdReferences=this._engineLayer=this._engineResources=null;this._attached=!1};ta.onViewChange=function(){this.camera.copyFrom(this.view.state.camera);this._screenLocationDirty=!0;this._updateEngineObject()};ta.onElevationChange=function(ha){K.projectPoint(this.location,
Aa,ha.spatialReference);U.containsPointObject(ha.extent,Aa)&&(this.location=this._location)};ta._evaluateElevationAlignment=function(ha=this.location){if(Z.isNone(this.elevationInfo))return!1;let sa=null,Ba=0;const Ha=Z.unwrapOr(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case "on-the-ground":sa=Z.unwrapOr(N.getElevationAtPoint(this.view.elevationProvider,ha,"ground"),0);break;case "relative-to-ground":Ba=Z.unwrapOr(N.getElevationAtPoint(this.view.elevationProvider,ha,"ground"),0)+
Ha;break;case "relative-to-scene":Ba=Z.unwrapOr(N.getElevationAtPoint(this.view.elevationProvider,ha,"scene"),0)+Ha;break;case "absolute-height":Ba=Ha}return Ba!==this._elevation.offset||sa!==this._elevation.override?(this._elevation.offset=Ba,this._elevation.override=sa,!0):!1};ta._updateEngineObject=function(){if(this._attached)if(this.available){var ha=this._getWorldToScreenObjectScale(),sa=xa;!0===this.autoScaleRenderObjects?(ha*=this._getFocusedSize(this._radius,this.focused),this._calculateObjectTransform(ha,
sa)):this._calculateObjectTransform(ha,sa);var {objectsByState:Ba}=this._ensureEngineResources();ha=(this.focused?2:1)|(this.selected?8:4);var Ha=0<this._noDisplayCount;for(const {stateMask:Fa,objects:ka}of Ba)if(Ha)for(const ea of ka)ea.setVisible(!1);else if(Ba=0===(Fa&65520)||(this.state&Fa)===(Fa&65520),0!==(Fa&15)&&(ha&Fa)!==(Fa&15)||!Ba)for(const ea of ka)ea.setVisible(!1);else for(const ea of ka)ea.setVisible(!0),ea.transformation=sa;Z.isSome(this._engineLayer)&&this._engineLayer.commit()}else this._removeResourcesFromStage()};
ta._ensureEngineResources=function(){if(Z.isNone(this._engineResources)){const ha=Z.unwrap(this._engineLayer),sa=[],Ba=new Set;this.renderObjects.forEach(({material:ea})=>{Ba.has(ea)||(sa.push(ea),Ba.add(ea))});const Ha=(ea,ma)=>{const {geometry:J,material:Ja,transform:Ka}=ma;Array.isArray(J)?J.forEach(Qa=>ea.addGeometry(Qa,Ja,Ka)):ea.addGeometry(J,Ja,Ka)},Fa=new Map;this._renderObjects.forEach(ea=>{const ma=new I.Object3D({castShadow:!1});Ha(ma,ea);ea=ea.stateMask||0;const J=Fa.get(ea)||[];J.push(ma);
Fa.set(ea,J)});const ka=[];Fa.forEach((ea,ma)=>ka.push({stateMask:ma,objects:ea}));this._engineResources={objectsByState:ka,layer:ha,materials:sa}}this._addResourcesToStage();return this._engineResources};ta._addResourcesToStage=function(){if(!this._engineResourcesAddedToStage&&!Z.isNone(this._engineResources)){var {objectsByState:ha,layer:sa,materials:Ba}=this._engineResources;Ba.forEach(Ha=>{const Fa=Z.unwrap(this._materialIdReferences),ka=Fa.get(Ha.id)||0;0===ka&&this.view._stage.add(Ha);Fa.set(Ha.id,
ka+1)});ha.forEach(({objects:Ha})=>Ha.forEach(Fa=>{sa.add(Fa);this.view._stage.add(Fa)}));this._engineResourcesAddedToStage=!0}};ta._removeResourcesFromStage=function(ha=!1){if(this._engineResourcesAddedToStage&&!Z.isNone(this._engineResources)){var {objectsByState:sa,layer:Ba,materials:Ha}=this._engineResources;sa.forEach(({objects:Fa})=>{Ba.removeMany(Fa);this.view._stage.removeMany(Fa)});Ha.forEach(Fa=>{const ka=Z.unwrap(this._materialIdReferences),ea=ka.get(Fa.id);1===ea?(this.view._stage.remove(Fa),
ka.delete(Fa.id)):ka.set(Fa.id,ea-1)});ha&&this.view._stage.remove(Ba);this._engineResourcesAddedToStage=!1}};ta._getCollisionRadius=function(ha){return this._getFocusedSize(this.radius,!0)*("touch"===ha?this.touchMultiplier:1)};ta._getFocusedSize=function(ha,sa){return ha*(sa?this.focusMultiplier:1)};ta._getWorldToScreenObjectScale=function(){return this._worldSized?1:this.screenLocation.pixelSize};ta._calculateModelTransformPosition=function(ha){var sa=this._getWorldToScreenObjectScale();sa=this._calculateObjectTransform(sa,
na);return Y.set(ha,sa[12],sa[13],sa[14])};ta._calculateModelTransformOffset=function(ha){const sa=this._calculateModelTransformPosition(ha);return Y.subtract(ha,sa,this.renderLocation)};ta._calculateObjectTransform=function(ha,sa){X.set(sa,ha,0,0,0,0,ha,0,0,0,0,ha,0,0,0,0,1);this._worldFrame&&X.multiply(sa,sa,this._worldFrame);X.multiply(sa,sa,this._modelTransform);sa[12]+=this.renderLocation[0];sa[13]+=this.renderLocation[1];sa[14]+=this.renderLocation[2];sa[15]=1;Z.isSome(this._applyObjectTransform)&&
this._applyObjectTransform(sa);return sa};W._createClass(Ea,[{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(ha){this._elevationInfo=ha;this._renderLocationDirty=this._elevationAlignedLocationDirty=!0;this._updateEngineObject()}},{key:"renderObjects",get:function(){return this._renderObjects},set:function(ha){this._removeResourcesFromStage();this._engineResources=null;this._renderObjects=ha.slice();this._updateEngineObject()}},{key:"available",get:function(){return this._available},
set:function(ha){ha!==this._available&&(this._available=ha,this._updateEngineObject())}},{key:"radius",get:function(){return this._radius},set:function(ha){ha!==this._radius&&(this._radius=ha,this._updateEngineObject())}},{key:"worldSized",get:function(){return this._worldSized},set:function(ha){ha!==this._worldSized&&(this._worldSized=ha,this._updateEngineObject())}},{key:"modelTransform",get:function(){return this._modelTransform},set:function(ha){ia(ha)&&(this._screenLocationDirty=!0);X.copy(this._modelTransform,
ha);this._updateEngineObject()}},{key:"renderLocation",get:function(){if(this._renderLocationDirty)if(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented){this._worldFrame||(this._worldFrame=y.create());a:{var ha=this.view,sa=this._renderLocation,Ba=this._worldFrame;switch(ha.viewingMode){case "local":X.identity(Ba);break a;case "global":ha=aa.getReferenceEllipsoid(ha.renderCoordsHelper.spatialReference),K.sphericalPCPFtoLonLatElevation(sa,
0,ra,0,ha.radius),K.computeLatLonToENURotation(G.deg2rad(ra[1]),G.deg2rad(ra[0]),Ba)}}}else this._worldFrame&&(this._worldFrame=null);return this._renderLocation},set:function(ha){this.view.renderCoordsHelper.fromRenderCoords(ha,this._location);this.elevationAlignedLocation=this._location}},{key:"location",get:function(){return this._location},set:function(ha){R.clonePoint(ha,this._location);this._elevationAlignedLocationDirty=this._screenLocationDirty=this._renderLocationDirty=!0;this._updateEngineObject();
this.events.emit("location-update",{location:this._location})}},{key:"elevationAlignedLocation",get:function(){if(!this._elevationAlignedLocationDirty)return this._elevationAlignedLocation;this._evaluateElevationAlignment();this._updateElevationAlignedLocation();return this._elevationAlignedLocation},set:function(ha){R.clonePoint(ha,this._location);this._evaluateElevationAlignment();this._location.z-=this._elevation.offset;this._updateElevationAlignedLocation();this._updateEngineObject();this.events.emit("location-update",
{location:this._location})}},{key:"grabbing",get:function(){return this._grabbing},set:function(ha){ha!==this._grabbing&&(this._grabbing=ha,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"hovering",get:function(){return this._hovering},set:function(ha){ha!==this._hovering&&(this._hovering=ha,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}},{key:"selected",get:function(){return this._selected},set:function(ha){ha!==this._selected&&
(this._selected=ha,this._updateEngineObject(),this.events.emit("select-changed",{action:ha?"select":"deselect"}))}},{key:"state",get:function(){return this._state},set:function(ha){ha!==this._state&&(this._state=ha,this._updateEngineObject())}},{key:"focused",get:function(){return this._focused}},{key:"screenLocation",get:function(){this.ensureScreenLocation();return this._screenLocation}},{key:"applyObjectTransform",get:function(){return this._applyObjectTransform},set:function(ha){this._applyObjectTransform=
ha;this._screenLocationDirty=!0;this._updateEngineObject()}},{key:"test",get:function(){let ha=!1;if(Z.isSome(this._engineResources))for(const sa in this._engineResources.objectsByState){const Ba=this._engineResources.objectsByState[sa];for(const Ha of Ba.objects)if(Ha.isVisible){ha=!0;break}if(ha)break}return{areAnyResourcesVisible:ha}}}]);return Ea}();const la=D.createScreenPointArray(),pa=Q.lineSegment.create(),oa=Q.ray.create(),va=A.create(),na=y.create(),xa=y.create(),za=Q.plane.create(),ra=
H.create(),Ca=H.create(),Da=H.create(),ba=H.create(),wa=H.create(),ua=H.create(),Aa=new B({x:0,y:0,z:0,spatialReference:null});z.Manipulator3D=P;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic":function(){define(["exports","../../../../../core/has","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(z,W,F,Z){z.isSupportedGraphic=function(L){var B;if("graphics"!==(null==(B=L.layer)?void 0:B.type))return 1;
if(F.isNone(L.geometry))return 2;switch(L.geometry.type){case "polygon":case "point":case "polyline":break;case "multipoint":case "extent":case "mesh":return 3;default:return 3}return"on-the-ground"!==Z.getGraphicEffectiveElevationMode(L)&&Z.hasGraphicFeatureExpressionInfo(L)?4:0};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulatorUtils":function(){define(["exports","../../../../core/maybe","../../../../support/elevationInfoUtils"],function(z,W,
F){z.canMoveZ=function(Z,L=F.getGraphicEffectiveElevationInfo(Z)){return"on-the-ground"===L.mode||W.isNone(Z.geometry)||!Z.geometry.hasZ?!1:!0};z.disableDisplayOnGrab=function(Z,L){let B=null;const P=Z.events.on("grab-changed",x=>{W.isSome(B)&&(B.remove(),B=null);"start"===x.action&&(B=Z.disableDisplay());L&&L(x)});return{remove(){W.isSome(B)&&B.remove();P.remove()}}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/visualElementUtils":function(){define(["exports",
"../../../../core/maybe","./lineGraphicVisualElementUtils","./pointGraphicVisualElementUtils"],function(z,W,F,Z){z.createVisualElements=function(L){switch(W.unwrap(L.graphic.geometry).type){case "point":return Z.createVisualElements(L);case "polygon":case "polyline":return F.createVisualElements(L);default:return null}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/lineGraphicVisualElementUtils":function(){define("exports ../../../../core/maybe ../../../../core/handleUtils ../../../../core/mathUtils ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../support/elevationInfoUtils ../visualElements/LaserlineVisualElement ../visualElements/ExtendedLineVisualElement ../Manipulator3D ./settings ../visualElements/OutlineVisualElement ../../layers/graphics/GraphicState ./ManipulatorState".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X){function U(C,N){const {view:T,graphic:Q}=C,I=new Y.OutlineVisualElement({view:T,geometry:y(Q)?Q.geometry:null,elevationInfo:P.getGraphicEffectiveElevationInfo(Q),attached:!1});H.settings.visualElements.lineGraphics.shadowStyle.apply(I);H.settings.visualElements.lineGraphics.outline.apply(I);const V=[N.watch("displaying",()=>{I.attached=N.displaying}),N.watch("isDraped",R=>I.isDraped=R),N.on("changed",()=>I.geometry=y(Q)?Q.geometry:null),F.destroyHandle(I)];I.attached=
N.displaying;return{visualElement:I,remove:()=>F.handlesGroup(V).remove()}}function K(C,N,T){const {graphic:Q,view:I}=C,V=[];var R=P.getGraphicEffectiveElevationInfo(Q);const ja="on-the-ground"===R.mode||!R.offset&&"absolute-height"!==R.mode,ia=new X.ManipulatorState,la=new G.ExtendedLineVisualElement({view:I,extensionType:H.settings.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});H.settings.visualElements.pointGraphics.shadowStyle.apply(la);
R=Z.deg2rad(H.settings.visualElements.heightPlaneAngleCutoff);const pa=new x.LaserlineVisualElement({view:I,attached:!1,angleCutoff:R});H.settings.visualElements.heightPlane.apply(pa);let oa=1,va=1;const na=()=>{ia.update(C);if(T.displaying&&(!ja||!T.isDraped&&y(Q)&&Q.geometry.hasZ)){N.laserlineEnabled=!0;var za=ia.grabbingState&4?H.settings.visualElements.laserlineAlphaMultiplier:1;za!==oa&&(oa=za,H.settings.visualElements.lineGraphics.shadowStyle.apply(N,za),H.settings.visualElements.pointGraphics.shadowStyle.apply(la,
za));za=ia.grabbingState&2?H.settings.visualElements.laserlineAlphaMultiplier:1;za!==va&&(va=za,H.settings.visualElements.heightPlane.apply(pa,za));za=1===ia.numSelected?ia.firstSelected:1<ia.numSelected&&W.isSome(ia.firstGrabbedXY)?ia.firstGrabbedXY:null;W.isSome(za)?(la.setStartEndFromWorldDownAtLocation(za.renderLocation),la.attached=!0):la.attached=!1;A(C,N,pa,ia)}else N.laserlineEnabled=!1,la.attached=!1,pa.attached=!1};H.settings.visualElements.zVerticalLine.apply(la);V.push(T.on("changed",
na),T.watch("displaying",na),N.events.on("attachment-origin-changed",na),F.destroyHandle(la),F.destroyHandle(pa));const xa=[];R=()=>{F.handlesGroup(xa).remove();xa.length=0;C.forEachManipulator(za=>xa.push(za.events.on("grab-changed",na)));C.forEachManipulator(za=>xa.push(za.events.on("select-changed",na)));na()};R();V.push(C.onManipulatorsChanged(R),F.refHandle(()=>F.handlesGroup(xa)));return F.handlesGroup(V)}function A(C,N,T,Q){if(0<Q.numSelected){B.set(w,0,0,0);let I=0;C.forEachManipulator((V,
R)=>{1===R&&V.selected&&V instanceof D.Manipulator3D&&(B.add(w,w,V.renderLocation),I++)});0<I?(T.heightManifoldTarget=B.scale(w,w,1/I),T.attached=!0):T.attached=!1}else N=N.attachmentOrigin,W.isSome(N)&&C.view.renderCoordsHelper.toRenderCoords(N,w)?(T.heightManifoldTarget=w,T.attached=!0):T.attached=!1}function y(C){return W.isSome(C.geometry)&&("polygon"===C.geometry.type||"polyline"===C.geometry.type)}const w=L.create();z.createGeometryRepresentationVisualElement=U;z.createVisualElements=function(C){const {view:N,
graphic:T}=C,Q=new aa.GraphicState({graphic:T}),I=U(C,Q);C=K(C,I.visualElement,Q);const V=[I,C,N.maskOccludee(T),N.trackGraphicState(Q)];return{visualElement:I.visualElement,remove:()=>F.handlesGroup(V).remove()}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/ManipulatorState":function(){define(["exports","../../../../core/maybe","../Manipulator3D"],function(z,W,F){let Z=function(){function L(){this.grabbingState=0;this.firstSelected=this.zManipulator=
null;this.numSelected=0;this.firstGrabbedXY=null}L.prototype.update=function(B){this.grabbingState=0;this.zManipulator=null;this.numSelected=0;this.firstGrabbedXY=this.firstSelected=null;B.forEachManipulator((P,x)=>{0===x&&(this.zManipulator=P);P instanceof F.Manipulator3D&&(P.selected&&(0===this.numSelected&&(this.firstSelected=P),this.numSelected++),W.isNone(this.firstGrabbedXY)&&P.grabbing&&1===x&&(this.firstGrabbedXY=P));if(P.grabbing)switch(this.grabbingState|=1,x){case 0:this.grabbingState|=
2;break;case 1:this.grabbingState|=4}})};return L}();z.ManipulatorState=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/pointGraphicVisualElementUtils":function(){define("exports ../../../../core/maybe ../../../../core/handleUtils ../../../../core/mathUtils ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../core/watchUtils ../../../../geometry/support/aaBoundingRect ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../support/elevationInfoUtils ../../layers/graphics/elevationAlignmentUtils ../../layers/graphics/ElevationContext ../visualElements/LaserlineVisualElement ../visualElements/ExtendedLineVisualElement ../visualElements/PointVisualElement ./settings ../../layers/graphics/GraphicState ./ManipulatorState".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w){function C(ia,la,pa,oa){const {view:va,graphic:na}=ia,xa=new U.ExtendedLineVisualElement({view:va,extensionType:A.settings.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});A.settings.visualElements.zVerticalLine.apply(xa);const za=new X.LaserlineVisualElement({view:va,intersectsLineInfinite:!0,attached:!1});A.settings.visualElements.pointGraphics.shadowStyle.apply(za);var ra=Z.deg2rad(A.settings.visualElements.heightPlaneAngleCutoff);
const Ca=new X.LaserlineVisualElement({view:va,attached:!1,angleCutoff:ra});A.settings.visualElements.heightPlane.apply(Ca);ra=H.getGraphicEffectiveElevationInfo(ia.graphic);const Da=aa.ElevationContext.fromElevationInfo(ra),ba="on-the-ground"===ra.mode||!ra.offset&&"absolute-height"!==ra.mode,wa=new w.ManipulatorState;let ua=1,Aa=1;const Ea=()=>{wa.update(ia);var ta=ba&&(la.isDraped||!V(na)||!na.geometry.hasZ);let ha=!0;if(!ta&&V(na)){var sa=na.geometry;const Ba=Y.evaluateElevationAlignmentAtPoint(na.geometry,
va.elevationProvider,Da,va.renderCoordsHelper);B.set(R,sa.x,sa.y,Ba);G.projectVectorToVector(R,sa.spatialReference,R,va.renderCoordsHelper.spatialReference);xa.setStartEndFromWorldDownAtLocation(R);za.intersectsWorldUpAtLocation=R}else ha=!1;sa=wa.grabbingState&2?A.settings.visualElements.laserlineAlphaMultiplier:1;sa!==ua&&(ua=sa,A.settings.visualElements.heightPlane.apply(Ca,sa));sa=D.empty(ja);!ta&&la.displaying&&oa.calculateMapBounds(sa)&&G.projectVectorToVector(D.getMin(sa,R),va.spatialReference,
R,va.renderCoordsHelper.spatialReference)?(Ca.heightManifoldTarget=R,Ca.attached=!0):Ca.attached=!1;sa=wa.grabbingState&4?A.settings.visualElements.laserlineAlphaMultiplier:1;sa!==Aa&&(Aa=sa,A.settings.visualElements.pointGraphics.shadowStyle.apply(za,sa));ta=ha&&la.displaying&&!ta;za.attached=ta;xa.attached=ta};pa.push(la.watch(["displaying","isDraped"],Ea),la.on("changed",Ea));ia.forEachManipulator(ta=>{pa.push(ta.events.on("grab-changed",Ea))});pa.push(F.destroyHandle(za));pa.push(F.destroyHandle(xa));
pa.push(F.destroyHandle(Ca));Ea()}function N(ia,la,pa){const {view:oa,graphic:va}=ia,na=new K.PointVisualElement({view:oa,geometry:V(va)?va.geometry:null,elevationInfo:H.getGraphicEffectiveElevationInfo(va),attached:!1});T(ia,na,la,pa);pa.push(F.destroyHandle(na));return na}function T(ia,la,pa,oa){Q(ia,la,pa,oa);A.settings.visualElements.pointGraphics.outline.apply(la);oa.push(P.init(pa,"displaying",()=>la.attached=pa.displaying))}function Q(ia,la,pa,oa){const {view:va,graphic:na}=ia;let xa=null;
const za=()=>{W.isSome(xa)&&(xa.remove(),xa=null);pa.isDraped&&V(na)&&(xa=I(va,na.geometry,()=>{la.geometry=na.geometry}))};ia=()=>{za();la.geometry=V(na)?na.geometry:null};oa.push(pa.on("changed",ia),F.refHandle(()=>xa));ia()}function I(ia,la,pa){G.projectPointToVector(la,R,ia.elevationProvider.spatialReference);const oa=R[0],va=R[1];return ia.elevationProvider.on("elevation-change",na=>{x.containsXY(na.extent,oa,va)&&pa()})}function V(ia){return W.isSome(ia.geometry)&&"point"===ia.geometry.type}
const R=L.create(),ja=D.create();z.createVisualElements=function(ia){const {view:la,graphic:pa}=ia,oa=new y.GraphicState({graphic:pa}),va=[],na=N(ia,oa,va);C(ia,oa,va,na);va.push(la.trackGraphicState(oa));return{visualElement:na,remove(){F.handlesGroup(va).remove()}}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/config":function(){define(["exports"],function(z){const W=Math.ceil(70/3*2),F=5*Math.PI/12,Z=1*Math.PI/3;z.ALIGN_ARROWS_SCALE_THRESHOLD=
1E6;z.DISC_COLLISION_RADIUS=80;z.DISC_HEIGHT=.02;z.DISC_RADIUS=70;z.DISC_RADIUS_SMALL=W;z.DISC_TRANSLATE_ARROW_OFFSET=100;z.DISC_TRANSLATE_ARROW_SIZE=54;z.DRAG_THRESHOLD_PX=10;z.GEOMETRY_SEGMENTS=128;z.HANDLE_COLOR=[1,.5,0];z.INDICATOR_THICKNESS=9;z.INNER_INDICATOR_RADIUS=190;z.OUTER_INDICATOR_RADIUS=213;z.RING_HEIGHT=.5;z.RING_INDICATOR_DELAY_MS=200;z.RING_RADIUS=160;z.RING_RESET_ANIMATION_SPEED_FACTOR=3;z.RING_THICKNESS=24;z.ROTATE_INDICATOR_ARC_LENGTH=F;z.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE=
.2;z.ROTATE_INDICATOR_ARROW_TIP_LENGTH=60;z.ROTATE_INDICATOR_ARROW_TIP_RADIUS=23;z.ROTATE_INDICATOR_DIRECTION_BUFFER=.3;z.SCALE_INDICATOR_ARC_LENGTH=Z;z.SCALE_INDICATOR_DIRECTION_BUFFER=.2;z.SCALE_INDICATOR_OFFSET1=30;z.SCALE_INDICATOR_OFFSET2=53;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/moveUtils":function(){define(["exports","../../../../../core/maybe","../../../../interactive/dragEventPipeline"],function(z,W,F){z.createGraphicMoveDragPipeline=
function(Z,L,B){const P=Z.graphic,x=(G,D)=>L({action:G,graphic:P,dxScreen:D.screenDeltaX,dyScreen:D.screenDeltaY});return B((G,D,H)=>{G=D.next(Y=>{"start"===Y.action&&x("start",Y);return Y}).next(F.dragGraphic(P)).next(Y=>{switch(Y.action){case "start":case "update":(Y.translationX||Y.translationY||Y.translationZ)&&x("update",Y);break;case "end":x("end",Y)}return Y});H.next(F.resetGraphic(P)).next(()=>{x("end",{screenDeltaX:0,screenDeltaY:0})});return G})};z.shapeOrientation=function(Z){if(W.isNone(Z)||
"polyline"!==Z.type&&"polygon"!==Z.type)return 0;var L=("polyline"===Z.type?Z.paths:Z.rings)[0];if(!L||2>L.length)return 0;Z=L[0];L=L[1];return Math.atan2(L[1]-Z[1],L[0]-Z[0])};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/has ../../../../../core/maybe ../../../../../core/handleUtils ../../../../../core/Handles ./config ./Manipulation ./MoveXYAxisManipulation ./MoveXYDiscManipulation ./MoveZManipulation".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H){x=function(Y){function aa(U){var K=Y.call(this)||this;K._handles=new B;K._angleDeferred=null;K._interactive=!0;const {tool:A,view:y,snapToScene:w,radius:C}=U;K._view=y;K.xyManipulation=new D.MoveXYDiscManipulation({tool:A,view:y,snapToScene:w,radius:C});K.xyAxisManipulation=new G.MoveXYAxisManipulation({tool:A,view:y,radius:C});K.zManipulation=new H.MoveZManipulation({tool:A,view:y,radius:C});K.xyManipulation.available=U.xyAvailable;K.xyAxisManipulation.available=U.xyAxisAvailable;
K.zManipulation.available=U.zAvailable;K.autoHideXYAxis();K.forEachManipulator(N=>{K._handles.add(N.events.on("grab-changed",()=>K.updateManipulatorInteractivity()))});return K}W._inheritsLoose(aa,Y);var X=aa.prototype;X.destroy=function(){this._handles.destroy();this.xyManipulation.destroy();this.xyAxisManipulation.destroy();this.zManipulation.destroy()};X.createGraphicDragPipeline=function(U,K,A){return L.handlesGroup([this.xyManipulation.createGraphicDragPipeline((y,w,C,N,T)=>U(0,y,w,C,N,T),K,
A),this.xyAxisManipulation.createGraphicDragPipeline((y,w,C,N,T)=>U(1,y,w,C,N,T),K,A),this.zManipulation.createGraphicDragPipeline((y,w,C,N,T)=>U(2,y,w,C,N,T),K,A)])};X.createDragPipeline=function(U,K,A,y){return L.handlesGroup([this.xyManipulation.createDragPipeline((w,C,N,T,Q)=>U(0,w,C,N,T,Q),K,A,y),this.xyAxisManipulation.createDragPipeline((w,C,N,T,Q)=>U(1,w,C,N,T,Q),K,A,y),this.zManipulation.createDragPipeline((w,C,N,T,Q)=>U(2,w,C,N,T,Q),A)])};X.forEachManipulator=function(U){this.xyManipulation.forEachManipulator(K=>
U(K,1));this.xyAxisManipulation.forEachManipulator(K=>U(K,1));this.zManipulation.forEachManipulator(K=>U(K,0))};X.autoHideXYAxis=function(){const U=this.xyAxisManipulation;var K=this.xyManipulation;if(!F("esri-mobile")){var A=[];K.forEachManipulator(y=>A.push(y));U.forEachManipulator(y=>A.push(y));K=()=>{const y=[];this.xyAxisVisible?Z.isSome(this._angleDeferred)&&(this.angle=this._angleDeferred()):U.forEachManipulator(w=>y.push(w.disableDisplay()));this._handles.remove("disable-xy-axis-display");
this._handles.add(y,"disable-xy-axis-display")};for(const y of A)this._handles.add(y.events.on("focus-changed",K));this._view.inputManager&&this._handles.add(this._view.inputManager.watch("latestPointerType",K));K()}};X.updateManipulatorInteractivity=function(){const U=this.grabbing;this.forEachManipulator(K=>{K.interactive=!U&&this._interactive||K.grabbing})};aa.radiusForSymbol=function(U){return(U=Z.isSome(U)&&"point-3d"===U.type&&U.symbolLayers)&&0<U.length&&U.some(K=>"icon"===K.type)?P.DISC_RADIUS_SMALL:
P.DISC_RADIUS};W._createClass(aa,[{key:"snapToScene",set:function(U){this.xyManipulation.snapToScene=U}},{key:"angle",set:function(U){this._angleDeferred=null;this.xyAxisManipulation.angle=U}},{key:"angleDeferred",set:function(U){this.xyAxisVisible?this.angle=U():this._angleDeferred=U}},{key:"interactive",set:function(U){this._interactive!==U&&(this._interactive=U,this.updateManipulatorInteractivity())}},{key:"radius",set:function(U){this.xyAxisManipulation.radius=U;this.xyManipulation.radius=U;this.zManipulation.radius=
U}},{key:"displayScale",set:function(U){this.xyManipulation.displayScale=U;this.xyAxisManipulation.displayScale=U}},{key:"xyAxisVisible",get:function(){const U=this.xyManipulation.someManipulator(K=>K.focused)||this.xyAxisManipulation.someManipulator(K=>K.focused);return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||U}}]);return aa}(x.Manipulation);z.MoveManipulation=x;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/Manipulation":function(){define(["exports",
"../../../../../chunks/_rollupPluginBabelHelpers","../../Manipulator3D"],function(z,W,F){let Z=function(){function L(){this._available=!0}var B=L.prototype;B.hasManipulator=function(P){return this.someManipulator(x=>x===P)};B.someManipulator=function(P){let x=!1;this.forEachManipulator(G=>{!x&&P(G)&&(x=!0)});return x};B.forEachManipulator3D=function(P){this.forEachManipulator((x,G)=>{x instanceof F.Manipulator3D&&P(x,G)})};W._createClass(L,[{key:"location",set:function(P){this.forEachManipulator3D(x=>
x.location=P)}},{key:"elevationAlignedLocation",set:function(P){this.forEachManipulator3D(x=>x.elevationAlignedLocation=P)}},{key:"elevationInfo",set:function(P){this.forEachManipulator3D(x=>x.elevationInfo=P)}},{key:"available",get:function(){return this._available},set:function(P){this._available=P;this.forEachManipulator3D(x=>x.available=P)}},{key:"grabbing",get:function(){return this.someManipulator(P=>P.grabbing)}},{key:"dragging",get:function(){return this.someManipulator(P=>P.dragging)}}]);
return L}();z.Manipulation=Z;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../core/handleUtils ../../../../../core/Evented ../../../../../Color ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../core/Handles ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../support/elevationInfoUtils ../../../support/stack ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline ../dragEventPipeline3D ../../Manipulator3D ../settings ./config ./Manipulation ./moveUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T){N=function(Q){function I(R){var ja=Q.call(this)||this;ja._handles=new G;ja._arrowManipulatorInfos=[];ja._opaqueMaterial=ja.createMaterial();ja._transparentMaterial=ja.createMaterial(.5);ja._angle=0;ja._scale=1;ja._radius=C.DISC_RADIUS;ja._updateAfterDrag=!1;ja.events=new L;ja._tool=R.tool;ja._view=R.view;null!=R.radius&&(ja._radius=R.radius);ja._createManipulators();ja.forEachManipulator(ia=>ja._tool.manipulators.add(ia));return ja}W._inheritsLoose(I,
Q);var V=I.prototype;V.destroy=function(){this.forEachManipulator(R=>{this._tool.manipulators.remove(R);R.destroy()});this._handles.removeAll();this._view=this._tool=null;this._arrowManipulatorInfos.length=0};V.forEachManipulator=function(R){this._arrowManipulatorInfos.map(({manipulator:ja})=>R(ja,1))};V.createGraphicDragPipeline=function(R,ja,ia){const la=ja.graphic,pa=Y.getGraphicEffectiveElevationInfo(la),oa=F.unwrap(la.geometry).spatialReference;return T.createGraphicMoveDragPipeline(ja,ia,va=>
this.createDragPipeline((na,xa,za,ra,Ca)=>va(na,R(na,xa,za,ra,Ca),za),pa,oa,la))};V.createDragPipeline=function(R,ja,ia,la){return Z.handlesGroup(this._arrowManipulatorInfos.map(({manipulator:pa},oa)=>K.createManipulatorDragEventPipeline(pa,(va,na,xa,za,ra)=>{na=na.next(Ca=>({...Ca,manipulatorType:1})).next(K.dragAtLocation(this._view,va.elevationAlignedLocation)).next(A.screenToMapXYAtLocation(this._view,va.elevationAlignedLocation,ja,ia,la)).next(K.constrainToMapAxis(va.location,this.angle+(oa+
1)*Math.PI*.5)).next(K.addScreenDelta());R(va,na,xa,za,ra)})))};V._updateManipulators=function(){for(let R=0;R<this._arrowManipulatorInfos.length;R++)this._updateArrowManipulator(this._arrowManipulatorInfos[R],R);this._updateManipulatorTransform()};V._updateArrowManipulator=function({manipulator:R,transform:ja},ia){const la=this._radius/C.DISC_RADIUS;var pa=C.DISC_TRANSLATE_ARROW_SIZE*la;const oa=Math.sqrt(pa*pa*3/4);pa=X.createExtrudedTriangle(oa,pa/2,pa/2,C.DISC_HEIGHT);X.transformInPlace(pa,D.fromTranslation(aa.sm4d.get(),
x.set(aa.sv3d.get(),0,-oa/3,0)));R.renderObjects=[{geometry:pa,material:this._opaqueMaterial,stateMask:2},{geometry:pa,material:this._transparentMaterial,stateMask:1}];R.radius=oa/3*2.4;R=D.identity(aa.sm4d.get());D.fromZRotation(R,ia*Math.PI/2);ia=D.identity(aa.sm4d.get());D.fromTranslation(ia,x.set(aa.sv3d.get(),0,C.DISC_TRANSLATE_ARROW_OFFSET*la,0));D.multiply(ja,R,ia)};V._createManipulators=function(){for(let R=0;4>R;R++){const ja=this._createArrowManipulator(R);this._arrowManipulatorInfos.push(ja)}this._updateManipulatorTransform()};
V._updateManipulatorTransform=function(){var R=this.angle,ja=D.identity(aa.sm4d.get());D.rotate(ja,ja,R,P.fromValues(0,0,1));const ia=D.fromScaling(aa.sm4d.get(),x.set(aa.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));R=D.identity(aa.sm4d.get());D.multiply(R,ia,ja);for(const la of this._arrowManipulatorInfos)ja=D.multiply(aa.sm4d.get(),R,la.transform),la.manipulator.modelTransform=ja};V._createArrowManipulator=function(R){const ja=new y.Manipulator3D({view:this._view,autoScaleRenderObjects:!1,
worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:P.fromValues(0,0,1)}}),ia={manipulator:ja,transform:H.create()};this._updateArrowManipulator(ia,R);this._handles.add(ja.events.on("drag",la=>{this._updateAfterDrag&&"end"===la.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}));return ia};V.createMaterial=function(R=1){const ja=B.toUnitRGBA(w.colors.main);ja[3]*=R;return new U.ColorMaterial({color:ja,transparent:1!==R,cullFace:2,
renderOccluded:2})};W._createClass(I,[{key:"orthogonalAvailable",set:function(R){this._arrowManipulatorInfos[1].manipulator.available=R;this._arrowManipulatorInfos[3].manipulator.available=R}},{key:"angle",get:function(){return this._angle},set:function(R){this._angle=R;this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}},{key:"displayScale",get:function(){return this._scale},set:function(R){this._scale=R;this._updateManipulatorTransform()}},{key:"radius",get:function(){return this._radius},
set:function(R){this._radius!==R&&(this._radius=R,this._updateManipulators())}},{key:"test",get:function(){return{arrowManipulators:this._arrowManipulatorInfos.map(({manipulator:R})=>R)}}}]);return I}(N.Manipulation);z.MoveXYAxisManipulation=N;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/dragEventPipeline3D":function(){define("exports ../../../../core/maybe ../../../../core/mathUtils ../../../../core/screenUtils ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../geometry/projection ../../../../support/elevationInfoUtils ../../support/stack ../../support/geometryUtils ../../webgl-engine/lib/intersectorUtils ../../webgl-engine/lib/Intersector ../../../interactive/dragEventPipeline".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa){function X(I,V){const R=L.create(),ja=L.create();let ia=!1;return la=>{if("start"===la.action){var pa=Z.screenPointObjectToArray(la.screenStart,Z.castScreenPointArray(G.sv2d.get()));pa=D.ray.fromScreen(I.state.camera,pa,Q);W.isSome(pa)&&(ia=D.plane.intersectRay(V,pa,R))}if(!ia)return null;pa=Z.screenPointObjectToArray(la.screenEnd,Z.castScreenPointArray(G.sv2d.get()));pa=D.ray.fromScreen(I.state.camera,pa,Q);return W.isNone(pa)?null:D.plane.intersectRay(V,pa,ja)?
{...la,renderStart:R,renderEnd:ja,plane:V,ray:pa}:null}}function U(I,V,R,ja=null,ia=null){let la=null;return pa=>{if("start"===pa.action&&(la=I.sceneIntersectionHelper.intersectElevationFromScreen(Z.createScreenPointArray(pa.screenStart.x,pa.screenStart.y),V,R,ia),W.isSome(la)&&W.isSome(ja)&&!P.projectPoint(la,la,ja))||W.isNone(la))return null;const oa=I.sceneIntersectionHelper.intersectElevationFromScreen(Z.createScreenPointArray(pa.screenEnd.x,pa.screenEnd.y),V,R,ia);return W.isSome(oa)?W.isSome(ja)&&
!P.projectPoint(oa,oa,ja)?null:{...pa,mapStart:la,mapEnd:oa}:null}}function K(I,V,R,ja=null,ia=null){V=x.getZForElevationMode(V,I,R);return U(I,R,V,ja,ia)}function A(I,V,R,ja=null,ia=null){return K(I,R,x.getGraphicEffectiveElevationInfo(V),ja,ia)}function y(I,V){const R=N,ja=T,ia=D.plane.create();I.renderCoordsHelper.worldUpAtPosition(V,R);I=B.cross(ia,R,B.subtract(ja,V,I.state.camera.eye));B.cross(I,I,R);return D.plane.fromPositionAndNormal(V,I,ia)}function w(I,V){const R=L.create(),ja=B.length(V);
I.renderCoordsHelper.worldUpAtPosition(V,R);const ia=L.create(),la=L.create(),pa=oa=>{B.subtract(oa,oa,V);D.vector.projectPoint(R,oa,oa);"global"===I.viewingMode&&B.length(oa)*F.sign(B.dot(R,oa))<-ja+.001&&B.subtract(oa,B.scale(oa,R,.001),V);B.add(oa,oa,V);return oa};return oa=>{oa.renderStart=pa(B.copy(ia,oa.renderStart));oa.renderEnd=pa(B.copy(la,oa.renderEnd));return oa}}function C(I,V){const R=I.renderCoordsHelper;return ja=>{const ia=R.fromRenderCoords(ja.renderStart,V),la=R.fromRenderCoords(ja.renderEnd,
V);return W.isSome(ia)&&W.isSome(la)?{...ja,mapStart:ia,mapEnd:la}:null}}const N=L.create(),T=L.create(),Q=D.ray.create();z.convertToMapCoordinates=C;z.hideManipulatorWhileDragging=function(I){let V=null;return R=>{switch(R.action){case "start":V=I.disableDisplay();break;case "end":case "cancel":W.isSome(V)&&(V.remove(),V=null)}return R}};z.projectToWorldUp=w;z.screenToMap3D=function(I,V=null){const R=new Y.Intersector(I.state.mode);R.options.selectionMode=!0;R.options.store=0;const ja=Z.createScreenPointArray(),
ia={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},la=L.create(),pa=W.unwrapOr(V,I.spatialReference),oa=na=>{I.map.ground&&1>I.map.ground.opacity?ia.exclude.add(H.TERRAIN_ID):ia.exclude.delete(H.TERRAIN_ID);I.sceneIntersectionHelper.intersectIntersectorScreen(Z.screenPointObjectToArray(na,ja),R,ia);na=R.results.min;if(na.getIntersectionPoint(la))na="TerrainRenderer"===na.intersector?0:1;else if(R.results.ground.getIntersectionPoint(la))na=0;else return null;return{location:I.renderCoordsHelper.fromRenderCoords(la,
pa),surfaceType:na}};let va;return na=>{if("start"===na.action){var xa=oa(na.screenStart);va=W.isSome(xa)?xa.location:null}if(W.isNone(va))return null;xa=oa(na.screenEnd);return W.isSome(xa)&&W.isSome(xa.location)?{...na,mapStart:va,mapEnd:xa.location,surfaceType:xa.surfaceType}:null}};z.screenToMapXYAtLocation=K;z.screenToMapXYForGraphic=function(I,V,R,ja){I=V.toMap(I.screenStart,{include:[R]});return W.isSome(I)?A(V,R,I,ja):null};z.screenToMapXYForGraphicAtLocation=A;z.screenToRenderPlane=X;z.screenToZConstrained=
function(I,V,R){let ja=null;const ia=new aa.EventPipeline;ia.next(X(I,y(I,V))).next(w(I,V)).next(C(I,R)).next(la=>{la.mapEnd.x=la.mapStart.x;la.mapEnd.y=la.mapStart.y;ja=la});return la=>{ja=null;ia.execute(la);return ja}};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../Color ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../core/Handles ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../support/elevationInfoUtils ../../../support/stack ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline ../dragEventPipeline3D ../../Manipulator3D ../settings ./config ./Manipulation ./moveUtils ../snapping/SnapToScene".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N){w=function(T){function Q(V){var R=T.call(this)||this;R._handles=new P;R._snapToScene=new N.SnapToScene;R._discMaterial=R._createMaterial();R._discMaterialTransparent=R._createMaterial(.5);R._scale=1;R._radius=y.DISC_RADIUS;R._view=V.view;R._tool=V.tool;null!=V.snapToScene&&(R.snapToScene=V.snapToScene);null!=V.radius&&(R._radius=V.radius);R._createManipulator();R.forEachManipulator(ja=>R._tool.manipulators.add(ja));return R}W._inheritsLoose(Q,T);
var I=Q.prototype;I.destroy=function(){this._handles.destroy();this.forEachManipulator(V=>{this._tool.manipulators.remove(V);V.destroy()});this._manipulator=this._view=this._tool=null};I.forEachManipulator=function(V){V(this._manipulator,1)};I.createGraphicDragPipeline=function(V,R,ja){const ia=R.graphic,la=D.getGraphicEffectiveElevationInfo(ia),pa=F.unwrap(ia.geometry).spatialReference;return C.createGraphicMoveDragPipeline(R,ja,oa=>this.createDragPipeline((va,na,xa,za,ra)=>oa(va,V(va,na,xa,za,ra),
xa),la,pa,ia))};I.createDragPipeline=function(V,R,ja,ia){const la=this._view;return X.createManipulatorDragEventPipeline(this._manipulator,(pa,oa,va,na,xa)=>{oa=oa.next(X.dragAtLocation(la,pa.elevationAlignedLocation)).next(U.screenToMapXYAtLocation(la,pa.elevationAlignedLocation,R,ja,ia)).next(this._snapToScene.createDragEventPipelineStep(la,R),this._snapToScene.next).next(za=>({...za,manipulatorType:1})).next(X.addScreenDelta());V(pa,oa,va,na,xa)})};I._updateManipulatorTransform=function(){const V=
x.fromScaling(H.sm4d.get(),B.set(H.sv3d.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=V};I._createManipulator=function(){this._manipulator=new K.Manipulator3D({view:this._view,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:L.fromValues(0,0,1)},worldOriented:!0});this._updateManipulator()};I._updateManipulator=function(){const V=Y.createCylinderGeometry(y.DISC_HEIGHT,1,y.GEOMETRY_SEGMENTS,
L.fromValues(0,0,1),L.fromValues(0,0,0)),R=x.fromScaling(G.create(),L.fromValues(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:V,material:this._discMaterial,transform:R,stateMask:2},{geometry:V,material:this._discMaterialTransparent,transform:R,stateMask:1}];this._manipulator.radius=this._radius/y.DISC_RADIUS*y.DISC_COLLISION_RADIUS};I._createMaterial=function(V=1){const R=Z.toUnitRGBA(A.colors.main);R[3]*=V;return new aa.ColorMaterial({color:R,transparent:1!==
V,cullFace:2,renderOccluded:2})};W._createClass(Q,[{key:"displayScale",get:function(){return this._scale},set:function(V){this._scale=V;this._updateManipulatorTransform()}},{key:"snapToScene",get:function(){return this._snapToScene.enabled},set:function(V){this._snapToScene.enabled=V}},{key:"radius",get:function(){return this._radius},set:function(V){V!==this._radius&&(this._radius=V,this._updateManipulator())}},{key:"test",get:function(){return{discManipulator:this._manipulator}}}]);return Q}(w.Manipulation);
z.MoveXYDiscManipulation=w;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/snapping/SnapToScene":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../../../../support/elevationInfoUtils","../../../../interactive/dragEventPipeline"],function(z,W,F,Z,L){let B=function(){function P(){this.lastDragEvent=this.elevationInfo=this.view=null;this.next=new L.EventPipeline;this._enabled=!1}var x=P.prototype;
x.snap=function(G){G=F.isSome(this.view)?this.view.toMap(G,{exclude:[]}):null;F.isSome(G)&&F.isSome(this.view)&&(G.z=Z.getZForElevationMode(G,this.view,this.elevationInfo));return G};x.createDragEventPipelineStep=function(G,D){this.view=G;this.elevationInfo=D;this.lastDragEvent=null;return H=>{this.lastDragEvent="end"!==H.action?{...H}:null;if(this._enabled){const Y=this.snap(H.screenEnd);return F.isSome(Y)?{action:H.action,mapStart:H.mapStart,mapEnd:Y,screenStart:H.screenStart,screenEnd:H.screenEnd}:
null}return{action:H.action,mapStart:H.mapStart,mapEnd:H.mapEnd,screenStart:H.screenStart,screenEnd:H.screenEnd}}};W._createClass(P,[{key:"enabled",get:function(){return this._enabled},set:function(G){if(this._enabled!==G&&F.isSome(this.lastDragEvent)){const D=this.lastDragEvent.mapEnd,H=this.snap(this.lastDragEvent.screenEnd);F.isSome(H)&&this.next.execute({action:"update",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===G?H:D,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd})}this._enabled=
G}}]);return P}();z.SnapToScene=B;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveZManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../core/Evented ../../../../../core/mathUtils ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../core/Handles ../../../../../core/colorUtils ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/dragEventPipeline ../dragEventPipeline3D ../../Manipulator3D ../../manipulatorUtils ../settings ./config ./Manipulation ./moveUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C){w=function(I){function V(ja){var ia=I.call(this)||this;ia._handles=new x;ia._radius=y.DISC_RADIUS;ia.events=new Z;ia._tool=ja.tool;ia._view=ja.view;null!=ja.radius&&(ia._radius=ja.radius);ia.createManipulator();ia.forEachManipulator(la=>ia._tool.manipulators.add(la));return ia}W._inheritsLoose(V,I);var R=V.prototype;R.destroy=function(){this._handles.destroy();this.forEachManipulator(ja=>{this._tool.manipulators.remove(ja);ja.destroy()})};R.forEachManipulator=
function(ja){ja(this._manipulator,0)};R.createGraphicDragPipeline=function(ja,ia,la){const pa=F.unwrap(ia.graphic.geometry).spatialReference;return C.createGraphicMoveDragPipeline(ia,la,oa=>this.createDragPipeline((va,na,xa,za,ra)=>oa(va,ja(va,na,xa,za,ra),xa),pa))};R.createDragPipeline=function(ja,ia){const la=this._view;return aa.createManipulatorDragEventPipeline(this._manipulator,(pa,oa,va,na,xa)=>{oa=oa.next(za=>({...za,manipulatorType:0})).next(X.screenToZConstrained(la,pa.renderLocation,ia)).next(aa.addScreenDelta());
ja(pa,oa,va,na,xa)})};R.updateManipulator=function(){var ja=this._radius/y.DISC_RADIUS;const ia=A.settings.zManipulator.height*ja;var la=A.settings.zManipulator.coneHeight*ja;const pa=A.settings.zManipulator.coneWidth*ja;ja*=A.settings.zManipulator.width;var oa=[B.fromValues(0,0,0),B.fromValues(0,0,ia)];oa=Y.createTubeGeometry(oa,ja/2,16,!1);const va=Y.createConeGeometry(la,pa/2,16,!1);la=[B.fromValues(0,0,0),B.fromValues(0,0,ia+la)];const na=(Da=>{const ba=H.create();D.translate(ba,ba,[0,0,ia]);
D.rotateX(ba,ba,Math.PI/2);Da&&(Da=1+2*Da/pa,D.scale(ba,ba,[Da,Da,Da]));return ba})(0);var xa=(Da,ba)=>{ba=G.darken(A.settings.zManipulator.color,ba);return[ba.r/255,ba.g/255,ba.b/255,A.settings.zManipulator.color.a*Da]};const za=K.createManipulatorMaterial(xa(1,.25),1),ra=K.createManipulatorMaterial(xa(1,0),1),Ca=K.createManipulatorMaterial(xa(.7,0),A.settings.zManipulator.renderOccluded);xa=K.createManipulatorMaterial(xa(.85,0),A.settings.zManipulator.renderOccluded);this._manipulator.renderObjects=
[{geometry:va,transform:na,material:za,stateMask:1},{geometry:oa,material:za,stateMask:1},{geometry:va,transform:na,material:ra,stateMask:2},{geometry:oa,material:ra,stateMask:2},{geometry:va,transform:na,material:Ca,stateMask:1},{geometry:oa,material:Ca,stateMask:1},{geometry:va,transform:na,material:xa,stateMask:2},{geometry:oa,material:xa,stateMask:2}];this._manipulator.radius=ja/2+2;this._manipulator.collisionType={type:"line",paths:[la]}};R.createManipulator=function(){const ja=new U.Manipulator3D({view:this._view,
autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});ja.applyObjectTransform=ia=>{var la=this._view.state.camera,pa=N;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,pa);const oa=P.dist(la.eye,pa),va=la.computeRenderPixelSizeAtDist(oa);var na=P.subtract(T,pa,la.eye);P.normalize(na,na);var xa=Q;this._view.renderCoordsHelper.worldUpAtPosition(N,xa);pa=Math.abs(P.dot(na,
xa));na=P.cross(T,na,xa);xa=P.cross(T,na,xa);pa=L.clamp(pa,.01,1);la=1-Math.sqrt(1-pa*pa)/pa/la.fullWidth;pa=this._radius/y.DISC_RADIUS*A.settings.zManipulator.width;P.scale(xa,P.normalize(xa,xa),(1/la-1)*oa+va*pa);ia[12]-=T[0];ia[13]-=T[1];ia[14]-=T[2]};this._manipulator=ja;this.updateManipulator()};W._createClass(V,[{key:"radius",get:function(){return this._radius},set:function(ja){ja!==this._radius&&(this._radius=ja,this.updateManipulator())}}]);return V}(w.Manipulation);const N=B.create(),T=B.create(),
Q=B.create();z.MoveZManipulation=w;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../core/Handles ../../../../interactive/dragEventPipeline ../../../../interactive/GraphicManipulator ../dragEventPipeline3D ./Manipulation ./moveUtils".split(" "),function(z,W,F,Z,L,B,P,x,G){x=function(D){function H(aa){var X=
D.call(this)||this;X._handles=new Z;X._view=aa.view;X._tool=aa.tool;X._graphicState=aa.graphicState;X._createManipulator();X.forEachManipulator(U=>X._tool.manipulators.add(U));return X}W._inheritsLoose(H,D);var Y=H.prototype;Y.destroy=function(){this._handles.destroy();this.forEachManipulator(aa=>{this._tool.manipulators.remove(aa);aa.destroy()});this._graphicState=this._manipulator=this._view=this._tool=null};Y.forEachManipulator=function(aa){aa(this._manipulator,1)};Y.createGraphicDragPipeline=
function(aa){return G.createGraphicMoveDragPipeline(this._graphicState,aa,X=>this.createDragPipeline(X))};Y.createDragPipeline=function(aa){const X=this._view,U=this._graphicState.graphic,K=F.isSome(U.geometry)?U.geometry.spatialReference:null;return L.createManipulatorDragEventPipeline(this._manipulator,(A,y,w,C,N)=>{y=y.next(P.screenToMapXYForGraphic(N,X,U,K)).next(L.addMapDelta()).next(L.addScreenDelta());aa(A,y,w,C,N)})};Y._createManipulator=function(){this._manipulator=new B.GraphicManipulator({graphic:this._graphicState.graphic,
view:this._view,selectable:!0,cursor:"move"})};return H}(x.Manipulation);z.MoveXYGraphicManipulation=x;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/GraphicManipulator":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Evented ../../core/screenUtils ../../chunks/vec3f64 ../../chunks/vec3 ../../geometry/projection ../../symbols/support/ElevationInfo ../../symbols/support/defaults ../../chunks/vec2 ../../support/elevationInfoUtils ../support/drapedUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I){const V=B.getLogger("esri.views.interactive.GraphicManipulator");z.GraphicManipulator=function(ia){function la(oa){oa=ia.call(this,oa)||this;oa.layer=null;oa.interactive=!0;oa.selectable=!1;oa.grabbable=!0;oa.dragging=!1;oa.cursor=null;oa.events=new U.EventEmitter;oa._circleCollisionCache=null;oa._graphicSymbolChangedHandle=null;oa._originalSymbol=null;return oa}W._inheritsLoose(la,ia);var pa=la.prototype;pa.grabbableForEvent=function(){return!0};
pa.destroy=function(){this.detachSymbolChanged();this._resetGraphicSymbol();this._set("view",null)};pa.intersectionDistance=function(oa){const va=this.graphic;if(!1===va.visible)return null;const na=va.geometry;if(L.isNone(na))return null;var xa=this._get("focusedSymbol");xa=L.isSome(xa)?xa:va.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,oa,na,xa):this._intersectDistance3D(this.view,oa,va)};pa.attach=function(){this.attachSymbolChanged();L.isSome(this.layer)&&this.layer.add(this.graphic)};
pa.detach=function(){this.detachSymbolChanged();this._resetGraphicSymbol();L.isSome(this.layer)&&this.layer.remove(this.graphic)};pa.attachSymbolChanged=function(){this.detachSymbolChanged();this._graphicSymbolChangedHandle=this.graphic.watch("symbol",oa=>{L.isSome(oa)&&oa!==this.focusedSymbol&&oa!==this._originalSymbol&&(this._originalSymbol=oa,this._focused&&L.isSome(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))},!0)};pa.detachSymbolChanged=function(){L.isSome(this._graphicSymbolChangedHandle)&&
(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)};pa._updateGraphicSymbol=function(){this.graphic.symbol=this._focused&&L.isSome(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol};pa._resetGraphicSymbol=function(){this.graphic.symbol=this._originalSymbol};pa._intersectDistance2D=function(oa,va,na,xa){xa=xa||N.getDefaultSymbol2D(na);if(L.isNone(xa))return null;var za=this._circleCollisionCache;if("point"!==na.type||"simple-marker"!==xa.type)return I.intersectsDrapedGeometry(va,
na,oa)?1:null;if(L.isNone(za)||!za.originalPoint.equals(na)){const ra=oa.spatialReference;w.canProjectWithoutEngine(na.spatialReference,ra)&&(za=w.project(na,ra),this._circleCollisionCache=za={originalPoint:na.clone(),mapPoint:za,radiusPx:K.pt2px(xa.size)})}return L.isSome(za)?(va=K.screenPointObjectToArray(va,ja),oa=oa.toScreen(za.mapPoint),za=za.radiusPx,na=oa.x+K.pt2px(xa.xoffset),xa=oa.y-K.pt2px(xa.yoffset),T.squaredDistance(va,[na,xa])<za*za?1:null):null};pa._intersectDistance3D=function(oa,
va,na){return(va=oa.toMap(va,{include:[na]}))&&w.projectPointToVector(va,R,oa.renderSpatialReference)?y.distance(R,oa.state.camera.eye):null};W._createClass(la,[{key:"graphic",set:function(oa){"mesh"===L.get(oa.geometry,"type")?V.error("Mesh geometries are not supported"):(this._circleCollisionCache=null,this._originalSymbol=oa.symbol,this._set("graphic",oa),this.attachSymbolChanged())}},{key:"elevationInfo",get:function(){const oa="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,
va=Q.getGraphicEffectiveElevationMode(this.graphic);return new C({mode:va,offset:oa?oa.offset:0})}},{key:"focusedSymbol",set:function(oa){oa!==this._get("focusedSymbol")&&(this._set("focusedSymbol",oa),this._updateGraphicSymbol(),this._circleCollisionCache=null)}},{key:"grabbing",set:function(oa){oa!==this._get("grabbing")&&(this._set("grabbing",oa),this._updateGraphicSymbol())}},{key:"hovering",set:function(oa){oa!==this._get("hovering")&&(this._set("hovering",oa),this._updateGraphicSymbol())}},
{key:"selected",set:function(oa){oa!==this._get("selected")&&(this._set("selected",oa),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:oa?"select":"deselect"}))}},{key:"_focused",get:function(){return this._get("hovering")||this._get("grabbing")}}]);return la}(X);F.__decorate([x.property({constructOnly:!0,nonNullable:!0})],z.GraphicManipulator.prototype,"graphic",null);F.__decorate([x.property({readOnly:!0})],z.GraphicManipulator.prototype,"elevationInfo",null);F.__decorate([x.property({constructOnly:!0,
nonNullable:!0})],z.GraphicManipulator.prototype,"view",void 0);F.__decorate([x.property({value:null})],z.GraphicManipulator.prototype,"focusedSymbol",null);F.__decorate([x.property({constructOnly:!0})],z.GraphicManipulator.prototype,"layer",void 0);F.__decorate([x.property()],z.GraphicManipulator.prototype,"interactive",void 0);F.__decorate([x.property()],z.GraphicManipulator.prototype,"selectable",void 0);F.__decorate([x.property()],z.GraphicManipulator.prototype,"grabbable",void 0);F.__decorate([x.property({value:!1})],
z.GraphicManipulator.prototype,"grabbing",null);F.__decorate([x.property()],z.GraphicManipulator.prototype,"dragging",void 0);F.__decorate([x.property()],z.GraphicManipulator.prototype,"hovering",null);F.__decorate([x.property({value:!1})],z.GraphicManipulator.prototype,"selected",null);F.__decorate([x.property()],z.GraphicManipulator.prototype,"cursor",void 0);z.GraphicManipulator=F.__decorate([D.subclass("esri.views.interactive.GraphicManipulator")],z.GraphicManipulator);const R=A.create(),ja=K.createScreenPointArray();
Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/support/drapedUtils":function(){define("exports ../../core/maybe ../../geometry/Extent ../../geometry ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),function(z,W,F,Z,L,B){function P(G,D,H,Y=new F){let aa;if("2d"===H.type)aa=D*H.resolution;else if("3d"===H.type){var X=H.overlayPixelSizeInMapUnits(G),U=H.basemapSpatialReference;aa=W.isSome(U)&&!U.equals(H.spatialReference)?L.getMetersPerUnitForSR(U)/L.getMetersPerUnitForSR(H.spatialReference):
D*X}D=G.x-aa;X=G.y-aa;U=G.x+aa;G=G.y+aa;({spatialReference:H}=H);Y.xmin=Math.min(D,U);Y.ymin=Math.min(X,G);Y.xmax=Math.max(D,U);Y.ymax=Math.max(X,G);Y.spatialReference=H;return Y}const x=new F;z.createQueryGeometry=P;z.intersectsDrapedGeometry=function(G,D,H){G=H.toMap(G);if(W.isNone(G))return!1;const Y=B.calculateTolerance();return P(G,Y,H,x).intersects(D)};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/renderers/support/clickToleranceUtils":function(){define(["exports"],function(z){function W(L,
B){return B?"xoffset"in B&&B.xoffset?Math.max(L,Math.abs(B.xoffset)):"yoffset"in B&&B.yoffset?Math.max(L,Math.abs(B.yoffset||0)):L:L}function F(L,B){if("number"===typeof L)return L;if(L&&L.stops&&L.stops.length){{L=L.stops;let P=B=0;for(let x=0;x<L.length;x++){const G=L[x].size;"number"===typeof G&&(B+=G,P++)}L=B/P}return L}return B}function Z(L,B){if(!B)return L;B=B.filter(G=>"size"===G.type).map(G=>{const {maxSize:D,minSize:H}=G;return(F(D,L)+F(H,L))/2});let P=0;const x=B.length;if(0===x)return L;
for(let G=0;G<x;G++)P+=B[G];return Math.max(Math.floor(P/x),L)}z.calculateTolerance=function(L){const B=L&&L.renderer;L="touch"===(L&&L.event&&L.event.pointerType)?9:6;if(!B)return L;L="visualVariables"in B?Z(L,B.visualVariables):L;if("simple"===B.type)return W(L,B.symbol);if("unique-value"===B.type){let P=L;B.uniqueValueInfos.forEach(x=>{P=W(P,x.symbol)});return P}if("class-breaks"===B.type){let P=L;B.classBreakInfos.forEach(x=>{P=W(P,x.symbol)});return P}return L};Object.defineProperty(z,"__esModule",
{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/watchUtils ../../../../interactive/InteractiveToolBase ./isSupportedGraphic ./ReshapeOperation".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w){z.GraphicReshapeTool=function(C){function N(Q){Q=C.call(this,Q)||this;Q._handles=new U;Q._reshapeOperation=null;Q._internalGeometryUpdate=!1;Q.enableZ=!0;Q.enableMoveGraphic=!0;Q.type="reshape-3d";Q.snappingManager=null;return Q}W._inheritsLoose(N,C);var T=N.prototype;T.destroy=function(){this._handles.removeAll();this._reshapeOperation=L.destroyMaybe(this._reshapeOperation);this._set("view",null);this._set("graphic",null)};T._updateGeometry=function(){const Q=
this.graphic.geometry;0!==y.isSupportedGraphic(this.graphic)||!L.isSome(Q)||"polygon"!==Q.type&&"polyline"!==Q.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=Q.clone()};T._updateGraphic=function(){this._handles.remove("onGraphicGeometryChange");this._updateGeometry();if(0===y.isSupportedGraphic(this.graphic)){var Q=this.watch("graphic.geometry",()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()},!0);this._handles.add(Q,"onGraphicGeometryChange")}};
T.manipulatorSelectionChanged=function(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()};T._onReshapeGeometryChanged=function(){L.isNone(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)};T.initialize=function(){this._reshapeOperation=new w.ReshapeOperation({tool:this});this._handles.add([this._reshapeOperation.on("reshape",Q=>{"reshape"===Q.type&&this._onReshapeGeometryChanged();
this.emit("reshape",Q)}),this._reshapeOperation.on("move",Q=>{"move"===Q.type&&this._onReshapeGeometryChanged();this.emit("move",Q)}),this._reshapeOperation.on("vertex-add",Q=>{this._onReshapeGeometryChanged();this.emit("vertex-add",Q)}),this._reshapeOperation.on("vertex-remove",Q=>{this._onReshapeGeometryChanged();this.emit("vertex-remove",Q)}),this._reshapeOperation.on("immediate-click",Q=>this.emit("immediate-click",Q)),K.init(this,"graphic",()=>{this._updateGraphic()},!0)])};T.beforeUndo=function(){L.isSome(this.snappingManager)&&
this.snappingManager.doneSnapping()};T.onInputEvent=function(Q){"key-down"!==Q.type||"Delete"!==Q.key&&"Backspace"!==Q.key||this._reshapeOperation.removeSelectedVertices()};T.reset=function(){};W._createClass(N,[{key:"selectionManagementDisabled",get:function(){return!0}},{key:"test",get:function(){return{snappingManager:this.snappingManager}}}]);return N}(X.EventedMixin(A.InteractiveToolBase));F.__decorate([x.property({constructOnly:!0,nonNullable:!0})],z.GraphicReshapeTool.prototype,"view",void 0);
F.__decorate([x.property({constructOnly:!0})],z.GraphicReshapeTool.prototype,"graphic",void 0);F.__decorate([x.property({constructOnly:!0,nonNullable:!0})],z.GraphicReshapeTool.prototype,"enableZ",void 0);F.__decorate([x.property({constructOnly:!0,nonNullable:!0})],z.GraphicReshapeTool.prototype,"enableMoveGraphic",void 0);F.__decorate([x.property({readOnly:!0})],z.GraphicReshapeTool.prototype,"type",void 0);F.__decorate([x.property({constructOnly:!0})],z.GraphicReshapeTool.prototype,"snappingManager",
void 0);z.GraphicReshapeTool=F.__decorate([D.subclass("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],z.GraphicReshapeTool);Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic":function(){define(["exports","../../../../../core/has","../../../../../core/maybe","../../../../../geometry/Circle","../../../../../support/elevationInfoUtils"],function(z,W,F,Z,L){z.isSupportedGraphic=function(B){var P;
if("graphics"!==(null==(P=B.layer)?void 0:P.type))return 1;P=B.geometry;if(F.isNone(P))return 2;switch(P.type){case "polygon":if(P instanceof Z)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return 3}return"on-the-ground"!==L.getGraphicEffectiveElevationMode(B)&&L.hasGraphicFeatureExpressionInfo(B)?4:0};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/handleUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../core/Handles ../../../../../core/watchUtils ../../../../../support/elevationInfoUtils ../../../../../layers/graphics/dehydratedFeatures ../../../support/stack ../../../webgl-engine/lib/GeometryUtil ../../../../interactive/editGeometry/EditGeometry ../../../../interactive/editGeometry/EditGeometryHelper ../../../../interactive/snapping/SnappingContext ../../../../interactive/dragEventPipeline ../../SnappingDragPipelineStep ../../SnappingVisualizer3D ../dragEventPipeline3D ../../Manipulator3D ../../manipulatorUtils ../manipulatorUtils ../settings ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../visualElementUtils ../manipulations/config ../manipulations/moveUtils ../manipulations/MoveManipulation ../manipulations/MoveXYGraphicManipulation".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia,la,pa,oa,va,na,xa,za,ra,Ca,Da,ba,wa,ua){function Aa(Ba){return"vertex"===Ba.handle.type}z.ReshapeOperation=function(Ba){function Ha(ka){ka=Ba.call(this,ka)||this;ka._vertexManipulatorMaterial=va.createManipulatorMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.vertex.color),xa.settings.reshapeManipulators.vertex.renderOccluded);ka._vertexManipulatorOutlineMaterial=va.createManipulatorOutlineMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.vertex.outlineColor),
xa.settings.reshapeManipulators.vertex.renderOccluded);ka._vertexManipulatorHoverOutlineMaterial=va.createManipulatorOutlineMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.vertex.hoverOutlineColor),xa.settings.reshapeManipulators.vertex.renderOccluded);ka._edgeManipulatorMaterial=va.createManipulatorMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.edge.color),xa.settings.reshapeManipulators.edge.renderOccluded);ka._edgeManipulatorOutlineMaterial=va.createManipulatorOutlineMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.edge.outlineColor),
xa.settings.reshapeManipulators.edge.renderOccluded);ka._selectedManipulatorMaterial=va.createManipulatorMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.selected.color),xa.settings.reshapeManipulators.selected.renderOccluded);ka._selectedManipulatorOutlineMaterial=va.createManipulatorOutlineMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.selected.outlineColor),xa.settings.reshapeManipulators.selected.renderOccluded);ka._selectedManipulatorHoverOutlineMaterial=va.createManipulatorOutlineMaterial(xa.settings.colorToVec4(xa.settings.reshapeManipulators.selected.hoverOutlineColor),
xa.settings.reshapeManipulators.selected.renderOccluded);ka._selectedIndex=0;ka._vertexManipulatorGeometry=null;ka._vertexManipulatorOutlineGeometry=null;ka._edgeManipulatorGeometry=null;ka._edgeManipulatorOutlineGeometry=null;ka._handles=new y;ka._manipulatorHandles=new y;ka._manipulatorInfos=[];ka._reshapeHelper=null;ka._graphicMoveManipulation=null;ka._moveManipulation=null;ka._numGrabbing=0;ka._numDragging=0;ka._reshapeEventState=0;ka._outlineVisualElement=null;ka.tool=null;ka.outputGeometry=
null;ka._snappingPipeline=new ia.SnappingPipeline;ka._snappingPipelineHandle=new ia.SnappingPipeline;ka._vertexLaserLineVisualElement=null;return ka}W._inheritsLoose(Ha,Ba);var Fa=Ha.prototype;Fa.initialize=function(){const ka=new ra.GraphicState({graphic:this.graphic});this._graphicState=ka;this._handles.add([ka.watch("displaying",ea=>{for(const ma of this._manipulatorInfos)ma.manipulator.available=ea}),this.view.trackGraphicState(ka)])};Fa.destroy=function(){this._clear();this._handles.destroy()};
Fa.removeSelectedVertices=function(){const ka=this._manipulatorInfos.filter(ea=>ea.manipulator.selected&&"vertex"===ea.handle.type);this._removeVertices(ka)};Fa.manipulatorSelectionChanged=function(){this.emit("manipulators-changed")};Fa._clear=function(){this._moveManipulation=L.destroyMaybe(this._moveManipulation);this._graphicMoveManipulation=L.destroyMaybe(this._graphicMoveManipulation);this._manipulatorHandles.removeAll();this.manipulators.removeAll();this._manipulatorInfos=[];this._reshapeHelper=
L.destroyMaybe(this._reshapeHelper);this._numDragging=this._numGrabbing=0};Fa._recreateManipulators=function(ka=this.inputGeometry){this._clear();if(!L.isNone(ka)){L.destroyMaybe(this._reshapeHelper);this._reshapeHelper=new sa(I.EditGeometry.fromGeometry(ka,this.view.viewingMode),ka.type);ka=C.getGraphicEffectiveElevationInfo(this.graphic);for(const ea of this._reshapeHelper.editGeometry.components){for(const ma of ea.vertices)this._createPerVertexManipulator(ma,ka);for(const ma of ea.edges)this._createPerVertexManipulator(ma,
ka)}this._createGraphicMoveManipulators(ka)}};Fa._perGraphicManipulatorDragAction=function(ka,ea){if("end"!==ea.action){var ma=[],J=this._manipulatorInfos.some(Ka=>"vertex"===Ka.handle.type&&Ka.manipulator.selected);J=1===ka&&J;ka=L.unwrap(this._reshapeHelper);for(var Ja of this._manipulatorInfos)"vertex"!==Ja.handle.type||Ja.manipulator.grabbing||J&&!Ja.manipulator.selected||(L.unwrap(ka).moveVertices([Ja.handle],ea.mapDeltaX,ea.mapDeltaY,ea.mapDeltaZ),ma.push(Ja.handle.pos),this._updateManipulatorPosition(Ja));
if(0!==ma.length){Ja=0;for(const Ka of this._manipulatorInfos)"vertex"===Ka.handle.type&&Ja++;this.outputGeometry=ka.geometry;ma.length===Ja?(this._updateEventState(1),this.destroyed||this.emit("move",{type:"move",dx:ea.screenDeltaX,dy:ea.screenDeltaY,mover:this.graphic})):(this._updateEventState(2),this.destroyed||this.emit("reshape",{type:"reshape",mover:this.graphic}))}}};Fa.isMultiVertexSelection=function(){let ka=0;for(const ea of this._manipulatorInfos)Aa(ea)&&ea.manipulator.selected&&ka++;
return 1<ka};Fa._perVertexManipulatorDragAction=function(ka){this._updateEventState(2);if(!this.destroyed){var ea=ka.mapDeltaX,ma=ka.mapDeltaY,J=ka.mapDeltaZ;if(ea||ma||J){var Ja=[];for(const Ka of this._manipulatorInfos)Aa(Ka)&&(Ka.manipulator.selected&&!Ka.manipulator.grabbing||Ka===ka.info)&&Ja.push(Ka);ka=L.unwrap(this._reshapeHelper);for(const Ka of Ja)ka.moveVertices([Ka.handle],ea,ma,J);this.outputGeometry=ka.geometry;for(const Ka of Ja)this._updateManipulatorPosition(Ka);this.emit("reshape",
{type:"reshape",mover:this.graphic})}}};Fa._updateEventState=function(ka){if(ka===this._reshapeEventState)return!1;switch(ka){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",
{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;const ea=this._reshapeEventState!==ka;this._reshapeEventState=ka;return ea};
Fa._createGraphicMoveManipulators=function(ka){this._graphicMoveManipulation=new ua.MoveXYGraphicManipulation({tool:this.tool,view:this.view,graphicState:this._graphicState});this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline((ma,J,Ja)=>{J.next(Ka=>this._trackNumDragging(Ka)).next(Ka=>{this._perGraphicManipulatorDragAction(0,Ka)});Ja.next(this._cancelDragOperation())})):this._graphicMoveManipulation.forEachManipulator(ma=>{ma.grabbable=!1;ma.cursor=
null});this._graphicMoveManipulation.forEachManipulator(ma=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(ma,!1),ma.events.on("immediate-click",J=>{this._manipulatorInfos.some(Ja=>Ja.manipulator.selected)?this._clearSelection():this.emit("immediate-click",{...J,graphic:this.graphic});J.stopPropagation()})]));this._moveManipulation=new wa.MoveManipulation({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&na.canMoveZ(this.graphic),snapToScene:!1,
radius:wa.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this._moveManipulation.forEachManipulator(ma=>{this._handles.add([this._watchAndUpdateGrabState(ma,!1),ma.events.on("immediate-click",J=>{this._moveManipulation.zManipulation.hasManipulator(ma)||this._manipulatorInfos.some(Ja=>Ja.manipulator.selected)||this.emit("immediate-click",{...J,graphic:this.graphic});J.stopPropagation()})])});this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};var ea=L.unwrap(this.graphic.geometry).spatialReference;
this._handles.add([this._moveManipulation.createDragPipeline((ma,J,Ja,Ka,Qa)=>{ma=Ja.next(Ua=>this._trackNumDragging(Ua)).next(Ua=>{const cb=this._manipulatorInfos.filter(gb=>Aa(gb)&&gb.manipulator.selected);return 1===Ua.manipulatorType&&1===cb.length?{...Ua,info:cb[0],snapOrigin:cb[0].handle.pos}:{...Ua,info:null}}).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:Ua=>!!Ua.info,cancel:Ka,snappingManager:this.tool.snappingManager,snappingContext:new R.SnappingContext({geometry:L.unwrap(this._reshapeHelper),
elevationInfo:ka,pointer:Qa,excludeFeature:this.graphic,visualizer:new la.SnappingVisualizer3D})}),this._snappingPipelineHandle.next).next(ja.addMapDelta()).next(Ua=>{this._perGraphicManipulatorDragAction(1,Ua);return Ua});Ka.next(this._cancelDragOperation());return ma},ka,ea,this.graphic),w.init(this._graphicState,"displaying",()=>{this._updateMoveManipulationPosition()}),this._graphicState.on("changed",()=>this._updateMoveManipulationPosition()),w.init(this._graphicState,"isDraped",()=>{this._graphicState.isDraped?
this._handles.add(this.view.elevationProvider.on("elevation-change",()=>this._updateMoveManipulationPosition()),"align-move-manipulation"):this._handles.remove("align-move-manipulation")})]);this._updateMoveManipulationPosition();ea=Ca.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:ma=>{if(!this.destroyed){L.isSome(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(ma);for(const J of this._manipulatorInfos)ma(J.manipulator,1);this._moveManipulation.forEachManipulator(ma)}},
onManipulatorsChanged:ma=>this.on("manipulators-changed",ma)});this._outlineVisualElement=ea.visualElement instanceof za.OutlineVisualElement?ea.visualElement:null;L.isSome(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()}),this._graphicState.watch("isDraped",()=>this._updateMoveManipulationPosition())]);this._manipulatorHandles.add(ea)};Fa._createPerVertexManipulator=
function(ka,ea=C.getGraphicEffectiveElevationInfo(this.graphic)){if(L.isNone(this._vertexManipulatorGeometry)||L.isNone(this._vertexManipulatorOutlineGeometry)){var ma=xa.settings.reshapeManipulators.vertex,J=ma.size/2,Ja=J+ma.collisionPadding;this._vertexManipulatorGeometry=Q.createSphereGeometry(J/Ja,16,16);this._vertexManipulatorOutlineGeometry=Q.createSphereGeometry((J+ma.outlineSize)/Ja,16,16)}if(L.isNone(this._edgeManipulatorGeometry)||L.isNone(this._edgeManipulatorOutlineGeometry))ma=xa.settings.reshapeManipulators.edge,
J=ma.size/2,Ja=J+ma.collisionPadding,this._edgeManipulatorGeometry=Q.createSphereGeometry(J/Ja,16,16),this._edgeManipulatorOutlineGeometry=Q.createSphereGeometry((J+ma.outlineSize)/Ja,16,16);ma=new oa.Manipulator3D({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ha.Vertex|4},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:ha.Vertex|5},{geometry:this._vertexManipulatorOutlineGeometry,
material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ha.Vertex|6},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:ha.Edge|6},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:ha.Edge|6},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:ha.Edge|5},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:ha.Edge|
5},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:ea,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(ma,ka,ea);
const Ka="edge"===ka.type?{manipulator:ma,handle:ka,locationUpdateHandle:null,type:"edge",selectedIndex:0}:{manipulator:ma,handle:ka,type:"vertex",selectedIndex:0};this._manipulatorInfos.push(Ka);this.manipulators.add(ma);this._updateManipulatorPosition(Ka);"edge"===Ka.type&&(ka=this._getManipulatorInfoFromHandle(Ka.handle.left).manipulator.events.on("location-update",()=>this._updateManipulatorPosition(Ka)),J=this._getManipulatorInfoFromHandle(Ka.handle.right).manipulator.events.on("location-update",
()=>this._updateManipulatorPosition(Ka)),Ka.locationUpdateHandle=x.handlesGroup([ka,J]),this._manipulatorHandles.add(Ka.locationUpdateHandle,ma));this._manipulatorHandles.add(this._watchAndUpdateGrabState(ma,!0),ma);ka=ja.createManipulatorDragEventPipeline(ma,(Qa,Ua,cb,gb)=>{Ua.next(hb=>this._trackNumDragging(hb)).next(hb=>{if("edge"===Ka.handle.type){const fb=this._splitEdgeManipulator(Ka);return{...hb,info:fb,snapOrigin:fb.handle.pos}}return{...hb,info:Ka,snapOrigin:Ka.handle.pos}}).next(ja.dragAtLocation(this.view,
Qa.elevationAlignedLocation)).next(pa.screenToMapXYForGraphicAtLocation(this.view,this.graphic,Qa.elevationAlignedLocation,Qa.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this.isMultiVertexSelection(),cancel:cb,snappingManager:this.tool.snappingManager,snappingContext:new R.SnappingContext({geometry:L.unwrap(this._reshapeHelper),elevationInfo:ea,pointer:gb,excludeFeature:this.graphic,visualizer:new la.SnappingVisualizer3D})}),
this._snappingPipeline.next).next(ja.addMapDelta()).next(hb=>{this._perVertexManipulatorDragAction(hb)});cb.next(this._cancelDragOperation())});this._manipulatorHandles.add(ka,ma);this._manipulatorHandles.add([ma.events.on("immediate-click",Qa=>this._manipulatorClickCallback(Qa,Ka)),ma.events.on("select-changed",()=>{Ka.selectedIndex=++this._selectedIndex;this._updateMoveManipulationPosition()})]);this.emit("manipulators-changed");return ma};Fa._trackNumDragging=function(ka){switch(ka.action){case "start":this._numDragging++;
break;case "end":this._numDragging--}return ka};Fa._cancelDragOperation=function(){const ka=L.isSome(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{this._numDragging--;this.outputGeometry=this.inputGeometry=ka;L.isSome(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping();switch(this._reshapeEventState){case 1:this.emit("move",{type:"move",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape",mover:this.graphic})}this.destroyed||
this._updateEventState(0)}};Fa._setTypeSpecificManipulatorSettings=function(ka,ea,ma){switch(ea.type){case "vertex":ka.state=ha.Vertex;ka.selectable=!0;ka.cursor="move";ka.collisionPriority=2;ka.radius=xa.settings.reshapeManipulators.vertex.size/2+xa.settings.reshapeManipulators.vertex.collisionPadding;ka.elevationInfo=ma;break;case "edge":ka.state=ha.Edge,ka.selectable=!1,ka.cursor="copy",ka.collisionPriority=-1,ka.radius=xa.settings.reshapeManipulators.edge.size/2+xa.settings.reshapeManipulators.edge.collisionPadding,
ka.elevationInfo="on-the-ground"===ma.mode?ma:{mode:"absolute-height",offset:0}}};Fa._watchAndUpdateGrabState=function(ka,ea){return ka.events.on("grab-changed",ma=>{if("start"===ma.action)ea&&this._updateSelection(ka),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing})};Fa._clearSelection=function(){for(const ka of this._manipulatorInfos)ka.manipulator.grabbing||(ka.manipulator.selected=!1)};Fa._updateSelection=
function(ka){ka.grabbing&&!ka.selected&&ka.selectable&&(this._clearSelection(),ka.selected=!0,this.emit("manipulators-changed"))};Fa._removeManipulator=function(ka){ka&&(this._manipulatorHandles.remove(ka.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(ka),1),this.manipulators.remove(ka.manipulator),this.emit("manipulators-changed"))};Fa._getManipulatorInfoFromHandle=function(ka){if(ka)for(const ea of this._manipulatorInfos)if(ka===ea.handle)return ea;return null};Fa._updateManipulatorPosition=
function(ka){if(ka){var ea=L.unwrap(this._reshapeHelper);if("vertex"===ka.handle.type)ka.manipulator.location=ea.editGeometry.coordinateHelper.toPoint(ka.handle.pos,Ea),ka.manipulator.grabbing&&L.isSome(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=ka.manipulator.renderLocation);else if("edge"===ka.handle.type){var ma=this._getManipulatorInfoFromHandle(ka.handle.left).manipulator,J=this._getManipulatorInfoFromHandle(ka.handle.right).manipulator;
L.isSome(ka.manipulator.elevationInfo)&&"on-the-ground"===ka.manipulator.elevationInfo.mode?(ma=ma.location,J=J.location,ka.manipulator.location=N.makeDehydratedPoint(ma.x+.5*(J.x-ma.x),ma.y+.5*(J.y-ma.y),ma.hasZ&&J.hasZ?0:void 0,ea.geometry.spatialReference)):(A.lerp(ta,ma.renderLocation,J.renderLocation,.5),ka.manipulator.renderLocation=ta)}}};Fa._splitEdgeManipulator=function(ka){var ea=L.unwrap(this._reshapeHelper);const ma=L.unwrap(ea.splitEdge(ka.handle,.5).createdVertex);ka.locationUpdateHandle.remove();
ka.locationUpdateHandle=void 0;ka.handle=ma;ka.type="vertex";var J=C.getGraphicEffectiveElevationInfo(this.graphic);this._setTypeSpecificManipulatorSettings(ka.manipulator,ka.handle,J);ma.left&&this._createPerVertexManipulator(ma.left);ma.right&&this._createPerVertexManipulator(ma.right);this.outputGeometry=ea.geometry;this._updateManipulatorPosition(ka);this._updateSelection(ka.manipulator);J=this._updateEventState(2);const Ja=ea.editGeometry.coordinateHelper.toArray(ka.handle.pos);ea=ea.editGeometry.components.indexOf(ma.component);
this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:Ja,componentIndex:ea,vertexIndex:L.unwrap(ma.index)}],added:Ja});J&&this._updateEventState(0);return ka};Fa._updateMoveManipulationPosition=function(){const ka=T.sv3d.get();A.set(ka,0,0,0);let ea=0,ma=!1;var J=null;let Ja=null;for(var Ka of this._manipulatorInfos)if(Aa(Ka))if(Ka.manipulator.selected)if(ea++,A.add(ka,ka,Ka.manipulator.renderLocation),L.isNone(J)||Ka.selectedIndex>J.selectedIndex)Ja=J,J=Ka;else{if(L.isNone(Ja)||Ka.selectedIndex>
Ja.selectedIndex)Ja=Ka}else ma=!0;0!==ea?(Ka=this._graphicState.displaying,this._moveManipulation.xyManipulation.available=Ka,this._moveManipulation.xyAxisManipulation.available=Ka,this._moveManipulation.zManipulation.available=Ka&&this.enableZ&&na.canMoveZ(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=Ka&&1!==ea):(Ka=this._graphicState.displaying&&this.enableMoveGraphic,this._moveManipulation.xyManipulation.available=Ka,this._moveManipulation.xyAxisManipulation.available=
Ka,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=Ka,this._moveManipulation.zManipulation.available=Ka&&this.enableZ&&na.canMoveZ(this.graphic));if(0!==ea){Ka=0;if(L.isSome(J)){const Qa=J.handle.pos,Ua=L.isSome(Ja)?Ja.handle.pos:J.handle.left&&J.handle.left.left?J.handle.left.left.pos:null;J=!L.isSome(Ja)&&J.handle.right&&J.handle.right.right?J.handle.right.right.pos:null;Ua&&J?this._moveManipulation.xyAxisManipulation.available=!1:Ua?Ka=Math.atan2(Qa[1]-Ua[1],Qa[0]-Ua[0])+Math.PI/
2:J&&(Ka=Math.atan2(J[1]-Qa[1],J[0]-Qa[0])+Math.PI/2)}this._moveManipulation.angle=Ka;this._moveManipulation.radius=Da.DISC_RADIUS_SMALL}else this._moveManipulation.angleDeferred=()=>ba.shapeOrientation(L.unwrap(this.graphic.geometry)),this._moveManipulation.radius=wa.MoveManipulation.radiusForSymbol(this.graphic.symbol);0!==ea&&ma?(A.scale(ka,ka,1/ea),Ea.spatialReference=L.unwrap(this._reshapeHelper).geometry.spatialReference,Ea.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(ka,Ea),this._moveManipulation.elevationAlignedLocation=
Ea):L.isSome(this._outlineVisualElement)&&!this._graphicState.isDraped&&L.isSome(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:va.placeAtGraphic(this.view,this._moveManipulation,this.graphic)};Fa._removeVertices=function(ka){var ea=[];const ma=L.unwrap(this._reshapeHelper);for(var J of ka)"vertex"===J.handle.type&&ma.canRemoveVertex()&&(ea.push(J.handle),this._removeManipulator(J),this._removeManipulator(this._getManipulatorInfoFromHandle(J.handle.left)),
this._removeManipulator(this._getManipulatorInfoFromHandle(J.handle.right)),(ka=L.unwrap(ma.removeVertices([J.handle]).removedVertices[0].createdEdge))&&this._createPerVertexManipulator(ka));if(0<ea.length&&(ea=ea.map(Ja=>{const Ka=ma.editGeometry.components.indexOf(Ja.component);return{coordinates:ma.editGeometry.coordinateHelper.toArray(Ja.pos),componentIndex:Ka,vertexIndex:L.unwrap(Ja.index)}}),this.outputGeometry=ma.geometry,J=this._updateEventState(2),!this.destroyed&&(this.emit("vertex-remove",
{type:"vertex-remove",removed:ea.map(Ja=>Ja.coordinates),vertices:ea}),!this.destroyed))){if(J&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}};Fa._manipulatorClickCallback=function(ka,ea){ka.shiftKey||this._clearSelection();"vertex"===ea.handle.type&&(ea.manipulator.selected=!ea.manipulator.selected);"vertex"===ea.handle.type&&2===ka.button&&this._removeVertices([ea]);"edge"===ea.handle.type&&0===ka.button&&this._splitEdgeManipulator(ea);ka.stopPropagation()};
W._createClass(Ha,[{key:"inputGeometry",get:function(){return L.isSome(this._reshapeHelper)?this._reshapeHelper.geometry:null},set:function(ka){this._recreateManipulators(ka)}},{key:"manipulators",get:function(){return this.tool.manipulators}},{key:"view",get:function(){return this.tool.view}},{key:"graphic",get:function(){return this.tool.graphic}},{key:"enableZ",get:function(){return this.tool.enableZ}},{key:"enableMoveGraphic",get:function(){return this.tool.enableMoveGraphic}}]);return Ha}(U.EventedAccessor);
F.__decorate([G.property({constructOnly:!0})],z.ReshapeOperation.prototype,"tool",void 0);F.__decorate([G.property()],z.ReshapeOperation.prototype,"inputGeometry",null);F.__decorate([G.property()],z.ReshapeOperation.prototype,"outputGeometry",void 0);z.ReshapeOperation=F.__decorate([H.subclass("esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation")],z.ReshapeOperation);const Ea=N.makeDehydratedPoint(0,0,null,null),ta=K.create();var ha;(function(Ba){Ba.Vertex=16;Ba.Edge=32})(ha||
(ha={}));let sa=function(Ba){function Ha(Fa,ka){Fa=Ba.call(this,Fa,ka)||this;Fa.type=ka;Fa._geometry=null;return Fa}W._inheritsLoose(Ha,Ba);W._createClass(Ha,[{key:"geometry",get:function(){if(this._dirty){switch(this.type){case "polyline":this._geometry=this.editGeometry.toPolyline();break;case "polygon":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}}]);return Ha}(V.EditGeometryHelper);z.ReshapeGeometryHelper=sa;Object.defineProperty(z,"__esModule",{value:!0})})},
"esri/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/handleUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ../../../../../chunks/common ../../../../../core/Handles ../../../../../support/elevationInfoUtils ../../../../interactive/editGeometry/EditGeometry ../../../../interactive/editGeometry/EditGeometryHelper ../../../../interactive/snapping/SnappingContext ../../SnappingDragPipelineStep ../../SnappingVisualizer3D ../../../../interactive/InteractiveToolBase ../../manipulatorUtils ../manipulatorUtils ../../../layers/graphics/GraphicState ../visualElementUtils ../manipulations/config ../manipulations/MoveManipulation ./GraphicScaleRotateTransform".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia,la,pa,oa){z.GraphicTransformTool=function(va){function na(za){za=va.call(this,za)||this;za.enableZ=!0;za.enableRotation=!0;za.enableScaling=!0;za.type="transform-3d";za.handles=new A;za.scaleRotate=null;za.snappingPipeline=new T.SnappingPipeline;return za}W._inheritsLoose(na,va);var xa=na.prototype;xa.initialize=function(){this.graphicState=new ja.GraphicState({graphic:this.graphic});this.moveManipulation=new pa.MoveManipulation({tool:this,
view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&R.canMoveZ(this.graphic),radius:pa.MoveManipulation.radiusForSymbol(this.graphic.symbol)});this.moveManipulation.forEachManipulator(ra=>this.handles.add(ra.events.on("immediate-click",Ca=>Ca.stopPropagation())));this.moveManipulation.elevationInfo=y.getGraphicEffectiveElevationInfo(this.graphic);const za=this.graphic.geometry;this.moveManipulation.createGraphicDragPipeline((ra,Ca,Da,ba,wa)=>{L.isSome(za)&&
"point"===za.type&&0===ra&&(Da=Da.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new N.SnappingContext({elevationInfo:y.getGraphicEffectiveElevationInfo(this.graphic),pointer:wa,geometry:new C.EditGeometryHelper(w.EditGeometry.fromGeometry(za,this.view.viewingMode),"point"),visualizer:new Q.SnappingVisualizer3D,excludeFeature:this.graphic}),snappingManager:this.snappingManager,cancel:ba}),this.snappingPipeline.next));return Da},this.graphicState,ra=>{const {action:Ca,
graphic:Da,dxScreen:ba,dyScreen:wa}=ra;ra={graphic:Da,dxScreen:ba,dyScreen:wa};switch(Ca){case "start":this.emit("graphic-translate-start",ra);break;case "update":this.emit("graphic-translate",ra);break;case "end":this.emit("graphic-translate-stop",ra)}});this.moveManipulation.angle=this.symbolRotationAngle;if(this.enableScaling||this.enableRotation)this.scaleRotate=new oa.GraphicScaleRotateTransform({tool:this,mode:this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate"}),
this.handles.add(this.scaleRotate.events.on("scale-changed",()=>this.onScaleChanged()));this.handles.add([ia.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:ra=>this.forEachManipulator(ra),onManipulatorsChanged:()=>x.makeHandle()}),this.graphic.watch("symbol",()=>this.updateMoveAngle()),this.graphicState.on("changed",()=>this.onGeometryChanged()),this.hideManipulatorsForGraphicState(),this.view.watch("scale",()=>this.updateMoveAngle())]);this.handles.add(this.view.trackGraphicState(this.graphicState));
this.onGeometryChanged()};xa.forEachManipulator=function(za){this.moveManipulation.forEachManipulator(za);L.isSome(this.scaleRotate)&&this.scaleRotate.forEachManipulator(za)};xa.hideManipulatorsForGraphicState=function(){return this.graphicState.watch("displaying",za=>{this.forEachManipulator(ra=>ra.available=za);this.moveManipulation.zManipulation.available=za&&this.enableZ&&R.canMoveZ(this.graphic)})};xa.destroy=function(){this.handles.destroy();this.moveManipulation.destroy();this.scaleRotate=
L.destroyMaybe(this.scaleRotate);this._set("view",null);this._set("graphic",null)};xa.reset=function(){};xa.onDetach=function(){L.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};xa.onHide=function(){L.isSome(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()};xa.onScaleChanged=function(){if(!L.isNone(this.scaleRotate)){var za=this.scaleRotate.getScale();this.moveManipulation.displayScale=za}};xa.updateMoveAngle=function(){this.moveManipulation.angle="local"===this.view.viewingMode||
this.view.scale<la.ALIGN_ARROWS_SCALE_THRESHOLD?this.symbolRotationAngle:0};xa.onGeometryChanged=function(){V.placeAtGraphic(this.view,this.moveManipulation,this.graphic)};W._createClass(na,[{key:"snapToScene",set:function(za){this.moveManipulation&&(this.moveManipulation.snapToScene=za);this._set("snapToScene",za)}},{key:"symbolRotationAngle",get:function(){var za=this.graphic.symbol;return za?(za=za.symbolLayers.find(ra=>"object"===ra.type),K.toRadian(-(za&&za.heading||0))):0}},{key:"test",get:function(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,
ringManipulator:L.isSome(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}}]);return na}(U.EventedMixin(I.InteractiveToolBase));F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.GraphicTransformTool.prototype,"view",void 0);F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.GraphicTransformTool.prototype,"graphic",void 0);F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],
z.GraphicTransformTool.prototype,"enableZ",void 0);F.__decorate([G.property()],z.GraphicTransformTool.prototype,"enableRotation",void 0);F.__decorate([G.property()],z.GraphicTransformTool.prototype,"enableScaling",void 0);F.__decorate([G.property({value:!1})],z.GraphicTransformTool.prototype,"snapToScene",null);F.__decorate([G.property({constructOnly:!0})],z.GraphicTransformTool.prototype,"snappingManager",void 0);F.__decorate([G.property({readOnly:!0})],z.GraphicTransformTool.prototype,"type",void 0);
z.GraphicTransformTool=F.__decorate([H.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],z.GraphicTransformTool);Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../../../../../core/scheduling ../../../../../core/Evented ../../../../../core/mathUtils ../../../../../core/screenUtils ../../../../../chunks/vec3f64 ../../../../../chunks/common ../../../../../chunks/vec3 ../../../support/mathUtils ../../../../../core/Handles ../../../../../core/watchUtils ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../support/elevationInfoUtils ../../../support/stack ../../../support/geometryUtils ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/ColorMaterial ../../../../interactive/dragEventPipeline ../dragEventPipeline3D ../../Manipulator3D ../../manipulatorUtils ../manipulations/config".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V){function R(ra,Ca){var Da=D.subtract(A.sv3d.get(),Ca.renderStart,ra.origin);ra=D.subtract(A.sv3d.get(),Ca.renderEnd,ra.origin);Da=D.length(Da);ra=D.length(ra);return 0===Da?0:ra/Da}function ja(ra,Ca){const Da=ra.allLayerViews.find(wa=>wa.layer===Ca.layer);if(F.isNone(Ca.symbol))return null;const ba=Ca.symbol;return{symbolLayers:ba.symbolLayers.map(wa=>{let ua=null,Aa=null;"object"===wa.type&&(ua=wa.heading);Aa=Da.getSymbolLayerSize(ba,wa);
return{heading:ua,size:Aa}}).toArray()}}function ia(ra,Ca,Da,ba){const {renderStart:wa,renderEnd:ua}=ra;var Aa=la(wa,ba,A.sv3d.get());ra=la(ua,ba,A.sv3d.get());if(D.squaredDistance(Aa,ra)<V.DRAG_THRESHOLD_PX*V.DRAG_THRESHOLD_PX)return null;const Ea=D.subtract(A.sv3d.get(),wa,Da);Ca=D.cross(A.sv3d.get(),Ea,Ca);Ca=D.add(A.sv3d.get(),wa,Ca);Da=la(Da,ba,A.sv3d.get());ba=la(Ca,ba,A.sv3d.get());Ca=D.subtract(A.sv3d.get(),ba,Aa);ba=D.subtract(A.sv3d.get(),Aa,Da);Aa=y.ray.wrap(Aa,Ca);ba=y.ray.wrap(Da,ba);
return y.ray.distance2(Aa,ra)<y.ray.distance2(ba,ra)?"rotate":"scale"}function la(ra,Ca,Da){ra=Ca.projectToRenderScreen(ra,P.castRenderScreenPointArray(xa));Ca=Ca.renderToScreen(ra,za);return D.set(Da,Ca[0],Ca[1],0)}function pa(ra,Ca){let Da=null,ba=1;const wa=()=>ba;return{start:()=>{ba=ra.getScale();Da=ra.getScale;ra.getScale=wa;Ca()},update:ua=>{ba+=((ba+1)/2-ba)*Math.min(ua*V.RING_RESET_ANIMATION_SPEED_FACTOR,1);Ca();return.01>Math.abs(ba-1)?1:0},destroy:()=>{ra.getScale=Da;Ca()}}}function oa(ra,
Ca){let Da=0,ba=null;const wa=()=>!1;return{start:()=>{ba=ra.getFocused;ra.getFocused=wa;Da=0;Ca()},update:ua=>{Da+=ua;return!ba()||Da>V.RING_INDICATOR_DELAY_MS?1:0},destroy:()=>{ra.getFocused=ba;Ca()}}}var va;(function(ra){ra.ScaleIn=32;ra.ScaleOut=64;ra.RotateLeft=128;ra.RotateRight=256;ra.Unlocked=1024;ra.DelayedFocused=2048;ra.TouchInput=32768})(va||(va={}));let na=function(){function ra(Da){this.mode=null;this._handles=new Y;this._activeAnimation=this._scaleRotateDragData=null;this.events=new L;
this.getFocused=()=>this.ringManipulator.focused;this.getScale=()=>F.isSome(this._scaleRotateDragData)&&"scale"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1;this.tool=Da.tool;this.mode=Da.mode;this.createManipulator();this.updateDragState();this.updateManipulatorTransform()}var Ca=ra.prototype;Ca.destroy=function(){F.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null);this._handles.removeAll();this.tool.manipulators.remove(this.ringManipulator);
this.ringManipulator=null};Ca.startAnimation=function(Da){this.cancelActiveAnimation();Da.start();const ba=Z.addFrameTask({update:({deltaTime:wa})=>{Da.update(wa)&&this.cancelActiveAnimation()}});this._activeAnimation={...Da,frameTask:ba}};Ca.cancelActiveAnimation=function(){F.isSome(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)};Ca.forEachManipulator=function(Da){Da(this.ringManipulator,4)};Ca.createManipulator=function(){this.ringManipulator=
this.createRingManipulator();this.tool.manipulators.add(this.ringManipulator);const Da=this.tool.graphicState.graphic,ba=N.createManipulatorDragEventPipeline(this.ringManipulator,(wa,ua,Aa)=>{this._scaleRotateDragData=null;var Ea=ja(this.tool.view,Da);if(F.isNone(Ea))return this.updateDragState(),null;const ta={mode:"none",origin:x.clone(wa.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:Ea};this._scaleRotateDragData=ta;this.updateDragState();
Ea=A.sv3d.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(wa.renderLocation,Ea);ua.next(T.screenToRenderPlane(this.tool.view,y.plane.fromPositionAndNormal(wa.renderLocation,Ea))).next(ha=>{var sa=y.plane.normal(ha.plane);sa=I.calculateInputRotationTransform(ha.renderStart,ha.renderEnd,ta.origin,sa);var Ba=H.cyclicalPI.shortestSignedDiff(ta.angle,sa);ta.angleDir=B.clamp(ta.angleDir+Ba,-V.ROTATE_INDICATOR_DIRECTION_BUFFER,V.ROTATE_INDICATOR_DIRECTION_BUFFER);ta.angle=sa;sa=R(ta,ha);ta.scaleDir=
B.clamp(ta.scaleDir+(sa-ta.scale),-V.SCALE_INDICATOR_DIRECTION_BUFFER,V.SCALE_INDICATOR_DIRECTION_BUFFER);ta.scale=sa;this.onScaleChanged();if("none"===ta.mode&&(sa=this.mode||ia(ha,ha.plane,ta.origin,this.tool.view.state.camera),F.isSome(sa))){switch(sa){case "rotate":this.tool.emit("graphic-rotate-start",{graphic:Da,angle:B.rad2deg(ta.angle)});break;case "scale":this.tool.emit("graphic-scale-start",{graphic:Da,xScale:ta.scale,yScale:ta.scale})}ta.mode=sa}this.updateDragState();if(F.isSome(Da.symbol)){sa=
Da.symbol.clone();Ba=0;let Ha=1;switch(ta.mode){default:case "none":break;case "scale":Ha=ta.scale;break;case "rotate":Ba=ta.angle}this.applySymbolData(sa,ta.startSymbolData,Ba,Ha);Da.symbol=sa;this.updateManipulatorTransform()}switch(ha.action){case "start":case "update":switch(ta.mode){case "rotate":this.tool.emit("graphic-rotate",{graphic:Da,angle:B.rad2deg(ta.angle)});break;case "scale":this.tool.emit("graphic-scale",{graphic:Da,xScale:ta.scale,yScale:ta.scale})}break;case "end":switch(ta.mode){case "rotate":this.tool.emit("graphic-rotate-stop",
{graphic:Da,angle:B.rad2deg(ta.angle)});break;case "scale":this.tool.emit("graphic-scale-stop",{graphic:Da,xScale:ta.scale,yScale:ta.scale})}}"end"===ha.action&&(this.startAnimation(pa(this,()=>this.onScaleChanged())),this._scaleRotateDragData=null,this.updateDragState())});Aa.next(N.resetSymbol(Da)).next(()=>{if(F.isSome(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case "rotate":this.tool.emit("graphic-rotate-stop",{graphic:Da,angle:B.rad2deg(this._scaleRotateDragData.startAngle)});
break;case "scale":this.tool.emit("graphic-scale-stop",{graphic:Da,xScale:1,yScale:1})}this.startAnimation(pa(this,()=>this.onScaleChanged()));this._scaleRotateDragData=null}})});this._handles.add(ba);this._handles.add([this.ringManipulator.events.on("focus-changed",wa=>{"focus"===wa.action?this.startAnimation(oa(this,()=>this.updateDelayedFocusedState())):this.updateDelayedFocusedState()}),this.ringManipulator.events.on("immediate-click",wa=>{wa.stopPropagation()}),aa.init(this.tool.graphicState,
"displaying",wa=>this.ringManipulator.available=wa),this.tool.graphicState.on("changed",()=>I.placeAtGraphic(this.tool.view,this.ringManipulator,Da))]);I.placeAtGraphic(this.tool.view,this.ringManipulator,Da)};Ca.onScaleChanged=function(){this.events.emit("scale-changed");this.updateManipulatorTransform()};Ca.updateDelayedFocusedState=function(){this.ringManipulator.updateStateEnabled(va.DelayedFocused,this.getFocused())};Ca.updateDragState=function(){this.ringManipulator.updateStateEnabled(va.Unlocked,
!(F.isSome(this._scaleRotateDragData)&&"none"!==this._scaleRotateDragData.mode));if(F.isSome(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case "rotate":this.ringManipulator.updateStateEnabled(va.ScaleIn|va.ScaleOut,!1);this.ringManipulator.updateStateEnabled(va.RotateLeft,0>this._scaleRotateDragData.angleDir);this.ringManipulator.updateStateEnabled(va.RotateRight,0<=this._scaleRotateDragData.angleDir);break;case "scale":this.ringManipulator.updateStateEnabled(va.RotateLeft|va.RotateRight,
!1),this.ringManipulator.updateStateEnabled(va.ScaleIn,0>this._scaleRotateDragData.scaleDir),this.ringManipulator.updateStateEnabled(va.ScaleOut,0<=this._scaleRotateDragData.scaleDir)}else this.ringManipulator.updateStateEnabled(va.ScaleIn|va.ScaleOut|va.RotateLeft|va.RotateRight,!1)};Ca.updateManipulatorTransform=function(){const Da=X.identity(A.sm4d.get());X.rotate(Da,Da,this.tool.symbolRotationAngle,x.fromValues(0,0,1));var ba=this.getScale();ba=X.fromScaling(A.sm4d.get(),D.set(A.sv3d.get(),ba,
ba,ba));const wa=X.identity(A.sm4d.get());X.multiply(wa,ba,Da);this.ringManipulator.modelTransform=wa};Ca.createRingManipulator=function(){var Da=(J,Ja,Ka)=>{const Qa=[],Ua=Math.ceil(V.GEOMETRY_SEGMENTS*(Ja-J)/(2*Math.PI));for(let cb=0;cb<Ua+1;cb++){const gb=J+cb*(Ja-J)/Ua;Qa.push(x.fromValues(Ka*Math.cos(gb),Ka*Math.sin(gb),0))}return Qa},ba=(J,Ja)=>w.createPathExtrusionGeometry([[-Ja/2,0],[Ja/2,0],[Ja/2,V.RING_HEIGHT/2],[-Ja/2,V.RING_HEIGHT/2]],J,[],[],!1),wa=Da(0,2*Math.PI,V.RING_RADIUS),ua=ba(wa,
V.RING_THICKNESS),Aa=[],Ea=[];const ta=[];for(var ha=0;2>ha;ha++){var sa=ha*Math.PI-Math.PI/4,Ba=Math.PI/2-V.ROTATE_INDICATOR_ARC_LENGTH,Ha=sa+Ba;sa=sa+Math.PI/2-Ba;Ba=Da(Ha,sa,V.INNER_INDICATOR_RADIUS);var Fa=ba(Ba,V.INDICATOR_THICKNESS);ta.push(Ba);ta.push(Da(Ha,sa,V.OUTER_INDICATOR_RADIUS-V.RING_THICKNESS/2));Aa.push(Fa);Ea.push(Fa);for(Fa=0;2>Fa;Fa++){var ka=0===Fa,ea=U.create();if(ka){X.scale(ea,ea,[1,-1,1]);X.rotate(ea,ea,-Ha,[0,0,1]);var ma=Math.round(V.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE*
(Ba.length-1));ea[12]=Ba[ma][0];ea[13]=Ba[ma][1];ea[14]=Ba[ma][2]}else X.rotate(ea,ea,sa,[0,0,1]),ma=Math.round((1-V.ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE)*(Ba.length-1)),ea[12]=Ba[ma][0],ea[13]=Ba[ma][1],ea[14]=Ba[ma][2];ma=w.createExtrudedTriangle(V.ROTATE_INDICATOR_ARROW_TIP_LENGTH,0,V.ROTATE_INDICATOR_ARROW_TIP_RADIUS,V.RING_HEIGHT);w.transformInPlace(ma,ea);(ka?Aa:Ea).push(ma)}}ha=[];for(Ha=0;2>Ha;Ha++)sa=Ha*Math.PI-Math.PI/4,Ba=Math.PI/2-V.SCALE_INDICATOR_ARC_LENGTH,sa=Da(sa+Ba,sa+Math.PI/
2-Ba,V.OUTER_INDICATOR_RADIUS),ha.push(ba(sa,V.INDICATOR_THICKNESS));Ha=Da(0,2*Math.PI,V.RING_RADIUS+V.SCALE_INDICATOR_OFFSET1);sa=Da(0,2*Math.PI,V.RING_RADIUS+V.SCALE_INDICATOR_OFFSET2);Ha=ba(Ha,V.INDICATOR_THICKNESS);sa=ba(sa,V.INDICATOR_THICKNESS);Ba=Da(0,2*Math.PI,V.RING_RADIUS-V.SCALE_INDICATOR_OFFSET1);Fa=Da(0,2*Math.PI,V.RING_RADIUS-V.SCALE_INDICATOR_OFFSET2);Da=ba(Ba,V.INDICATOR_THICKNESS);ba=ba(Fa,V.INDICATOR_THICKNESS);Ba=this.createMaterial();Fa=this.createMaterial(.66);ea=this.createMaterial(.5);
ka=this.createMaterial(.33);ua=[{geometry:ua,material:Ba,stateMask:va.DelayedFocused},{geometry:ua,material:ea,stateMask:0}];this.mode&&"scale"!==this.mode||(ua=ua.concat([{geometry:ha,material:Ba,stateMask:va.DelayedFocused|va.Unlocked},{geometry:Ha,material:Fa,stateMask:va.DelayedFocused|va.ScaleIn},{geometry:sa,material:ka,stateMask:va.DelayedFocused|va.ScaleIn},{geometry:Da,material:Fa,stateMask:va.DelayedFocused|va.ScaleOut},{geometry:ba,material:ka,stateMask:va.DelayedFocused|va.ScaleOut}]));
this.mode&&"rotate"!==this.mode||(ua=ua.concat([{geometry:Ea,material:Ba,stateMask:va.DelayedFocused|va.Unlocked},{geometry:Aa,material:Ba,stateMask:va.DelayedFocused|va.RotateLeft},{geometry:Ea,material:Ba,stateMask:va.DelayedFocused|va.RotateRight}]));wa=[wa,...ta];return new Q.Manipulator3D({view:this.tool.view,renderObjects:ua,autoScaleRenderObjects:!1,worldOriented:!0,radius:V.RING_THICKNESS,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:K.getGraphicEffectiveElevationInfo(this.tool.graphicState.graphic),
collisionType:{type:"ribbon",paths:wa,direction:x.fromValues(0,0,1)}})};Ca.createMaterial=function(Da=1){const ba=[...V.HANDLE_COLOR,Da];return new C.ColorMaterial({color:ba,transparent:1!==Da,cullFace:2,renderOccluded:2})};Ca.applySymbolData=function(Da,ba,wa,ua){Da.symbolLayers.forEach((Aa,Ea)=>{const {heading:ta,size:ha}=ba.symbolLayers[Ea];"object"===Aa.type&&(Aa.heading=(F.isSome(ta)?ta:0)-G.toDegree(wa),F.isSome(ha)&&"width"in ha&&(ha.width=this.enforceNonZeroSize(ha.width),ha.height=this.enforceNonZeroSize(ha.height),
ha.depth=this.enforceNonZeroSize(ha.depth),Aa.width=ha.width*ua,Aa.depth=ha.depth*ua,Aa.height=ha.height*ua))})};Ca.enforceNonZeroSize=function(Da){return Da||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)};W._createClass(ra,[{key:"test",get:function(){return{ringManipulator:this.ringManipulator}}}]);return ra}();const xa=x.create(),za=P.createScreenPointArray();z.GraphicScaleRotateTransform=na;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/handleUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../core/Evented ../../../../../core/mathUtils ../../../../../core/screenUtils ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../core/Handles ../../../../../core/unitUtils ../../../../../core/watchUtils ../../../../../chunks/mat4 ../../../../../geometry/support/aaBoundingRect ../../../../../chunks/vec2f64 ../../../../../chunks/vec2 ../../../../../support/elevationInfoUtils ../../../support/stack ../../../support/geometryUtils ../../../layers/graphics/elevationAlignmentUtils ../../../layers/graphics/ElevationContext ../../../webgl-engine/lib/Texture ../../../../interactive/editGeometry/EditGeometry ../../../../interactive/dragEventPipeline ../../../../interactive/InteractiveToolBase ../dragEventPipeline3D ../../manipulatorUtils ../manipulatorUtils ../../analysisTools/slice/sliceToolUtils ../../analysisTools/slice/images/heading-rotate-png ../../visualElements/OutlineVisualElement ../../../layers/graphics/GraphicState ../visualElementUtils ../manipulations/MoveXYGraphicManipulation ../reshapeGraphic/ReshapeOperation ./PreserveAspectRatio ../../../../interactive/editGeometry/support/editPlaneUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia,la,pa,oa,va,na,xa,za,ra,Ca,Da,ba,wa,ua,Aa,Ea,ta,ha,sa,Ba){z.ExtentTransformTool=function(Ha){function Fa(ea){ea=Ha.call(this,ea)||this;ea.enableZ=!0;ea.enableRotation=!0;ea.enableScaling=!0;ea._preserveAspectRatio=new sa.PreserveAspectRatio;ea.grabbing=!1;ea.inputState=null;ea.type="transform-3d";ea.handles=new C;ea.moveZManipulator=null;ea.resizeManipulators=null;ea.rotateManipulator=null;ea.attachmentOrigin=null;ea.outlineVisualElement=
null;ea.mapBounds=la.boundedPlane.create();ea.mapBoundsStart=la.boundedPlane.create();ea.displayBounds=la.boundedPlane.create();ea.displayBoundsStart=la.boundedPlane.create();ea.displayBoundsMarginStart=0;ea.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}];return ea}W._inheritsLoose(Fa,Ha);var ka=Fa.prototype;ka.initialize=function(){this.graphicState=new Aa.GraphicState({graphic:this.graphic});
var ea=this.graphic.geometry;this.reshapeHelper=new ha.ReshapeGeometryHelper(na.EditGeometry.fromGeometry(ea,this.view.viewingMode),ea.type);this.graphicMoveManipulation=new ta.MoveXYGraphicManipulation({tool:this,view:this.view,graphicState:this.graphicState});this.handles.add(this._createMoveXYGraphicDragPipeline());this.moveZManipulator=ba.createShiftManipulator(this.view,0);this.moveZManipulator.state|=ba.IsShiftEdgeOnScreenFlag;this.handles.add(this.watch("enableZ",()=>this.updateManipulatorAvailability(this.moveZManipulator,
0)));this.handles.add(this._createMoveZDragPipeline());this.manipulators.add(this.moveZManipulator);this.resizeManipulators=this.resizeHandles.map(ma=>{const J=ba.createResizeManipulator(this.view,ma);this.handles.add(this.watch("enableScaling",()=>this.updateManipulatorAvailability(J,2)));J.events.on("grab-changed",Ja=>this._onResizeGrab(Ja));this.handles.add(this._createResizeDragPipeline(J,ma));return J});this.manipulators.addMany(this.resizeManipulators);this.rotateManipulatorTexture=new va.Texture(wa,
{width:64,height:64,mipmap:!0,preMultiplyAlpha:!0});this.view._stage&&this.view._stage.add(this.rotateManipulatorTexture);this.rotateManipulator=ba.createRotateManipulator(this.view,this.rotateManipulatorTexture);this.handles.add(this.watch("enableRotation",()=>this.updateManipulatorAvailability(this.rotateManipulator,3)));this.rotateManipulator.events.on("grab-changed",ma=>{this._onRotateGrab(ma)});this.handles.add(this._createRotateDragPipeline(this.rotateManipulator));this.manipulators.add(this.rotateManipulator);
this.calculateMapBounds();this.updateDisplayBounds(this.mapBounds);ea=Ea.createVisualElements({view:this.view,graphic:this.graphic,forEachManipulator:ma=>this.forEachManipulator(ma),onManipulatorsChanged:()=>x.makeHandle()});this.outlineVisualElement=ea.visualElement instanceof ua.OutlineVisualElement?ea.visualElement:null;L.isSome(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on("attachment-origin-changed",()=>this.updateDisplayBounds(this.mapBounds)));this.handles.add(ea);
this.handles.add([this.graphicState.on("changed",()=>this.onGeometryChanged()),this.graphicState.watch("displaying",()=>this.updateAllManipulatorAvailability()),T.init(this.graphicState,"isDraped",()=>this.graphicDrapedChanged()),this.view.trackGraphicState(this.graphicState)]);(ea=this.view.pointsOfInterest)&&this.handles.add(ea.focus.watch("location",()=>this.updateDisplayBounds(this.mapBounds)));ea=ma=>{this.handles.add(ma.events.on("grab-changed",()=>{this.grabbing=ma.grabbing;this.updateAllManipulatorAvailability()}))};
this.forEachManipulator(ea);this.graphicMoveManipulation.forEachManipulator(ea);ea=(ma,J)=>{this.handles.add(ma.events.on("immediate-click",Ja=>{1===J&&this.emit("immediate-click",{...Ja,graphic:this.graphic});Ja.stopPropagation()}))};this.forEachManipulator(ea);this.graphicMoveManipulation.forEachManipulator(ea);this.onGeometryChanged();this.updateAllManipulatorAvailability()};ka.graphicDrapedChanged=function(){this.handles.remove("draped-elevation-changes");this.updateDisplayBounds(this.mapBounds);
this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on("elevation-change",ea=>{L.isSome(this.attachmentOrigin)&&I.containsXY(ea.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds(this.mapBounds)}),"draped-elevation-changes")};ka.updateAllManipulatorAvailability=function(){this.forEachManipulator((ea,ma)=>this.updateManipulatorAvailability(ea,ma))};ka.updateManipulatorAvailability=function(ea,ma){const J=this.graphicState.displaying,Ja=this.grabbing&&
!ea.grabbing;ea.interactive=!Ja;const Ka=this.enableZ&&Da.canMoveZ(this.graphic);switch(ma){case 3:ea.available=J&&this.enableRotation;break;case 2:ea.available=J&&(this.enableScaling||this.enableRotation||Ka);ea.interactive=!Ja&&this.enableScaling;ea.state=this.enableScaling?ba.resizeNormal:ba.resizeOutlineOnly;break;case 0:ea.available=J&&Ka;break;default:ea.available=J}};ka.forEachManipulator=function(ea){this.resizeManipulators.forEach(ma=>ea(ma,2));ea(this.rotateManipulator,3);ea(this.moveZManipulator,
0)};ka.destroy=function(){this.view._stage&&this.view._stage.remove(this.rotateManipulatorTexture);this.handles.destroy();this.graphicMoveManipulation.destroy();this.reshapeHelper.destroy();this._set("view",null);this._set("graphic",null)};ka.reset=function(){};ka.onDetach=function(){this.displayBounds=this.mapBounds=null};ka.onGeometryChanged=function(){this.updateDisplayBounds(this.mapBounds)};ka.calculateMapBounds=function(){const ea=this.graphic.geometry,ma=this.reshapeHelper.editGeometry;var J=
ma.components[0].edges[0];J=R.subtract(ia.sv2d.get(),J.left.pos,J.right.pos);R.normalize(J,J);var Ja=L.unwrapOr(Ca.getGraphicAttachmentOrigin(this.view,this.graphic),ea.extent.center);Ja=80*this.view.pixelSizeAt(Ja);const Ka=this.view.spatialReference;Ka!==ea.spatialReference&&(Ja*=N.getMetersPerUnitForSR(Ka)/N.getMetersPerUnitForSR(ea.spatialReference));Ba.calculateOrientedBounds(J,ma,Ja,this.mapBounds)};ka.updateDisplayBounds=function(ea){const ma=this.graphic.geometry;var J=L.isSome(this.outlineVisualElement)&&
!this.graphicState.isDraped&&L.isSome(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:Ca.getGraphicAttachmentOrigin(this.view,this.graphic);this.attachmentOrigin=L.unwrapOr(J,ma.extent.center);J=L.isSome(J)?J.z:pa.evaluateElevationAlignmentAtPoint(ea.origin,this.view.elevationProvider,oa.ElevationContext.fromElevationInfo(ja.getGraphicEffectiveElevationInfo(this.graphic)),this.view.renderCoordsHelper);const Ja=la.boundedPlane.copy(ea);w.set(Ja.origin,ea.origin[0],
ea.origin[1],J);Ba.mapPlaneToRenderPlane(Ja,this.view.renderCoordsHelper,ma.spatialReference,this.displayBoundsMargin(),this.displayBounds);this.updateManipulators()};ka.displayBoundsMargin=function(){const ea=this.view.pointsOfInterest;return 10*this.view.pixelSizeAt(ea?ea.focus.location:this.reshapeHelper.geometry.extent.center)};ka._createMoveXYGraphicDragPipeline=function(){return this.graphicMoveManipulation.createDragPipeline((ea,ma,J)=>this.applyGraphicMoveSteps(ma,J))};ka._createMoveZDragPipeline=
function(){const ea=this.view,ma=this.reshapeHelper.geometry.spatialReference;return xa.createManipulatorDragEventPipeline(this.moveZManipulator,(J,Ja,Ka)=>{J=y.clone(J.renderLocation);Ja=Ja.next(ra.screenToZConstrained(ea,J,ma)).next(xa.addScreenDelta());this.applyGraphicMoveSteps(Ja,Ka)})};ka.applyGraphicMoveSteps=function(ea,ma){ea=ea.next(J=>{"start"===J.action&&(this.inputState={type:"move"},la.boundedPlane.copy(this.mapBounds,this.mapBoundsStart),this.emit("graphic-translate-start",{graphic:this.graphic,
dxScreen:J.screenDeltaX,dyScreen:J.screenDeltaY}));return J}).next(xa.addMapDelta()).next(this._moveDragUpdateGeometry()).next(J=>{const Ja={graphic:this.graphic,dxScreen:J.screenDeltaX,dyScreen:J.screenDeltaY};switch(J.action){case "start":case "update":(J.mapEnd.x-J.mapStart.x||J.mapEnd.y-J.mapStart.y||J.mapEnd.z-J.mapStart.z)&&this.emit("graphic-translate",Ja);break;case "end":this.inputState=null,this.emit("graphic-translate-stop",Ja)}return J});ma.next(()=>{L.isSome(this.inputState)&&this.emit("graphic-translate-stop",
{graphic:this.graphic,dxScreen:0,dyScreen:0});this.cancel()});return ea};ka._moveDragUpdateGeometry=function(){return ea=>{if(L.isNone(this.inputState)||"move"!==this.inputState.type)return ea;var ma=[];for(const J of this.reshapeHelper.editGeometry.components)ma.push(...J.vertices);ma=this.reshapeHelper.moveVertices(ma,ea.mapDeltaX,ea.mapDeltaY,ea.mapDeltaZ,"start"===ea.action?0:1);Ba.apply(ma,this.mapBounds);this.graphic.geometry=this.reshapeHelper.geometry;return ea}};ka._onResizeGrab=function(ea){"start"===
ea.action&&(ea=this._calculatePickRay(ea.screenPoint),la.plane.intersectRay(this.displayBounds.plane,ea,ia.sv3d.get())&&(la.boundedPlane.copy(this.displayBounds,this.displayBoundsStart),la.boundedPlane.copy(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin(),this.inputState={type:"resize"}))};ka._createResizeDragPipeline=function(ea,ma){return xa.createManipulatorDragEventPipeline(ea,(J,Ja,Ka)=>{L.isNone(this.inputState)||(Ja.next(Qa=>{"start"===Qa.action&&
this.emit("graphic-scale-start",{graphic:this.graphic,xScale:1,yScale:1});return Qa}).next(ra.screenToRenderPlane(this.view,this.displayBoundsStart.plane)).next(Qa=>({...Qa,handle:ma})).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next(Qa=>{const Ua={graphic:this.graphic,xScale:Qa.factor1,yScale:Qa.factor2};switch(Qa.action){case "start":case "update":this.emit("graphic-scale",
Ua);break;case "end":this.inputState=null,this.emit("graphic-scale-stop",Ua)}return Qa}),Ka.next(()=>{L.isSome(this.inputState)&&this.emit("graphic-scale-stop",{graphic:this.graphic,xScale:1,yScale:1});this.cancel()}))})};ka._resizeDragRenderPlaneToFactors=function(){return ea=>{const ma=this.displayBoundsStart,J=ea.handle.direction,Ja=this.displayBoundsMargin(),Ka=this.displayBoundsMarginStart;var Qa=w.copy(ia.sv3d.get(),ma.origin);w.scaleAndAdd(Qa,Qa,ma.basis1,-J[0]);w.scaleAndAdd(Qa,Qa,ma.basis2,
-J[1]);const Ua=w.subtract(ia.sv3d.get(),ea.renderEnd,Qa),cb=w.subtract(ia.sv3d.get(),ea.renderStart,Qa),gb=ba.isDiagonalResizeHandle(ea.handle);Qa=ba.calculateDiagonalResizeHandleScale(ma);const hb=ba.calculateDiagonalResizeHandleScale(this.displayBounds)/Qa;Qa=(fb,Na)=>{if(0===fb)return 1;let g=w.length(Na),u=.5*fb*w.dot(Na,Ua)/g;const l=0>u?-1:1;gb&&(fb=g-.5*fb*w.dot(Na,cb)/g,u+=fb*l*hb);fb=g<1.5*Ka?1:1E-6;g=Math.max(g-Ka,1E-6);0<l&&(u-=Ja);return l*Math.max(u/g*l,fb)};return{...ea,factor1:Qa(J[0],
ma.basis1),factor2:Qa(J[1],ma.basis2)}}};ka._resizeDragUpdateGeometry=function(){return ea=>{var ma=w.copy(y.create(),this.mapBoundsStart.origin);w.scaleAndAdd(ma,ma,this.mapBoundsStart.basis1,-ea.handle.direction[0]);w.scaleAndAdd(ma,ma,this.mapBoundsStart.basis2,-ea.handle.direction[1]);const J=R.set(V.create(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);R.normalize(J,J);const Ja=[];for(var Ka of this.reshapeHelper.editGeometry.components)Ja.push(...Ka.vertices);Ka="start"===ea.action?
0:1;ma=this.reshapeHelper.scaleVertices(Ja,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(ma),J,ea.factor1,ea.factor2,Ka,1);la.boundedPlane.copy(this.mapBoundsStart,this.mapBounds);Ba.apply(ma,this.mapBounds);this.graphic.geometry=this.reshapeHelper.geometry;return ea}};ka._onRotateGrab=function(ea){if("start"===ea.action){var ma=ba.createRotatePlane(this.displayBounds,this.view.renderCoordsHelper,1,la.plane.create());ea=this._calculatePickRay(ea.screenPoint);la.plane.intersectRay(ma,ea,
ia.sv3d.get())&&(la.boundedPlane.copy(this.displayBounds,this.displayBoundsStart),la.boundedPlane.copy(this.mapBounds,this.mapBoundsStart),this.inputState={type:"rotate",rotatePlane:ma})}};ka._createRotateDragPipeline=function(ea){return xa.createManipulatorDragEventPipeline(ea,(ma,J,Ja)=>{ma=this.inputState;L.isNone(ma)||(J.next(Ka=>{"start"===Ka.action&&this.emit("graphic-rotate-start",{graphic:this.graphic,angle:0});return Ka}).next(ra.screenToRenderPlane(this.view,ma.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(ma)).next(this._rotateDragUpdateGeometry()).next(Ka=>
{const Qa={graphic:this.graphic,angle:K.rad2deg(Ka.rotateAngle)};switch(Ka.action){case "start":case "update":this.emit("graphic-rotate",Qa);break;case "end":this.inputState=null,this.emit("graphic-rotate-stop",Qa)}return Ka}),Ja.next(()=>{L.isSome(this.inputState)&&this.emit("graphic-rotate-stop",{graphic:this.graphic,angle:0});this.cancel()}))})};ka._rotateDragRenderPlaneToRotate=function(ea){return ma=>{const J=la.plane.normal(ea.rotatePlane),Ja=Ca.calculateInputRotationTransform(ma.renderStart,
ma.renderEnd,this.displayBounds.origin,J);return{...ma,rotateAxis:J,rotateAngle:Ja}}};ka._rotateDragUpdateGeometry=function(){return ea=>{var ma=w.copy(y.create(),this.mapBoundsStart.origin);const J=[];for(var Ja of this.reshapeHelper.editGeometry.components)J.push(...Ja.vertices);Ja="start"===ea.action?0:1;ma=this.reshapeHelper.rotateVertices(J,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(ma),ea.rotateAngle,Ja,1);la.boundedPlane.copy(this.mapBoundsStart,this.mapBounds);Ba.apply(ma,this.mapBounds);
this.graphic.geometry=this.reshapeHelper.geometry;return ea}};ka._calculatePickRay=function(ea){const ma=la.ray.create();ea=A.screenPointObjectToArray(ea);la.ray.fromScreen(this.view.state.camera,ea,ma);w.normalize(ma.direction,ma.direction);return ma};ka.updateManipulators=function(){if(this.visible){var ea=ba.calculateBoundedPlaneTranslateRotate(this.displayBounds,ia.sm4d.get());ba.updateRotateHeadingHandle(this.rotateManipulator,ea,this.displayBounds,this.view.renderCoordsHelper);this.updateZMoveHandle(this.moveZManipulator,
ea);this.resizeManipulators.forEach((ma,J)=>{ba.updateResizeHandle(ma,this.resizeHandles[J],ea,this.displayBounds)})}};ka.updateZMoveHandle=function(ea,ma){var J=this.displayBounds;J=w.subtract(ia.sv3d.get(),J.origin,J.basis1);const Ja=ia.sm4d.get();Q.rotateZ(Ja,ma,2*Math.PI/2);Ja[12]=0;Ja[13]=0;Ja[14]=0;ea.modelTransform=Ja;ea.renderLocation=J};ka.cancel=function(){const ea=this.reshapeHelper.editGeometry.lastOperation;L.isNone(ea)||(this.reshapeHelper.undo(),this.graphic.geometry=this.reshapeHelper.geometry,
Ba.unapply(ea,this.mapBounds),this.updateDisplayBounds(this.mapBounds),this.inputState=null)};ka.canUndo=function(){return this.reshapeHelper.canUndo};ka.undo=function(){if(L.isSome(this.inputState))this.view.activeTool=null;else if(this.canUndo()){const ea=this.reshapeHelper.undo();this.graphic.geometry=this.reshapeHelper.geometry;Ba.unapply(L.unwrap(ea),this.mapBounds);this.updateDisplayBounds(this.mapBounds)}};ka.canRedo=function(){return this.reshapeHelper.canRedo};ka.redo=function(){if(this.canRedo()){const ea=
this.reshapeHelper.redo();this.graphic.geometry=this.reshapeHelper.geometry;Ba.apply(L.unwrap(ea),this.mapBounds);this.updateDisplayBounds(this.mapBounds)}};W._createClass(Fa,[{key:"preserveAspectRatio",get:function(){return this._preserveAspectRatio.enabled},set:function(ea){this._preserveAspectRatio.enabled=ea;this._set("preserveAspectRatio",ea)}}]);return Fa}(U.EventedMixin(za.InteractiveToolBase));F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.ExtentTransformTool.prototype,"view",
void 0);F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.ExtentTransformTool.prototype,"graphic",void 0);F.__decorate([G.property({constructOnly:!0,nonNullable:!0})],z.ExtentTransformTool.prototype,"enableZ",void 0);F.__decorate([G.property()],z.ExtentTransformTool.prototype,"enableRotation",void 0);F.__decorate([G.property()],z.ExtentTransformTool.prototype,"enableScaling",void 0);F.__decorate([G.property()],z.ExtentTransformTool.prototype,"preserveAspectRatio",null);F.__decorate([G.property()],
z.ExtentTransformTool.prototype,"grabbing",void 0);F.__decorate([G.property()],z.ExtentTransformTool.prototype,"inputState",void 0);F.__decorate([G.property({readOnly:!0})],z.ExtentTransformTool.prototype,"type",void 0);z.ExtentTransformTool=F.__decorate([H.subclass("esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool")],z.ExtentTransformTool);z.EPSILON=1E-6;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/analysisTools/slice/sliceToolUtils":function(){define("exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../core/Logger ../../../../../geometry/Point ../../../../../geometry ../../../../../core/mathUtils ../../../../../core/screenUtils ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../chunks/mat4 ../../../../../chunks/mat4f64 ../../../../../chunks/quat ../../../support/stack ../../../../../chunks/vector ../../../support/geometryUtils ../../../webgl-engine/lib/Geometry ../../../webgl-engine/lib/GeometryUtil ../../../webgl-engine/materials/RibbonLineMaterial ../../../webgl-engine/materials/NativeLineMaterial ../../../webgl-engine/materials/ColorMaterial ../../Manipulator3D ../../manipulatorUtils ../../visualElements/LineVisualElement ./sliceToolConfig ../../visualElements/SlicePlaneVisualElement ../../../webgl-engine/materials/ImageMaterial ../../../../../widgets/Slice/SlicePlane".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K,A,y,w,C,N,T,Q,I,V,R,ja,ia){function la(ba,wa,ua,Aa,Ea,ta){const ha=D.dot(ba,wa),sa=X.sv3d.get(),Ba=X.sv3d.get();switch(0===Aa?Math.abs(ha)>V.VERTICAL_DOT_THRESHOLD?1:2:Aa){case 2:D.cross(sa,Math.abs(ha)<=V.SMALL_ANGLE_DOT_THRESHOLD?ba:ua.viewUp,wa);D.copy(Ba,wa);break;case 1:D.cross(sa,ua.viewUp,wa);D.cross(Ba,wa,sa);break;case 3:D.cross(sa,Math.abs(ha)<=V.SMALL_ANGLE_DOT_THRESHOLD?wa:ua.viewUp,ba),D.cross(Ba,ba,sa)}ba=D.cross(X.sv3d.get(),sa,Ba);0<D.dot(ba,
ua.viewForward)&&D.scale(Ba,Ba,-1);D.normalize(Ea,sa);D.normalize(ta,Ba)}function pa(ba,wa){switch(wa){case 0:return{basis:ba.basis1,direction:1,position:D.add(X.sv3d.get(),ba.origin,ba.basis1),edge:wa};case 1:return{basis:ba.basis2,direction:1,position:D.add(X.sv3d.get(),ba.origin,ba.basis2),edge:wa};case 2:return{basis:ba.basis1,direction:-1,position:D.subtract(X.sv3d.get(),ba.origin,ba.basis1),edge:wa};case 3:return{basis:ba.basis2,direction:-1,position:D.subtract(X.sv3d.get(),ba.origin,ba.basis2),
edge:wa}}}function oa(ba,wa,ua){const Aa=ua.projectToRenderScreen(D.add(X.sv3d.get(),ba,wa),x.castRenderScreenPointArray3(X.sv3d.get()));ba=ua.projectToRenderScreen(D.subtract(X.sv3d.get(),ba,wa),x.castRenderScreenPointArray3(X.sv3d.get()));return D.squaredLength(D.subtract(Aa,Aa,ba))}function va(ba){const wa=D.length(ba.basis1);ba=D.length(ba.basis2);return V.RESIZE_HANDLE_EDGE_PADDING_FRAC*Math.min(wa,ba)}function na(ba){return 0!==ba.direction[0]&&0!==ba.direction[1]}function xa(ba,wa,ua){const Aa=
Ea=>{const ta=(Ea?wa:ba).slice(0);var ha=D.subtract(X.sv3d.get(),ta[0],ta[1]);D.normalize(ha,ha);var sa=D.subtract(X.sv3d.get(),ta[ta.length-1],ta[ta.length-2]);D.normalize(sa,sa);if(0<ua.padding){var Ba=D.scale(G.create(),sa,-ua.padding);ta[ta.length-1]=D.add(Ba,Ba,ta[ta.length-1]);ua.bothEnds&&(Ba=D.scale(G.create(),ha,-ua.padding),ta[0]=D.add(Ba,Ba,ta[0]))}var Ha=Ea?ua.tipFocusMultiplier:1;Ba=ua.tipLength*(ua.focusTipLength?Ha:1);const Fa=ua.tipRadius*Ha;Ha=H.identity(X.sm4d.get());if(0<ua.padding){var ka=
Ba/4,ea=D.set(X.sv3d.get(),0,ka,0);ka=1+ua.padding/ka;H.translate(Ha,Ha,ea);H.scale(Ha,Ha,D.set(X.sv3d.get(),ka,ka,ka));H.translate(Ha,Ha,D.scale(ea,ea,-1/ka))}ka=H.identity(Y.create());ea=G.fromValues(0,1,0);sa=H.fromQuat(Y.create(),aa.rotationTo(X.sq4d.get(),ea,sa));sa[12]=ta[ta.length-1][0];sa[13]=ta[ta.length-1][1];sa[14]=ta[ta.length-1][2];H.multiply(sa,sa,Ha);{Ea=ua.tubeRadius*(Ea?ua.tubeFocusMultiplier:1)+ua.padding;var ma=ua.flat;const Ja=[];if(F.isSome(ma))Ja.push([Ea,ma.thickness/2],[-Ea,
ma.thickness/2],[-Ea,-ma.thickness/2],[Ea,-ma.thickness/2]);else for(ma=0;12>ma;ma++){const Ka=ma/12*2*Math.PI;Ja.push([Math.cos(Ka)*Ea,Math.sin(Ka)*Ea])}Ea=y.createPathExtrusionGeometry(Ja,ta,[],[],!1)}Ea=[{part:"tube",geometry:Ea,transform:ka}];let J;F.isSome(ua.flat)?ka=y.createExtrudedTriangle(Ba,Fa,Fa,ua.flat.thickness):(ka=y.createConeGeometry(Ba,Fa,24,!1,!1,!0),J=y.createConeGeometry(Ba,Fa,24,!1,!0,!1));Ea.push({part:"tip",geometry:ka,transform:sa});J&&Ea.push({part:"cap",geometry:J,transform:sa});
ua.bothEnds&&(ha=H.fromQuat(Y.create(),aa.rotationTo(X.sq4d.get(),ea,ha)),ha[12]=ta[0][0],ha[13]=ta[0][1],ha[14]=ta[0][2],H.multiply(ha,ha,Ha),Ea.push({part:"tip",geometry:ka,transform:ha}),J&&Ea.push({part:"cap",geometry:J,transform:ha}));return Ea};return{normal:Aa(!1),focused:Aa(!0)}}function za(ba,wa){const ua=D.subtract(G.create(),ba[ba.length-1],ba[ba.length-2]);D.normalize(ua,ua);D.scale(ua,ua,V.ROTATE_HEADING_TIP_LENGTH);D.add(ua,ua,ba[ba.length-1]);return wa?(wa=D.subtract(G.create(),ba[0],
ba[1]),D.normalize(wa,wa),D.scale(wa,wa,V.ROTATE_HEADING_TIP_LENGTH),D.add(wa,wa,ba[0]),[wa,...ba,ua]):[...ba,ua]}const ra=Z.getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils"),Ca=K.ray.create(),Da=Math.PI/2;z.DidPointerMoveRecentlyFlag=16;z.IsShiftEdgeOnScreenFlag=32;z.addArrowTips=za;z.calculateBoundedPlaneTranslateRotate=function(ba,wa){return Q.calculateTranslateRotateFromBases(ba.basis1,ba.basis2,ba.origin,wa)};z.calculateDiagonalResizeHandleScale=function(ba){return va(ba)};
z.calculatePlaneHalfSize=function(ba,wa){return V.INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION*Math.min(wa.width,wa.height)*wa.computeRenderPixelSizeAt(ba)};z.calculateResizeHandlePadding=va;z.calculateScreenSpaceBasisLength2=oa;z.createArrowGeometry=xa;z.createGridVisualElement=function(ba){return new R.SlicePlaneVisualElement({view:ba,attached:!0,backgroundColor:[...V.PLANE_BACKGROUND_COLOR],gridColor:V.GRID_COLOR,gridWidth:4,renderOccluded:4})};z.createOutlineVisualElement=function(ba){return new I.LineVisualElement({view:ba,
attached:!0,color:V.PLANE_OUTLINE_COLOR,width:V.PLANE_OUTLINE_WIDTH,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})};z.createPlane=function(ba,wa,ua,Aa,Ea,ta,ha,sa){ha=ha.worldUpAtPosition(ba,X.sv3d.get());la(wa,ha,Ea,ta,sa.basis1,sa.basis2);D.scale(sa.basis1,sa.basis1,ua);D.scale(sa.basis2,sa.basis2,Aa);D.copy(sa.origin,ba);K.plane.fromVectorsAndPoint(sa.basis2,sa.basis1,sa.origin,sa.plane);return sa};z.createResizeManipulator=function(ba,wa){const ua=
(wa=na(wa))?[G.fromValues(1,0,0),G.fromValues(0,0,0),G.fromValues(0,1,0)]:[G.fromValues(1,0,0),G.fromValues(-1,0,0)];var Aa=y.createPolylineGeometry(ua);const Ea=[...V.HANDLE_COLOR,1],ta=Fa=>new w.RibbonLineMaterial({color:Ea,width:Fa,renderOccluded:4}),ha=()=>new C.NativeLineMaterial({color:Ea,renderOccluded:4}),sa=wa?V.RESIZE_HANDLE_CORNER_WIDTH:V.RESIZE_HANDLE_EDGE_WIDTH,Ba=sa*V.DISPLAY_FOCUS_MULTIPLIER,Ha=V.RESIZE_HANDLE_EDGE_WIDTH;Aa=[{geometry:Aa,material:1<sa?ta(sa):ha(),stateMask:17},{geometry:Aa,
material:1<Ba?ta(Ba):ha(),stateMask:18},{geometry:Aa,material:1<Ha?ta(Ha):ha(),stateMask:32}];ba=new T.Manipulator3D({view:ba,renderObjects:Aa,collisionType:{type:"line",paths:[ua]},autoScaleRenderObjects:!1,worldSized:!0,radius:wa?V.RESIZE_HANDLE_CORNER_INPUT_RADIUS:V.RESIZE_HANDLE_EDGE_INPUT_RADIUS,idHint:wa?1:2});ba.state=16;return ba};z.createRotateManipulator=function(ba,wa){var ua=new ja.ImageMaterial({transparent:!0,writeDepth:!1,textureId:wa.id,renderOccluded:16});const Aa=V.ROTATE_HEADING_OFFSET_DISTANCE;
wa=V.ROTATE_HEADING_DISC_RADIUS;const Ea=wa*V.ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,ta=Ha=>{const Fa=new Uint32Array([0,1,2,2,3,0]);return new A.Geometry([["position",{size:3,data:[Aa-Ha,-Ha,0,Aa+Ha,-Ha,0,Aa+Ha,Ha,0,Aa-Ha,Ha,0],exclusive:!0}],["uv0",{size:2,data:[0,0,1,0,1,1,0,1]}]],[["position",Fa],["uv0",Fa]])},ha=y.createPolylineGeometry([[0,0,0],[Aa-wa,0,0]]),sa=y.createPolylineGeometry([[0,0,0],[Aa-Ea,0,0]]),Ba=new C.NativeLineMaterial({color:V.ROTATE_HEADING_CALLOUT_COLOR,renderOccluded:4});
ua=[{geometry:ta(wa),material:ua,stateMask:17},{geometry:ha,material:Ba,stateMask:17},{geometry:ta(Ea),material:ua,stateMask:18},{geometry:sa,material:Ba,stateMask:18}];return new T.Manipulator3D({view:ba,renderObjects:ua,autoScaleRenderObjects:!1,collisionType:{type:"disc",direction:[0,0,1],offset:[Aa,0,0]},collisionPriority:1,radius:wa/2,state:16})};z.createRotatePlane=function(ba,wa,ua,Aa){wa=wa.worldUpAtPosition(ba.origin,X.sv3d.get());const Ea=X.sv3d.get();switch(ua){case 1:D.copy(Ea,wa);break;
case 2:D.copy(Ea,ba.basis1)}return K.plane.fromPositionAndNormal(ba.origin,Ea,Aa)};z.createShiftManipulator=function(ba,wa=1){var ua=0===wa?V.SHIFT_RESTART_OFFSET_DISTANCE:0;const Aa=[G.fromValues(ua,0,-V.SHIFT_RESTART_ARROW_LENGTH/2),G.fromValues(ua,0,V.SHIFT_RESTART_ARROW_LENGTH/2)];wa=za(Aa,!0);var Ea=(ea,ma)=>xa(Aa,Aa,{tubeRadius:V.SHIFT_RESTART_TUBE_RADIUS,tipRadius:V.SHIFT_RESTART_TIP_RADIUS,tipLength:V.SHIFT_RESTART_TIP_LENGTH,tubeFocusMultiplier:V.SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,tipFocusMultiplier:V.SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,
padding:ea,bothEnds:!0,flat:null,focusTipLength:!0,addCap:ma});const ta=Ea(0,!1);Ea=Ea(V.SHIFT_RESTART_ARROW_OUTLINE_WIDTH,!0);const ha=new N.ColorMaterial({color:V.SHIFT_RESTART_ARROW_TIP_COLOR,cullFace:2,renderOccluded:16}),sa=new N.ColorMaterial({color:V.SHIFT_RESTART_ARROW_CAP_COLOR,cullFace:2,renderOccluded:16}),Ba=new N.ColorMaterial({color:V.SHIFT_RESTART_TUBE_COLOR,cullFace:2,renderOccluded:16}),Ha=new N.ColorMaterial({color:V.SHIFT_RESTART_OUTLINE_COLOR,transparent:!0,writeDepth:!1,cullFace:1,
renderOccluded:2}),Fa=y.createPolylineGeometry([[ua,0,0],[ua-V.SHIFT_RESTART_OFFSET_DISTANCE,0,0]]);ua=y.createPolylineGeometry([[ua,0,0],[ua-V.SHIFT_RESTART_OFFSET_DISTANCE,0,0]]);const ka=new C.NativeLineMaterial({color:V.SHIFT_RESTART_CALLOUT_COLOR,renderOccluded:4});return new T.Manipulator3D({view:ba,renderObjects:[...ta.normal.map(({part:ea,geometry:ma,transform:J})=>({geometry:ma,material:"tip"===ea?ha:"cap"===ea?sa:Ba,transform:J,stateMask:17})),...Ea.normal.map(({geometry:ea,transform:ma})=>
({geometry:ea,material:Ha,transform:ma,stateMask:17})),{geometry:Fa,material:ka,stateMask:49},...ta.focused.map(({part:ea,geometry:ma,transform:J})=>({geometry:ma,material:"tip"===ea?ha:"cap"===ea?sa:Ba,transform:J,stateMask:18})),...Ea.focused.map(({geometry:ea,transform:ma})=>({geometry:ea,material:Ha,transform:ma,stateMask:18})),{geometry:ua,material:ka,stateMask:50}],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[wa]},collisionPriority:1,radius:V.SHIFT_RESTART_TIP_RADIUS,state:16})};
z.createShiftPlane=function(ba,wa,ua,Aa){ua=D.cross(X.sv3d.get(),wa,ua);D.cross(ua,ua,wa);return K.plane.fromPositionAndNormal(ba,ua,Aa)};z.forceHorizontalOrVertical=function(ba,wa,ua){var Aa=wa.worldUpAtPosition(ba.origin,X.sv3d.get());wa=ba.basis1;Aa=U.angleAroundAxis(Aa,ba.basis2,ba.basis1)+Da;return K.boundedPlane.rotate(ba,Math.round(Aa/Da)*Da-Aa,wa,ua)};z.isAlwaysDrapedLayer=function(ba){switch(ba.type){case "building-scene":case "csv":case "feature":case "geo-rss":case "geojson":case "graphics":case "group":case "integrated-mesh":case "kml":case "map-notes":case "ogc-feature":case "point-cloud":case "route":case "scene":case "stream":case "unknown":case "unsupported":case null:return!1;
case "base-dynamic":case "base-elevation":case "base-tile":case "bing-maps":case "elevation":case "imagery":case "imagery-tile":case "map-image":case "open-street-map":case "tile":case "vector-tile":case "wcs":case "web-tile":case "wms":case "wmts":return!0;default:return W.neverReached(ba.type),!1}};z.isDiagonalResizeHandle=na;z.normalToBases=la;z.planeToShape=function(ba,wa,ua,Aa=new ia){if(F.isNone(ba))return null;const Ea=F.isSome(Aa.position)?Aa.position:new L;wa.fromRenderCoords(ba.origin,Ea,
ua);Aa.position=Ea;ua=wa.worldUpAtPosition(ba.origin,X.sv3d.get());wa=wa.worldBasisAtPosition(ba.origin,1,X.sv3d.get());Aa.width=2*D.length(ba.basis1);Aa.height=2*D.length(ba.basis2);Aa.tilt=P.rad2deg(U.angleAroundAxis(ua,ba.basis2,ba.basis1)+Da);Aa.heading=P.rad2deg(U.angleAroundAxis(ba.basis1,wa,ua)-Da);return Aa};z.resizeNormal=16;z.resizeOutlineOnly=32;z.resizePlane=function(ba,wa,ua,Aa,Ea,ta){const ha=D.copy(X.sv3d.get(),Ea.origin);D.add(ha,ha,D.scale(X.sv3d.get(),Ea.basis1,0>ba.direction[0]?
1:-1));D.add(ha,ha,D.scale(X.sv3d.get(),Ea.basis2,0>ba.direction[1]?1:-1));var sa=D.length(Ea.basis1);const Ba=D.length(Ea.basis2);ua=D.subtract(X.sv3d.get(),ua,ha);var Ha=D.subtract(X.sv3d.get(),wa,ha);let Fa=0;wa=0;if(na(ba)){var ka=va(Ea);const ea=va(ta);Fa=sa-.5*ba.direction[0]*D.dot(Ea.basis1,Ha)/sa;wa=Ba-.5*ba.direction[1]*D.dot(Ea.basis2,Ha)/Ba;Ha=ea/ka;Fa*=Ha;wa*=Ha}Ha=.5*ba.direction[0]*D.dot(Ea.basis1,ua)/sa;ka=.5*ba.direction[1]*D.dot(Ea.basis2,ua)/Ba;ua=Fa+Ha;wa+=ka;sa=D.scale(X.sv3d.get(),
Ea.basis1,ua/sa);Ea=D.scale(X.sv3d.get(),Ea.basis2,wa/Ba);(0>=ua||oa(ta.origin,sa,Aa)<=V.PLANE_MIN_BASIS_SCREEN_LEN2)&&D.copy(sa,ta.basis1);(0>=wa||oa(ta.origin,Ea,Aa)<=V.PLANE_MIN_BASIS_SCREEN_LEN2)&&D.copy(Ea,ta.basis2);Aa=D.copy(X.sv3d.get(),ha);D.add(Aa,Aa,D.scale(X.sv3d.get(),sa,0>ba.direction[0]?-1:1));D.add(Aa,Aa,D.scale(X.sv3d.get(),Ea,0>ba.direction[1]?-1:1));return K.boundedPlane.fromValues(Aa,sa,Ea,ta)};z.shapeToPlane=function(ba,wa,ua=K.boundedPlane.create()){if(F.isNone(ba)||F.isNone(ba.position))return null;
if(!wa.toRenderCoords(ba.position,ua.origin))return ra.error(`Failed to project slice plane position, projection from ${ba.position.spatialReference.wkid} is not supported`),null;wa.worldBasisAtPosition(ua.origin,0,ua.basis1);wa.worldBasisAtPosition(ua.origin,1,ua.basis2);K.plane.fromVectorsAndPoint(ua.basis2,ua.basis1,ua.origin,ua.plane);K.boundedPlane.rotate(ua,-P.deg2rad(ba.heading),K.boundedPlane.normal(ua),ua);K.boundedPlane.rotate(ua,P.deg2rad(ba.tilt),ua.basis1,ua);D.scale(ua.basis1,ua.basis1,
ba.width/2);D.scale(ua.basis2,ua.basis2,ba.height/2);K.boundedPlane.updateUnboundedPlane(ua);return ua};z.updateResizeHandle=function(ba,wa,ua,Aa){var Ea=D.length(Aa.basis1);const ta=D.length(Aa.basis2);var ha=va(Aa);const sa=va(Aa),Ba=D.set(X.sv3d.get(),0,0,0);D.add(Ba,D.scale(X.sv3d.get(),Aa.basis1,wa.direction[0]),D.scale(X.sv3d.get(),Aa.basis2,wa.direction[1]));D.add(Ba,Aa.origin,Ba);Aa=0;let Ha=1;na(wa)?(1===wa.direction[0]&&-1===wa.direction[1]?Aa=Da:1===wa.direction[0]&&1===wa.direction[1]?
Aa=Math.PI:-1===wa.direction[0]&&1===wa.direction[1]&&(Aa=3*Math.PI/2),Ha=sa):(Aa=0!==wa.direction[0]?1:2,Ea=1===Aa?ta:Ea,Aa=1===Aa?Da:0,Ha=Ea-ha);ha=H.identity(X.sm4d.get());H.rotateZ(ha,ha,Aa);H.scale(ha,ha,D.set(X.sv3d.get(),Ha,Ha,Ha));H.multiply(ha,ua,ha);ha[12]=0;ha[13]=0;ha[14]=0;ba.modelTransform=ha;ba.renderLocation=Ba};z.updateRotateHeadingHandle=function(ba,wa,ua,Aa){Aa=Aa.worldUpAtPosition(ua.origin,X.sv3d.get());const Ea=pa(ua,0),ta=H.identity(X.sm4d.get());H.rotateZ(ta,ta,Ea.edge*Math.PI/
2);H.rotateX(ta,ta,-(U.angleAroundAxis(Aa,ua.basis2,ua.basis1)+Da));H.multiply(ta,wa,ta);ta[12]=0;ta[13]=0;ta[14]=0;ba.modelTransform=ta;ba.renderLocation=Ea.position};z.updateRotateTiltHandle=function(ba,wa,ua){ua=pa(ua,1);const Aa=H.identity(X.sm4d.get());H.rotateZ(Aa,Aa,ua.edge*Math.PI/2);H.rotateX(Aa,Aa,Da);H.multiply(Aa,wa,Aa);Aa[12]=0;Aa[13]=0;Aa[14]=0;ba.modelTransform=Aa;ba.renderLocation=ua.position};z.updateShiftRestartHandle=function(ba,wa,ua,Aa){var Ea=pa(ua,2);const ta=X.sm4d.get();H.rotateZ(ta,
wa,Ea.edge*Math.PI/2);wa=D.normalize(X.sv3d.get(),Ea.basis);wa=D.scale(X.sv3d.get(),wa,Ea.direction*Aa.computeScreenPixelSizeAt(Ea.position)*V.SHIFT_RESTART_OFFSET_DISTANCE);D.add(wa,wa,Ea.position);Ea=Aa.projectToRenderScreen(wa,x.castRenderScreenPointArray3(X.sv3d.get()));{const [sa,Ba,Ha,Fa]=Aa.viewport;var ha=Math.min(Ha,Fa)/16;let ka=!0;Ea[0]<sa+ha?(Ea[0]=sa+ha,ka=!1):Ea[0]>sa+Ha-ha&&(Ea[0]=sa+Ha-ha,ka=!1);Ea[1]<Ba+ha?(Ea[1]=Ba+ha,ka=!1):Ea[1]>Ba+Fa-ha&&(Ea[1]=Ba+Fa-ha,ka=!1);ha=ka}K.ray.fromRender(Aa,
Ea,Ca);D.normalize(Ca.direction,Ca.direction);Aa=X.sv3d.get();!ha&&K.boundedPlane.intersectRay(ua,Ca,Aa)&&(wa=Aa);ta[12]=0;ta[13]=0;ta[14]=0;ba.modelTransform=ta;ba.renderLocation=G.clone(wa);ba.state=ha?ba.state|32:ba.state&-33};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/LineVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../chunks/mat4 ../../../../chunks/mat4f64 ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../webgl-engine/materials/RibbonLineMaterial ../../layers/graphics/lineUtils ./Object3DVisualElement".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y){Y=function(X){function U(A){var y=X.call(this,A)||this;y._renderOccluded=4;y._width=1;y._color=G.fromValues(1,0,1,1);y._innerWidth=1;y._innerColor=null;y._stipplePattern=null;y._stippleOffColor=null;y._stippleIntegerRepeats=!1;y._writeDepthEnabled=!0;y._falloff=0;y._polygonOffset=!1;y.applyProps(A);return y}W._inheritsLoose(U,X);var K=U.prototype;K.setGeometryFromExtent=function(A){const y=this.view.spatialReference,w=Z.create(),C=Z.create(),N=[];L.set(w,A[0],A[1],
100);this.view.renderCoordsHelper.toRenderCoords(w,y,C);N.push([C[0],C[1],C[2]]);L.set(w,A[2],A[1],100);this.view.renderCoordsHelper.toRenderCoords(w,y,C);N.push([C[0],C[1],C[2]]);L.set(w,A[2],A[3],100);this.view.renderCoordsHelper.toRenderCoords(w,y,C);N.push([C[0],C[1],C[2]]);L.set(w,A[0],A[3],100);this.view.renderCoordsHelper.toRenderCoords(w,y,C);N.push([C[0],C[1],C[2]]);L.set(w,A[0],A[1],100);this.view.renderCoordsHelper.toRenderCoords(w,y,C);N.push([C[0],C[1],C[2]]);L.set(w,A[0],A[1],100);this.view.renderCoordsHelper.toRenderCoords(w,
y,C);N.push([C[0],C[1],C[2]]);this.geometry=[N]};K.setGeometryFromFrustum=function(A){const y=[];A.lines.forEach(w=>{y.push([w.origin[0],w.origin[1],w.origin[2]]);y.push([w.endpoint[0],w.endpoint[1],w.endpoint[2]])});this.geometry=[y]};K.setGeometryFromSegment=function(A){const y=A.endRenderSpace;B.identity(aa);B.translate(aa,aa,y);this.transform=aa;({points:A}=A.createRenderGeometry(y,this.view.renderCoordsHelper));this.geometry=[A]};K.setGeometryFromSegments=function(A,y=Z.ZEROS){B.identity(aa);
B.translate(aa,aa,y);this.transform=aa;this.geometry=A.map(w=>w.createRenderGeometry(y,this.view.renderCoordsHelper).points)};K.createExternalResources=function(){this._material=new D.RibbonLineMaterial(this.materialParameters)};K.destroyExternalResources=function(){this._material=null};K.createGeometries=function(A){const y=this._createLineGeometries();if(0!==y.length)for(let w=0;w<y.length;++w){const C=H.createGeometry(y[w]);A.addGeometry(C,this._material)}};K.forEachExternalMaterial=function(A){A(this._material)};
K._updateMaterial=function(){this.attached&&this._material.setParameterValues(this.materialParameters)};K._createLineGeometries=function(){const A=this.geometry;if(F.isNone(A)||0===A.length)return[];const y=[];A.forEach(w=>{const C=new Float64Array(3*w.length);w.forEach((N,T)=>{C[3*T]=N[0];C[3*T+1]=N[1];C[3*T+2]=N[2]});y.push({attributeData:{position:C},removeDuplicateStartEnd:0})});return y};W._createClass(U,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(A){A!==this._renderOccluded&&
(this._renderOccluded=A,this._updateMaterial())}},{key:"geometry",get:function(){return this._geometry},set:function(A){this._geometry=A;this.recreateGeometry()}},{key:"width",get:function(){return this._width},set:function(A){A!==this._width&&(this._width=A,this._updateMaterial())}},{key:"color",get:function(){return this._color},set:function(A){x.exactEquals(A,this._color)||(x.copy(this._color,A),this._updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(A){A!==
this._innerWidth&&(this._innerWidth=A,this._updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(A){if(F.isSome(A)){if(F.isNone(this._innerColor)||!x.exactEquals(A,this._innerColor))this._innerColor=x.copy(G.create(),A),this._updateMaterial()}else F.isSome(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(A){const y=F.isSome(A)!==F.isSome(this._stipplePattern);this._stipplePattern=
A;y?this.recreate():this._updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(A){if(F.isNone(A)||F.isNone(this._stippleOffColor)||!x.exactEquals(A,this._stippleOffColor))this._stippleOffColor=F.isSome(A)?G.clone(A):null,this._updateMaterial()}},{key:"stippleIntegerRepeats",get:function(){return this._stippleIntegerRepeats},set:function(A){this._stippleIntegerRepeats!==A&&(this._stippleIntegerRepeats=A,this._updateMaterial())}},{key:"writeDepthEnabled",
get:function(){return this._writeDepthEnabled},set:function(A){this._writeDepthEnabled!==A&&(this._writeDepthEnabled=A,this._updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(A){A!==this._falloff&&(this._falloff=A,this._updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(A){A!==this._polygonOffset&&(this._polygonOffset=A,this._updateMaterial())}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,
stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}}]);return U}(Y.Object3DVisualElement);const aa=P.create();z.LineVisualElement=Y;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/analysisTools/slice/sliceToolConfig":function(){define(["exports",
"../../../../../core/has","../../../../../core/mathUtils"],function(z,W,F){W=W("mac")?"Meta":"Control";const Z=Math.cos(F.deg2rad(45));F=Math.cos(F.deg2rad(5));const L=[1,.5,0],B=[...L,.7],P=[...L,.5],x=[...L,1],G=[...L,1],D=[...L,1];z.DISPLAY_FOCUS_MULTIPLIER=2;z.GRID_COLOR=P;z.HANDLE_COLOR=L;z.HANDLE_OPACITY=.7;z.INITIAL_DEPTH_OFFSET_FRAC=.02;z.INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION=.4;z.PLANE_BACKGROUND_COLOR=[0,0,0,.04];z.PLANE_MIN_BASIS_SCREEN_LEN2=1600;z.PLANE_OUTLINE_COLOR=B;z.PLANE_OUTLINE_WIDTH=
1;z.PLANE_PREVIEW_OUTLINE_WIDTH=2;z.POINTER_MOVE_TIMER_MS=2500;z.PREVIEW_FADE_DOT_THRESHOLD=.95;z.PREVIEW_FADE_DURATION_SECONDS=.3;z.RESIZE_HANDLE_CORNER_INPUT_RADIUS=6;z.RESIZE_HANDLE_CORNER_WIDTH=4;z.RESIZE_HANDLE_EDGE_INPUT_RADIUS=4;z.RESIZE_HANDLE_EDGE_PADDING_FRAC=.3;z.RESIZE_HANDLE_EDGE_WIDTH=1;z.ROTATE_HEADING_CALLOUT_COLOR=x;z.ROTATE_HEADING_DISC_RADIUS=27;z.ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER=1.1;z.ROTATE_HEADING_OFFSET_DISTANCE=40;z.ROTATE_HEADING_TIP_LENGTH=12;z.SHIFT_RESTART_ARROW_CAP_COLOR=
[1,.8,.6,1];z.SHIFT_RESTART_ARROW_LENGTH=48;z.SHIFT_RESTART_ARROW_OUTLINE_WIDTH=2.25;z.SHIFT_RESTART_ARROW_TIP_COLOR=[1,1,1,1];z.SHIFT_RESTART_CALLOUT_COLOR=G;z.SHIFT_RESTART_OFFSET_DISTANCE=40;z.SHIFT_RESTART_OUTLINE_COLOR=D;z.SHIFT_RESTART_TIP_FOCUS_MULTIPLIER=1.15;z.SHIFT_RESTART_TIP_LENGTH=22.5;z.SHIFT_RESTART_TIP_RADIUS=11;z.SHIFT_RESTART_TUBE_COLOR=[1,.93,.86,1];z.SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER=1.15;z.SHIFT_RESTART_TUBE_RADIUS=3;z.SMALL_ANGLE_DOT_THRESHOLD=F;z.VERTICAL_DOT_THRESHOLD=Z;
z.forceHorizontalModifier=W;z.forceVerticalModifier="Shift";Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/interactive/visualElements/SlicePlaneVisualElement":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../chunks/vec4 ../../../../chunks/vec4f32 ../../webgl-engine/lib/GeometryUtil ./Object3DVisualElement ../../webgl-engine/materials/SlicePlaneMaterial".split(" "),function(z,W,F,Z,L,B,P,x){P=function(G){function D(Y){var aa=
G.call(this,Y)||this;aa._material=null;aa._renderOccluded=4;aa._gridWidth=1;aa._gridColor=L.fromValues(1,0,0,1);aa._backgroundColor=L.fromValues(1,0,0,1);aa.applyProps(Y);return aa}W._inheritsLoose(D,G);var H=D.prototype;H.createExternalResources=function(){this._material=new x.SlicePlaneMaterial(this.materialParameters)};H.destroyExternalResources=function(){this._material=null};H.forEachExternalMaterial=function(Y){F.isSome(this._material)&&Y(this._material)};H.createGeometries=function(Y){if(F.isSome(this._material)){const aa=
B.createSquareGeometry();Y.addGeometry(aa,this._material)}};H._updateMaterial=function(){F.isSome(this._material)&&this._material.setParameterValues(this.materialParameters)};W._createClass(D,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(Y){Y!==this._renderOccluded&&(this._renderOccluded=Y,this._updateMaterial())}},{key:"gridWidth",get:function(){return this._gridWidth},set:function(Y){this._gridWidth!==Y&&(this._gridWidth=Y,this._updateMaterial())}},{key:"gridColor",
get:function(){return this._gridColor},set:function(Y){Z.copy(this._gridColor,Y);this._updateMaterial()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(Y){Z.copy(this._backgroundColor,Y);this._updateMaterial()}},{key:"materialParameters",get:function(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}}]);return D}(P.Object3DVisualElement);z.SlicePlaneVisualElement=P;Object.defineProperty(z,
"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/materials/SlicePlaneMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../lib/AutoDisposable ../lib/GLMaterial ./internal/MaterialUtil ../lib/Material ./internal/DefaultBufferWriter ../shaders/SlicePlaneMaterialTechnique".split(" "),function(z,W,F,Z,L,B,P,x,G){let D=function(aa){function X(K){return aa.call(this,K,Y)||this}W._inheritsLoose(X,aa);var U=X.prototype;U.intersect=function(K,
A,y,w,C,N,T){return B.intersectTriangleGeometry(K,A,w,C,N,void 0,T)};U.createBufferWriter=function(){return new x.DefaultBufferWriter(x.PositionUVLayout)};U.getGLMaterial=function(K){return 0===K.output?new H(K):void 0};return X}(P.Material),H=function(aa){function X(K){K=aa.call(this,K)||this;K.technique=new G.SlicePlaneMaterialTechnique(K.techniqueRep.constructionContext,null);K.updateParameters();return K}W._inheritsLoose(X,aa);var U=X.prototype;U.updateParameters=function(){};U.beginSlot=function(K){return 8===
K};U.bind=function(K,A){K.bindProgram(this.technique.program);this.technique.bindPass(K,this.material.params,A)};return X}(L);F.__decorate([Z.autoDispose()],H.prototype,"technique",void 0);const Y={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...P.materialParametersDefaults};z.SlicePlaneMaterial=D;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../../../webgl/Program ../../../webgl/renderState ../core/shaderLibrary/util/View.glsl ../../../../chunks/SlicePlaneMaterial.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G,D){L=function(H){function Y(){return H.apply(this,arguments)||this}F._inheritsLoose(Y,H);var aa=Y.prototype;aa.initializeProgram=function(X){const U=Y.shader.get().build();return new P(X.rctx,U.generateSource("vertex"),U.generateSource("fragment"),B.Default3D)};aa.bindPass=function(X,U,K){G.View.bindProjectionMatrix(this.program,K.camera.projectionMatrix);this.program.setUniform4fv("backgroundColor",U.backgroundColor);this.program.setUniform4fv("gridColor",U.gridColor);
this.program.setUniform1f("gridWidth",U.gridWidth)};aa.bindDraw=function(X){G.View.bindView(this.program,X)};aa.initializePipeline=function(){return x.makePipelineState({blending:x.separateBlendingParams(1,1,771,771),depthTest:{func:513},colorWrite:x.defaultColorWriteParams})};return Y}(L.ShaderTechnique);L.shader=new Z.ReloadableShaderModule(D.SlicePlaneMaterialShader,()=>new Promise(function(H,Y){z(["./SlicePlaneMaterial.glsl"],H,Y)}));W.SlicePlaneMaterialTechnique=L;Object.defineProperty(W,"__esModule",
{value:!0})})},"esri/chunks/SlicePlaneMaterial.glsl":function(){define(["exports","../views/3d/webgl-engine/core/shaderModules/interfaces","../views/3d/webgl-engine/core/shaderModules/ShaderBuilder"],function(z,W,F){function Z(){const B=new F.ShaderBuilder;B.extensions.add("GL_OES_standard_derivatives");B.vertex.uniforms.add("proj","mat4").add("view","mat4");B.attributes.add("position","vec3");B.attributes.add("uv0","vec2");B.varyings.add("vUV","vec2");B.vertex.code.add(W.glsl`
    void main(void) {
      vUV = uv0;
      gl_Position = proj * view * vec4(position, 1.0);
    }
  `);B.fragment.uniforms.add("backgroundColor","vec4").add("gridColor","vec4").add("ratio","float").add("gridWidth","float");B.fragment.code.add(W.glsl`
    void main() {
      const float LINE_WIDTH = 1.0;

      vec2 uvScaled = vUV * gridWidth;
      vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
      vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);

      // mask aliasing along edges
      grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
      grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);

      float gridFade = max(grid.x, grid.y);

      float gridAlpha = gridColor.a * gridFade;

      // premultiply alpha in output
      gl_FragColor =
        vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
        vec4(gridColor.rgb, 1.0) * gridAlpha;
    }
  `);return B}var L=Object.freeze({__proto__:null,build:Z});z.SlicePlaneMaterialShader=L;z.build=Z})},"esri/views/3d/webgl-engine/materials/ImageMaterial":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../lib/GLMaterialTexture ./internal/MaterialUtil ../lib/Material ../lib/OrderIndependentTransparency ./internal/DefaultBufferWriter ../shaders/ImageMaterialTechnique".split(" "),function(z,W,F,Z,L,B,P,x){let G=function(Y){function aa(U){U=Y.call(this,U,H)||this;U.supportsEdges=
!0;U.techniqueConfig=new x.ImageMaterialTechniqueConfiguration;return U}W._inheritsLoose(aa,Y);var X=aa.prototype;X.getTechniqueConfig=function(U,K){this.techniqueConfig.output=U;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=this.params.transparent;this.techniqueConfig.writeDepth=this.params.writeDepth;this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees;this.techniqueConfig.transparencyPassType=
K?K.transparencyPassType:3;this.techniqueConfig.enableOffset=K?K.camera.relativeElevation<B.OITPolygonOffsetLimit:!0;this.techniqueConfig.multipassTerrainEnabled=K?K.multipassTerrainEnabled:!1;this.techniqueConfig.cullAboveGround=K?K.cullAboveGround:!0;return this.techniqueConfig};X.intersect=function(U,K,A,y,w,C,N){Z.intersectTriangleGeometry(U,K,y,w,C,void 0,N)};X.getGLMaterial=function(U){return 0===U.output||7===U.output||4===U.output?new D(U):void 0};X.createBufferWriter=function(){return new P.DefaultBufferWriter(P.PositionUVLayout)};
return aa}(L.Material),D=function(Y){function aa(U){U=Y.call(this,{...U,...U.material.params})||this;U.updateParameters();return U}W._inheritsLoose(aa,Y);var X=aa.prototype;X.updateParameters=function(U){this.updateTexture(this.material.params.textureId);this.technique=this.techniqueRep.acquireAndReleaseExisting(x.ImageMaterialTechnique,this.material.getTechniqueConfig(this.output,U),this.technique)};X.beginSlot=function(U){return 4===this.output?3===U:U===(this.technique.configuration.transparent?
this.technique.configuration.writeDepth?5:8:3)};X._updateOccludeeState=function(U){U.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:U.hasOccludees}),this.updateParameters(U))};X.ensureParameters=function(U){0!==this.output&&7!==this.output||this._updateOccludeeState(U);this.updateParameters(U)};X.bind=function(U,K){U.bindProgram(this.technique.program);this.bindTexture(U,this.technique.program);this.bindTextureScale(U,this.technique.program);
this.technique.bindPass(U,this.material.params,K)};X.getPipelineState=function(U,K){return this.technique.getPipelineState(K)};return aa}(F);const H={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...L.materialParametersDefaults};z.ImageMaterial=G;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/3d/webgl-engine/shaders/ImageMaterialTechnique":function(){define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../../../webgl/Program ../../../webgl/renderState ../core/shaderLibrary/util/View.glsl ../core/shaderLibrary/Slice.glsl ../lib/OrderIndependentTransparency ../core/shaderLibrary/shading/MultipassTerrainTest.glsl ../lib/StencilUtils ../../../../chunks/ImageMaterial.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){B=function(y){function w(){return y.apply(this,arguments)||this}F._inheritsLoose(w,y);var C=w.prototype;C.initializeProgram=function(N){var T=w.shader.get();const Q=this.configuration;T=T.build({output:Q.output,slicePlaneEnabled:Q.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===Q.transparencyPassType,multipassTerrainEnabled:Q.multipassTerrainEnabled,cullAboveGround:Q.cullAboveGround});return new G(N.rctx,T.generateSource("vertex"),
T.generateSource("fragment"),x.Default3D)};C.bindPass=function(N,T,Q){H.View.bindProjectionMatrix(this.program,Q.camera.projectionMatrix);this.program.setUniform1f("opacity",T.opacity);Q.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",Q.camera.nearFar),this.program.setUniform2fv("inverseViewport",Q.inverseViewport),X.bindMultipassTerrainUniforms(this.program,N,Q))};C.bindDraw=function(N){H.View.bindView(this.program,N);Y.Slice.bindUniformsWithOrigin(this.program,this.configuration,
N)};C.setPipelineState=function(N,T){const Q=this.configuration,I=3===N,V=2===N;return D.makePipelineState({blending:0!==Q.output&&7!==Q.output||!Q.transparent?null:I?A:aa.OITBlending(N),culling:(R=>0!==R&&{face:1===R?1028:1029,mode:2305})(Q.cullFace),depthTest:{func:aa.OITDepthTest(N)},depthWrite:I?Q.writeDepth&&D.defaultDepthWriteParams:aa.OITDepthWrite(N),colorWrite:D.defaultColorWriteParams,stencilWrite:Q.sceneHasOcludees?U.stencilWriteMaskOn:null,stencilTest:Q.sceneHasOcludees?T?U.stencilToolMaskBaseParams:
U.stencilBaseAllZerosParams:null,polygonOffset:I||V?null:aa.getOITPolygonOffset(Q.enableOffset)})};C.initializePipeline=function(){this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0);return this.setPipelineState(this.configuration.transparencyPassType,!1)};C.getPipelineState=function(N){return N?this._occludeePipelineState:this.pipeline};return w}(B.ShaderTechnique);B.shader=new L.ReloadableShaderModule(K.ImageMaterialShader,()=>new Promise(function(y,w){z(["./ImageMaterial.glsl"],
y,w)}));const A=D.simpleBlendingParams(1,771);L=function(y){function w(){var C=y.apply(this,arguments)||this;C.output=0;C.cullFace=0;C.slicePlaneEnabled=!1;C.transparent=!1;C.enableOffset=!0;C.writeDepth=!0;C.sceneHasOcludees=!1;C.transparencyPassType=3;C.multipassTerrainEnabled=!1;C.cullAboveGround=!0;return C}F._inheritsLoose(w,y);return w}(P.ShaderTechniqueConfiguration);Z.__decorate([P.parameter({count:8})],L.prototype,"output",void 0);Z.__decorate([P.parameter({count:3})],L.prototype,"cullFace",
void 0);Z.__decorate([P.parameter()],L.prototype,"slicePlaneEnabled",void 0);Z.__decorate([P.parameter()],L.prototype,"transparent",void 0);Z.__decorate([P.parameter()],L.prototype,"enableOffset",void 0);Z.__decorate([P.parameter()],L.prototype,"writeDepth",void 0);Z.__decorate([P.parameter()],L.prototype,"sceneHasOcludees",void 0);Z.__decorate([P.parameter({count:4})],L.prototype,"transparencyPassType",void 0);Z.__decorate([P.parameter()],L.prototype,"multipassTerrainEnabled",void 0);Z.__decorate([P.parameter()],
L.prototype,"cullAboveGround",void 0);W.ImageMaterialTechnique=B;W.ImageMaterialTechniqueConfiguration=L;Object.defineProperty(W,"__esModule",{value:!0})})},"esri/chunks/ImageMaterial.glsl":function(){define("exports ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl".split(" "),
function(z,W,F,Z,L,B,P,x,G){function D(Y){const aa=new Z.ShaderBuilder;aa.include(F.Transform,{linearDepth:!1});aa.vertex.uniforms.add("proj","mat4").add("view","mat4");aa.attributes.add("position","vec3");aa.attributes.add("uv0","vec2");aa.varyings.add("vpos","vec3");Y.multipassTerrainEnabled&&aa.varyings.add("depth","float");aa.vertex.uniforms.add("textureCoordinateScaleFactor","vec2");aa.vertex.code.add(W.glsl`
    void main(void) {
      vpos = position;
      ${Y.multipassTerrainEnabled?"depth \x3d (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `);aa.include(B.Slice,Y);Y.multipassTerrainEnabled&&(aa.fragment.include(P.ReadLinearDepth),aa.include(G.multipassTerrainTest,Y));aa.fragment.uniforms.add("tex","sampler2D");aa.fragment.uniforms.add("opacity","float");aa.varyings.add("vTexCoord","vec2");7===Y.output?aa.fragment.code.add(W.glsl`
    void main() {
      discardBySlice(vpos);
      ${Y.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${W.glsl.float(x.defaultMaskAlphaCutoff)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(aa.fragment.include(L.ColorConversion),aa.fragment.code.add(W.glsl`
    void main() {
      discardBySlice(vpos);
      ${Y.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${W.glsl.float(x.defaultMaskAlphaCutoff)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${Y.OITEnabled?"gl_FragColor \x3d premultiplyAlpha(gl_FragColor);":""}
    }
    `));return aa}var H=Object.freeze({__proto__:null,build:D});z.ImageMaterialShader=H;z.build=D})},"esri/widgets/Slice/SlicePlane":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/persistable ../../core/JSONSupport ../../geometry/Point ../../geometry ../../views/3d/support/mathUtils".split(" "),
function(z,W,F,Z,L,B,P,x,G,D,H,Y,aa,X,U,K){var A;F=A=function(y){function w(N){N=y.call(this,N)||this;N.type="plane";N.position=null;N.heading=0;N.tilt=0;N.width=10;N.height=10;return N}z._inheritsLoose(w,y);var C=w.prototype;C.clone=function(){return new A({position:Z.clone(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})};C.equals=function(N){return this.heading===N.heading&&this.tilt===N.tilt&&L.isSome(this.position)&&L.isSome(N.position)&&this.position.equals(N.position)&&
this.width===N.width&&this.height===N.height};return w}(aa.JSONSupport);W.__decorate([x.property({readOnly:!0,json:{read:!1,write:!0}})],F.prototype,"type",void 0);W.__decorate([x.property({type:X}),Y.persistable()],F.prototype,"position",void 0);W.__decorate([x.property({type:Number,nonNullable:!0,range:{min:0,max:360}}),Y.persistable(),G.cast(y=>K.cyclicalDeg.normalize(P.ensureNumber(y),0,!0))],F.prototype,"heading",void 0);W.__decorate([x.property({type:Number,nonNullable:!0,range:{min:0,max:360}}),
Y.persistable(),G.cast(y=>K.cyclicalDeg.normalize(P.ensureNumber(y),0,!0))],F.prototype,"tilt",void 0);W.__decorate([x.property({type:Number,nonNullable:!0}),Y.persistable()],F.prototype,"width",void 0);W.__decorate([x.property({type:Number,nonNullable:!0}),Y.persistable()],F.prototype,"height",void 0);return F=A=W.__decorate([H.subclass("esri.widgets.Slice.SlicePlane")],F)})},"esri/views/3d/interactive/analysisTools/slice/images/heading-rotate-png":function(){define(function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAAlwSFlzAAAQ3wAAEN8BdFVeMAAAArhQTFRF/34A/34A/20A/34A/30A/1UA/34AR3BM/34A/34A/30A/34A/3wA/30A/wAA/8mV//79/4AG/4AC/////4AA/34A//Xs/3EA/34A/30A/4AA/3gA/4AA//jx/4AA/34A/30A/3wA/30A/3QA/34A/4AA/+nT/30A/4QM/4MK//r2/59B/8+h//Hi/34A/4gT//fv/5Uu/9q4//r2/+TK/4wc//38/5Yv/34A/30A/4AA/7+A/+nU/4EI/34A/3wA//fu/9Gk/30A/9ex/34A//7+//jw/30A//z5/+fQ/9/B/4cR/5Mq//fv//38/82d//n0/+LG//37//Xt/30A/7Vt/40e/50//30A/34A/65h/6tZ/+DB/6VN/4sZ/7Bi//79/8+f/+LH/4AE/30A/6BC/9/A/5Al/+rX/4AA/8WN/4AA/7Zw/+3a/6hT/3wA/34A/3sA/3wA/4AA/3wA/3oA/4AA/4AA//Xt/6lW/8uX/5k0//Pn/719/+7d//Po/6BF/8+g//v2/8eR/5Qs/4AA/8WN/71+/30A//ny/+rV/8eP/+fQ//Tq/4AA/30A/7dy/34A/7Vv/+vY/8uZ/3sA/6ZR/4kX/+rW/6hS//v4/8mT/9Oo/9Oq//79/6NK/6JH/8eR/7Vu/+bN/5k3/9q2//Xs//37/8yb/34A/7p5//78//jx/+bN/7x7/7Nr/+/h/4QO/48j/61d//jw/508/9Wr/82b/65e/6xc/7h0/6BE/4AA/65g/30A/5w6/30A/6NL/+nU/4AA/8iT//Ll/3wA//Tp/9Km/9q2/+3c//v4/8OJ/3oA/9Cj//r1/7p2/6VP/+7d/+DE//z6/+LF//Hj//n0//r1/5o5/9av/+PH/+vZ/+XM//Po/6hV/928/8SL/9at/+7e/7p3/+zZ/+3b////JwwhsQAAAOd0Uk5TgH0Hb2oDUwB3fz9HKXgBtf6BgP4qYe0JdXYSEQjzOkU5RmYLawraL4OC9pK75kGF8IzI99OH/I1naD6q24J5SPC8YsRj/vIr+tfOhIvx/bj10fzvfKKIklpbnpvNloae/bnSgXCTzYrdBrFApN+ZUmUbVBpAGVIY7pq1juqp4euUuveyjCiwqi3z3LHY7CwzpFGj3rc4mIbcmPizvsD8lZSzo9aPx+77uE+n/PLVqKLlg4mc8ZHAt52cpZMCnTGQdJbaMrTnUOu9xuD5rzC89aaX4tD60Of09pDC0d7V6pnLsMHip9/g/7fLIQAAA8lJREFUWMOll/VbGzEYx0NpaWkLpQVW3GUbMHzYYMhgA7axMQeGbeiE4XN3d3d3d3d3d9/u31iba7nkLlfunr2/wPNN3k+TS/IKkPOYv1NTQ7y1wspKYR1vo3Ty55sHiGq9SmoLMLOVqhqFAiReAYBoAV4SAQB9FwXgNcUofXuAYBdg0RRr7C0B3HqAdi3djR+gtgMCLGUpD8C+OxBoKnsSQGYDBJuNjAuQDTOPRgogDJVxACvaBj+XCFmDPQvA7H+449sRAgi+OKAnM/KGomrhP9smRgWFhR0PejBrOIkwHwW4MecX15Wi3sWCIVEDKMY6ZIRwAHbuCAC5Px+NDpUxDhRuDv05CGcGcItRw98bp289RHGsdIuWRXhiBuhdGVFjWjNFsIeTcICLhwnQhdF090yTZ9J/DntGOzKEPkNwgpIGSJD3+9s815OifoVuyDVI6wrTwsxqVgX+NCUQ4IVIY9p+7W8hIp9ab1LHx2IEHwiQMsJYZrnRVdjUpGhaPoLHKCOgHhE+IZ/sO77fkAharsXUZgNABbBLxJz8C5xwjSZ4huMXGqA7qCiL+vIyoq+JMIZ17BNo/FNUS5ADf1v2DdPN/vZc8/NV9dfRrIFQCOiXjEb7QOAkPIx0pJ/HclRTg1HCAeA2BPTH7hJoEAEYnA8/Iyq1AD8RANANLqE3oowDI8UAzkLASkSxBgoxgCQImIsorsBKDGAnBGgQZaA4QAkElGEAUVs4CgGbsC2I+ojnIOAi9hFFHWM5BNzAjlFERgS6BUb/XicQqQ404XOKf/w5zwsYBBcQhEqJ2GPSji5/TVHZvIBqCFiNPyb0OX8oNU7ILLC4gPxI/DmjAQXEwClLcon+xalwtAjV4vGQBsbSSWCXluDfiX5JmdNR0dsAaESFIjqa5SRzowm9OmoPpraywjqIPU1PW3WS5d97qinnhXPCOpZYwDFTSO23CK0ytJrOtLzvCiGxSLDn8NicC/eG7jZJZ+6nmkP9FFJqQ5OrwfKYbNonuzIjZ3EWkyp2EJOrXI+Xt/N6UWR7dBD3v25O7/Kr+MDayUT/O9tZHzaYKXHSWUeet5Hj3lmj5S9x0CKLtqoZeI0ybf9gi0WWnJufdAWbF9Jn9+xm2gUd92aq8UJTRU5mcZciO5Fflje71L0LRBmn1EWKbSFGKLbllw8I96+TETsWX4Hutt58Lc8cQUkipSd/0+Xu3L6/s/v/tX3L2ms8PZQW9uGq9BDQ+tb4SMnuUp8aoc13s28Cu/lO8G4V0b0bLFCdaONHt/9+LYnqQL55/wAoaTsIDs69HgAAAABJRU5ErkJggg\x3d\x3d"})},
"esri/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../../../interactive/dragEventPipeline","../../analysisTools/slice/sliceToolUtils"],function(z,W,F,Z,L){let B=function(){function P(){this.lastDragEvent=null;this.next=new Z.EventPipeline;this._enabled=!1}var x=P.prototype;x.createDragEventPipelineStep=function(){this.lastDragEvent=null;return G=>{this.lastDragEvent=
"end"!==G.action?{...G}:null;this._enabled&&this.adjustScaleFactors(G);return G}};x.adjustScaleFactors=function(G){const D=L.isDiagonalResizeHandle(G.handle)?Math.max(Math.abs(G.factor1),Math.abs(G.factor2)):0===G.handle.direction[0]?Math.abs(G.factor2):Math.abs(G.factor1);G.factor1=0>G.factor1?-D:D;G.factor2=0>G.factor2?-D:D};W._createClass(P,[{key:"enabled",get:function(){return this._enabled},set:function(G){if(this._enabled!==G&&F.isSome(this.lastDragEvent)){const D={...this.lastDragEvent,action:"update"};
G&&this.adjustScaleFactors(D);this.next.execute(D)}this._enabled=G}},{key:"test",get:function(){return{adjustScaleFactors:G=>this.adjustScaleFactors(G)}}}]);return P}();z.PreserveAspectRatio=B;Object.defineProperty(z,"__esModule",{value:!0})})},"esri/views/interactive/editGeometry/support/editPlaneUtils":function(){define("exports ../../../../chunks/vec3f64 ../../../../chunks/vec3 ../../../../chunks/vec2 ../../../3d/support/stack ../../../3d/support/geometryUtils ../operations/UpdateVertices ../operations/MoveVertex ../operations/RotateVertex ../operations/ScaleVertex".split(" "),
function(z,W,F,Z,L,B,P,x,G,D){function H(K,A,y){if(K instanceof P.UpdateVertices){if(K.operation instanceof x.MoveVertex)return Y(K.operation,A,y),!0;if(K.operation instanceof G.RotateVertex)return aa(K.operation,A,y),!0;if(K.operation instanceof D.ScaleVertex)return X(K.operation,A,y),!0}return!1}function Y(K,A,y=!1){y=y?-1:1;K=W.fromValues(y*K.dx,y*K.dy,y*K.dz);F.add(A.origin,A.origin,K)}function aa(K,A,y=!1){K=y?-K.angle:K.angle;F.rotateZ(A.basis1,A.basis1,W.ZEROS,K);F.rotateZ(A.basis2,A.basis2,
W.ZEROS,K)}function X(K,A,y=!1){const w=y?1/K.factor1:K.factor1;y=y?1/K.factor2:K.factor2;F.scale(A.basis1,A.basis1,w);F.scale(A.basis2,A.basis2,y);U(A.origin,K.origin,K.axis1,w);U(A.origin,K.origin,K.axis2,y)}function U(K,A,y,w){const C=L.sv2d.get();A=Z.subtract(C,K,A);y=Z.scale(C,y,Z.dot(y,A));Z.scaleAndAdd(K,K,y,w-1)}z.apply=function(K,A){return H(K,A,!1)};z.calculateOrientedBounds=function(K,A,y,w){w||(w=B.boundedPlane.create());const C=Z.set(L.sv2d.get(),K[1],-K[0]),N=Z.set(L.sv2d.get(),Number.POSITIVE_INFINITY,
Number.POSITIVE_INFINITY),T=Z.set(L.sv2d.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),Q=L.sv2d.get();A.components.forEach(I=>I.vertices.forEach(V=>{V=V.pos;Z.set(Q,Z.dot(K,V),Z.dot(C,V));Z.min(N,N,Q);Z.max(T,T,Q)}));A=Z.set(L.sv2d.get(),1E-6>T[0]-N[0]?y/2:0,1E-6>T[1]-N[1]?y/2:0);Z.subtract(N,N,A);Z.add(T,T,A);Z.scale(w.basis1,K,(T[0]-N[0])/2);Z.scale(w.basis2,C,(T[1]-N[1])/2);Z.set(w.origin,N[0]*K[0]+N[1]*C[0],N[0]*K[1]+N[1]*C[1]);Z.add(w.origin,w.origin,w.basis1);Z.add(w.origin,w.origin,
w.basis2);return w};z.mapPlaneToRenderPlane=function(K,A,y,w=0,C){C||(C=B.boundedPlane.create());A.toRenderCoords(K.origin,y,C.origin);var N=L.sv3d.get();F.add(N,K.origin,K.basis1);F.add(N,N,K.basis2);A.toRenderCoords(N,y,N);var T=L.sv3d.get();F.add(T,K.origin,K.basis1);F.subtract(T,T,K.basis2);A.toRenderCoords(T,y,T);const Q=L.sv3d.get();F.subtract(Q,K.origin,K.basis1);F.subtract(Q,Q,K.basis2);A.toRenderCoords(Q,y,Q);const I=L.sv3d.get();F.subtract(I,K.origin,K.basis1);F.add(I,I,K.basis2);A.toRenderCoords(I,
y,I);K=F.lerp(L.sv3d.get(),N,T,.5);F.subtract(K,K,C.origin);A=F.lerp(L.sv3d.get(),Q,I,.5);F.subtract(A,C.origin,A);F.lerp(C.basis1,K,A,.5);N=F.lerp(L.sv3d.get(),I,N,.5);F.subtract(N,N,C.origin);T=F.lerp(L.sv3d.get(),T,Q,.5);F.subtract(T,C.origin,T);F.lerp(C.basis2,N,T,.5);T=F.cross(L.sv3d.get(),C.basis1,C.basis2);T=F.cross(T,T,C.basis1);F.normalize(T,T);F.scale(C.basis2,T,F.dot(C.basis2,T));F.scale(C.basis1,C.basis1,1+w/F.length(C.basis1));F.scale(C.basis2,C.basis2,1+w/F.length(C.basis2));B.boundedPlane.updateUnboundedPlane(C);
return C};z.unapply=function(K,A){return H(K,A,!0)};Object.defineProperty(z,"__esModule",{value:!0})})},"*noref":1}});
define("exports ./editingTools/draw/DrawOperation ./editingTools/draw/DrawGraphicTool ./editingTools/moveGraphic/GraphicMoveTool ./editingTools/reshapeGraphic/GraphicReshapeTool ./editingTools/transformGraphic/GraphicTransformTool ./editingTools/transformGraphic/ExtentTransformTool".split(" "),function(z,W,F,Z,L,B,P){Object.defineProperty(z,"DrawOperation",{enumerable:!0,get:function(){return W.DrawOperation}});Object.defineProperty(z,"DrawGraphicTool",{enumerable:!0,get:function(){return F.DrawGraphicTool}});
Object.defineProperty(z,"GraphicMoveTool",{enumerable:!0,get:function(){return Z.GraphicMoveTool}});Object.defineProperty(z,"GraphicReshapeTool",{enumerable:!0,get:function(){return L.GraphicReshapeTool}});Object.defineProperty(z,"GraphicTransformTool",{enumerable:!0,get:function(){return B.GraphicTransformTool}});Object.defineProperty(z,"ExtentTransformTool",{enumerable:!0,get:function(){return P.ExtentTransformTool}});Object.defineProperty(z,"__esModule",{value:!0})});