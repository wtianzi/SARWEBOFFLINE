// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/has ../../../../../core/maybe ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/property ../../../../../core/jsonMap ../../../../../core/accessorSupport/decorators/subclass ../../../../../core/urlUtils ../../../../../core/uuid ../../../../../portal/support/resourceExtension ../../../../../geometry/Point ../../../../../core/Collection ../../../../../Color ../../../../../core/screenUtils ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../core/Handles ../../../../../core/watchUtils ../../../../support/Scheduler ../../../../../chunks/mat4f64 ../../../../../layers/graphics/dehydratedFeatures ../../../support/stack ../../../../../chunks/ray ../../../support/geometryUtils ../../../webgl-engine/lib/Intersector ../../../terrain/tileUtils ../../../../interactive/dragEventPipeline ../../visualElements/LaserlineVisualElement ../../../../interactive/InteractiveToolBase ../../visualElements/LineVisualElement ./lineOfSightToolConfig ./lineOfSightToolUtils ../../../../../widgets/LineOfSight/LineOfSightTarget".split(" "),
function(q,H,w,I,f,ba,ca,x,da,P,ea,fa,ha,J,K,u,Q,t,e,L,y,r,R,S,T,B,M,U,V,W,X,Y,F,N,Z,G){I=K.ofType(G);q.LineOfSightTool=function(O){function D(a){a=O.call(this,a)||this;a.deferCreation=!0;a.configuration=null;a.updating=!1;a._handles=new L;a._manipulatorHandles=new L;a._laserlineVisualElement=null;a._observer=null;a._tracker=null;a._analyses=new K;a._screenPixelSize=0;a._grabbedManipulator=null;a._showTracker=!0;return a}H._inheritsLoose(D,O);var d=D.prototype;d.initialize=function(){var a=y.init(this,
"state",c=>{switch(c){case "created":this.complete();break;default:this.create()}},!0),b=this.configuration=new N.Configuration;this._intersector=new U.Intersector(this.view.state.mode);this._intersector.options.hud=!1;this._intersector.options.store=0;this._observer={location:null,intersection:null,manipulator:this._addManipulator({size:b.observerManipulatorSize,color:b.observerManipulatorColor,visible:!1})};this._tracker=this._createLineOfSightAnalysis(new G({location:new J}));this._tracker.point.manipulator.available=
!1;this._tracker.point.manipulator.interactive=!1;b=this._handles;b.add([a,this.view.state.watch("camera",()=>this._onCameraChange()),this.view.watch("map.ground.opacity",(c,g)=>this._onGroundOpacityChange(c,g)),y.init(this.view,"slicePlane",()=>this._onSlicePlaneChange()),y.init(this.model,"observer",c=>this._onObserverChange(c),!0),y.on(this.model,"targets","change",c=>this._onTargetCollectionChange(c),c=>this._onTargetsChange(c),null,!0),y.watch(this.configuration,"laserLineEnabled laserLineGlowColor laserLineGlowWidth laserLineInnerColor laserLineInnerWidth laserLineGlobalAlpha lineOfSightInnerWidth lineOfSightOuterWidth lineOfSightVisibleInnerColor lineOfSightVisibleOuterColor lineOfSightOccludedInnerColor lineOfSightOccludedOuterColor lineOfSightUndefinedInnerColor lineOfSightUndefinedOuterColor lineOfSightUndefinedStipplePattern lineOfSightUndefinedStipplePatternOffColor".split(" "),
()=>this._createVisualElements()),y.watch(this.configuration,["observerManipulatorSize","observerManipulatorColor"],()=>this._recreateManipulator(this._observer)),y.watch(this.configuration,["targetManipulatorSize","targetManipulatorVisibleColor","targetManipulatorOccludedColor","targetManipulatorUndefinedColor"],()=>this._analyses.forEach(c=>this._recreateManipulator(c.point)))]);this._createVisualElements();(a=this.view.pointsOfInterest)&&b.add([a.contentGeometryUpdates.events.on("request-update",
()=>this._onContentChange()),this.view.elevationProvider.on("elevation-change",()=>this._onContentChange())]);if(a=this.view.resourceController&&this.view.resourceController.scheduler)this._frameTask=a.registerTask(r.Task.LINE_OF_SIGHT_TOOL,c=>this._updateAnalyses(c),()=>this.updating),b.add(this._frameTask);this.continue()};d.destroy=function(){this.detach();this._handles=f.destroyMaybe(this._handles);this._manipulatorHandles=f.destroyMaybe(this._manipulatorHandles);this.manipulators.remove(this._observer.manipulator);
this._destroyLineOfSightAnalysis(this._tracker);this._analyses.forEach(a=>this._destroyLineOfSightAnalysis(a));this._removeVisualElements();this._intersector=null;this._set("model",null)};d._removeVisualElements=function(){f.isSome(this._laserlineVisualElement)&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)};d.continue=function(){this.view.activeTool=this;this._showTracker=!0;this._updateTrackerVisibility()};d.stop=function(){this._showTracker=!1;this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE);
this._updateTrackerVisibility()};d.onInputEvent=function(a){switch(a.type){case "immediate-double-click":this._doubleClickHandler(a);break;case "key-down":this._keyDownHandler(a);break;case "pointer-move":this._pointerMoveHandler(a)}};d.onInputEventAfter=function(a){switch(a.type){case "immediate-click":this._clickHandler(a)}};d._setDirty=function(a){this.updating?a===r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE&&this._frameTask&&(this._frameTask.task=a):(this._set("updating",!0),this._frameTask&&(this._frameTask.task=
a))};d._updateTrackerVisibility=function(){this._tracker.shouldRender=this._showTracker&&!this.manipulators.some(a=>a.manipulator.focused);this._updateLaserLineRenderer()};d._manipulatorFocusChanged=function(){this._updateTrackerVisibility();this.notifyChange("cursor")};d._addManipulator=function(a){const b=Z.createSphereManipulator(this.view,a);this._manipulatorHandles.add([this._createManipulatorDragPipeline(b),b.events.on("focus-changed",()=>this._manipulatorFocusChanged()),b.events.on("grab-changed",
c=>this._manipulatorGrabChanged(b,c)),b.events.on("immediate-click",c=>c.stopPropagation())],b);this.manipulators.add(b);return b};d._removeManipulator=function(a){this.manipulators.remove(a);this._manipulatorHandles.remove(a)};d._recreateManipulator=function(a){const b=this.configuration,c=a.manipulator;this._removeManipulator(c);a.manipulator=this._addManipulator(a===this._observer?{size:b.observerManipulatorSize,color:b.observerManipulatorColor,visible:c.available}:{size:b.targetManipulatorSize,
customColor1:b.targetManipulatorVisibleColor,customColor2:b.targetManipulatorOccludedColor,customColor3:b.targetManipulatorUndefinedColor});a.manipulator.location=c.location;this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE)};d._screenToIntersection=function(){return a=>{const b=this._getScreenPointIntersection(a.screenEnd);return f.isNone(b)?null:{...a,intersection:b}}};d._createManipulatorDragPipeline=function(a){return W.createManipulatorDragEventPipeline(a,(b,c,g)=>{c.next(this._screenToIntersection()).next(a===
this._observer.manipulator?this._updateObserverDragStep():this._updateAnalysisDragStep(a)).next(()=>this._updateLaserLineRenderer());g.next(a===this._observer.manipulator?this._cancelObserverDragStep():this._cancelAnalysisDragStep(a)).next(()=>this._updateLaserLineRenderer())})};d._updateObserverDragStep=function(){return a=>{this.model.observer=a.intersection.point;this._observer.intersection=a.intersection;return a}};d._cancelObserverDragStep=function(){const a=f.isSome(this.model.observer)?this.model.observer.clone():
null,b=this._observer.intersection;return c=>{this.model.observer=a;this._observer.intersection=b;return c}};d._updateAnalysisDragStep=function(a){return b=>{const c=this._analyses.find(g=>g.point.manipulator===a);c.target.location=b.intersection.point;c.point.intersection=b.intersection;return b}};d._cancelAnalysisDragStep=function(a){const b=this._analyses.find(l=>l.point.manipulator===a),c=f.isSome(b.target.location)?b.target.location.clone():null,g=b.point.intersection;return l=>{b.target.location=
c;b.point.intersection=g;return l}};d._updateLaserLineRenderer=function(){if(!f.isNone(this._laserlineVisualElement)){var a=this._laserlineVisualElement,b=f.isSome(this._grabbedManipulator)?this._grabbedManipulator:this._tracker.shouldRender&&this.model.observer?this._tracker.point.manipulator:null;this.configuration.laserLineEnabled&&f.isSome(b)?(a.heightManifoldTarget=b.renderLocation,a.lineVerticalPlaneSegment=b!==this._observer.manipulator?M.lineSegment.fromPoints(this._observer.manipulator.renderLocation,
b.renderLocation,aa):null):(a.heightManifoldTarget=null,a.lineVerticalPlaneSegment=null)}};d._createVisualElements=function(){const a=this.configuration;f.isSome(this._laserlineVisualElement)&&this._removeVisualElements();this._laserlineVisualElement=new X.LaserlineVisualElement({view:this.view,attached:!0,style:{glowColor:u.toUnitRGB(a.laserLineGlowColor),glowWidth:a.laserLineGlowWidth,innerColor:u.toUnitRGB(a.laserLineInnerColor),innerWidth:a.laserLineInnerWidth,globalAlpha:a.laserLineGlobalAlpha}});
this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE)};d._onObserverChange=function(a){f.isNone(a)?(this._observer.manipulator.available=!1,this.model.targets.removeAll()):(this._observer.location=a,this._observer.intersection=null,this._observer.manipulator.available=!0,this._observer.manipulator.location=a,this._tracker.point.manipulator.location=a,this._analyses.forEach(b=>{b.isDirty=!0;b.isValid=!1}),this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE))};d._onTargetsChange=function(a){this._analyses.forEach(b=>
{this._destroyLineOfSightAnalysis(b)});this._analyses.removeAll();a.items&&this._onTargetCollectionChange({target:a,added:a.items,removed:[],moved:[]})};d._onTargetCollectionChange=function(a){a.added.forEach(b=>{if(!this._analyses.some(c=>c.target===b)){const c=this._createLineOfSightAnalysis(b);this._analyses.add(c)}this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE)});a.removed.forEach(b=>{const c=this._analyses.find(g=>g.point.location===b.location);this._destroyLineOfSightAnalysis(c);this._analyses.remove(c)})};
d._onTargetLocationChange=function(a,b){a.isValid=!1;a.point.location=b;a.point.intersection=null;a.point.manipulator.location=b;a.isDirty=!0;this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE)};d._onGroundOpacityChange=function(a,b){!this._analyses.length||1!==a&&1!==b||a===b||(this._setDirty(r.Task.LINE_OF_SIGHT_TOOL),this._analyses.forEach(c=>c.isDirty=!0))};d._onContentChange=function(){this._analyses.forEach(a=>{a.isDirty=!0;a.shouldIntersect=!0});this._setDirty(r.Task.LINE_OF_SIGHT_TOOL)};
d._onCameraChange=function(){if(this._analyses.length){var a=!1;if(f.isSome(this.model.observer)){this.view.renderCoordsHelper.toRenderCoords(this.model.observer,v);const b=this.view.state.camera.computeScreenPixelSizeAt(v);a=a||.1<Math.abs((b-this._screenPixelSize)/this._screenPixelSize)}this._analyses.some(b=>!b.isValid)&&(a=!0);a&&(this._setDirty(r.Task.LINE_OF_SIGHT_TOOL),this._analyses.forEach(b=>b.isDirty=!0))}};d._onSlicePlaneChange=function(){this._analyses.length&&(this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE),
this._analyses.forEach(a=>a.isDirty=!0))};d._addPointFromClickEvent=function(a){a=this._getScreenPointIntersection(a);if(!f.isNone(a)&&!f.isNone(a.point))if(this.model.observer){const b=new G({location:a.point}),c=this._createLineOfSightAnalysis(b);this._analyses.add(c);c.point.intersection=a;this.model.targets.add(b)}else this.model.observer=a.point,this._observer.intersection=a};d._clickHandler=function(a){this._showTracker&&(this._addPointFromClickEvent({x:a.x,y:a.y}),a.stopPropagation())};d._doubleClickHandler=
function(a){this._showTracker&&(this.stop(),a.stopPropagation())};d._keyDownHandler=function(a){this._showTracker&&"Escape"===a.key&&(this.stop(),a.stopPropagation())};d._pointerMoveHandler=function(a){this._showTracker&&(a=this._getScreenPointIntersection({x:a.x,y:a.y}),f.isSome(a)&&f.isSome(a.point)&&(this._tracker.point.manipulator.location=a.point,this._tracker.isDirty=!0,this._updateLaserLineRenderer(),this._setDirty(r.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE)))};d._getScreenPointIntersection=function(a){a=
Q.screenPointObjectToArray(a,T.sv2d.get());a=B.fromScreen(this.view.state.camera,a,E);return this._getRayIntersection(a)};d._getRayIntersection=function(a){if(f.isNone(a))return null;this.view.sceneIntersectionHelper.intersectToolIntersectorRay(a,this._intersector);var b=this._intersector.results.min;if(!b||!b.getIntersectionPoint(v))return null;const c=this.view.renderCoordsHelper.fromRenderCoords(v,this.view.spatialReference),g=t.create();e.copy(g,b.normal);var l=0<e.dot(g,a.direction)?-1:1;e.scale(g,
g,l);const n=b.toGraphic(this.view);if(f.isSome(n)){l=n.layer;const C=n.sourceLayer;if(C)switch(C.type){case "scene":b=S.getObjectId(n,C.objectIdField);break;case "integrated-mesh":b=b.target;b=`${b.metadata.nodeIndex}/${b.metadata.componentIndex}`;break;default:b=n.uid}else b=n.uid;return{type:"Graphic",id:`${l.uid}/${b}`,ray:B.copy(a),normal:g,point:c}}return"TerrainRenderer"===b.intersector?{type:"Terrain",id:b.target.metadata.tile.lij.slice(),ray:B.copy(a),normal:g,point:c}:null};d._createLineOfSightAnalysis=
function(a){const b=this.configuration,c=new F.LineVisualElement({view:this.view,attached:!0,width:b.lineOfSightOuterWidth,color:u.toUnitRGBA(b.lineOfSightVisibleOuterColor),innerWidth:b.lineOfSightInnerWidth,innerColor:u.toUnitRGBA(b.lineOfSightVisibleInnerColor)}),g=new F.LineVisualElement({view:this.view,attached:!0,width:b.lineOfSightOuterWidth,color:u.toUnitRGBA(b.lineOfSightOccludedOuterColor),innerWidth:b.lineOfSightInnerWidth,innerColor:u.toUnitRGBA(b.lineOfSightOccludedInnerColor)}),l=new F.LineVisualElement({view:this.view,
attached:!0,width:b.lineOfSightOuterWidth,color:u.toUnitRGBA(b.lineOfSightUndefinedOuterColor),innerWidth:b.lineOfSightInnerWidth,innerColor:u.toUnitRGBA(b.lineOfSightUndefinedInnerColor)}),n={isValid:!1,isDirty:!0,shouldRender:!0,shouldIntersect:!1,point:{location:a.location,manipulator:this._addManipulator({size:b.targetManipulatorSize,customColor1:b.targetManipulatorVisibleColor,customColor2:b.targetManipulatorOccludedColor,customColor3:b.targetManipulatorUndefinedColor}),intersection:null},isTargetVisible:!1,
hasIntersection:!1,target:a,targetHandle:null,engine:{points:{observer:t.create(),target:t.create(),intersection:t.create(),intersectionObserver:t.create(),intersectionTarget:t.create()},visualization:{visibleLineVisualElement:c,occludedLineVisualElement:g,undefinedLineVisualElement:l}}};f.isSome(a.location)&&(n.point.manipulator.location=a.location);n.targetHandle=y.init(a,"location",C=>this._onTargetLocationChange(n,C),!0);this.manipulators.add(n.point.manipulator);return n};d._destroyLineOfSightAnalysis=
function(a){a.targetHandle.remove();this.manipulators.remove(a.point.manipulator);a.engine.visualization.visibleLineVisualElement.destroy();a.engine.visualization.visibleLineVisualElement=null;a.engine.visualization.occludedLineVisualElement.destroy();a.engine.visualization.occludedLineVisualElement=null;a.engine.visualization.undefinedLineVisualElement.destroy();a.engine.visualization.undefinedLineVisualElement=null};d._canComputeAnalysis=function(a){if(f.isNone(this.model.observer)||f.isNone(a.point)||
f.isNone(a.point.location))return!1;this.view.renderCoordsHelper.toRenderCoords(this.model.observer,v);const b=this.view.frustum.intersectsPoint(v);this.view.renderCoordsHelper.toRenderCoords(a.point.location,v);a=this.view.frustum.intersectsPoint(v);return b&&a};d._manipulatorGrabChanged=function(a,b){switch(b.action){case "start":this._grabbedManipulator=a;break;case "end":this._grabbedManipulator===a&&(this._grabbedManipulator=null)}this._updateTrackerVisibility()};d._canUpdateFromIntersectionResult=
function(a,b){return f.isNone(a)||!b||a.type!==b.type?!1:"Terrain"===a.type?(a=a.id,b=b.id,a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]||V.tilesAreRelated(a,b)):"Graphic"===a.type||"I3S"===a.type?a.id===b.id:!1};d._updateFromIntersectionResult=function(a){if("Terrain"===a.type&&f.isSome(a.point)){this.view.renderCoordsHelper.toRenderCoords(a.point,h);this.view.renderCoordsHelper.worldUpAtPosition(h,k);var b=this.view.basemapTerrain.elevationBounds;var c=this.view.renderCoordsHelper.getAltitude(h);b=b?Math.abs(b.max-
b.min)/Math.abs(c):100;c=0<c?1:-1;e.normalize(k,k);e.scale(k,k,c*b);e.add(m,h,k);B.fromPoints(m,h,E);c=this._getRayIntersection(E)}else c=this._getRayIntersection(a.ray);return this._canUpdateFromIntersectionResult(c,a)?c.point:null};d._updateAnalyses=function(a){this._set("updating",!1);if(this.model.observer){if(this._analyses.some(c=>c.shouldIntersect)){var b=this._observer.intersection;b=b&&this._updateFromIntersectionResult(b);f.isSome(b)&&(this._observer.manipulator.location=b)}this._updateAnalysis(this._tracker,
0);for(const c of this._analyses.items){if(a.done){this._set("updating",!0);break}this._updateAnalysis(c,1)&&a.madeProgress()}}};d._updateAnalysis=function(a,b){a.engine.visualization.visibleLineVisualElement.attached=a.shouldRender;a.engine.visualization.occludedLineVisualElement.attached=a.shouldRender;a.engine.visualization.undefinedLineVisualElement.attached=a.shouldRender;if(!a.shouldRender)return a.isDirty=!1;if(!a.isDirty)return!1;if(a.shouldIntersect){var c=a.point.intersection;c=c&&this._updateFromIntersectionResult(c);
f.isSome(c)&&(a.point.manipulator.location=c);a.shouldIntersect=!1}this.view.renderCoordsHelper.toRenderCoords(a.point.manipulator.location,a.engine.points.target);this.view.renderCoordsHelper.toRenderCoords(this._observer.manipulator.location,a.engine.points.observer);var g=0===b?!0:this._canComputeAnalysis(a);b=a.engine;c=b.points.observer;const l=b.points.target;this._screenPixelSize=this.view.state.camera.computeScreenPixelSizeAt(c);this._observer.intersection?e.copy(k,this._observer.intersection.normal):
e.subtract(k,l,c);var n=this._screenPixelSize;e.normalize(k,k);e.scale(k,k,Math.min(n,1));e.add(m,c,k);a.point.intersection?e.copy(k,a.point.intersection.normal):e.subtract(k,c,l);n=this.view.state.camera.computeScreenPixelSizeAt(l);e.normalize(k,k);e.scale(k,k,Math.min(n,1));e.add(h,l,k);g?(g=B.fromPoints(m,h,E),this.view.sceneIntersectionHelper.intersectToolIntersectorRay(g,this._intersector),a.hasIntersection=this._intersector.results.min?this._intersector.results.min.getIntersectionPoint(p):!1,
a.isTargetVisible=!0,a.hasIntersection&&(e.copy(b.points.intersection,p),e.copy(b.points.intersectionObserver,m),e.copy(b.points.intersectionTarget,h),this.view.renderCoordsHelper.fromRenderCoords(b.points.intersection,v,this.view.spatialReference),g=1-e.dist(h,l)/e.dist(c,l),a.isTargetVisible=e.dist(c,b.points.intersection)>=g*e.dist(c,l)),a.isValid=!0,c=new J(v,this.view.spatialReference),a.target.intersectedLocation=a.isTargetVisible?null:c,a.target.intersectedGraphic=a.isTargetVisible?null:this._intersector.results.min.toGraphic(this.view),
a.target.visible=a.hasIntersection?a.isTargetVisible:!1):a.isValid?(e.copy(p,b.points.intersection),c=e.dist(a.engine.points.intersectionObserver,b.points.intersection)/e.dist(a.engine.points.intersectionObserver,a.engine.points.intersectionTarget),e.sub(z,m,a.engine.points.intersectionObserver),e.scale(z,z,1-c),e.add(p,p,z),e.sub(z,h,a.engine.points.intersectionTarget),e.scale(z,z,c),e.add(p,p,z)):(a.hasIntersection=!1,a.target.intersectedLocation=null,a.target.intersectedGraphic=null,a.target.visible=
void 0);A[12]=b.points.observer[0];A[13]=b.points.observer[1];A[14]=b.points.observer[2];e.subtract(m,m,b.points.observer);e.subtract(h,h,b.points.observer);e.subtract(p,p,b.points.observer);a.engine.visualization.visibleLineVisualElement.geometry=null;a.engine.visualization.occludedLineVisualElement.geometry=null;a.engine.visualization.undefinedLineVisualElement.geometry=null;b=this.configuration;a.isValid?(a.point.manipulator.state=a.isTargetVisible?16:32,a.isTargetVisible?(a.engine.visualization.visibleLineVisualElement.geometry=
[[[m[0],m[1],m[2]],[h[0],h[1],h[2]]]],a.engine.visualization.visibleLineVisualElement.transform=A,a.engine.visualization.visibleLineVisualElement.color=u.toUnitRGBA(b.lineOfSightVisibleOuterColor)):(a.engine.visualization.visibleLineVisualElement.geometry=[[[m[0],m[1],m[2]],[p[0],p[1],p[2]]]],a.engine.visualization.visibleLineVisualElement.transform=A,a.engine.visualization.visibleLineVisualElement.color=u.toUnitRGBA(b.lineOfSightOccludedOuterColor),a.engine.visualization.occludedLineVisualElement.geometry=
[[[p[0],p[1],p[2]],[h[0],h[1],h[2]]]],a.engine.visualization.occludedLineVisualElement.transform=A)):(a.point.manipulator.state=64,a.engine.visualization.undefinedLineVisualElement.geometry=[[[m[0],m[1],m[2]],[h[0],h[1],h[2]]]],a.engine.visualization.undefinedLineVisualElement.transform=A);a.isDirty=!1;return!0};H._createClass(D,[{key:"state",get:function(){return this._showTracker?"creating":f.isSome(this.model.observer)?"created":"ready"}},{key:"cursor",get:function(){return this.manipulators.some(({manipulator:a})=>
a.focused)?null:this._showTracker?"crosshair":null}},{key:"isSupported",get:function(){return"3d"===this.get("view.type")}}]);return D}(Y.InteractiveToolBase);w.__decorate([x.property({constructOnly:!0})],q.LineOfSightTool.prototype,"view",void 0);w.__decorate([x.property({constructOnly:!0})],q.LineOfSightTool.prototype,"model",void 0);w.__decorate([x.property({readOnly:!0})],q.LineOfSightTool.prototype,"state",null);w.__decorate([x.property({readOnly:!0})],q.LineOfSightTool.prototype,"cursor",null);
w.__decorate([x.property({readOnly:!0})],q.LineOfSightTool.prototype,"isSupported",null);w.__decorate([x.property({type:N.Configuration})],q.LineOfSightTool.prototype,"configuration",void 0);w.__decorate([x.property({readOnly:!0})],q.LineOfSightTool.prototype,"updating",void 0);w.__decorate([x.property()],q.LineOfSightTool.prototype,"_showTracker",void 0);q.LineOfSightTool=w.__decorate([P.subclass("esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool")],q.LineOfSightTool);const v=t.create(),
m=t.create(),h=t.create(),p=t.create(),k=t.create(),E=B.create(),z=t.create(),A=R.create(),aa=M.lineSegment.create();q.LineOfSightTargetCollection=I;Object.defineProperty(q,"__esModule",{value:!0})});