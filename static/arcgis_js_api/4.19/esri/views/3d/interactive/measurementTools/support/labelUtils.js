// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../../../core/screenUtils ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../../../chunks/vec2 ./viewUtils".split(" "),function(h,l,A,B,f,u){function v(b,c,e){b.projectToRenderScreen(c,d);if(0>d[2]||1<d[2])return!1;b.renderToScreen(d,e);return!0}function w(b,c,e,g,k,n){if(!c)return!1;u.screenSpaceTangent(c.start,c.end,p,b);f.set(a,-p[1],p[0]);let q=!1;switch(g){case "top":q=0>a[1];break;case "bottom":q=0<a[1];break;case "left":q=0<a[0];break;case "right":q=0>a[0]}q&&
f.negate(a,a);if(0===f.length(a))switch(g){case "top":a[1]=1;break;case "bottom":a[1]=-1;break;case "left":a[0]=-1;break;case "right":a[0]=1}b.projectToRenderScreen(c.origin,d);if(0>d[2]||1<d[2])return!1;b.renderToScreen(d,k);f.scale(a,a,e*b.pixelRatio);f.add(a,a,d);b.renderToScreen(a,n);return!0}function x(b,c,e,g,k,n){if(!c||!e)return!1;u.screenSpaceTangent(c.end,c.start,p,b);u.screenSpaceTangent(e.start,e.end,y,b);f.add(a,p,y);f.negate(a,a);f.normalize(a,a);b.projectToRenderScreen(c.end,d);if(0>
d[2]||1<d[2])return!1;b.renderToScreen(d,k);f.scale(a,a,g*b.pixelRatio);f.add(a,a,d);b.renderToScreen(a,n);return!0}const p=l.createRenderScreenPointArray(),y=l.createRenderScreenPointArray(),a=l.createRenderScreenPointArray(),d=l.createRenderScreenPointArray3(),r=l.createRenderScreenPointArray3(),z=A.create(),m=l.createScreenPointArray(),t=l.createScreenPointArray();h.computeLabelPositionFromCorner=x;h.computeLabelPositionFromPlane=function(b,c,e,g,k,n){b.projectToRenderScreen(c,d);B.add(z,c,e);
b.projectToRenderScreen(z,r);if(0>d[2]||1<d[2]||0>r[2]||1<r[2])return!1;f.subtract(a,r,d);f.normalize(a,a);b.renderToScreen(d,k);f.scale(a,a,g*b.pixelRatio);f.add(a,a,d);b.renderToScreen(a,n);return!0};h.computeLabelPositionFromPoint=v;h.computeLabelPositionFromSegment=w;h.mirrorPosition=function(b){switch(b){case "top":return"bottom";case "right":return"left";case "bottom":return"top";case "left":return"right"}};h.positionLabelOnCorner=function(b,c,e,g,k){(c=x(k,c,e,g,m,t))&&b.updatePosition(m,t);
return c};h.positionLabelOnPoint=function(b,c,e){(c=v(e,c,m))&&b.updatePosition(m,null);return c};h.positionLabelOnSegment=function(b,c,e,g,k){(c=w(k,c,e,g,m,t))&&b.updatePosition(m,t);return c};Object.defineProperty(h,"__esModule",{value:!0})});