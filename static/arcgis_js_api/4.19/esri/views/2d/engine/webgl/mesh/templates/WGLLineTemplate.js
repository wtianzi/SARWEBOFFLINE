// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/Logger ../../../../../../core/screenUtils ../../definitions ../../number ../../materialKey/MaterialKey ../../color ../../Utils ./util ./WGLMeshTemplate ./WGLBaseLineTemplate".split(" "),function(C,D,w,x,y,E,z,A,F,G,H){const I=D.getLogger("esri.views.2d.engine.webgl.WGLLineTemplate");return function(B){function f(a,d,l,c,e,m,g,h,q,r,u,v,n,k,p,t){var b=B.call(this)||this;a=E.LineMaterialKey.load(a);d&&(a.sdf=d.sdf,a.pattern=
!0,a.textureBinding=d.textureBinding);b._capType=c;b._joinType=e;b._miterLimitCosine=F.getLimitCosine(m);b.tessellationProperties._fillColor=g;b.tessellationProperties._tl=h;b.tessellationProperties._br=q;b._hasPattern=r;b._isDashed=u;b._joinOnUTurn=p;b._isColorLocked=v;b._zOrder=k;b._effects=t;b._materialKey=a.data;b.tessellationProperties._bitset=v?1:0;b.tessellationProperties._halfWidth=.5*l;b.tessellationProperties._halfReferenceWidth=.5*n;b._initializeTessellator(!1);return b}C._inheritsLoose(f,
B);f.fromCIMLine=function(a,d,l){var c=a.color,e=a.scaleFactor||1;const m=a.isDashed;let g=a.cap;m&&1===g&&(g=2);const h=a.join;e*=w.pt2px(a.width);const q=w.pt2px(a.referenceWidth),r=w.pt2px(a.miterLimit);c=c&&z.premultiplyAlphaRGBA(c)||0;if(!d)return new f(a.materialKey,d,e,g,h,r,c,0,0,!1,m,a.colorLocked,q,a.zOrder,l,a.effects);const {rect:u,width:v,height:n}=d;var k=u.x+x.SPRITE_PADDING;const p=u.y+x.SPRITE_PADDING;var t=k+v;const b=p+n;k=y.i1616to32(k,p);t=y.i1616to32(t,b);return new f(a.materialKey,
d,e,g,h,r,c,k,t,!0,m,a.colorLocked,q,a.zOrder,l,a.effects)};f.fromSimpleLine=function(a,d,l){var {color:c}=a;const e="esriSLSSolid"!==a.style&&"esriSLSNull"!==a.style,m=A.getCapType(a.cap||"round",e),g=A.getJoinType(a.join||"round");c=c&&"esriSLSNull"!==a.style&&z.premultiplyAlphaRGBAArray(c)||0;"esriSLSNull"===a.style&&(c=0);const h=w.pt2px(a.width),q=a.miterLimit;if(!d)return new f(a.materialKey,d,h,m,g,q,c,0,0,!1,e,!1,h,0,l,null);const {rect:r,width:u,height:v}=d;var n=r.x+x.SPRITE_PADDING;const k=
r.y+x.SPRITE_PADDING;var p=n+u;const t=k+v;n=y.i1616to32(n,k);p=y.i1616to32(p,t);return new f(a.materialKey,d,h,m,g,q,c,n,p,!0,e,!1,h,0,l,null)};f.fromPictureLineSymbol=function(a,d,l,c){I.error("PictureLineSymbol support does not exist!");return null};return f}(H(G))});