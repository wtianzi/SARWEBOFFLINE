// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../number ../enums ./WGLBrush".split(" "),function(n,v,w,x,y,h){h=function(p){function k(){var a=p.apply(this,arguments)||this;a._programOptions={id:!1};return a}v._inheritsLoose(k,p);var q=k.prototype;q.dispose=function(){};q.drawMany=function(a,d){const {context:e,displayLevel:l,requiredLevel:z,state:r,drawPhase:A,painter:B,styleLayerUID:m}=a;a=a.styleLayer;const t=a.circleMaterial;var b=B.vectorTilesMaterialManager,
g=a.getPaintValue("circle-translate",l);const C=a.getPaintValue("circle-translate-anchor",l);var f=A===y.WGLDrawPhase.HITTEST;const u=this._programOptions;u.id=f;b=b.getMaterialProgram(e,t,u);e.bindProgram(b);b.setUniformMatrix3fv("u_displayMat3",1===C?r.displayMat3:r.displayViewMat3);b.setUniform2fv("u_circleTranslation",g);b.setUniform1f("u_depth",a.z);b.setUniform1f("u_antialiasingWidth",1.2);g=-1;f&&(f=x.u32to4Xu8(m+1),b.setUniform4fv("u_id",f));for(const c of d)c.layerData.has(m)&&(c.key.level!==
g&&(g=c.key.level,t.setDataUniforms(b,l,a,g)),d=c.layerData.get(m),d.prepareForRendering(e),f=d.circleVertexArrayObject,w.isNone(f)||(e.bindVAO(f),b.setUniformMatrix3fv("u_dvsMat3",c.transforms.dvs),z!==c.key.level?e.setStencilFunction(514,c.stencilRef,255):e.setStencilFunction(516,255,255),e.drawElements(4,d.circleIndexCount,5125,Uint32Array.BYTES_PER_ELEMENT*d.circleIndexStart),c.triangleCount+=d.circleIndexCount/3))};return k}(h);n.WGLBrushVTLCircle=h;Object.defineProperty(n,"__esModule",{value:!0})});