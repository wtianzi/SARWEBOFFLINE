// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(m,u,z,A,v,B,y,G,h,C,H){let t=function(){function g(a,b,d,e){this.type=a;this.typeName=b.type;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;
this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=d;this.uid=e;switch(a){case 0:this._layoutDefinition=h.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=h.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=h.StyleDefinition.fillLayoutDefinition;this._paintDefinition=h.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=h.StyleDefinition.lineLayoutDefinition;this._paintDefinition=h.StyleDefinition.linePaintDefinition;
break;case 3:this._layoutDefinition=h.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=h.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=h.StyleDefinition.circleLayoutDefinition,this._paintDefinition=h.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var c=g.prototype;c.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=
G.createFilter(this.filter)};c.getLayoutProperty=function(a){return this._layoutProperties[a]};c.getPaintProperty=function(a){return this._paintProperties[a]};c.getLayoutValue=function(a,b,d){let e;const f=this._layoutProperties[a];f&&(e=f.getValue(b,d));void 0===e&&(e=this._layoutDefinition[a]["default"]);return e};c.getPaintValue=function(a,b,d){let e;const f=this._paintProperties[a];f&&(e=f.getValue(b,d));void 0===e&&(e=this._paintDefinition[a]["default"]);return e};c.isPainterDataDriven=function(){const a=
this._paintProperties;if(a)for(const b in a)if(a[b].isDataDriven)return!0;return!1};c._parseLayout=function(a){const b={};for(const d in a){const e=this._layoutDefinition[d];e&&(b[d]=new C(e,a[d]))}return b};c._parsePaint=function(a){const b={};for(const d in a){const e=this._paintDefinition[d];e&&(b[d]=new C(e,a[d]))}return b};c.computeAttributesKey=function(a,b){let d=0,e=0;for(const f of b)b="icon-size"===f||"text-size"===f?this.getLayoutProperty(f):this.getPaintProperty(f),e|=(null!=b&&b.interpolator?
2:null!=b&&b.isDataDriven?1:0)<<d,d+=2;return e<<3|a};return g}(),I=function(g){function c(a,b,d,e){a=g.call(this,a,b,d,e)||this;a.backgroundMaterial=new z.VTLBackgroundMaterial(a.computeAttributesKey(0,z.VTLBackgroundMaterial.ATTRIBUTES));return a}u._inheritsLoose(c,g);return c}(t),J=function(g){function c(a,b,d,e){a=g.call(this,a,b,d,e)||this;b=a.getPaintProperty("fill-color");d=a.getPaintProperty("fill-opacity");e=a.getPaintProperty("fill-pattern");a.hasDataDrivenColor=null==b?void 0:b.isDataDriven;
a.hasDataDrivenOpacity=null==d?void 0:d.isDataDriven;a.hasDataDrivenFill=a.hasDataDrivenColor||a.hasDataDrivenOpacity||(null==e?void 0:e.isDataDriven);d=a.getPaintProperty("fill-outline-color");a.outlineUsesFillColor=!d;a.hasDataDrivenOutlineColor=null==d?void 0:d.isDataDriven;a.hasDataDrivenOutline=d?d.isDataDriven:b?b.isDataDriven:!1;a.hasDataDrivenOutline=(d?a.hasDataDrivenOutlineColor:a.hasDataDrivenColor)||a.hasDataDrivenOpacity;a.fillMaterial=new v.VTLFillMaterial(a.computeAttributesKey(1,v.VTLFillMaterial.ATTRIBUTES));
a.outlineMaterial=new v.VTLOutlineMaterial(a.computeAttributesKey(2,a.outlineUsesFillColor?v.VTLOutlineMaterial.ATTRIBUTES_FILL:v.VTLOutlineMaterial.ATTRIBUTES_OUTLINE),a.outlineUsesFillColor);return a}u._inheritsLoose(c,g);return c}(t),K=function(g){function c(a,b,d,e){var f,k,l,n,p,q,r;a=g.call(this,a,b,d,e)||this;a.lineMaterial=new B.VTLLineMaterial(a.computeAttributesKey(3,B.VTLLineMaterial.ATTRIBUTES));a.hasDataDrivenLine=(null==(f=a.getPaintProperty("line-blur"))?void 0:f.isDataDriven)||(null==
(k=a.getPaintProperty("line-color"))?void 0:k.isDataDriven)||(null==(l=a.getPaintProperty("line-gap-width"))?void 0:l.isDataDriven)||(null==(n=a.getPaintProperty("line-offset"))?void 0:n.isDataDriven)||(null==(p=a.getPaintProperty("line-opacity"))?void 0:p.isDataDriven)||(null==(q=a.getPaintProperty("line-pattern"))?void 0:q.isDataDriven)||(null==(r=a.getPaintProperty("line-width"))?void 0:r.isDataDriven);b=b.paint["line-width"];b||(b=h.StyleDefinition.linePaintDefinition["line-width"].default);f=
a.getPaintProperty("line-width");a.isThinLine=!(null!=f&&f.isDataDriven)&&"number"===typeof b&&b<H.THIN_LINE_THRESHOLD;return a}u._inheritsLoose(c,g);return c}(t),L=function(g){function c(a,b,d,e){var f,k,l,n,p,q,r,w,x,D,E,F;a=g.call(this,a,b,d,e)||this;a.iconMaterial=new y.VTLIconMaterial(a.computeAttributesKey(4,y.VTLIconMaterial.ATTRIBUTES));a.textMaterial=new y.VTLTextMaterial(a.computeAttributesKey(6,y.VTLTextMaterial.ATTRIBUTES));a.hasDataDrivenIcon=(null==(f=a.getPaintProperty("icon-color"))?
void 0:f.isDataDriven)||(null==(k=a.getPaintProperty("icon-halo-blur"))?void 0:k.isDataDriven)||(null==(l=a.getPaintProperty("icon-halo-color"))?void 0:l.isDataDriven)||(null==(n=a.getPaintProperty("icon-halo-width"))?void 0:n.isDataDriven)||(null==(p=a.getPaintProperty("icon-opacity"))?void 0:p.isDataDriven)||(null==(q=a.getLayoutProperty("icon-size"))?void 0:q.isDataDriven);a.hasDataDrivenText=(null==(r=a.getPaintProperty("text-color"))?void 0:r.isDataDriven)||(null==(w=a.getPaintProperty("text-halo-blur"))?
void 0:w.isDataDriven)||(null==(x=a.getPaintProperty("text-halo-color"))?void 0:x.isDataDriven)||(null==(D=a.getPaintProperty("text-halo-width"))?void 0:D.isDataDriven)||(null==(E=a.getPaintProperty("text-opacity"))?void 0:E.isDataDriven)||(null==(F=a.getLayoutProperty("text-size"))?void 0:F.isDataDriven);return a}u._inheritsLoose(c,g);return c}(t),M=function(g){function c(a,b,d,e){a=g.call(this,a,b,d,e)||this;a.circleMaterial=new A.VTLCircleMaterial(a.computeAttributesKey(5,A.VTLCircleMaterial.ATTRIBUTES));
return a}u._inheritsLoose(c,g);return c}(t),N=function(){function g(c,a,b){var d,e,f,k,l;this.allowOverlap=c.getLayoutValue("icon-allow-overlap",a);this.ignorePlacement=c.getLayoutValue("icon-ignore-placement",a);this.keepUpright=c.getLayoutValue("icon-keep-upright",a);this.optional=c.getLayoutValue("icon-optional",a);this.rotationAlignment=c.getLayoutValue("icon-rotation-alignment",a);2===this.rotationAlignment&&(this.rotationAlignment=b?0:1);b=c.getLayoutProperty("icon-anchor");null!=(d=b)&&d.isDataDriven?
this._anchorProp=b:this.anchor=c.getLayoutValue("icon-anchor",a);b=c.getLayoutProperty("icon-offset");null!=(e=b)&&e.isDataDriven?this._offsetProp=b:this.offset=c.getLayoutValue("icon-offset",a);b=c.getLayoutProperty("icon-padding");null!=(f=b)&&f.isDataDriven?this._paddingProp=b:this.padding=c.getLayoutValue("icon-padding",a);b=c.getLayoutProperty("icon-rotate");null!=(k=b)&&k.isDataDriven?this._rotateProp=b:this.rotate=c.getLayoutValue("icon-rotate",a);b=c.getLayoutProperty("icon-size");null!=(l=
b)&&l.isDataDriven?this._sizeProp=b:this.size=c.getLayoutValue("icon-size",a)}g.prototype.update=function(c,a){this._anchorProp&&(this.anchor=this._anchorProp.getValue(c,a));this._offsetProp&&(this.offset=this._offsetProp.getValue(c,a));this._paddingProp&&(this.padding=this._paddingProp.getValue(c,a));this._rotateProp&&(this.rotate=this._rotateProp.getValue(c,a));this._sizeProp&&(this.size=this._sizeProp.getValue(c,a))};return g}(),O=function(){function g(c,a,b){var d,e,f,k,l,n,p,q,r,w,x;this.allowOverlap=
c.getLayoutValue("text-allow-overlap",a);this.ignorePlacement=c.getLayoutValue("text-ignore-placement",a);this.keepUpright=c.getLayoutValue("text-keep-upright",a);this.optional=c.getLayoutValue("text-optional",a);this.rotationAlignment=c.getLayoutValue("text-rotation-alignment",a);2===this.rotationAlignment&&(this.rotationAlignment=b?0:1);b=c.getLayoutProperty("text-anchor");null!=(d=b)&&d.isDataDriven?this._anchorProp=b:this.anchor=c.getLayoutValue("text-anchor",a);b=c.getLayoutProperty("text-justify");
null!=(e=b)&&e.isDataDriven?this._justifyProp=b:this.justify=c.getLayoutValue("text-justify",a);b=c.getLayoutProperty("text-letter-spacing");null!=(f=b)&&f.isDataDriven?this._letterSpacingProp=b:this.letterSpacing=c.getLayoutValue("text-letter-spacing",a);b=c.getLayoutProperty("text-line-height");null!=(k=b)&&k.isDataDriven?this._lineHeightProp=b:this.lineHeight=c.getLayoutValue("text-line-height",a);b=c.getLayoutProperty("text-max-angle");null!=(l=b)&&l.isDataDriven?this._maxAngleProp=b:this.maxAngle=
c.getLayoutValue("text-max-angle",a);b=c.getLayoutProperty("text-max-width");null!=(n=b)&&n.isDataDriven?this._maxWidthProp=b:this.maxWidth=c.getLayoutValue("text-max-width",a);b=c.getLayoutProperty("text-offset");null!=(p=b)&&p.isDataDriven?this._offsetProp=b:this.offset=c.getLayoutValue("text-offset",a);b=c.getLayoutProperty("text-padding");null!=(q=b)&&q.isDataDriven?this._paddingProp=b:this.padding=c.getLayoutValue("text-padding",a);b=c.getLayoutProperty("text-rotate");null!=(r=b)&&r.isDataDriven?
this._rotateProp=b:this.rotate=c.getLayoutValue("text-rotate",a);b=c.getLayoutProperty("text-size");null!=(w=b)&&w.isDataDriven?this._sizeProp=b:this.size=c.getLayoutValue("text-size",a);b=c.getLayoutProperty("text-writing-mode");null!=(x=b)&&x.isDataDriven?this._writingModeProp=b:this.writingMode=c.getLayoutValue("text-writing-mode",a)}g.prototype.update=function(c,a){this._anchorProp&&(this.anchor=this._anchorProp.getValue(c,a));this._justifyProp&&(this.justify=this._justifyProp.getValue(c,a));
this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(c,a));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(c,a));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(c,a));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(c,a));this._offsetProp&&(this.offset=this._offsetProp.getValue(c,a));this._paddingProp&&(this.padding=this._paddingProp.getValue(c,a));this._rotateProp&&(this.rotate=this._rotateProp.getValue(c,a));this._sizeProp&&
(this.size=this._sizeProp.getValue(c,a));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(c,a))};return g}();m.BackgroundStyleLayer=I;m.CircleStyleLayer=M;m.FillStyleLayer=J;m.IconLayout=N;m.LineStyleLayer=K;m.StyleLayer=t;m.SymbolStyleLayer=L;m.TextLayout=O;Object.defineProperty(m,"__esModule",{value:!0})});