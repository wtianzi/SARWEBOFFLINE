// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/promiseUtils ../../layers/RefreshableLayerView ../../layers/LayerView ../engine/BitmapContainer ./LayerView2D ./support/ExportStrategy".split(" "),
function(k,d,b,l,x,g,y,m,z,A,B,n,p,q,r,t,u){const v=l.getLogger("esri.views.2d.layers.BaseDynamicLayerView2D");b=function(h){function e(){return h.apply(this,arguments)||this}k._inheritsLoose(e,h);var a=e.prototype;a.hitTest=function(){return null};a.update=function(f){this.strategy.update(f).catch(c=>{n.isAbortError(c)||v.error(c)});this.notifyChange("updating")};a.attach=function(){this._bitmapContainer=new r.BitmapContainer;this.container.addChild(this._bitmapContainer);this.strategy=new u({container:this._bitmapContainer,
fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})};a.detach=function(){this.strategy.destroy();this.strategy=null;this.container.removeChild(this._bitmapContainer);this._bitmapContainer.removeAllChildren()};a.moveStart=function(){};a.viewChange=function(){};a.moveEnd=function(){this.requestUpdate()};a.fetchBitmapData=function(f,c,w){return this.layer.fetchImage(f,c,w,{timestamp:this.refreshTimestamp})};a.doRefresh=async function(){this.requestUpdate()};a.isUpdating=
function(){return this.strategy.updating||this.updateRequested};return e}(p.RefreshableLayerView(t.LayerView2DMixin(q)));d.__decorate([g.property()],b.prototype,"strategy",void 0);d.__decorate([g.property()],b.prototype,"updating",void 0);return b=d.__decorate([m.subclass("esri.views.2d.layers.BaseDynamicLayerView2D")],b)});