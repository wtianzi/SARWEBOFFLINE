// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../geometry/support/spatialReferenceUtils ../../geometry/Point ../../geometry ../../chunks/vec3f64 ../../chunks/vec3 ../../chunks/vec2f64 ../../chunks/vec4f64 ../../chunks/vec2 ../../chunks/vec4 ../3d/support/stack".split(" "),function(n,y,m,B,k,z,p,q,g,A,r){function t(e,c){if(c.supported){var a=Infinity,b=-Infinity,d=c.upperBoundX-c.lowerBoundX;e.forEach(h=>{let l=h.pos[0];for(;l<c.lowerBoundX;)l+=d;for(;l>c.upperBoundX;)l-=d;a=Math.min(a,l);b=Math.max(b,l);h.pos[0]=l});var f=
b-a;d-f<f&&e.forEach(h=>{0>h.pos[0]&&(h.pos[0]+=d)})}}function u(e,c){e=y.getInfo(e);return"global"===c&&e?{supported:!0,lowerBoundX:e.valid[0],upperBoundX:e.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}let w=function(){function e(a,b){this.spatialReference=a;this.viewingMode=b;this._unnormalizationInfo=u(a,b)}var c=e.prototype;c.tag=function(a){return a};c.createNew=function(){return this.tag(p.create())};c.fromPoint=function(a){return this.tag(p.fromValues(a.x,a.y))};c.fromArray=function(a){return this.tag(p.fromValues(a[0],
a[1]))};c.toArray=function(a){return[a[0],a[1]]};c.clone=function(a){return this.tag(p.fromArray(a))};c.toPoint=function(a,b){b.x=a[0];b.y=a[1];b.hasZ=!1;b.hasM=!1;b.spatialReference=this.spatialReference;return b};c.createPoint=function(a){return new m({x:a[0],y:a[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};c.createPointFromArray=function(a){return new m({x:a[0],y:a[1],z:void 0,m:void 0,spatialReference:this.spatialReference})};c.createDehydratedPoint=function(a){return{x:a[0],
y:a[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:"point"}};c.lerp=function(a,b,d,f){return g.lerp(f,a,b,d)};c.addDelta=function(a,b,d){a[0]+=b;a[1]+=d};c.scale=function(a,b,d,f){const h=r.sv2d.get();b=g.subtract(h,a,b);d=g.scale(h,d,g.dot(d,b));g.scaleAndAdd(a,a,d,f-1)};c.rotate=function(a,b,d){g.rotate(a,a,b,d)};c.pointToArray=function(a){return[a.x,a.y]};c.getZ=function(a,b){return b};c.hasZ=function(){return!1};c.unnormalize=function(a){t(a,this._unnormalizationInfo)};
c.fromXYZ=function(a){return this.tag(p.fromValues(a[0],a[1]))};c.toXYZ=function(a,b=0){return k.fromValues(a[0],a[1],b)};return e}(),v=function(){function e(a,b,d){this.valueType=a;this.spatialReference=b;this._unnormalizationInfo=u(b,d)}var c=e.prototype;c.tag=function(a){return a};c.createNew=function(){return this.tag(k.create())};c.fromPoint=function(a){return this.tag(k.fromValues(a.x,a.y,0===this.valueType?a.z:a.m))};c.fromArray=function(a){return this.tag(k.fromValues(a[0],a[1],a[2]||0))};
c.toArray=function(a){return[a[0],a[1],a[2]]};c.clone=function(a){return this.tag(k.fromArray(a))};c.toPoint=function(a,b){b.x=a[0];b.y=a[1];0===this.valueType?(b.z=a[2],b.hasZ=!0,b.hasM=!1):(b.m=a[2],b.hasZ=!1,b.hasM=!0);b.spatialReference=this.spatialReference;return b};c.createPoint=function(a){return new m({x:a[0],y:a[1],z:0===this.valueType?a[2]:void 0,m:1===this.valueType?a[2]:void 0,spatialReference:this.spatialReference})};c.createPointFromArray=function(a){return new m({x:a[0],y:a[1],z:0===
this.valueType?a[2]:void 0,m:1===this.valueType?a[2]:void 0,spatialReference:this.spatialReference})};c.createDehydratedPoint=function(a){const b=0===this.valueType,d=1===this.valueType;return{x:a[0],y:a[1],z:b?a[2]:void 0,m:d?a[2]:void 0,hasZ:b,hasM:d,spatialReference:this.spatialReference,type:"point"}};c.lerp=function(a,b,d,f){return z.lerp(f,a,b,d)};c.addDelta=function(a,b,d,f){a[0]+=b;a[1]+=d;0===this.valueType&&(a[2]+=f)};c.scale=function(a,b,d,f){const h=r.sv2d.get();b=g.subtract(h,a,b);d=
g.scale(h,d,g.dot(d,b));g.scaleAndAdd(a,a,d,f-1)};c.rotate=function(a,b,d){g.rotate(a,a,b,d)};c.pointToArray=function(a){return 0===this.valueType?[a.x,a.y,a.z]:[a.x,a.y,a.m]};c.getZ=function(a,b){return 0===this.valueType?a[2]:b};c.hasZ=function(){return 0===this.valueType};c.unnormalize=function(a){t(a,this._unnormalizationInfo)};c.fromXYZ=function(a,b=0,d=0){return this.tag(k.fromValues(a[0],a[1],0===this.valueType?2<a.length?a[2]:b:d))};c.toXYZ=function(a,b=0){return this.tag(k.fromValues(a[0],
a[1],0===this.valueType?a[2]:b))};return e}(),x=function(){function e(a,b){this.spatialReference=a;this._unnormalizationInfo=u(a,b)}var c=e.prototype;c.tag=function(a){return a};c.createNew=function(){return this.tag(q.create())};c.fromPoint=function(a){return this.tag(q.fromValues(a.x,a.y,a.z,a.m))};c.fromArray=function(a){return this.tag(q.fromValues(a[0],a[1],a[2]||0,a[3]||0))};c.toArray=function(a){return[a[0],a[1],a[2],a[3]]};c.clone=function(a){return this.tag(q.fromArray(a))};c.toPoint=function(a,
b){b.x=a[0];b.y=a[1];b.z=a[2];b.m=a[3];b.hasZ=!0;b.hasM=!0;b.spatialReference=this.spatialReference;return b};c.createPoint=function(a){return new m({x:a[0],y:a[1],z:a[2],m:a[3],spatialReference:this.spatialReference})};c.createPointFromArray=function(a){return new m({x:a[0],y:a[1],z:a[2],m:a[3],spatialReference:this.spatialReference})};c.createDehydratedPoint=function(a){return{x:a[0],y:a[1],z:a[2],m:a[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:"point"}};c.lerp=function(a,b,d,
f){return A.lerp(f,a,b,d)};c.addDelta=function(a,b,d,f){a[0]+=b;a[1]+=d;a[2]+=f};c.scale=function(a,b,d,f){const h=r.sv2d.get();b=g.subtract(h,a,b);d=g.scale(h,d,g.dot(d,b));g.scaleAndAdd(a,a,d,f-1)};c.rotate=function(a,b,d){g.rotate(a,a,b,d)};c.pointToArray=function(a){return[a.x,a.y,a.z,a.m]};c.getZ=function(a){return a[2]};c.hasZ=function(){return!0};c.unnormalize=function(a){t(a,this._unnormalizationInfo)};c.fromXYZ=function(a,b=0,d=0){return this.tag(q.fromValues(a[0],a[1],2<a.length?a[2]:b,
d))};c.toXYZ=function(a){return k.fromValues(a[0],a[1],a[2])};return e}();n.CoordinateHelper2D=w;n.CoordinateHelper3D=v;n.CoordinateHelper4D=x;n.createCoordinateHelper=function(e,c,a,b){return e&&c?new x(a,b):c?new v(1,a,b):e?new v(0,a,b):new w(a,b)};Object.defineProperty(n,"__esModule",{value:!0})});