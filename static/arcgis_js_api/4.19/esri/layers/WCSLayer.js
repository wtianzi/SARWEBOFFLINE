// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Layer ../core/MultiOriginJSONSupport ./support/commonProperties ./mixins/OperationalLayer ./support/Field ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ../support/popupUtils ./mixins/ImageryTileMixin ./support/rasterDatasets/WCSRaster".split(" "),
function(h,c,b,l,C,D,d,m,E,n,p,F,G,H,q,r,t,u,v,w,x,y,z,A,B){b=function(k){function f(...a){a=k.call(this,...a)||this;a.coverageId=null;a.coverageInfo=null;a.customParameters=null;a.version=null;a.isReference=null;a.type="wcs";a.popupEnabled=!0;a.popupTemplate=null;return a}h._inheritsLoose(f,k);var g=f.prototype;g.normalizeCtorArgs=function(a,e){return"string"===typeof a?{url:a,...e}:a};g.load=function(a){a=l.isSome(a)?a.signal:null;this.addResolvingPromise(this._openRaster(a));return Promise.resolve(this)};
g.createPopupTemplate=function(a){return z.createPopupTemplate(this,a)};g._openRaster=async function(a){const e=new B({url:this.url,version:this.version,coverageId:this.coverageId,ioConfig:{...this.ioConfig,sampling:"closest",customFetchParameters:this.customParameters}});await e.open({signal:a});if(!e.rasterInfo)throw e.destroy(),new p("wcs-layer:load","cannot load resources on "+this.url);null==this.title&&this.setAtOrigin("title",e.datasetName,"service");null==this.coverageId&&this.setAtOrigin("coverageId",
e.coverageInfo.id,"service");this.raster=e;this._configDefaultSettings()};h._createClass(f,[{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"fields",get:function(){return[new v({name:"Raster.ServicePixelValue",alias:"Pixel Value",domain:null,editable:!1,length:50,type:"string"})]}}]);return f}(y.ScaleRangeLayer(x.RefreshableLayer(u.OperationalLayer(w.PortalLayer(A.ImageryTileMixin(r.MultiOriginJSONMixin(q)))))));c.__decorate([d.property({json:{write:!0}})],b.prototype,
"coverageId",void 0);c.__decorate([d.property({readOnly:!0}),m.aliasOf("raster.coverageInfo")],b.prototype,"coverageInfo",void 0);c.__decorate([d.property({json:{type:Object,write:!0}})],b.prototype,"customParameters",void 0);c.__decorate([d.property()],b.prototype,"version",void 0);c.__decorate([d.property()],b.prototype,"isReference",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property(t.popupEnabled)],b.prototype,"popupEnabled",void 0);c.__decorate([d.property()],
b.prototype,"popupTemplate",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"defaultPopupTemplate",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"fields",null);return b=c.__decorate([n.subclass("esri.layers.WCSLayer")],b)});