// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../request ../../core/Promise ../../core/Loadable".split(" "),function(k,a,b,m,n,u,g,v,l,w,x,y,h,p,q,r){const t=n.getLogger("esri.layers.support.BuildingSummaryStatistics");
b=function(f){function c(){var d=f.apply(this,arguments)||this;d.fieldName=null;d.modelName=null;d.label=null;d.min=null;d.max=null;d.mostFrequentValues=null;d.subLayerIds=null;return d}k._inheritsLoose(c,f);return c}(h.JSONSupport);a.__decorate([g.property({type:String})],b.prototype,"fieldName",void 0);a.__decorate([g.property({type:String})],b.prototype,"modelName",void 0);a.__decorate([g.property({type:String})],b.prototype,"label",void 0);a.__decorate([g.property({type:Number})],b.prototype,
"min",void 0);a.__decorate([g.property({type:Number})],b.prototype,"max",void 0);a.__decorate([g.property({json:{read:f=>Array.isArray(f)&&(f.every(c=>"string"===typeof c)||f.every(c=>"number"===typeof c))?f.slice():null}})],b.prototype,"mostFrequentValues",void 0);a.__decorate([g.property({type:[Number]})],b.prototype,"subLayerIds",void 0);b=a.__decorate([l.subclass("esri.layers.support.BuildingFieldStatistics")],b);h=function(f){function c(){var e=f.apply(this,arguments)||this;e.url=null;return e}
k._inheritsLoose(c,f);var d=c.prototype;d.load=function(e){e=m.isSome(e)?e.signal:null;this.addResolvingPromise(this._fetchService(e));return Promise.resolve(this)};d._fetchService=async function(e){e=(await p(this.url,{query:{f:"json"},responseType:"json",signal:e})).data;this.read(e,{origin:"service"})};k._createClass(c,[{key:"fields",get:function(){return this.loaded||"loading"===this.loadStatus?this._get("fields"):(t.error("building summary statistics are not loaded"),null)}}]);return c}(r.LoadableMixin(q.EsriPromiseMixin(h.JSONSupport)));
a.__decorate([g.property({constructOnly:!0,type:String})],h.prototype,"url",void 0);a.__decorate([g.property({readOnly:!0,type:[b],json:{read:{source:"summary"}}})],h.prototype,"fields",null);return h=a.__decorate([l.subclass("esri.layers.support.BuildingSummaryStatistics")],h)});