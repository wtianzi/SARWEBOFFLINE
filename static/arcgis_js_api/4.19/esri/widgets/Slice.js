// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ./support/widgetUtils ./support/decorators/messageBundle ../chunks/index ./Widget ./Slice/SliceViewModel".split(" "),function(x,d,b,D,E,p,k,F,
y,G,H,I,z,J,A,a,B,u){b=function(v){function r(c,f){c=v.call(this,c,f)||this;c.messages=null;c.iconClass="esri-icon-slice";c.label=void 0;c.view=null;c.viewModel=new u;return c}x._inheritsLoose(r,v);var w=r.prototype;w.render=function(){var c=this.viewModel.isSupported,f=this.viewModel.active,h="disabled"===this.viewModel.state,l="ready"===this.viewModel.state,m="slicing"===this.viewModel.state||"sliced"===this.viewModel.state,g="exclude"===this.viewModel.layersMode;const {messages:e}=this;var n=h&&
"esri-button--disabled";h=f&&!m||g?null:a.jsx("button",{disabled:h,class:this.classes("esri-slice__clear-button esri-button esri-button--primary",n),bind:this,onclick:this._onNewSliceClick,key:"esri-slice__clear",type:"button"},e.newSlice);const C=m&&!g?a.jsx("button",{class:this.classes("esri-slice__exclude-button esri-button esri-button--secondary",n),bind:this,onclick:()=>{this.viewModel.enterExcludeLayerMode()},key:"esri-slice__exclude",type:"button"},e.excludeLayer):null;n=f&&g?a.jsx("button",
{class:this.classes("esri-slice__cancel-button esri-button esri-button--secondary",n),bind:this,onclick:()=>{this.viewModel.exitExcludeLayerMode()},key:"esri-slice__cancel-exclude",type:"button"},e.cancel):null;let q=null;f&&(g?q=e.excludeHint:l&&(q=e.hint));f=q?a.jsx("div",{class:"esri-slice__hint",key:"esri-slice__hint"},a.jsx("p",{class:"esri-slice__hint-text"},q)):null;l=this.excludedLayers?this.excludedLayers.toArray().map(t=>a.jsx("li",{class:"esri-slice__layer-item",key:t.uid},a.jsx("a",{href:"",
onclick:()=>{this.excludedLayers.remove(t);return!1},class:"esri-icon-close esri-slice__cross",title:e.includeLayer}),t.title)):[];this.excludeGroundSurface&&l.push(a.jsx("li",{class:"esri-slice__layer-item",key:"ground"},a.jsx("a",{href:"",onclick:()=>this.excludeGroundSurface=!1,class:"esri-icon-close esri-slice__cross",title:e.includeLayer}),e.ground));m=!g&&m&&0<l.length?a.jsx("div",{class:"esri-slice__settings",key:"esri-slice__settings"},a.jsx("h3",{class:"esri-slice__settings-title esri-widget__heading"},
e.excludedLayers),a.jsx("ul",null,l)):null;g=a.jsx("div",{class:"esri-slice__panel--error",key:"esri-slice__unsupported"},a.jsx("p",null,e.unsupported));h=a.jsx("div",{class:"esri-slice__actions"},C,n,h);c=this.visible?a.jsx("div",{class:"esri-slice__container"},c?[f,m,h]:g):null;return a.jsx("div",{class:"esri-slice esri-widget esri-widget--panel",role:"presentation"},c)};w._onNewSliceClick=function(){z.ignoreAbortErrors(this.viewModel.removeSliceAndStart())};return r}(B);d.__decorate([p.property(),
A.messageBundle("esri/widgets/Slice/t9n/Slice")],b.prototype,"messages",void 0);d.__decorate([p.property()],b.prototype,"iconClass",void 0);d.__decorate([p.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0);d.__decorate([k.aliasOf("viewModel.view")],b.prototype,"view",void 0);d.__decorate([k.aliasOf("viewModel.visible")],b.prototype,"visible",void 0);d.__decorate([k.aliasOf("viewModel.active")],b.prototype,"active",void 0);d.__decorate([p.property({type:u})],
b.prototype,"viewModel",void 0);d.__decorate([k.aliasOf("viewModel.excludedLayers")],b.prototype,"excludedLayers",void 0);d.__decorate([k.aliasOf("viewModel.excludeGroundSurface")],b.prototype,"excludeGroundSurface",void 0);return b=d.__decorate([y.subclass("esri.widgets.Slice")],b)});