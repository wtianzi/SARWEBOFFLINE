// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Collection ../../../core/watchUtils ../../support/widgetUtils ../../../chunks/index ../../Widget ../css ./LegendItem".split(" "),
function(b,k,e,u,v,w,f,x,l,y,z,A,m,n,B,p,q,r,t){b.Legend=function(h){function g(a,c){a=h.call(this,a,c)||this;a._items=new m;a._expandedLine=null;return a}k._inheritsLoose(g,h);var d=g.prototype;d.initialize=function(){this.own([n.init(this,"profiles",a=>{this._destroyItems();this._items.addMany(a.map(c=>this._createItemForLine(c)))}),this.watch("effectiveUnits",a=>{this._items.forEach(c=>{c.effectiveUnits=a})})])};d.destroy=function(){this._destroyItems()};d.render=function(){return p.jsx("div",
{class:r.LEGEND_CSS.base},this._items.toArray().map(a=>a.render()))};d._onExpandedToggle=function(a){this._expandedLine=a===this._expandedLine?null:a;this._items.forEach(c=>c.expanded=c.line===this._expandedLine)};d._createItemForLine=function(a){return new t.LegendItem({line:a,effectiveUnits:this.effectiveUnits,expanded:a===this._expandedLine,checkboxVisible:1<this.profiles.length,onExpandedToggle:()=>this._onExpandedToggle(a)})};d._destroyItems=function(){this._items.drain(a=>a.destroy())};return g}(q);
e.__decorate([f.property()],b.Legend.prototype,"profiles",void 0);e.__decorate([f.property()],b.Legend.prototype,"effectiveUnits",void 0);e.__decorate([f.property()],b.Legend.prototype,"_items",void 0);e.__decorate([f.property()],b.Legend.prototype,"_expandedLine",void 0);b.Legend=e.__decorate([l.subclass("esri.widgets.ElevationProfile.Legend")],b.Legend);Object.defineProperty(b,"__esModule",{value:!0})});