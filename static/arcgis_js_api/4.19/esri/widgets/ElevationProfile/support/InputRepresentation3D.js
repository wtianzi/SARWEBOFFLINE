// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("exports ../../../core/maybe ../../../core/handleUtils ../../../core/promiseUtils ../../../support/elevationInfoUtils ../../../views/support/layerViewUtils ../../../views/3d/interactive/editingTools/settings ../../../views/3d/interactive/visualElements/OutlineVisualElement ../../../views/3d/layers/graphics/GraphicState".split(" "),function(k,d,l,m,n,p,q,r,t){function h(f){return d.isSome(f.geometry)&&"polyline"===f.geometry.type}let v=function(){function f(a){this._params=a;this._visualElementHandle=
this._highlightHandle=this._highlightTask=null}var g=f.prototype;g.destroy=function(){this.remove()};g.remove=function(){this._highlightTask=d.abortMaybe(this._highlightTask);this._highlightHandle=d.removeMaybe(this._highlightHandle);this._visualElementHandle=d.removeMaybe(this._visualElementHandle)};g.showHighlight=function(a){this.remove();if(!d.isNone(a)&&h(a)){var b=a.layer;this._highlightTask=m.createTask(async c=>{const e=await this._params.view.whenLayerView(b);m.throwIfAborted(c);p.highlightsSupported(e)&&
(this._highlightHandle=e.highlight(a))})}};g.showReshaping=function(a){this.remove();if(!d.isNone(a)){var b=this._params.view,c=new r.OutlineVisualElement({view:b,geometry:h(a)?a.geometry:null,attached:!1,elevationInfo:n.getGraphicEffectiveElevationInfo(a),renderOccluded:8}),e=new t.GraphicState({graphic:a});b=[e.watch("isDraped",u=>{c.isDraped=u}),e.on("changed",()=>{c.geometry=h(a)?a.geometry:null}),b.trackGraphicState(e),b.maskOccludee(a),l.destroyHandle(c)];q.settings.visualElements.lineGraphics.outline.apply(c);
c.attached=!0;this._visualElementHandle=l.handlesGroup(b)}};return f}();k.InputRepresentation3D=v;Object.defineProperty(k,"__esModule",{value:!0})});