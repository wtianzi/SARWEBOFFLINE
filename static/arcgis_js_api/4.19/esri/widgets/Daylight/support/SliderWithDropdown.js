// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/maybe ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/events ../../support/widgetUtils ../../../chunks/index ./SliderWithDropdownViewModel ../../Slider".split(" "),
function(p,e,c,m,v,w,f,x,q,y,z,A,n,B,g,r,t){c=function(h){function k(a,b){a=h.call(this,a,b)||this;a.viewModel=new r.SliderWithDropdownViewModel;a.buttonTooltip="";a.showDropDown=!0;a.currentIndex=0;a._rootNode=null;return a}p._inheritsLoose(k,h);var d=k.prototype;d.renderThumbLabel=function(a){return g.jsx("div",{class:this.classes("esri-slider-with-dropdown__box","esri-slider__label",{["esri-slider-with-dropdown__box--drop-down-on"]:this.showDropDown,["esri-slider-with-dropdown__box--drop-down-off"]:!this.showDropDown})},
h.prototype.renderThumbLabel.call(this,a),this.showDropDown?g.jsx("div",{bind:this,afterCreate:this._onRootNodeCreate,class:"esri-slider-with-dropdown__dropdown-root"},g.jsx("button",{class:this.classes("esri-interactive"," esri-widget__anchor esri-slider-with-dropdown__anchor",this.isDropdownOpen?"esri-slider-with-dropdown__anchor--open":"esri-slider-with-dropdown__anchor--closed"),bind:this,onclick:this._onAnchorClick,onpointerdown:this._killEvent,"aria-label":this.buttonTooltip,title:this.buttonTooltip,
"aria-expanded":this.isDropdownOpen.toString(),"aria-haspopup":"listbox",type:"button"},this.currentItem?this.currentItem.name+" ":""),this.isDropdownOpen?g.jsx("ol",{class:this.classes("esri-slider-with-dropdown__list"),onpointerdown:this._killEvent,onblur:this._onDropdownBlur,bind:this,tabindex:"-1","aria-label":this.buttonTooltip,role:"listbox",onkeydown:this._onOlKeyDown,afterCreate:this._focusOnSelectedItem},this.items.map((b,l)=>g.jsx("li",{class:l===this.currentIndex?this.classes("esri-interactive",
"esri-slider-with-dropdown__list-item","esri-slider-with-dropdown__list-item--selected"):this.classes("esri-interactive","esri-slider-with-dropdown__list-item"),bind:this,onclick:this._onDropdownItemClick,"data-result":l,"aria-label":b.label.join(" "),role:"option","aria-selected":(l===this.currentIndex).toString(),onkeydown:this._onLiKeyDown,onblur:this._onDropdownBlur,tabindex:"0"},b.label.map(u=>g.jsx("span",{bind:this},u))))):null):null)};d._onRootNodeCreate=function(a){this._rootNode=a};d._focusOnSelectedItem=
function(a){var b;a=null!=(b=a.querySelector(".esri-slider-with-dropdown__list-item--selected"))?b:a.firstChild;m.isSome(a)&&a instanceof HTMLElement&&(a.scrollIntoView(),a.focus())};d._onAnchorClick=function(){this.viewModel.toggle();return!0};d._onDropdownItemClick=function(a){this.viewModel.selectItem(a.currentTarget["data-result"])};d._onDropdownBlur=function(a){a=a.relatedTarget;null===a&&(a=document.activeElement);m.isSome(this._rootNode)&&!this._rootNode.contains(a)&&a!==this._rootNode.parentElement&&
a!==this._rootNode.parentElement.parentElement&&(this.viewModel.isDropdownOpen=!1)};d._killEvent=function(a){a.stopPropagation();return!0};d._onOlKeyDown=function(a){event.stopPropagation();"Escape"===n.eventKey(a)&&(this.viewModel.isDropdownOpen=!1)};d._onLiKeyDown=function(a){const b=event.target;switch(n.eventKey(a)){case "ArrowUp":b.previousElementSibling&&b.previousElementSibling.focus();break;case "ArrowDown":b.nextElementSibling&&b.nextElementSibling.focus();break;case "Enter":b.click()}};
return k}(t);e.__decorate([f.property()],c.prototype,"viewModel",void 0);e.__decorate([f.property()],c.prototype,"buttonTooltip",void 0);e.__decorate([f.property()],c.prototype,"showDropDown",void 0);e.__decorate([f.property({aliasOf:"viewModel.items"})],c.prototype,"items",void 0);e.__decorate([f.property({aliasOf:"viewModel.currentIndex"})],c.prototype,"currentIndex",void 0);e.__decorate([f.property({aliasOf:"viewModel.currentItem"})],c.prototype,"currentItem",void 0);e.__decorate([f.property({aliasOf:"viewModel.isDropdownOpen"})],
c.prototype,"isDropdownOpen",void 0);return c=e.__decorate([q.subclass("esri.widgets.Daylight.SliderWithDropdown")],c)});