// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
require({cache:{"esri/arcade/Dictionary":function(){define(["../geometry/Geometry","./ImmutableArray","../chunks/languageUtils"],function(v,w,C){function D(e){var q=null;if(null!==e)if(C.isNumber(e))q=C.toNumber(e);else if(C.isBoolean(e))q=C.toBoolean(e);else if(C.isString(e))q=C.toString(e);else if(C.isDate(e))q=C.toDate(e);else if(C.isArray(e)){q=[];for(var g of e)q.push(D(g))}else{if(0===Object.keys(e).length)return null;q=new f;q.immutable=!1;for(const l of Object.keys(e))g=e[l],void 0!==g&&q.setField(l,
D(g));q.immutable=!0}return q}let f=function(){function e(g){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=g instanceof e?g.attributes:void 0===g?{}:null===g?{}:g}var q=e.prototype;q.field=function(g){const l=g.toLowerCase(),h=this.attributes[g];if(void 0!==h)return h;for(const m in this.attributes)if(m.toLowerCase()===l)return this.attributes[m];throw Error("Field not Found : "+g);};q.setField=function(g,l){if(this.immutable)throw Error("Dictionary is Immutable");
const h=g.toLowerCase();if(void 0===this.attributes[g])for(const m in this.attributes)if(m.toLowerCase()===h){this.attributes[m]=l;return}this.attributes[g]=l};q.hasField=function(g){const l=g.toLowerCase();if(void 0!==this.attributes[g])return!0;for(const h in this.attributes)if(h.toLowerCase()===l)return!0;return!1};q.keys=function(){let g=[];for(const l in this.attributes)g.push(l);return g=g.sort()};q.castToText=function(){let g="";for(const l in this.attributes){""!==g&&(g+=",");const h=this.attributes[l];
null==h?g+=JSON.stringify(l)+":null":C.isBoolean(h)||C.isNumber(h)||C.isString(h)?g+=JSON.stringify(l)+":"+JSON.stringify(h):h instanceof v?g+=JSON.stringify(l)+":"+C.toStringExplicit(h):h instanceof w?g+=JSON.stringify(l)+":"+C.toStringExplicit(h):h instanceof Array?g+=JSON.stringify(l)+":"+C.toStringExplicit(h):h instanceof Date?g+=JSON.stringify(l)+":"+JSON.stringify(h):null!==h&&"object"===typeof h&&void 0!==h.castToText&&(g+=JSON.stringify(l)+":"+h.castToText())}return"{"+g+"}"};e.convertObjectToArcadeDictionary=
function(g){const l=new e;l.immutable=!1;for(const h in g){const m=g[h];void 0!==m&&l.setField(h.toString(),D(m))}l.immutable=!0;return l};return e}();return f})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function v(C=[]){this._elements=C}var w=v.prototype;w.length=function(){return this._elements.length};w.get=function(C){return this._elements[C]};w.toArray=function(){const C=[];for(let D=0;D<this.length();D++)C.push(this.get(D));return C};return v}()})},"esri/chunks/languageUtils":function(){define("exports ../core/maybe ../core/promiseUtils ../geometry/Geometry ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/support/coordsUtils ../geometry/Polygon ../geometry/Polyline ../arcade/ImmutableArray ../arcade/FunctionWrapper ../arcade/ImmutablePointArray ../arcade/ImmutablePathArray ../core/number".split(" "),
function(v,w,C,D,f,e,q,g,l,h,m,a,b,n,r){function H(x,E,O){return""===E||null===E||void 0===E||E===O||E===O?x:x=x.split(E).join(O)}function F(x){return x instanceof la||x instanceof a||x instanceof ra}function y(x){return d(x)||c(x)||ja(x)||k(x)||null===x||x===ea||"number"===typeof x?!0:!1}function u(x,E){return void 0===x?E:x}function d(x){return"string"===typeof x||x instanceof String}function k(x){return"boolean"===typeof x}function c(x){return"number"===typeof x}function z(x){return"number"===
typeof x&&isFinite(x)&&Math.floor(x)===x}function G(x){return x instanceof Array}function S(x){return!0===(x&&x.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===x.declaredRootClass)}function Z(x){return!0===(x&&x.declaredRootClass&&"esri.arcade.featureSetCollection"===x.declaredRootClass)}function U(x){return x instanceof m}function ja(x){return x instanceof Date}function ba(x,E,O){if(x.length<E||x.length>O)throw Error("Function called with wrong number of Parameters");}function ya(){let x=
(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(E){const O=(x+16*Math.random())%16|0;x=Math.floor(x/16);return("x"===E?O:O&3|8).toString(16)})}function za(x,E){if(!1===isNaN(x)){if(void 0===E||null===E||""===E)return x.toString();E=H(E,"\u2030","");E=H(E,"\u00a4","");return r.format(x,{pattern:E})}return x.toString()}function va(x,E){x=Ca.Moment(x);return void 0===E||null===E||""===E?x.format():x.format(xa(E))}function xa(x){return x.replace(/(LTS)|L|l/g,
function(E){return"["+E+"]"})}function ha(x,E,O){switch(O){case "\x3e":return x>E;case "\x3c":return x<E;case "\x3e\x3d":return x>=E;case "\x3c\x3d":return x<=E}return!1}function ua(x,E,O){if(null===x){if(null===E||E===ea)return ha(null,null,O);if(c(E))return ha(0,E,O);if(d(E)||k(E))return ha(0,X(E),O);if(ja(E))return ha(0,E.getTime(),O)}if(x===ea){if(null===E||E===ea)return ha(null,null,O);if(c(E))return ha(0,E,O);if(d(E)||k(E))return ha(0,X(E),O);if(ja(E))return ha(0,E.getTime(),O)}else if(c(x)){if(c(E))return ha(x,
E,O);if(k(E))return ha(x,X(E),O);if(null===E||E===ea)return ha(x,0,O);if(d(E))return ha(x,X(E),O);if(ja(E))return ha(x,E.getTime(),O)}else if(d(x)){if(d(E))return ha(M(x),M(E),O);if(ja(E))return ha(X(x),E.getTime(),O);if(c(E))return ha(X(x),E,O);if(null===E||E===ea)return ha(X(x),0,O);if(k(E))return ha(X(x),X(E),O)}else if(ja(x)){if(ja(E))return ha(x,E,O);if(null===E||E===ea)return ha(x.getTime(),0,O);if(c(E))return ha(x.getTime(),E,O);if(k(E)||d(E))return ha(x.getTime(),X(E),O)}else if(k(x)){if(k(E))return ha(x,
E,O);if(c(E))return ha(X(x),X(E),O);if(ja(E))return ha(X(x),E.getTime(),O);if(null===E||E===ea)return ha(X(x),0,O);if(d(E))return ha(X(x),X(E),O)}return!Ba(x,E)||"\x3c\x3d"!==O&&"\x3e\x3d"!==O?!1:!0}function Ba(x,E){if(x===E||null===x&&E===ea||null===E&&x===ea)return!0;if(ja(x)&&ja(E))return x.getTime()===E.getTime();if(x instanceof n||x instanceof b)return x.equalityTest(E);if(x instanceof f&&E instanceof f){const O=x.cache._arcadeCacheId,aa=E.cache._arcadeCacheId;if(void 0!==O&&null!==O)return O===
aa}return void 0!==x&&void 0!==E&&null!==x&&null!==E&&"object"===typeof x&&"object"===typeof E&&(x._arcadeCacheId===E._arcadeCacheId&&void 0!==x._arcadeCacheId&&null!==x._arcadeCacheId||x._underlyingGraphic===E._underlyingGraphic&&void 0!==x._underlyingGraphic&&null!==x._underlyingGraphic)?!0:!1}function M(x,E){if(d(x))return x;if(null===x)return"";if(c(x))return za(x,E);if(k(x))return x.toString();if(ja(x))return va(x,E);if(x instanceof D)return JSON.stringify(x.toJSON());if(G(x)){E=[];for(var O=
0;O<x.length;O++)E[O]=Q(x[O]);return"["+E.join(",")+"]"}if(x instanceof m){E=[];for(O=0;O<x.length();O++)E[O]=Q(x.get(O));return"["+E.join(",")+"]"}return null!==x&&"object"===typeof x&&void 0!==x.castToText?x.castToText():F(x)?"object, Function":""}function T(x){const E=[];if(!1===G(x))return null;if(x instanceof m){for(var O=0;O<x.length();O++)E[O]=X(x.get(O));return E}for(O=0;O<x.length;O++)E[O]=X(x[O]);return E}function N(x,E){if(d(x))return x;if(null===x)return"";if(c(x))return za(x,E);if(k(x))return x.toString();
if(ja(x))return va(x,E);if(x instanceof D)return x instanceof e?'{"xmin":'+x.xmin.toString()+',"ymin":'+x.ymin.toString()+","+(x.hasZ?'"zmin":'+x.zmin.toString()+",":"")+(x.hasM?'"mmin":'+x.mmin.toString()+",":"")+'"xmax":'+x.xmax.toString()+',"ymax":'+x.ymax.toString()+","+(x.hasZ?'"zmax":'+x.zmax.toString()+",":"")+(x.hasM?'"mmax":'+x.mmax.toString()+",":"")+'"spatialReference":'+L(x.spatialReference)+"}":L(x.toJSON(),(aa,Y)=>aa.key===Y.key?0:"spatialReference"===aa.key?1:"spatialReference"===Y.key||
aa.key<Y.key?-1:aa.key>Y.key?1:0);if(G(x)){E=[];for(var O=0;O<x.length;O++)E[O]=Q(x[O]);return"["+E.join(",")+"]"}if(x instanceof m){E=[];for(O=0;O<x.length();O++)E[O]=Q(x.get(O));return"["+E.join(",")+"]"}return null!==x&&"object"===typeof x&&void 0!==x.castToText?x.castToText():F(x)?"object, Function":""}function Q(x){return null===x?"null":k(x)||c(x)||d(x)?JSON.stringify(x):x instanceof D||x instanceof m||x instanceof Array?N(x):x instanceof Date?JSON.stringify(va(x,"")):null!==x&&"object"===typeof x&&
void 0!==x.castToText?x.castToText():"null"}function X(x,E){return c(x)?x:null===x||""===x?0:ja(x)?NaN:k(x)?x?1:0:G(x)||""===x||void 0===x?NaN:void 0!==E&&d(x)?(E=H(E,"\u2030",""),E=H(E,"\u00a4",""),r.parse(x,{pattern:E})):x===ea?0:Number(x)}function ca(x,E){return ja(x)?x:d(x)&&(x=Ca.Moment(x,[void 0===E||null===E||""===E?Ca.Moment.ISO_8601:E]),x.isValid())?x.toDate():null}function oa(x,E){return ja(x)?Ca.Moment(x):d(x)&&(x=Ca.Moment(x,[void 0===E||null===E||""===E?Ca.Moment.ISO_8601:E]),x.isValid())?
x:null}function ia(x){return k(x)?x:d(x)?(x=x.toLowerCase(),"true"===x?!0:!1):c(x)?0===x||isNaN(x)?!1:!0:!1}function ma(x,E){if(w.isNone(x))return null;if(null===x.spatialReference||void 0===x.spatialReference)x.spatialReference=E;return x}function na(x){if(null===x)return null;if(x instanceof f)return"NaN"===x.x||null===x.x||isNaN(x.x)?null:x;if(x instanceof l){if(0===x.rings.length)return null;for(const E of x.rings)if(0<E.length)return x;return null}if(x instanceof h){if(0===x.paths.length)return null;
for(const E of x.paths)if(0<E.length)return x;return null}return x instanceof q?0===x.points.length?null:x:x instanceof e?"NaN"===x.xmin||null===x.xmin||isNaN(x.xmin)?null:x:null}function W(x,E){if(!x||!x.domain)return E;let O=null;if("string"===x.field.type||"esriFieldTypeString"===x.field.type)E=M(E);else{if(null===E||void 0===E)return null;if(""===E)return E;E=X(E)}for(let aa=0;aa<x.domain.codedValues.length;aa++){const Y=x.domain.codedValues[aa];Y.code===E&&(O=Y)}return null===O?E:O.name}function A(x,
E){if(!x||!x.domain)return E;let O=null;E=M(E);for(let aa=0;aa<x.domain.codedValues.length;aa++){const Y=x.domain.codedValues[aa];Y.name===E&&(O=Y)}return null===O?E:O.code}function B(x,E,O=null,aa){if(!E||!E.fields)return null;let Y=null;for(let Aa=0;Aa<E.fields.length;Aa++){const wa=E.fields[Aa];wa.name.toLowerCase()===x.toString().toLowerCase()&&(Y=wa)}if(null===Y)throw Error("Field not found");let qa,ta;aa||(aa=O&&E.typeIdField&&O._field(E.typeIdField));null!=aa&&E.types.some(function(Aa){return Aa.id===
aa?((qa=Aa.domains&&Aa.domains[Y.name])&&"inherited"===qa.type&&(qa=J(Y.name,E),ta=!0),!0):!1});ta||qa||(qa=J(x,E));return{field:Y,domain:qa}}function J(x,E){let O;E.fields.some(function(aa){aa.name===x&&(O=aa.domain);return!!O});return O}function L(x,E){E||(E={});"function"===typeof E&&(E={cmp:E});const O="boolean"===typeof E.cycles?E.cycles:!1,aa=E.cmp&&function(qa){return function(ta){return function(Aa,wa){return qa({key:Aa,value:ta[Aa]},{key:wa,value:ta[wa]})}}}(E.cmp),Y=[];return function Aa(ta){ta&&
ta.toJSON&&"function"===typeof ta.toJSON&&(ta=ta.toJSON());if(void 0!==ta){if("number"===typeof ta)return isFinite(ta)?""+ta:"null";if("object"!==typeof ta)return JSON.stringify(ta);var wa;if(Array.isArray(ta)){var Da="[";for(wa=0;wa<ta.length;wa++)wa&&(Da+=","),Da+=Aa(ta[wa])||"null";return Da+"]"}if(null===ta)return"null";if(-1!==Y.indexOf(ta)){if(O)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var La=Y.push(ta)-1,Ia=Object.keys(ta).sort(aa&&aa(ta));
Da="";for(wa=0;wa<Ia.length;wa++){const Ja=Ia[wa],Ka=Aa(ta[Ja]);Ka&&(Da&&(Da+=","),Da+=JSON.stringify(Ja)+":"+Ka)}Y.splice(La,1);return"{"+Da+"}"}}(x)}function R(x){if(null===x)return null;const E=[];for(const O of x)O&&(O.declaredClass&&"esri.arcade.Feature"===O.declaredClass||"FeatureSetReader"===O.type)?E.push(O.geometry()):E.push(O);return E}function da(x,E){if(E instanceof f)x.push(E.hasZ?E.hasM?[E.x,E.y,E.z,E.m]:[E.x,E.y,E.z]:[E.x,E.y]);else throw Error("Invalid Argument");}function sa(x,E){if(G(x)||
U(x)){let O=!1,aa=!1,Y=[];if(G(x)){for(const qa of x)da(Y,qa);0<Y.length&&(E=x[0].spatialReference,O=x[0].hasZ,aa=x[0].hasM)}else if(x instanceof b)Y=x._elements,0<Y.length&&(O=x._hasZ,aa=x._hasM,E=x.get(0).spatialReference);else if(U(x)){for(const qa of x.toArray())da(Y,qa);0<Y.length&&(E=x.get(0).spatialReference,O=!0===x.get(0).hasZ,aa=!0===x.get(0).hasM)}else throw Error("Invalid Argument");if(0===Y.length)return null;!1===g.isClockwise(Y,aa,O)&&(Y=Y.slice(0).reverse());return new l({rings:[Y],
spatialReference:E,hasZ:O,hasM:aa})}return x}function pa(x,E){if(G(x)||U(x)){let O=!1,aa=!1,Y=[];if(G(x)){for(const qa of x)da(Y,qa);0<Y.length&&(E=x[0].spatialReference,O=!0===x[0].hasZ,aa=!0===x[0].hasM)}else if(x instanceof b)Y=x._elements,0<Y.length&&(O=x._hasZ,aa=x._hasM,E=x.get(0).spatialReference);else if(U(x)){for(const qa of x.toArray())da(Y,qa);0<Y.length&&(E=x.get(0).spatialReference,O=!0===x.get(0).hasZ,aa=!0===x.get(0).hasM)}return 0===Y.length?null:new h({paths:[Y],spatialReference:E,
hasZ:O,hasM:aa})}return x}function p(x,E){if(G(x)||U(x)){let O=!1,aa=!1,Y=[];if(G(x)){for(const qa of x)da(Y,qa);0<Y.length&&(E=x[0].spatialReference,O=!0===x[0].hasZ,aa=!0===x[0].hasM)}else if(x instanceof b)Y=x._elements,0<Y.length&&(O=x._hasZ,aa=x._hasM,E=x.get(0).spatialReference);else if(U(x)){for(const qa of x.toArray())da(Y,qa);0<Y.length&&(E=x.get(0).spatialReference,O=!0===x.get(0).hasZ,aa=!0===x.get(0).hasM)}return 0===Y.length?null:new q({points:Y,spatialReference:E,hasZ:O,hasM:aa})}return x}
function t(x,E=!1){const O=[];if(null===x)return O;if(!0===G(x)){for(var aa=0;aa<x.length;aa++){var Y=M(x[aa]);""===Y&&!0!==E||O.push(Y)}return O}if(x instanceof m){for(aa=0;aa<x.length();aa++)Y=M(x.get(aa)),""===Y&&!0!==E||O.push(Y);return O}return y(x)?(x=M(x),""===x&&!0!==E||O.push(x),O):[]}function I(x){Ea++;return 0===Ea%100?(Ea=0,C.create(E=>{setTimeout(()=>{E(x)},0)})):x}function K(x,E,O){switch(O){case "\x26":return x&E;case "|":return x|E;case "^":return x^E;case "\x3c\x3c":return x<<E;case "\x3e\x3e":return x>>
E;case "\x3e\x3e\x3e":return x>>>E}}let P=function(x){this.value=x},ka=function(x){this.value=x},la=function(x){this.fn=x},ra=function(x){this.fn=x};const V=la,fa=ra,ea={type:"VOID"},Fa={type:"BREAK"},Ga={type:"CONTINUE"};let Ea=0;const Ca={Moment:null};var Ha=Object.freeze({__proto__:null,ReturnResultE:P,ImplicitResultE:ka,NativeFunctionE:la,SizzleFunctionE:ra,NativeFunction:V,ImplicitResult:ka,ReturnResult:P,SizzleFunction:fa,voidOperation:ea,breakResult:Fa,continueResult:Ga,multiReplace:H,isFunctionParameter:F,
isSimpleType:y,defaultUndefined:u,isString:d,isBoolean:k,isNumber:c,isInteger:z,isArray:G,isFeatureSet:S,isFeatureSetCollection:Z,isImmutableArray:U,isDate:ja,pcCheck:ba,generateUUID:ya,formatNumber:za,formatDate:va,standardiseDateFormat:xa,greaterThanLessThan:ua,equalityTest:Ba,toString:M,toNumberArray:T,toStringExplicit:N,toNumber:X,toDate:ca,toDateM:oa,toBoolean:ia,fixSpatialReference:ma,fixNullGeometry:na,getDomainValue:W,getDomainCode:A,getDomain:B,stableStringify:L,autoCastFeatureToGeometry:R,
autoCastArrayOfPointsToPolygon:sa,autoCastArrayOfPointsToPolyline:pa,autoCastArrayOfPointsToMultiPoint:p,toStringArray:t,tick:I,MomentLibrary:Ca,binaryOperator:K});v.ImplicitResult=ka;v.ImplicitResultE=ka;v.MomentLibrary=Ca;v.NativeFunction=V;v.NativeFunctionE=la;v.ReturnResult=P;v.ReturnResultE=P;v.SizzleFunction=fa;v.SizzleFunctionE=ra;v.autoCastArrayOfPointsToMultiPoint=p;v.autoCastArrayOfPointsToPolygon=sa;v.autoCastArrayOfPointsToPolyline=pa;v.autoCastFeatureToGeometry=R;v.binaryOperator=K;v.breakResult=
Fa;v.continueResult=Ga;v.defaultUndefined=u;v.equalityTest=Ba;v.fixNullGeometry=na;v.fixSpatialReference=ma;v.formatDate=va;v.formatNumber=za;v.generateUUID=ya;v.getDomain=B;v.getDomainCode=A;v.getDomainValue=W;v.greaterThanLessThan=ua;v.isArray=G;v.isBoolean=k;v.isDate=ja;v.isFeatureSet=S;v.isFeatureSetCollection=Z;v.isFunctionParameter=F;v.isImmutableArray=U;v.isInteger=z;v.isNumber=c;v.isSimpleType=y;v.isString=d;v.lc=Ha;v.multiReplace=H;v.pcCheck=ba;v.stableStringify=L;v.standardiseDateFormat=
xa;v.tick=I;v.toBoolean=ia;v.toDate=ca;v.toDateM=oa;v.toNumber=X;v.toNumberArray=T;v.toString=M;v.toStringArray=t;v.toStringExplicit=N;v.voidOperation=ea})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(v,w){this.context=this.definition=null;this.definition=v;this.context=w}})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","../geometry/Point","./ImmutableArray"],function(v,w,C){return function(D){function f(q,g,l,h,m,a){q=D.call(this,
q)||this;q._lazyPt=[];q._hasZ=!1;q._hasM=!1;q._spRef=g;q._hasZ=l;q._hasM=h;q._cacheId=m;q._partId=a;return q}v._inheritsLoose(f,D);var e=f.prototype;e.get=function(q){if(void 0===this._lazyPt[q]){const g=this._elements[q];if(void 0===g)return;const l=this._hasZ,h=this._hasM;let m=null;m=l&&!h?new w(g[0],g[1],g[2],void 0,this._spRef):h&&!l?new w(g[0],g[1],void 0,g[2],this._spRef):l&&h?new w(g[0],g[1],g[2],g[3],this._spRef):new w(g[0],g[1],this._spRef);m.cache._arcadeCacheId=this._cacheId.toString()+
"-"+this._partId.toString()+"-"+q.toString();this._lazyPt[q]=m}return this._lazyPt[q]};e.equalityTest=function(q){return q===this?!0:null===q||!1===q instanceof f?!1:q.getUniqueHash()===this.getUniqueHash()};e.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return f}(C)})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(v,w,C){return function(D){function f(q,g,l,h,m){q=
D.call(this,q)||this;q._lazyPath=[];q._hasZ=!1;q._hasM=!1;q._hasZ=l;q._hasM=h;q._spRef=g;q._cacheId=m;return q}v._inheritsLoose(f,D);var e=f.prototype;e.get=function(q){if(void 0===this._lazyPath[q]){const g=this._elements[q];if(void 0===g)return;this._lazyPath[q]=new C(g,this._spRef,this._hasZ,this._hasM,this._cacheId,q)}return this._lazyPath[q]};e.equalityTest=function(q){return q===this?!0:null===q||!1===q instanceof f?!1:q.getUniqueHash()===this.getUniqueHash()};e.getUniqueHash=function(){return this._cacheId.toString()};
return f}(w)})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(v,w,C){function D(a){a||(a=C.getLocale());let b=a in l;if(!b){const F=a.split("-");1<F.length&&F[0]in l&&(a=F[0],b=!0);b||(a="en")}const [n,r,H="#,##0.###"]=l[a];return{decimal:n,group:r,pattern:H}}function f(a,b,n){n=n||{};!0===n.places&&(n.places=0);Infinity===n.places&&(n.places=6);b=b.split(".");var r="string"===typeof n.places&&n.places.indexOf(","),H=n.places;r?H=n.places.substring(r+1):0<=
H||(H=(b[1]||[]).length);0>n.round||(a=Number(a.toFixed(Number(H))));a=String(Math.abs(a)).split(".");const F=a[1]||"";b[1]||n.places?(r&&(n.places=n.places.substring(0,r)),r=void 0!==n.places?n.places:b[1]&&b[1].lastIndexOf("0")+1,r>F.length&&(a[1]=F.padEnd(Number(r),"0")),H<F.length&&(a[1]=F.substr(0,Number(H)))):a[1]&&a.pop();H=b[0].replace(",","");r=H.indexOf("0");-1!==r&&(r=H.length-r,r>a[0].length&&(a[0]=a[0].padStart(r,"0")),-1===H.indexOf("#")&&(a[0]=a[0].substr(a[0].length-r)));H=b[0].lastIndexOf(",");
let y,u;-1!==H&&(y=b[0].length-H-1,b=b[0].substr(0,H),H=b.lastIndexOf(","),-1!==H&&(u=b.length-H-1));b=[];for(H=a[0];H;)r=H.length-y,b.push(0<r?H.substr(r):H),H=0<r?H.slice(0,r):"",u&&(y=u,u=void 0);a[0]=b.reverse().join(n.group||",");return a.join(n.decimal||".")}function e(a){a=a||{};var b=D(a.locale);const n=a.pattern||b.pattern,r=b.group,H=b.decimal;let F=1;if(-1!==n.indexOf("%"))F/=100;else if(-1!==n.indexOf("\u2030"))F/=1E3;else if(-1!==n.indexOf("\u00a4"))throw Error("currency notation not supported");
b=n.split(";");1===b.length&&b.push("-"+b[0]);return{regexp:m(b,function(y){y="(?:"+w.escapeRegExpString(y,".")+")";return y.replace(h,function(u){const d={signed:!1,separator:a.strict?r:[r,""],fractional:a.fractional,decimal:H,exponent:!1};u=u.split(".");let k=a.places;1===u.length&&1!==F&&(u[1]="###");1===u.length||0===k?d.fractional=!1:(void 0===k&&(k=a.pattern?u[1].lastIndexOf("0")+1:Infinity),k&&null==a.fractional&&(d.fractional=!0),!a.places&&k<u[1].length&&(k+=","+u[1].length),d.places=k);
u=u[0].split(",");1<u.length&&(d.groupSize=u.pop().length,1<u.length&&(d.groupSize2=u.pop().length));return"("+q(d)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:H,factor:F}}function q(a){a=a||{};"places"in a||(a.places=Infinity);"string"!==typeof a.decimal&&(a.decimal=".");"fractional"in a&&!/^0/.test(String(a.places))||(a.fractional=[!0,!1]);"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var b=g(a);const n=m(a.fractional,function(H){let F="";H&&0!==a.places&&
(F="\\"+a.decimal,F=Infinity===a.places?"(?:"+F+"\\d+)?":F+("\\d{"+a.places+"}"));return F},!0),r=m(a.exponent,function(H){return H?"([eE]"+g({signed:a.eSigned})+")":""});b+=n;n&&(b="(?:(?:"+b+")|(?:"+n+"))");return b+r}function g(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";const b=m(a.signed,function(r){return r?"[-+]":""},!0),n=m(a.separator,function(r){if(!r)return"(?:\\d+)";r=w.escapeRegExpString(r);" "===r?r="\\s":"\u00a0"===r&&
(r="\\s\\xa0");const H=a.groupSize,F=a.groupSize2;return F?(r="(?:0|[1-9]\\d{0,"+(F-1)+"}(?:["+r+"]\\d{"+F+"})*["+r+"]\\d{"+H+"})",0<H-F?"(?:"+r+"|(?:0|[1-9]\\d{0,"+(H-1)+"}))":r):"(?:0|[1-9]\\d{0,"+(H-1)+"}(?:["+r+"]\\d{"+H+"})*)"},!0);return b+n}const l={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",",
"\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},h=/[#0,]*[#0](?:\.0*#*)?/,m=function(a,b,n){if(!(a instanceof
Array))return b(a);const r=[];for(let H=0;H<a.length;H++)r.push(b(a[H]));a=r.join("|");return"("+(n?"?:":"")+a+")"};v._parseInfo=e;v.format=function(a,b){b={...b};var n=D(b.locale);b.customs=n;var r=b.pattern||n.pattern;if(isNaN(a)||Infinity===Math.abs(a))return null;{b=b||{};n=b.customs.group;const F=b.customs.decimal;r=r.split(";");var H=r[0];r=r[0>a?1:0]||"-"+H;if(-1!==r.indexOf("%"))a*=100;else if(-1!==r.indexOf("\u2030"))a*=1E3;else{if(-1!==r.indexOf("\u00a4"))throw Error("currency notation not supported");
if(-1!==r.indexOf("E"))throw Error("exponential notation not supported");}const y=h;H=H.match(y);if(!H)throw Error("unable to find a number expression in pattern: "+r);!1===b.fractional&&(b.places=0);a=r.replace(y,f(a,H[0],{decimal:F,group:n,places:b.places,round:b.round}))}return a};v.getCustoms=D;v.parse=function(a,b){b=e(b);a=(new RegExp("^"+b.regexp+"$")).exec(a);if(!a)return NaN;let n=a[1];if(!a[1]){if(!a[2])return NaN;n=a[2];b.factor*=-1}n=n.replace(new RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,
".");return Number(n)*b.factor};v.regexp=function(a){return e(a).regexp};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/Feature":function(){define("../core/maybe ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ./ImmutableArray ../chunks/languageUtils ./Dictionary ./featureset/support/shared ../layers/graphics/featureConversionUtils".split(" "),function(v,w,C,D,f,e,q,g,l){return function(){function h(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=
this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}h.createFromGraphic=function(a){const b=new h;b._geometry=v.isSome(a.geometry)?a.geometry:null;b.attributes=void 0===a.attributes?{}:null===a.attributes?{}:a.attributes;a._sourceLayer?(b._layer=a._sourceLayer,b._datesfixed=!1):a._layer?(b._layer=a._layer,b._datesfixed=!1):a.layer?(b._layer=a.layer,b._datesfixed=!1):a.sourceLayer&&(b._layer=a.sourceLayer,b._datesfixed=!1);return b};
h.createFromArcadeFeature=function(a){const b=new h;b._datesfixed=a._datesfixed;b.attributes=a.attributes;b._geometry=a._geometry;b._optimizedGeomDefinition=a._optimizedGeomDefinition;a._layer&&(b._layer=a._layer);return b};h.createFromOptimisedFeature=function(a,b,n){const r=new h;r._geometry=a.geometry?{geometry:a.geometry}:null;r._optimizedGeomDefinition=n;r.attributes=a.attributes||{};r._layer=b;r._datesfixed=!1;return r};h.createFromArcadeDictionary=function(a){const b=new h;b.attributes=a.field("attributes");
null!==b.attributes?b.attributes instanceof q?(b.attributes=b.attributes.attributes,null===b.attributes&&(b.attributes={})):b.attributes={}:b.attributes={};b._geometry=a.field("geometry");null!==b._geometry&&(b._geometry instanceof q?b._geometry=h.parseGeometryFromDictionary(b._geometry):b._geometry instanceof w||(b._geometry=null));return b};h.createFromGraphicLikeObject=function(a,b,n=null){const r=new h;null===b&&(b={});r.attributes=b;r._geometry=v.isSome(a)?a:null;r._layer=n;r._layer&&(r._datesfixed=
!1);r._adapter=null;return r};var m=h.prototype;m.repurposeFromGraphicLikeObject=function(a,b,n=null){null===b&&(b={});this.attributes=b;this._geometry=a?a:null;this._datesfixed=(this._layer=n)?!1:!0};m.repurposeFromAdapter=function(a,b=null){this._adapter=a;this._layer=b};m.castToText=function(){if(this._adapter)return this._adapter.castToText();let a="";!1===this._datesfixed&&this._fixDates();for(const b in this.attributes){""!==a&&(a+=",");const n=this.attributes[b];null==n?a+=JSON.stringify(b)+
":null":e.isBoolean(n)||e.isNumber(n)||e.isString(n)?a+=JSON.stringify(b)+":"+JSON.stringify(n):n instanceof w?a+=JSON.stringify(b)+":"+e.toStringExplicit(n):n instanceof f?a+=JSON.stringify(b)+":"+e.toStringExplicit(n):n instanceof Array?a+=JSON.stringify(b)+":"+e.toStringExplicit(n):n instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(n):null!==n&&"object"===typeof n&&void 0!==n.castToText&&(a+=JSON.stringify(b)+":"+n.castToText())}return'{"geometry":'+(null===this.geometry()?"null":e.toStringExplicit(this.geometry()))+
',"attributes":{'+a+"}}"};m._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var a=[];for(let b=0;b<this._layer.fields.length;b++){const n=this._layer.fields[b];"date"!==n.type&&"esriFieldTypeDate"!==n.type||a.push(n.name)}this._datefields=a;0<a.length&&this._fixDateFields(a)}this._datesfixed=!0};m._fixDateFields=function(a){this.attributes={...this.attributes};for(let b=0;b<a.length;b++){let n=this.attributes[a[b]];if(null!==n)if(void 0===
n)for(const r in this.attributes){if(r.toLowerCase()===a[b].toLowerCase()){n=this.attributes[r];null===n||n instanceof Date||(this.attributes[r]=new Date(n));break}}else n instanceof Date||(this.attributes[a[b]]=new Date(n))}};m.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry||this._geometry instanceof w)return this._geometry;this._optimizedGeomDefinition?(this._geometry=v.unwrap(D.fromJSON(l.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,
this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=v.unwrap(D.fromJSON(this._geometry));return this._geometry};m.field=function(a){if(this._adapter)return this._adapter.field(a);!1===this._datesfixed&&this._fixDates();var b=this.attributes[a];if(void 0!==b)return b;b=a.toLowerCase();for(const n in this.attributes)if(n.toLowerCase()===b)return this.attributes[n];if(this._hasFieldDefinition(b))return null;
throw Error("Field not Found : "+a);};m._hasFieldDefinition=function(a){if(null===this._layer)return!1;for(let b=0;b<this._layer.fields.length;b++)if(this._layer.fields[b].name.toLowerCase()===a)return!0;return!1};m._field=function(a){if(this._adapter){var b;return null!=(b=this._adapter.field(a))?b:null}!1===this._datesfixed&&this._fixDates();b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(const n in this.attributes)if(n.toLowerCase()===b)return this.attributes[n];return null};
m.setField=function(a,b){if(this.immutable)throw Error("Feature is Immutable");if(!1===e.isSimpleType(b))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(a,b);else{var n=a.toLowerCase();if(void 0===this.attributes[a])for(const r in this.attributes)if(r.toLowerCase()===n){this.attributes[r]=b;return}this.attributes[a]=b}};m.hasField=function(a){if(this._adapter)return this._adapter.hasField(a);const b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;
for(const n in this.attributes)if(n.toLowerCase()===b)return!0;return this._hasFieldDefinition(b)?!0:!1};m.keys=function(){if(this._adapter)return this._adapter.keys();let a=[];const b={};for(var n in this.attributes)a.push(n),b[n.toLowerCase()]=1;if(null!==this._layer)for(n=0;n<this._layer.fields.length;n++){const r=this._layer.fields[n];1!==b[r.name.toLowerCase()]&&a.push(r.name)}return a=a.sort()};h.parseGeometryFromDictionary=function(a){a=h.convertDictionaryToJson(a,!0);void 0!==a.hasm&&(a.hasM=
a.hasm,delete a.hasm);void 0!==a.hasz&&(a.hasZ=a.hasz,delete a.hasz);void 0!==a.spatialreference&&(a.spatialReference=a.spatialreference,delete a.spatialreference);void 0!==a.rings&&(a.rings=this.fixPathArrays(a.rings,!0===a.hasZ,!0===a.hasZ));void 0!==a.paths&&(a.paths=this.fixPathArrays(a.paths,!0===a.hasZ,!0===a.hasM));void 0!==a.points&&(a.points=this.fixPointArrays(a.points,!0===a.hasZ,!0===a.hasM));return D.fromJSON(a)};h.fixPathArrays=function(a,b,n){const r=[];if(a instanceof Array)for(var H=
0;H<a.length;H++)r.push(this.fixPointArrays(a[H],b,n));else if(a instanceof f)for(H=0;H<a.length();H++)r.push(this.fixPointArrays(a.get(H),b,n));return r};h.fixPointArrays=function(a,b,n){const r=[];if(a instanceof Array)for(var H=0;H<a.length;H++){var F=a[H];F instanceof C?b&&n?r.push([F.x,F.y,F.z,F.m]):b?r.push([F.x,F.y,F.z]):n?r.push([F.x,F.y,F.m]):r.push([F.x,F.y]):F instanceof f?r.push(F.toArray()):r.push(F)}else if(a instanceof f)for(H=0;H<a.length();H++)F=a.get(H),F instanceof C?b&&n?r.push([F.x,
F.y,F.z,F.m]):b?r.push([F.x,F.y,F.z]):n?r.push([F.x,F.y,F.m]):r.push([F.x,F.y]):F instanceof f?r.push(F.toArray()):r.push(F);return r};h.convertDictionaryToJson=function(a,b=!1){const n={};for(const r in a.attributes){let H=a.attributes[r];H instanceof q&&(H=h.convertDictionaryToJson(H));b?n[r.toLowerCase()]=H:n[r]=H}return n};h.parseAttributesFromDictionary=function(a){const b={};for(const n in a.attributes){const r=a.attributes[n];if(e.isSimpleType(r))b[n]=r;else throw Error("Illegal Argument");
}return b};h.fromJson=function(a){let b=null;null!==a.geometry&&void 0!==a.geometry&&(b=D.fromJSON(a.geometry));const n={};if(null!==a.attributes&&void 0!==a.attributes)for(const r in a.attributes){const H=a.attributes[r];if(null===H)n[r]=H;else if(e.isString(H)||e.isNumber(H)||e.isBoolean(H)||e.isDate(H))n[r]=H;else throw Error("Illegal Argument");}return h.createFromGraphicLikeObject(b,n,null)};m.fullDomain=function(a,b){return null!==this._layer&&this._layer.fields?e.getDomain(a,this._layer,this,
b):null};m.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(a=>({name:a.name,code:a.id})):[]}:null:null};m.domainValueLookup=function(a,b,n){if(null===this._layer||!this._layer.fields)return null;n=e.getDomain(a,this._layer,this,n);if(void 0===b)try{b=this.field(a)}catch(r){return null}return e.getDomainValue(n,b)};m.gdbVersion=function(){if(null===this._layer)return"";const a=
this._layer.gdbVersion;return void 0===a?"":""===a&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":a};m.domainCodeLookup=function(a,b,n){if(null===this._layer||!this._layer.fields)return null;if(void 0===b){try{b=this.field(a)}catch(r){return null}return b}a=e.getDomain(a,this._layer,this,n);return e.getDomainCode(a,b)};m.schema=function(){if(null===this._layer||!this._layer.fields)return null;const a=[];for(const b of this._layer.fields)a.push(g.esriFieldToJson(b));
return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===g.layerGeometryEsriRestConstants[this._layer.geometryType]?"":g.layerGeometryEsriRestConstants[this._layer.geometryType],fields:a}};return h}()})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../core/promiseUtils","../../../geometry/Extent","../../../layers/support/Field"],function(v,w,C,D){function f(e){return e instanceof Date}(function(e){e[e.Standardised=
0]="Standardised";e[e.StandardisedNoInterval=1]="StandardisedNoInterval";e[e.SqlServer=2]="SqlServer";e[e.Oracle=3]="Oracle";e[e.Postgres=4]="Postgres";e[e.PGDB=5]="PGDB";e[e.FILEGDB=6]="FILEGDB";e[e.NotEvaluated=7]="NotEvaluated"})(v.FeatureServiceDatabaseType||(v.FeatureServiceDatabaseType={}));(function(e){e[e.InFeatureSet=0]="InFeatureSet";e[e.NotInFeatureSet=1]="NotInFeatureSet";e[e.Unknown=2]="Unknown"})(v.IdState||(v.IdState={}));v.callback=function(e,q){return function(){try{e.apply(null,
arguments)}catch(g){q.reject(g)}}};v.cloneAttributes=function(e){const q={};for(const g in e)q[g]=e[g];return q};v.cloneField=function(e){return D.fromJSON(e.toJSON())};v.convertLinearUnitsToCode=function(e){if(void 0===e)return null;if("number"===typeof e||"number"===typeof e)return e;switch(e.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};v.convertSquareUnitsToCode=function(e){if(void 0===
e)return null;if("number"===typeof e)return e;switch(e.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};v.defaultMaxRecords=1E3;v.equalityTest=function(e,q){return e===q?!0:f(e)&&f(q)?e.getTime()===q.getTime():!1};v.errback=function(e){return function(q){e.reject(q)}};v.esriFieldToJson=function(e){return e.toJSON()};v.extractServiceUrl=function(e){if(void 0===e)return"";e=e.replace(/\/featureserver\/[0-9]*/i,
"/FeatureServer");e=e.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return e=e.split("?")[0]};v.isArray=function(e){return e instanceof Array};v.isBoolean=function(e){return"boolean"===typeof e};v.isDate=f;v.isNumber=function(e){return"number"===typeof e};v.isString=function(e){return"string"===typeof e||e instanceof String};v.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",
string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",
esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};v.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",
esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};v.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};
v.reduceArrayWithPromises=function(e,q){return w.create((g,l)=>{const h=w.resolve(!0);e.reduce((m,a,b,n)=>m.then(r=>{try{return q(r,a,b,n)}catch(H){return w.reject(H)}},r=>w.reject(r)),h).then(g,l)})};v.sameGeomType=function(e,q){return e===q||"point"===e&&"esriGeometryPoint"===q||"polyline"===e&&"esriGeometryPolyline"===q||"polygon"===e&&"esriGeometryPolygon"===q||"extent"===e&&"esriGeometryEnvelope"===q||"multipoint"===e&&"esriGeometryMultipoint"===q||"point"===q&&"esriGeometryPoint"===e||"polyline"===
q&&"esriGeometryPolyline"===e||"polygon"===q&&"esriGeometryPolygon"===e||"extent"===q&&"esriGeometryEnvelope"===e||"multipoint"===q&&"esriGeometryMultipoint"===e?!0:!1};v.shapeExtent=function(e){if(null===e)return null;switch(e.type){case "polygon":case "multipoint":case "polyline":return e.extent;case "point":return new C({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case "extent":return e}return null};v.stableStringify=function(e,q){q||(q={});"function"===typeof q&&
(q={cmp:q});const g="boolean"===typeof q.cycles?q.cycles:!1,l=q.cmp&&function(m){return function(a){return function(b,n){return m({key:b,value:a[b]},{key:n,value:a[n]})}}}(q.cmp),h=[];return function b(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"===typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);var n;if(Array.isArray(a)){var r="[";for(n=0;n<a.length;n++)n&&(r+=","),r+=b(a[n])||"null";return r+"]"}if(null===a)return"null";
if(-1!==h.indexOf(a)){if(g)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var H=h.push(a)-1,F=Object.keys(a).sort(l&&l(a));r="";for(n=0;n<F.length;n++){const y=F[n],u=b(a[y]);u&&(r&&(r+=","),r+=JSON.stringify(y)+":"+u)}h.splice(H,1);return"{"+r+"}"}}(e)};v.toEsriGeometryType=function(e){switch(e){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";
default:return"esriGeometryPoint"}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/chunks/arcade":function(){define("require exports ../core/has ../core/promiseUtils ./languageUtils ../arcade/treeAnalysis ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../intl/moment".split(" "),function(v,w,C,D,f,e,q,g,l,h){function m(W,A){return!0===A.useAsync||!0===W.isAsync?a(W,A):C("csp-restrictions")?function(B){return g.executeScript(W,B)}:q.compileScript(W,A)}function a(W,A){if(null===
N)throw Error("Async Arcade must be enabled for this script");return C("csp-restrictions")||!1===Ba?function(B){return N.executeScript(W,B)}:q.compileScript(W,A,!0)}function b(W){g.extend(W);q.extend(W,"sync");null===N?Q.push(W):(q.extend(W,"async"),N.extend(W))}function n(W,A=[]){return l.parseScript(W,A)}function r(W,A,B=""){return l.validateScript(W,A,B)}function H(W,A,B,J=""){return l.scriptCheck(W,A,B,J)}function F(W,A,B=[]){W=l.parseScript(W,B);return y(W,A)}function y(W,A){if(!0===A.useAsync||
!0===W.isAsync){if(null===N)throw Error("Async Arcade must be enabled for this script");return N.executeScript(W,A)}return g.executeScript(W,A)}function u(W,A){return g.referencesMember(W,A)}function d(W,A){return g.referencesFunction(W,A)}function k(W,A){return l.extractFieldLiterals(W)}function c(W,A=[]){void 0===W.usesGeometry&&e.findScriptDependencies(W,A);return!0===W.usesGeometry}function z(){return X?X:X=D.all([new Promise(function(W,A){v(["../geometry/geometryEngine"],W,A)}),new Promise(function(W,
A){v(["../arcade/functions/geomsync"],W,A)})]).then(([W,A])=>{T=!0;A.setGeometryEngine(W);return!0})}function G(){return null!==ca?ca:ca=q.enableAsyncSupport().then(()=>new Promise(function(W,A){v(["../arcade/arcadeAsyncRuntime"],W,A)})).then(W=>{N=W;for(const A of Q)N.extend(A),q.extend(A,"async");Q=null;return!0})}function S(){return M}function Z(){return N?!0:!1}function U(){return T}function ja(){return oa?oa:oa=G().then(()=>D.all([new Promise(function(W,A){v(["../arcade/featureSetUtils"],W,A)}),
new Promise(function(W,A){v(["../arcade/functions/featuresetbase"],W,A)}),new Promise(function(W,A){v(["../arcade/functions/featuresetgeom"],W,A)}),new Promise(function(W,A){v(["../arcade/functions/featuresetstats"],W,A)}),new Promise(function(W,A){v(["../arcade/functions/featuresetstring"],W,A)})]).then(([W,A,B,J,L])=>{ia=W;N.extend([A,B,J,L]);q.extend([A,B,J,L],"async");return M=!0}))}function ba(W,A=[]){void 0===W.usesFeatureSet&&e.findScriptDependencies(W,A);return!0===W.usesFeatureSet}function ya(W,
A=[]){void 0===W.isAsync&&e.findScriptDependencies(W,A);return!0===W.isAsync}function za(W,A){if(A)for(const B of A)if(u(W,B))return!0;return!1}function va(W,A,B=[],J=!1){return D.create((L,R)=>{const da="string"===typeof W?n(W):W,sa=[];sa.push(ua());da&&(!1===T&&(c(da)||J)&&sa.push(z()),!1===Z()&&(!0===da.isAsync||A)&&sa.push(G()),!1===M&&(ba(da)||za(da,B))&&sa.push(ja()));sa?D.all(sa).then(()=>{L(!0)},R):L(!0)})}function xa(W){if(c(W))return!0;W=e.findFunctionCalls(W);return-1<W.indexOf("geometry")||
-1<W.indexOf("feature")?!0:!1}function ha(){return ia}function ua(){return null!==ma?ma:ma=h.loadMoment().then(W=>{f.MomentLibrary.Moment=W;return!0})}const Ba=function(){if(C("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(W){return!1}}();let M=!1,T=!1,N=null,Q=[],X=null,ca=null,oa=null,ia=null,ma=null;var na=Object.freeze({__proto__:null,compileScript:m,extend:b,parseScript:n,validateScript:r,scriptCheck:H,parseAndExecuteScript:F,executeScript:y,
referencesMember:u,referencesFunction:d,extractFieldLiterals:k,scriptUsesGeometryEngine:c,enableGeometrySupport:z,enableAsyncSupport:G,isFeatureSetSupportEnabled:S,isAsyncEnabled:Z,isGeometryEnabled:U,enableFeatureSetSupport:ja,scriptUsesFeatureSet:ba,scriptIsAsync:ya,loadScriptDependencies:va,scriptTouchesGeometry:xa,featureSetUtils:ha,load:ua});w.arcade=na;w.compileScript=m;w.enableAsyncSupport=G;w.enableFeatureSetSupport=ja;w.enableGeometrySupport=z;w.executeScript=y;w.extend=b;w.extractFieldLiterals=
k;w.featureSetUtils=ha;w.isAsyncEnabled=Z;w.isFeatureSetSupportEnabled=S;w.isGeometryEnabled=U;w.load=ua;w.loadScriptDependencies=va;w.parseAndExecuteScript=F;w.parseScript=n;w.referencesFunction=d;w.referencesMember=u;w.scriptCheck=H;w.scriptIsAsync=ya;w.scriptTouchesGeometry=xa;w.scriptUsesFeatureSet=ba;w.scriptUsesGeometryEngine=c;w.validateScript=r})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(v){function w(d,k){return"0"!==d.min&&k.length<Number(d.min)||"*"!==d.max&&k.length>
Number(d.max)?-2:1}function C(d,k,c){if(null!==c.localScope&&void 0!==c.localScope[d.toLowerCase()]){const z=c.localScope[d.toLowerCase()];if("FormulaFunction"===z.type||"any"===z.type)return void 0===z.signature&&(z.signature={min:"0",max:"*"}),w(z.signature,k)}return void 0!==c.globalScope[d.toLowerCase()]&&(d=c.globalScope[d.toLowerCase()],"FormulaFunction"===d.type||"any"===d.type)?(void 0===d.signature&&(d.signature={min:"0",max:"*"}),w(d.signature,k)):-1}function D(d,k){if(d)for(const c of d)f(c,
k)}function f(d,k){if(d&&!1!==k(d))switch(d.type){case "ArrayExpression":D(d.elements,k);break;case "AssignmentExpression":case "BinaryExpression":f(d.left,k);f(d.right,k);break;case "BlockStatement":D(d.body,k);break;case "CallExpression":f(d.callee,k);D(d.arguments,k);break;case "ConditionalExpression":f(d.test,k);f(d.alternate,k);f(d.consequent,k);break;case "ExpressionStatement":f(d.expression,k);break;case "ForInStatement":f(d.left,k);f(d.right,k);f(d.body,k);break;case "ForStatement":f(d.init,
k);f(d.test,k);f(d.update,k);f(d.body,k);break;case "FunctionDeclaration":case "FunctionDeclaration":case "FunctionExpression":f(d.id,k);D(d.params,k);f(d.body,k);break;case "IfStatement":f(d.test,k);f(d.consequent,k);f(d.alternate,k);break;case "LogicalExpression":f(d.left,k);f(d.right,k);break;case "MemberExpression":f(d.object,k);f(d.property,k);break;case "ObjectExpression":D(d.properties,k);break;case "Program":D(d.body,k);break;case "Property":f(d.key,k);f(d.value,k);break;case "ReturnStatement":f(d.argument,
k);break;case "UnaryExpression":f(d.argument,k);break;case "UpdateExpression":f(d.argument,k);break;case "VariableDeclaration":D(d.declarations,k);break;case "VariableDeclarator":f(d.id,k);f(d.init,k);break;case "TemplateLiteral":D(d.expressions,k),D(d.quasis,k)}}function e(d,k=!0){let c=a(d,"SYNTAX","UNREOGNISED");try{switch(d.type){case "VariableDeclarator":return null!==d.init&&"FunctionExpression"===d.init.type?a(d,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==d.id.type?a(d,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):
null!==d.init?e(d.init,!1):"";case "VariableDeclaration":for(var z=0;z<d.declarations.length;z++)if(c=e(d.declarations[z],k),""!==c)return c;return"";case "ForInStatement":c=e(d.left,k);if(""!==c)break;if("VariableDeclaration"===d.left.type){if(1<d.left.declarations.length)return a(d,"SYNTAX","ONLY1VAR");if(null!==d.left.declarations[0].init)return a(d,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==d.left.type)return a(d,"SYNTAX","LEFTNOTVAR");c=e(d.right,k);if(""!==c)break;c=e(d.body,k);if(""!==
c)break;return"";case "ForStatement":if(null!==d.test&&(c=e(d.test,k),""!==c))break;if(null!==d.init&&(c=e(d.init,k),""!==c))break;if(null!==d.update&&(c=e(d.update,k),""!==c))break;if(null!==d.body&&(c=e(d.body,k),""!==c))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":c=e(d.test,k);if(""!==c)break;if(null!==d.consequent&&(c=e(d.consequent,!1),""!==c))break;if(null!==d.alternate&&(c=e(d.alternate,!1),""!==c))break;
return"";case "BlockStatement":z=[];for(var G=0;G<d.body.length;G++)"EmptyStatement"!==d.body[G].type&&z.push(d.body[G]);d.body=z;for(z=0;z<d.body.length;z++)if(c=e(d.body[z],k),""!==c)return c;return"";case "FunctionDeclaration":return!1===k?a(d,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==d.id.type?a(d,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):e(d.body,!1);case "ReturnStatement":return null!==d.argument?e(d.argument,k):"";case "UpdateExpression":return"Identifier"!==d.argument.type&&"MemberExpression"!==
d.argument.type?a(d,"SYNTAX","ASSIGNMENTTOVARSONLY"):e(d.argument,k);case "AssignmentExpression":if("Identifier"!==d.left.type&&"MemberExpression"!==d.left.type)return a(d,"SYNTAX","ASSIGNMENTTOVARSONLY");c=e(d.left,k);if(""!==c)break;switch(d.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return a(d,"SYNTAX","OPERATORNOTRECOGNISED")}return e(d.right,!1);case "ExpressionStatement":return e(d.expression,!1);case "Identifier":c="";break;case "MemberExpression":c=
e(d.object,k);if(""!==c)break;return!0===d.computed?e(d.property,k):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==d.callee.type)return a(d,"SYNTAX","ONLYNODESSUPPORTED");c="";for(z=0;z<d.arguments.length;z++)if(c=e(d.arguments[z],k),""!==c)return c;return"";case "UnaryExpression":c=e(d.argument,k);break;case "BinaryExpression":c=e(d.left,k);if(""!==c)break;c=e(d.right,k);if(""!==c)break;switch(d.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return a(d,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":c=e(d.left,k);if(""!==c)break;c=e(d.right);if(""!==c)break;switch(d.operator){case "\x26\x26":case "||":break;default:return a(d,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return a(d,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c="";for(z=0;z<d.elements.length&&(c=e(d.elements[z],k),""===c);z++);break;case "TemplateLiteral":c="";for(z=0;z<d.quasis.length;z++)if(c=e(d.quasis[z],k),
""!==c)return c;for(z=0;z<d.expressions.length&&(c=e(d.expressions[z],k),""===c);z++);break;case "ObjectExpression":c="";for(z=0;z<d.properties.length;z++){c="";if(null!==d.properties[z].key&&("Literal"!==d.properties[z].key.type&&"Identifier"!==d.properties[z].key.type&&(c=a(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===d.properties[z].key.type)){G=d.properties[z].key;const S="value"in G?G.value:null;"string"===typeof S||S instanceof String||(c=a(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===
c&&(c=e(d.properties[z],k));if(""!==c)break}break;case "Property":if("Literal"!==d.key.type&&"Identifier"!==d.key.type)return a(d,"SYNTAX","ONLYLITERAL");if("Identifier"!==d.key.type&&(c=e(d.key,k),""!==c))break;c=e(d.value,k)}return c}catch(S){throw S;}}function q(d,k){var c=a(d,"SYNTAX","UNREOGNISED");let z=null,G="";try{switch(d.type){case "VariableDeclarator":{if(null!==d.init&&"FunctionExpression"===d.init.type)return a(d,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");const Z=null===d.init?"":q(d.init,
k);if(""!==Z)return Z;"Identifier"===d.id.type&&(null===k.localScope?k.globalScope[d.id.name.toLowerCase()]={type:"any"}:k.localScope[d.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":z=l(d.id.name.toLowerCase(),d);G=h(d,k);if(""!==G)return G;if(null!==k.localScope)return a(d,"SYNTAX","GLOBALFUNCTIONSONLY");z.isnative=!1;k.globalScope[d.id.name.toLowerCase()]={type:"FormulaFunction",signature:[z]};return"";case "VariableDeclaration":c="";for(var S=0;S<d.declarations.length&&
(c=q(d.declarations[S],k),""===c);S++);break;case "IfStatement":c=q(d.test,k);if(""!==c)break;if("AssignmentExpression"===d.test.type||"UpdateExpression"===d.test.type)return a(d.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==d.consequent&&(c=q(d.consequent,k),""!==c))break;if(null!==d.alternate&&(c=q(d.alternate,k),""!==c))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(S=0;S<d.body.length;S++)if(c=q(d.body[S],k),""!==c)return c;return"";case "ReturnStatement":return null!==
d.argument?q(d.argument,k):"";case "ForInStatement":if("VariableDeclaration"===d.left.type){if(1<d.left.declarations.length)return a(d,"SYNTAX","ONLY1VAR");if(null!==d.left.declarations[0].init)return a(d,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==d.left.type)return a(d,"SYNTAX","LEFTNOTVAR");c=q(d.left,k);if(""!==c)break;c=q(d.right,k);if(""!==c)break;c=q(d.body,k);if(""!==c)break;return"";case "ForStatement":if(null!==d.init&&(c=q(d.init,k),""!==c))break;if(null!==d.test&&(c=q(d.test,k),
""!==c))break;if(null!==d.body&&(c=q(d.body,k),""!==c))break;if(null!==d.update&&(c=q(d.update,k),""!==c))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==d.argument.type&&"MemberExpression"!==d.argument.type)return a(d,"SYNTAX","ASSIGNMENTTOVARSONLY");c=!1;if("MemberExpression"===d.argument.type)return q(d.argument,k);null!==k.localScope&&void 0!==k.localScope[d.argument.name.toLowerCase()]&&(c=!0);void 0!==k.globalScope[d.argument.name.toLowerCase()]&&
(c=!0);return!1===c?"Identifier "+d.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==d.left.type&&"MemberExpression"!==d.left.type)return a(d,"SYNTAX","ASSIGNMENTTOVARSONLY");S=q(d.right,k);if(""!==S)return S;c=!1;if("MemberExpression"===d.left.type)return S=q(d.left,k),""!==S?S:"";null!==k.localScope&&void 0!==k.localScope[d.left.name.toLowerCase()]&&(c=!0);void 0!==k.globalScope[d.left.name.toLowerCase()]&&(c=!0);return!1===c?"Identifier "+d.left.name+" has not been declared.":
"";case "ExpressionStatement":return q(d.expression,k);case "Identifier":{const Z=d.name.toLowerCase();if(null!==k.localScope&&void 0!==k.localScope[Z])return"";c=void 0!==k.globalScope[Z]?"":a(d,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":c=q(d.object,k);if(""!==c)break;return!0===d.computed?q(d.property,k):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":{if("Identifier"!==d.callee.type)return a(d,"SYNTAX","ONLYNODESSUPPORTED");c="";for(S=0;S<d.arguments.length;S++)if(c=
q(d.arguments[S],k),""!==c)return c;const Z=C(d.callee.name,d.arguments,k);-1===Z&&(c=a(d,"SYNTAX","NOTFOUND"));-2===Z&&(c=a(d,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":c=q(d.argument,k);break;case "BinaryExpression":c=q(d.left,k);if(""!==c)break;c=q(d.right,k);if(""!==c)break;return"";case "LogicalExpression":c=q(d.left,k);if(""!==c)break;if("AssignmentExpression"===d.left.type||"UpdateExpression"===d.left.type)return a(d.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");c=q(d.right,
k);if(""!==c)break;return"AssignmentExpression"===d.right.type||"UpdateExpression"===d.right.type?a(d.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return a(d,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c="";for(S=0;S<d.elements.length&&(c=q(d.elements[S],k),""===c);S++);break;case "TemplateLiteral":c="";for(S=0;S<d.quasis.length;S++)if(c=q(d.quasis[S],k),""!==c)return c;for(S=0;S<d.expressions.length&&(c=q(d.expressions[S],k),""===c);S++);break;case "ObjectExpression":c=
"";for(S=0;S<d.properties.length;S++){c="";if(null!==d.properties[S].key&&("Literal"!==d.properties[S].key.type&&"Identifier"!==d.properties[S].key.type&&(c=a(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===d.properties[S].key.type)){const Z=d.properties[S].key,U="value"in Z?Z.value:null;"string"===typeof U||U instanceof String||(c=a(d,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===c&&(c=q(d.properties[S],k));if(""!==c)break}break;case "Property":if("Literal"!==d.key.type&&"Identifier"!==d.key.type)return a(d,
"SYNTAX","ONLYLITERAL");if("Identifier"!==d.key.type&&(c=q(d.key,k),""!==c))break;c=q(d.value,k)}return c}catch(Z){throw Z;}}function g(d,k){let c=!1;const z=k.toLowerCase();f(d,G=>{if(c)return!1;"Identifier"===G.type&&G.name&&G.name.toLowerCase()===z&&(c=!0);return!0});return c}function l(d,k){const c=[];if(void 0!==k.params&&null!==k.params)for(let z=0;z<k.params.length;z++)c.push("any");return{name:d,return:"any",params:c}}function h(d,k){k={globalScope:k.globalScope,localScope:{}};for(let c=0;c<
d.params.length;c++)k.localScope[d.params[c].name.toLowerCase()]={type:"any"};return q(d.body,k)}function m(d,k,c,z){const G={};if(void 0===d||null===d)d={};if(void 0===c||null===c)c={};G.infinity={type:"any"};G.textformatting={type:"any"};G.pi={type:"any"};for(const S in k)"sync"===z&&void 0!==k[S].min?G[S]={type:"FormulaFunction",signature:{min:k[S].min,max:k[S].max}}:"sync"!==z&&void 0!==k[S].fmin&&(G[S]={type:"FormulaFunction",signature:{min:k[S].fmin,max:k[S].fmax}});for(k=0;k<c.length;k++)z=
c[k],G[z.name]={type:"FormulaFunction",signature:z};for(const S in d)G[S]=d[S],G[S].type="any";return G}function a(d,k,c){let z="";switch(k){case "SYNTAX":z="Syntax Error: ";break;case "RUNTIME":z="Runtime Error: ";break;default:z="Syntax Error: "}try{switch(d.type){case "IfStatement":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":z+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":z+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":z+=
" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":z+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":z+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(c){case "GLOBALFUNCTIONSONLY":z+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":z+=" Function Definition must have an identifier"}break;case "VariableDeclaration":z+=" Only 1 variable can be declared at a time";break;
case "VariableDeclarator":switch(c){case "FUNCTIONVARIABLEDECLARATOR":z+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":z+=" Variable Definition must have an identifier"}break;case "Identifier":z+=" Identifier Not Found. ";z+=d.name;break;case "ObjectExpression":switch(c){case "OBJECTPROPERTYMUSTBESTRING":z+=" Property name must be a string"}break;case "ForStatement":switch(c){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":z+=" Non Boolean used as Condition"}break;
case "ForInStatement":switch(c){case "ONLY1VAR":z+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":z+=" Can only declare value for use with IN";break;case "LEFTNOVAR":z+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":z+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":z+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(c){case "PROPERTYNOTFOUND":z+="Cannot find member property. ";z+=
!1===d.computed?"Identifier"===d.property.type?d.property.name:"":"";break;case "OUTOFBOUNDS":z+="Out of Bounds. ";z+=!1===d.computed?"Identifier"===d.property.type?d.property.name:"":"";break;case "NOTFOUND":z+="Cannot call member method on null. ";z+=!1===d.computed?"Identifier"===d.property.type?d.property.name:"":"";break;case "INVALIDTYPE":z+="Cannot call member property on object of this type. ",z+=!1===d.computed?"Identifier"===d.property.type?d.property.name:"":""}break;case "Property":switch(c){case "ONLYLITERAL":z+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(c){case "WRONGSIGNATURE":z+="Function signature does not match: ";z+="Identifier"===d.callee.type?d.callee.name:"";break;case "ONLYNODESUPPORTED":z+="Functions must be declared.";z+="Identifier"===d.callee.type?d.callee.name:"";break;case "NOTAFUNCTION":z+="Not a Function: ";z+="Identifier"===d.callee.type?d.callee.name:"";break;case "NOTFOUND":z+="Function Not Found: "+("Identifier"===d.callee.type?
d.callee.name:"")}break;case "UnaryExpression":switch(c){case "NOTSUPPORTEDUNARYOPERATOR":z+="Operator "+d.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":z+="Unary operator "+d.operator+" cannot be used with this argument."}case "BinaryExpression":switch(c){case "OPERATORNOTRECOGNISED":z+="Binary Operator not recognised "+d.operator}break;case "LogicalExpression":switch(c){case "ONLYBOOLEAN":z+="Operator "+d.operator+" cannot be used. Only || or \x26\x26 are allowed values";
break;case "ONLYORORAND":z+="Logical Expression "+d.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":z+="Conditional statements not supported.";break;case "ArrayExpression":switch(c){case "FUNCTIONCONTEXTILLEGAL":z+=" Cannot Put Function inside Array."}break;default:z+="Expression contains unrecognised code structures."}}catch(G){throw G;}return z}function b(d,k,c){return{line:d.loc.start.line,character:d.loc.start.column,reason:a(d,k,c)}}function n(d,
k,c,z){k={globalScope:k.globalScope,localScope:{}};for(let G=0;G<d.params.length;G++)k.localScope[d.params[G].name.toLowerCase()]={type:"any"};r(d.body,k,c,z,!1)}function r(d,k,c,z,G=!0){if(null===d)throw Error("Unnexpexted Expression Syntax");var S=null;try{switch(d.type){case "VariableDeclarator":if(null!==d.init&&"FunctionExpression"===d.init.type){z.push(b(d,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==d.id.type?z.push(b(d,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(d.id.name.toLowerCase(),
null===k.localScope?k.globalScope[d.id.name.toLowerCase()]={type:"any"}:k.localScope[d.id.name.toLowerCase()]={type:"any"});null!==d.init&&r(d.init,k,c,z,G);break;case "FunctionDeclaration":!1===G&&z.push(b(d,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==d.id.type&&z.push(b(d,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));S=l("",d);n(d,k,c,z);null!==k.localScope&&z.push(b(d,"SYNTAX","GLOBALFUNCTIONSONLY"));S.isnative=!1;"Identifier"===d.id.type&&(k.globalScope[d.id.name.toLowerCase()]={type:"FormulaFunction",
signature:[S]});break;case "VariableDeclaration":for(var Z=0;Z<d.declarations.length;Z++)r(d.declarations[Z],k,c,z,G);break;case "IfStatement":null!==d.test&&(r(d.test,k,c,z,G),"AssignmentExpression"!==d.test.type&&"UpdateExpression"!==d.test.type||z.push(b(d.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==d.consequent&&r(d.consequent,k,c,z,G);null!==d.alternate&&r(d.alternate,k,c,z,G);break;case "EmptyStatement":break;case "BlockStatement":if(null!==d.body)for(Z=0;Z<d.body.length;Z++)r(d.body[Z],
k,c,z,G);break;case "ReturnStatement":null!==d.argument&&r(d.argument,k,c,z,G);break;case "ForInStatement":"VariableDeclaration"===d.left.type?(1<d.left.declarations.length&&z.push(b(d,"SYNTAX","ONLY1VAR")),null!==d.left.declarations[0].init&&z.push(b(d,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==d.left.type&&z.push(b(d,"SYNTAX","LEFTNOTVAR"));r(d.left,k,c,z,G);r(d.right,k,c,z,G);r(d.body,k,c,z,G);break;case "ForStatement":null!==d.init&&r(d.init,k,c,z,G);null!==d.test&&r(d.test,k,c,z,G);null!==
d.body&&r(d.body,k,c,z,G);null!==d.update&&r(d.update,k,c,z,G);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==d.argument.type&&"MemberExpression"!==d.argument.type?z.push(b(d,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===d.argument.type&&(Z=!1,!1===c&&(null!==k.localScope&&void 0!==k.localScope[d.argument.name.toLowerCase()]&&(Z=!0),void 0!==k.globalScope[d.argument.name.toLowerCase()]&&(Z=!0),!1===Z&&z.push({line:null===d?0:d.loc.start.line,
character:null===d?0:d.loc.start.column,reason:"Identifier "+d.argument.name+" has not been declared."}))),"MemberExpression"===d.argument.type&&r(d.argument,k,c,z,G));break;case "AssignmentExpression":"Identifier"!==d.left.type&&"MemberExpression"!==d.left.type&&z.push(b(d,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(d.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:z.push(b(d,"SYNTAX","OPERATORNOTRECOGNISED"))}r(d.right,k,c,z,G);Z=!1;"Identifier"===
d.left.type&&(null!==k.localScope&&void 0!==k.localScope[d.left.name.toLowerCase()]&&(Z=!0),void 0!==k.globalScope[d.left.name.toLowerCase()]&&(Z=!0),!1===c&&!1===Z&&z.push({line:null===d?0:d.loc.start.line,character:null===d?0:d.loc.start.column,reason:"Identifier "+d.left.name+" has not been declared."}));"MemberExpression"===d.left.type&&r(d.left,k,c,z,G);break;case "ExpressionStatement":r(d.expression,k,c,z,G);break;case "Identifier":{const U=d.name.toLowerCase();if(null!==k.localScope&&void 0!==
k.localScope[U]||void 0!==k.globalScope[U])break;!1===c&&z.push(b(d,"SYNTAX","VARIABLENOTFOUND"));break}case "MemberExpression":r(d.object,k,c,z,G);!0===d.computed&&r(d.property,k,c,z,G);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==d.callee.type&&z.push(b(d,"SYNTAX","ONLYNODESSUPPORTED"));for(S=0;S<d.arguments.length;S++)r(d.arguments[S],k,c,z,G);"Identifier"===d.callee.type&&(Z=C(d.callee.name,d.arguments,k),!1===c&&-1===Z&&z.push(b(d,"SYNTAX","NOTFOUND")),
-2===Z&&z.push(b(d,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":r(d.argument,k,c,z,G);break;case "BinaryExpression":r(d.left,k,c,z,G);r(d.right,k,c,z,G);switch(d.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:z.push(b(d,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(d.operator){case "\x26\x26":case "||":break;
default:z.push(b(d,"SYNTAX","OPERATORNOTRECOGNISED"))}r(d.left,k,c,z,G);"AssignmentExpression"!==d.left.type&&"UpdateExpression"!==d.left.type||z.push(b(d,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));r(d.right,k,c,z,G);"AssignmentExpression"!==d.right.type&&"UpdateExpression"!==d.right.type||z.push(b(d,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":z.push(b(d,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(Z=0;Z<d.elements.length;Z++)r(d.elements[Z],
k,c,z,G);break;case "TemplateLiteral":for(Z=0;Z<d.quasis.length;Z++)r(d.quasis[Z],k,c,z,G);for(Z=0;Z<d.expressions.length;Z++)r(d.expressions[Z],k,c,z,G);break;case "ObjectExpression":for(Z=0;Z<d.properties.length;Z++)r(d.properties[Z],k,c,z,G);break;case "Property":"Literal"!==d.key.type&&"Identifier"!==d.key.type&&z.push(b(d,"SYNTAX","ONLYLITERAL"));"Literal"===d.key.type&&r(d.key,k,c,z,G);r(d.value,k,c,z,G);break;default:z.push(b(d,"SYNTAX","UNRECOGNISED"))}}catch(U){z.push({line:null===d?0:d.loc.start.line,
character:null===d?0:d.loc.start.column,reason:"Unnexpected Syntax"})}}function H(d){const k=[];f(d,c=>{"CallExpression"===c.type&&"Identifier"===c.callee.type&&k.push(c.callee.name.toLowerCase());return!0});return k}const F={concatenate:{min:"0",max:"*"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},
pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",
max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",
max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",
max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",
max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},
difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",
max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const d in F)F[d].fmin=F[d].min,F[d].fmax=F[d].max;const y="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl attachments featuresetbyportalitem".split(" "),
u="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");v.addFunctionDeclaration=function(d,k){const c=F[d.name.toLowerCase()];void 0===c?"sync"===k?F[d.name.toLowerCase()]={min:d.min,max:d.max}:F[d.name.toLowerCase()]={fmin:d.min,
fmax:d.max}:"sync"===k?(c.min=d.min,c.max=d.max):(c.fmin=d.min,c.fmax=d.max)};v.checkFunctionSignature=w;v.checkScript=function(d,k,c,z="async",G=F){const S=[];if("BlockStatement"!==d.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===k||void 0===k)k={vars:{},customFunctions:[]};k={globalScope:m(k.vars,G,k.customFunctions,z),localScope:null};try{r(d.body[0].body,k,c,S)}catch(Z){}return S};v.constructGlobalScope=m;v.extractAllIssues=r;v.extractAllIssuesInFunction=n;v.extractFunctionDeclaration=
l;v.findFieldLiterals=function(d){const k=[];f(d,c=>{if("MemberExpression"!==c.type||"Identifier"!==c.object.type)return!0;!1===c.computed&&c.object&&c.object.name&&c.property&&"Identifier"===c.property.type&&c.property.name?k.push(c.object.name.toLowerCase()+"."+c.property.name.toLowerCase()):c.object&&c.object.name&&c.property&&"Literal"===c.property.type&&"string"===typeof c.property.value&&k.push(c.object.name.toLowerCase()+"."+c.property.value.toString().toLowerCase());return!1});return k};v.findFunction=
C;v.findFunctionCalls=H;v.findScriptDependencies=function(d,k=[]){let c=null;if(void 0===d.usesFeatureSet){null===c&&(c=H(d));d.usesFeatureSet=!1;for(let z=0;z<c.length;z++)-1<y.indexOf(c[z])&&(d.usesFeatureSet=!0,d.isAsync=!0);if(!1===d.usesFeatureSet&&k&&0<k.length)for(const z of k)if(g(d,z)){d.usesFeatureSet=!0;d.isAsync=!0;break}}if(void 0===d.usesGeometry)for(d.usesGeometry=!1,null===c&&(c=H(d)),k=0;k<c.length;k++)-1<u.indexOf(c[k])&&(d.usesGeometry=!0)};v.functionDecls=F;v.makeError=b;v.nodeErrorMessage=
a;v.referencesFunction=function(d,k){let c=!1;const z=k.toLowerCase();f(d,G=>c?!1:"CallExpression"===G.type&&"Identifier"===G.callee.type&&G.callee.name&&G.callee.name.toLowerCase()===z?(c=!0,!1):!0);return c};v.referencesMember=g;v.scriptUsesFeatureSet=function(d){d=H(d);for(let k=0;k<d.length;k++)if(-1<y.indexOf(d[k]))return!0;return!1};v.testValidityOfExpression=q;v.validateFunction=h;v.validateLanguage=function(d){return"BlockStatement"!==d.body[0].body.type?"Invalid formula content.":e(d.body[0].body)};
v.validateLanguageNode=e;v.validateScript=function(d,k,c="async",z=F){k={globalScope:m(k.vars,z,k.customFunctions,c),localScope:null};return q(d.body[0].body,k)};v.walk=f;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/arcadeCompiler":function(){define("require exports ../core/promiseUtils ../geometry/SpatialReference ../geometry/Geometry ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/Polygon ../geometry/Polyline ./ImmutablePointArray ./ImmutablePathArray ../chunks/languageUtils ./Dictionary ./ArcadePortal ./Attachment ./Feature ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../views/2d/layers/features/support/FeatureSetReader".split(" "),
function(v,w,C,D,f,e,q,g,l,h,m,a,b,n,r,H,F,y,u,d,k,c,z,G,S,Z){function U(p,t,I){try{return I(p,null,t)}catch(K){throw K;}}function ja(p){return p instanceof Error?C.reject(p):C.reject(Error(p))}function ba(p,t){try{switch(t.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return ha(p,t);case "VariableDeclaration":var I,K=[];for(var P=0;P<t.declarations.length;P++)K.push(ba(p,t.declarations[P]));return I=K.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return xa(p,
t);case "FunctionDeclaration":{const E=t.id.name.toLowerCase(),O={isAsync:p.isAsync,spatialReference:p.spatialReference,console:p.console,lrucache:p.lrucache,interceptor:p.interceptor,services:p.services,symbols:p.symbols,mangleMap:p.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:p.depthCounter+1,globalScope:p.globalScope};if(64<O.depthCounter)throw Error("Exceeded maximum function depth");K="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(I=0;I<t.params.length;I++){const aa=t.params[I].name.toLowerCase(),Y=oa(p);O.localScope._SymbolsMap[aa]=Y;O.mangleMap[aa]=Y;K+="lscope['"+Y+"']\x3darguments["+I.toString()+"];\n"}!0===p.isAsync?(K=K+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(xa(O,t.body)+"\n return lastStatement; "),K+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(K+=xa(O,t.body)+"\n return lastStatement; }, runtimeCtx))",K+="\n lastStatement \x3d lc.voidOperation; \n");if(void 0!==p.globalScope[E])P=
"gscope['"+E+"']\x3d"+K;else if(void 0!==p.globalScope._SymbolsMap[E])P="gscope['"+p.globalScope._SymbolsMap[E]+"']\x3d"+K;else{{const aa=oa(p);p.globalScope._SymbolsMap[E]=aa;p.mangleMap[E]=aa;P="gscope['"+aa+"']\x3d"+K}}}return P;case "ReturnStatement":var ka=null===t.argument?"return lc.voidOperation":"return "+ba(p,t.argument);return ka;case "IfStatement":{if("AssignmentExpression"===t.test.type||"UpdateExpression"===t.test.type)throw Error(y.nodeErrorMessage(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));
const E=ba(p,t.test),O=ia(p);let aa="var "+O+" \x3d "+E+";\n if ("+O+" \x3d\x3d\x3d true) {\n"+va(p,t.consequent)+"\n }\n";aa=null!==t.alternate?aa+("else if ("+O+"\x3d\x3d\x3dfalse)   { \n"+va(p,t.alternate)+"}\n"):aa+("else if ("+O+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var la=aa+="else { lang.error({type: '"+t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return la;case "ExpressionStatement":var ra="AssignmentExpression"===t.expression.type?"lastStatement \x3d lc.voidOperation; "+
ba(p,t.expression)+"; \n ":"lastStatement \x3d "+ba(p,t.expression)+"; ";return ra;case "AssignmentExpression":return za(p,t);case "UpdateExpression":return ya(p,t);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{K=[];I=0;for(const E of t.quasis)K.push(E.value?JSON.stringify(E.value.cooked):JSON.stringify("")),!1===E.tail&&(K.push(t.expressions[I]?"lang.castString(lang.aCheck("+ba(p,t.expressions[I])+", 'TemplateLiteral'))":""),I++);var V="(["+
K.join(",")+"]).join('')"}catch(E){throw E;}return V;case "TemplateElement":return JSON.stringify(t.value?t.value.cooked:"");case "ForStatement":{K="lastStatement \x3d lc.voidOperation; \n";null!==t.init&&(K+=ba(p,t.init)+"; ");const E=ia(p),O=ia(p);K+="var "+E+" \x3d true; \n do { ";null!==t.update&&(K+=" if ("+E+"\x3d\x3d\x3dfalse) {\n "+ba(p,t.update)+"  \n}\n "+E+"\x3dfalse; \n");null!==t.test&&(K+="var "+O+" \x3d "+ba(p,t.test)+"; ",K+="if ("+O+"\x3d\x3d\x3dfalse) { break; } else if ("+O+"!\x3d\x3dtrue) { lang.error({type: '"+
t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");K+=ba(p,t.body);null!==t.update&&(K+="\n "+ba(p,t.update));var fa=K+("\n"+E+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return fa;case "ForInStatement":{const E=ia(p),O=ia(p),aa=ia(p);let Y="var "+E+" \x3d "+ba(p,t.right)+";\n";"VariableDeclaration"===t.left.type&&(Y+=ba(p,t.left));let qa="VariableDeclaration"===t.left.type?t.left.declarations[0].id.name:t.left.name;qa=qa.toLowerCase();K="";null!==p.localScope&&
(void 0!==p.localScope[qa]?K="lscope['"+qa+"']":void 0!==p.localScope._SymbolsMap[qa]&&(K="lscope['"+p.localScope._SymbolsMap[qa]+"']"));""===K&&(void 0!==p.globalScope[qa]?K="gscope['"+qa+"']":void 0!==p.globalScope._SymbolsMap[qa]&&(K="gscope['"+p.globalScope._SymbolsMap[qa]+"']"));Y=Y+("if ("+E+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(E+") || lc.isString("+E+")) {var ")+(O+"\x3d"+E+".length; \nfor(var ")+(aa+"\x3d0; "+aa+"\x3c"+O+"; "+aa+"++) {\n");
Y+=K+"\x3d"+aa+";\n";Y+=ba(p,t.body);Y+="\n}\n";Y+=" lastStatement \x3d lc.voidOperation; \n";Y+=" \n}\n";Y+="else if (lc.isImmutableArray("+E+")) {";Y=Y+("var "+O+"\x3d"+E+".length(); \nfor(var ")+(aa+"\x3d0; "+aa+"\x3c"+O+"; "+aa+"++) {\n");Y+=K+"\x3d"+aa+";\n";Y+=ba(p,t.body);Y+="\n}\n";Y+=" lastStatement \x3d lc.voidOperation; \n";Y+=" \n}\n";Y+="else if (( "+E+" instanceof lang.Dictionary) || ( "+E+" instanceof lang.Feature)) {";Y=Y+("var "+O+"\x3d"+E+".keys(); \nfor(var ")+(aa+"\x3d0; "+aa+
"\x3c"+O+".length; "+aa+"++) {\n");Y+=K+"\x3d"+O+"["+aa+"];\n";Y+=ba(p,t.body);Y+="\n}\n";Y+=" lastStatement \x3d lc.voidOperation; \n";Y+=" \n}\n";p.isAsync&&(Y+="else if (lc.isFeatureSet("+E+")) {",Y=Y+("var "+O+"\x3d"+E+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(aa+"\x3dlang. graphicToFeature( yield "+O+".next(),"+E+"); "+aa+"!\x3dnull; "+aa+"\x3dlang. graphicToFeature( yield "+O+".next(),"+E+")) {\n")+(K+"\x3d"+aa+";\n"),Y+=ba(p,t.body),Y+="\n}\n",Y+=" lastStatement \x3d lc.voidOperation; \n",
Y+=" \n}\n");var ea=Y+="else { lastStatement \x3d lc.voidOperation; } \n"}return ea;case "Identifier":return Ba(p,t);case "MemberExpression":try{let E;E=!0===t.computed?ba(p,t.property):"'"+t.property.name+"'";var Fa="lang.member("+ba(p,t.object)+","+E+")"}catch(E){throw E;}return Fa;case "Literal":return null===t.value||void 0===t.value?"null":JSON.stringify(t.value);case "ThisExpression":throw Error(y.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==t.callee.type)throw Error(y.nodeErrorMessage(t,
"RUNTIME","ONLYNODESSUPPORTED"));const E=t.callee.name.toLowerCase();I="";null!==p.localScope&&(void 0!==p.localScope[E]?I="lscope['"+E+"']":void 0!==p.localScope._SymbolsMap[E]&&(I="lscope['"+p.localScope._SymbolsMap[E]+"']"));""===I&&(void 0!==p.globalScope[E]?I="gscope['"+E+"']":void 0!==p.globalScope._SymbolsMap[E]&&(I="gscope['"+p.globalScope._SymbolsMap[E]+"']"));if(""!==I){P="[";for(V=0;V<t.arguments.length;V++)0<V&&(P+=", "),P+=ba(p,t.arguments[V]);P+="]";K=p.isAsync?"(yield lang.callfunc("+
I+","+P+",runtimeCtx) )":"lang.callfunc("+I+","+P+",runtimeCtx)"}else throw Error(y.nodeErrorMessage(t,"RUNTIME","NOTFOUND"));}catch(E){throw E;}return K;case "UnaryExpression":try{var Ga="lang.unary("+ba(p,t.argument)+",'"+t.operator+"')"}catch(E){throw E;}return Ga;case "BinaryExpression":try{var Ea="lang.binary("+ba(p,t.left)+","+ba(p,t.right)+",'"+t.operator+"')"}catch(E){throw E;}return Ea;case "LogicalExpression":try{if("AssignmentExpression"===t.left.type||"UpdateExpression"===t.left.type)throw Error(y.nodeErrorMessage(t.left,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===t.right.type||"UpdateExpression"===t.right.type)throw Error(y.nodeErrorMessage(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===t.operator||"||"===t.operator)var Ca="(lang.logicalCheck("+ba(p,t.left)+") "+t.operator+" lang.logicalCheck("+ba(p,t.right)+"))";else throw Error(y.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"));}catch(E){throw E;}return Ca;case "ConditionalExpression":throw Error(y.nodeErrorMessage(t,
"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{K=[];for(I=0;I<t.elements.length;I++)"Literal"===t.elements[I].type?K.push(ba(p,t.elements[I])):K.push("lang.aCheck("+ba(p,t.elements[I])+",'ArrayExpression')");var Ha="["+K.join(",")+"]"}catch(E){throw E;}return Ha;case "ObjectExpression":var x;K="lang.dictionary([";for(I=0;I<t.properties.length;I++){const E=t.properties[I],O="Identifier"===E.key.type?"'"+E.key.name+"'":ba(p,E.key),aa=ba(p,E.value);0<I&&(K+=",");K+="lang.strCheck("+O+",'ObjectExpression'),lang.aCheck("+
aa+", 'ObjectExpression')"}return x=K+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(y.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));default:throw Error(y.nodeErrorMessage(t,"RUNTIME","UNREOGNISED"));}}catch(E){throw E;}}function ya(p,t){let I=null,K="";if("MemberExpression"===t.argument.type)return I=ba(p,t.argument.object),K=!0===t.argument.computed?ba(p,t.argument.property):"'"+t.argument.property.name+"'","lang.memberupdate("+I+","+K+",'"+t.operator+"',"+t.prefix+
")";I=t.argument.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[I])return"lang.update(lscope, '"+I+"','"+t.operator+"',"+t.prefix+")";if(void 0!==p.localScope._SymbolsMap[I])return"lang.update(lscope, '"+p.localScope._SymbolsMap[I]+"','"+t.operator+"',"+t.prefix+")"}if(void 0!==p.globalScope[I])return"lang.update(gscope, '"+I+"','"+t.operator+"',"+t.prefix+")";if(void 0!==p.globalScope._SymbolsMap[I])return"lang.update(gscope, '"+p.globalScope._SymbolsMap[I]+"','"+t.operator+
"',"+t.prefix+")";throw Error("Variable not recognised");}function za(p,t){const I=ba(p,t.right);let K=null,P="";if("MemberExpression"===t.left.type)return K=ba(p,t.left.object),P=!0===t.left.computed?ba(p,t.left.property):"'"+t.left.property.name+"'","lang.assignmember("+K+","+P+",'"+t.operator+"',"+I+")";K=t.left.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[K])return"lscope['"+K+"']\x3dlang.assign("+I+",'"+t.operator+"', lscope['"+K+"'])";if(void 0!==p.localScope._SymbolsMap[K])return"lscope['"+
p.localScope._SymbolsMap[K]+"']\x3dlang.assign("+I+",'"+t.operator+"', lscope['"+p.localScope._SymbolsMap[K]+"'])"}if(void 0!==p.globalScope[K])return"gscope['"+K+"']\x3dlang.assign("+I+",'"+t.operator+"', gscope['"+K+"'])";if(void 0!==p.globalScope._SymbolsMap[K])return"gscope['"+p.globalScope._SymbolsMap[K]+"']\x3dlang.assign("+I+",'"+t.operator+"', gscope['"+p.globalScope._SymbolsMap[K]+"'])";throw Error("Variable not recognised");}function va(p,t){return"BlockStatement"===t.type?ba(p,t):"ReturnStatement"===
t.type||"BreakStatement"===t.type||"ContinueStatement"===t.type?ba(p,t)+"; ":"UpdateExpression"===t.type?"lastStatement \x3d "+ba(p,t)+"; ":"ExpressionStatement"===t.type?ba(p,t):"ObjectExpression"===t.type?"lastStatement \x3d "+ba(p,t)+"; ":ba(p,t)+"; "}function xa(p,t){let I="";for(let K=0;K<t.body.length;K++)I="ReturnStatement"===t.body[K].type?I+(ba(p,t.body[K])+"; \n"):"BreakStatement"===t.body[K].type?I+(ba(p,t.body[K])+"; \n"):"ContinueStatement"===t.body[K].type?I+(ba(p,t.body[K])+"; \n"):
"UpdateExpression"===t.body[K].type?I+("lastStatement \x3d "+ba(p,t.body[K])+"; \n"):"ObjectExpression"===t.body[K].type?I+("lastStatement \x3d "+ba(p,t.body[K])+"; \n"):I+(ba(p,t.body[K])+" \n");return I}function ha(p,t){let I=null===t.init?null:ba(p,t.init);I===b.voidOperation&&(I=null);t=t.id.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[t])return"lscope['"+t+"']\x3d"+I+"; ";if(void 0!==p.localScope._SymbolsMap[t])return"lscope['"+p.localScope._SymbolsMap[t]+"']\x3d"+I+"; ";
var K=oa(p);p.localScope._SymbolsMap[t]=K;p.mangleMap[t]=K;return"lscope['"+K+"']\x3d"+I+"; "}if(void 0!==p.globalScope[t])return"gscope['"+t+"']\x3d"+I+"; ";if(void 0!==p.globalScope._SymbolsMap[t])return"gscope['"+p.globalScope._SymbolsMap[t]+"']\x3d"+I+"; ";K=oa(p);p.globalScope._SymbolsMap[t]=K;p.mangleMap[t]=K;return"gscope['"+K+"']\x3d"+I+"; "}function ua(p,t,I){t=t.toLowerCase();switch(t){case "hasz":return p=p.hasZ,void 0===p?!1:p;case "hasm":return p=p.hasM,void 0===p?!1:p;case "spatialreference":return t=
p.spatialReference._arcadeCacheId,void 0===t&&(I=!0,Object.freeze&&Object.isFrozen(p.spatialReference)&&(I=!1),I&&(B++,t=p.spatialReference._arcadeCacheId=B)),p=new n({wkt:p.spatialReference.wkt,wkid:p.spatialReference.wkid}),void 0!==t&&(p._arcadeCacheId="SPREF"+t.toString()),p}switch(p.type){case "extent":switch(t){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return p=p[t],void 0!==p?p:null;case "type":return"Extent"}break;case "polygon":switch(t){case "rings":return t=
p.cache._arcadeCacheId,void 0===t&&(B++,t=B,p.cache._arcadeCacheId=t),new a(p.rings,p.spatialReference,!0===p.hasZ,!0===p.hasM,t);case "type":return"Polygon"}break;case "point":switch(t){case "x":case "y":case "z":case "m":return void 0!==p[t]?p[t]:null;case "type":return"Point"}break;case "polyline":switch(t){case "paths":return t=p.cache._arcadeCacheId,void 0===t&&(B++,t=B,p.cache._arcadeCacheId=t),new a(p.paths,p.spatialReference,!0===p.hasZ,!0===p.hasM,t);case "type":return"Polyline"}break;case "multipoint":switch(t){case "points":return t=
p.cache._arcadeCacheId,void 0===t&&(B++,t=B,p.cache._arcadeCacheId=t),new m(p.points,p.spatialReference,!0===p.hasZ,!0===p.hasM,t,1);case "type":return"Multipoint"}}throw Error(y.nodeErrorMessage(I,"RUNTIME","PROPERTYNOTFOUND"));}function Ba(p,t){try{const I=t.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[I])return"lscope['"+I+"']";if(void 0!==p.localScope._SymbolsMap[I])return"lscope['"+p.localScope._SymbolsMap[I]+"']"}if(void 0!==p.globalScope[I])return"gscope['"+I+"']";if(void 0!==
p.globalScope._SymbolsMap[I])return"gscope['"+p.globalScope._SymbolsMap[I]+"']";throw Error(y.nodeErrorMessage(t,"RUNTIME","VARIABLENOTFOUND"));}catch(I){throw I;}}function M(p){return null===p?"":b.isArray(p)||b.isImmutableArray(p)?"Array":b.isDate(p)?"Date":b.isString(p)?"String":b.isBoolean(p)?"Boolean":b.isNumber(p)?"Number":p instanceof H?"Attachment":p instanceof r?"Portal":p instanceof n?"Dictionary":p instanceof F?"Feature":p instanceof e?"Point":p instanceof l?"Polygon":p instanceof h?"Polyline":
p instanceof g?"Multipoint":p instanceof q?"Extent":b.isFunctionParameter(p)?"Function":b.isFeatureSet(p)?"FeatureSet":b.isFeatureSetCollection(p)?"FeatureSetCollection":p===b.voidOperation?"":"number"===typeof p&&isNaN(p)?"Number":"Unrecognised Type"}function T(p,t,I,K){try{if(b.equalityTest(t[I],K))return t[I+1];{const P=t.length-I;return 1===P?t[I]:2===P?null:3===P?t[I+2]:T(p,t,I+2,K)}}catch(P){throw P;}}function N(p,t,I,K){try{if(!0===K)return t[I+1];if(3===t.length-I)return t[I+2];{const P=t[I+
2];if(!1===b.isBoolean(P))throw Error("WHEN needs boolean test conditions");return N(p,t,I+2,P)}}catch(P){throw P;}}function Q(p,t){var I=p.length,K=Math.floor(I/2);if(0===I)return[];if(1===I)return[p[0]];var P=Q(p.slice(0,K),t);p=Q(p.slice(K,I),t);for(I=[];0<P.length||0<p.length;)0<P.length&&0<p.length?(K=t(P[0],p[0]),isNaN(K)&&(K=0),0>=K?(I.push(P[0]),P=P.slice(1)):(I.push(p[0]),p=p.slice(1))):0<P.length?(I.push(P[0]),P=P.slice(1)):0<p.length&&(I.push(p[0]),p=p.slice(1));return t=I}function X(p,
t){try{const I=p.length,K=Math.floor(I/2);if(0===I)return C.resolve([]);if(1===I)return C.resolve([p[0]]);const P=[X(p.slice(0,K),t),X(p.slice(K,I),t)];return C.all(P).then(ka=>ca(ka[0],ka[1],t,[]))}catch(I){return C.reject(I)}}function ca(p,t,I,K){return C.create((P,ka)=>{0<p.length||0<t.length?0<p.length&&0<t.length?I(p[0],t[0]).then(la=>{try{isNaN(la)&&(la=1),0>=la?(K.push(p[0]),p=p.slice(1)):(K.push(t[0]),t=t.slice(1)),ca(p,t,I,K).then(ra=>{P(ra)},ka)}catch(ra){ka(ra)}},ka):0<p.length?(K.push(p[0]),
p=p.slice(1),ca(p,t,I,K).then(la=>{P(la)},ka)):0<t.length&&(K.push(t[0]),t=t.slice(1),ca(p,t,I,K).then(la=>{P(la)},ka)):P(K)})}function oa(p){p.symbols.symbolCounter++;return"_T"+p.symbols.symbolCounter.toString()}function ia(p){p.symbols.symbolCounter++;return"_Tvar"+p.symbols.symbolCounter.toString()}function ma(p,t,I){const K={};p||(p={});I||(I={});K._SymbolsMap={};K.textformatting=1;K.infinity=1;K.pi=1;for(const P in t)K[P]=1;for(const P in I)K[P]=1;for(const P in p)K[P]=1;return K}function na(p,
t){const I={mode:t,compiled:!0,functions:{},signatures:[],failDefferred:ja,standardFunction:U,standardFunctionAsync:U,evaluateIdentifier:W};for(let K=0;K<p.length;K++)p[K].registerFunctions(I);if("sync"===t){for(const K in I.functions)J[K]=new b.NativeFunction(I.functions[K]),R.prototype[K]=J[K];for(p=0;p<I.signatures.length;p++)y.addFunctionDeclaration(I.signatures[p],"sync")}else{for(const K in I.functions)L[K]=new b.NativeFunction(I.functions[K]),da.prototype[K]=L[K];for(p=0;p<I.signatures.length;p++)y.addFunctionDeclaration(I.signatures[p],
"async")}}function W(p,t){t=t.name;if("_SymbolsMap"===t)throw"Illegal";if(0<p.localStack.length){if("_t"!==t.substr(0,2).toLowerCase()&&void 0!==p.localStack[p.localStack.length-1][t])return p.localStack[p.localStack.length-1][t];const I=p.mangleMap[t];if(void 0!==I&&void 0!==p.localStack[p.localStack.length-1][I])return p.localStack[p.localStack.length-1][I]}if("_t"!==t.substr(0,2).toLowerCase()&&void 0!==p.globalScope[t]||1===p.globalScope._SymbolsMap[t])return p.globalScope[t];t=p.mangleMap[t];
if(void 0!==t)return p.globalScope[t]}function A(p){console.log(p)}let B=0;const J={};u.registerFunctions(J,U);d.registerFunctions(J,U);S.registerFunctions(J,U);z.registerFunctions(J,U);k.registerFunctions(J,U);G.registerFunctions(J,U);J["typeof"]=function(p,t){return U(p,t,function(I,K,P){b.pcCheck(P,1,1);I=M(P[0]);if("Unrecognised Type"===I)throw Error("Unrecognised Type");return I})};J.iif=function(p,t){try{return U(p,t,function(I,K,P){b.pcCheck(P,3,3);if(!1===b.isBoolean(P[0]))throw Error("IF Function must have a boolean test condition");
return P[0]?P[1]:P[2]})}catch(I){throw I;}};J.decode=function(p,t){try{return U(p,t,function(I,K,P){if(2>P.length)throw Error("Missing Parameters");if(2===P.length)return P[1];if(0===(P.length-1)%2)throw Error("Must have a default value result.");return T(p,P,1,P[0])})}catch(I){throw I;}};J.when=function(p,t){try{return U(p,t,function(I,K,P){if(3>P.length)throw Error("Missing Parameters");if(0===P.length%2)throw Error("Must have a default value result.");I=P[0];if(!1===b.isBoolean(I))throw Error("WHEN needs boolean test conditions");
return N(p,P,0,I)})}catch(I){throw I;}};J.top=function(p,t){return U(p,t,function(I,K,P){b.pcCheck(P,2,2);if(b.isArray(P[0]))return b.toNumber(P[1])>=P[0].length?P[0].slice(0):P[0].slice(0,b.toNumber(P[1]));if(b.isImmutableArray(P[0]))return b.toNumber(P[1])>=P[0].length()?P[0].slice(0):P[0].slice(0,b.toNumber(P[1]));throw Error("Top cannot accept this parameter type");})};J.first=function(p,t){return U(p,t,function(I,K,P){b.pcCheck(P,1,1);return b.isArray(P[0])?0===P[0].length?null:P[0][0]:b.isImmutableArray(P[0])?
0===P[0].length()?null:P[0].get(0):null})};J.sort=function(p,t){return U(p,t,function(I,K,P){b.pcCheck(P,1,2);K=P[0];b.isImmutableArray(K)&&(K=K.toArray());if(!1===b.isArray(K))throw Error("Illegal Argument");if(1<P.length){if(!1===b.isFunctionParameter(P[1]))throw Error("Illegal Argument");var ka=K;const V=function(fa,ea){return pa.callfunc(P[1],[fa,ea],I)};return p.isAsync?X(ka,V):ka=Q(ka,function(fa,ea){return V(fa,ea)})}{if(0===K.length)return[];const V={};for(var la=0;la<K.length;la++){var ra=
M(K[la]);""!==ra&&(V[ra]=!0)}if(!0===V.Array||!0===V.Dictionary||!0===V.Feature||!0===V.Point||!0===V.Polygon||!0===V.Polyline||!0===V.Multipoint||!0===V.Extent||!0===V.Function)return K.slice(0);la=0;ra="";for(ka in V)la++,ra=ka;return K=1<la||"String"===ra?Q(K,function(fa,ea){if(null===fa||void 0===fa||fa===b.voidOperation)return null===ea||void 0===ea||ea===b.voidOperation?0:1;if(null===ea||void 0===ea||ea===b.voidOperation)return-1;fa=b.toString(fa);ea=b.toString(ea);return fa<ea?-1:fa===ea?0:
1}):"Number"===ra?Q(K,function(fa,ea){return fa-ea}):"Boolean"===ra?Q(K,function(fa,ea){return fa===ea?0:ea?-1:1}):"Date"===ra?Q(K,function(fa,ea){return ea-fa}):K.slice(0)}})};const L={};for(const p in J)L[p]=new b.NativeFunction(J[p]);c.registerFunctions(J,U);for(const p in J)J[p]=new b.NativeFunction(J[p]);const R=function(){};R.prototype=J;const da=function(){};da.prototype=L;u={fixSpatialReference:b.fixSpatialReference,parseArguments:function(p,t){const I=[];for(let K=0;K<t.arguments.length;K++)I.push(ba(p,
t.arguments[K]));return I},standardFunction:U};let sa=0;const pa={error(p,t,I){throw Error(y.nodeErrorMessage(p,t,I));},__awaiter(p,t,I,K){return C.create((P,ka)=>{function la(fa){try{V(K.next(fa))}catch(ea){ka(ea)}}function ra(fa){try{V(K["throw"](fa))}catch(ea){ka(ea)}}function V(fa){fa.done?P(fa.value):fa.value&&fa.value.then?fa.value.then(la,ra):(sa++,0===sa%100?setTimeout(()=>{sa=0;la(fa.value)},0):la(fa.value))}V((K=K.apply(p,t||[])).next())})},functionDepthchecker(p,t){return function(){t.depthCounter++;
t.localStack.push([]);if(64<t.depthCounter)throw Error("Exceeded maximum function depth");const I=p.apply(this,arguments);if(C.isPromiseLike(I))return I.then(K=>{t.depthCounter--;--t.localStack.length;return K});t.depthCounter--;--t.localStack.length;return I}},castString(p){return b.toString(p)},aCheck(p,t){if(b.isFunctionParameter(p))throw Error(y.nodeErrorMessage({type:t},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return p===b.voidOperation?null:p},Dictionary:n,Feature:F,dictionary(p){const t={};for(let I=
0;I<p.length;I+=2){if(b.isFunctionParameter(p[I+1]))throw Error("Illegal Argument");if(!1===b.isString(p[I]))throw Error("Illegal Argument");t[p[I].toString()]=p[I+1]===b.voidOperation?null:p[I+1]}p=new n(t);p.immutable=!1;return p},strCheck(p){if(!1===b.isString(p))throw Error("Illegal Argument");return p},unary(p,t){if(b.isBoolean(p)){if("!"===t)return!p;if("-"===t)return-1*b.toNumber(p);if("+"===t)return 1*b.toNumber(p);if("~"===t)return~b.toNumber(p);throw Error(y.nodeErrorMessage({type:"UnaryExpression",
operator:t,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===t)return-1*b.toNumber(p);if("+"===t)return 1*b.toNumber(p);if("~"===t)return~b.toNumber(p);throw Error(y.nodeErrorMessage({type:"UnaryExpression",operator:t,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck(p){if(!1===b.isBoolean(p))throw Error(y.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return p},logical(p,t,I){if(b.isBoolean(p)&&
b.isBoolean(t))switch(I){case "||":return p||t;case "\x26\x26":return p&&t}throw Error(y.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(p,t,I){switch(I){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return b.binaryOperator(b.toNumber(p),b.toNumber(t),I);case "\x3d\x3d":return b.equalityTest(p,t);case "\x3d":return b.equalityTest(p,t);case "!\x3d":return!b.equalityTest(p,t);case "\x3c":return b.greaterThanLessThan(p,
t,I);case "\x3e":return b.greaterThanLessThan(p,t,I);case "\x3c\x3d":return b.greaterThanLessThan(p,t,I);case "\x3e\x3d":return b.greaterThanLessThan(p,t,I);case "+":return b.isString(p)||b.isString(t)?b.toString(p)+b.toString(t):b.toNumber(p)+b.toNumber(t);case "-":return b.toNumber(p)-b.toNumber(t);case "*":return b.toNumber(p)*b.toNumber(t);case "/":return b.toNumber(p)/b.toNumber(t);case "%":return b.toNumber(p)%b.toNumber(t);default:throw Error(y.nodeErrorMessage({type:"BinaryExpression",operator:I,
left:p,right:t},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign(p,t,I){switch(t){case "\x3d":return p===b.voidOperation?null:p;case "/\x3d":return b.toNumber(I)/b.toNumber(p);case "*\x3d":return b.toNumber(I)*b.toNumber(p);case "-\x3d":return b.toNumber(I)-b.toNumber(p);case "+\x3d":return b.isString(I)||b.isString(p)?b.toString(I)+b.toString(p):b.toNumber(I)+b.toNumber(p);case "%\x3d":return b.toNumber(I)%b.toNumber(p);default:throw Error(y.nodeErrorMessage({type:"AssignmentExpression",operator:t,
left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update(p,t,I,K){const P=b.toNumber(p[t]);p[t]="++"===I?P+1:P-1;return!1===K?P:"++"===I?P+1:P-1},graphicToFeature(p,t){return null===p?null:F.createFromGraphicLikeObject(p.geometry,p.attributes,t)},memberupdate(p,t,I,K){let P;if(b.isArray(p))if(b.isNumber(t)){0>t&&(t=p.length+t);if(0>t||t>=p.length)throw Error("Assignment outside of array bounds");P=b.toNumber(p[t]);p[t]="++"===I?P+1:P-1}else throw Error("Invalid Parameter");else if(p instanceof
n){if(!1===b.isString(t))throw Error("Dictionary accessor must be a string");if(!0===p.hasField(t))P=b.toNumber(p.field(t)),p.setField(t,"++"===I?P+1:P-1);else throw Error("Invalid Parameter");}else if(p instanceof F){if(!1===b.isString(t))throw Error("Feature accessor must be a string");if(!0===p.hasField(t))P=b.toNumber(p.field(t)),p.setField(t,"++"===I?P+1:P-1);else throw Error("Invalid Parameter");}else{if(b.isImmutableArray(p))throw Error("Array is Immutable");throw Error("Invalid Parameter");
}return!1===K?P:"++"===I?P+1:P-1},assignmember(p,t,I,K){if(b.isArray(p))if(b.isNumber(t)){0>t&&(t=p.length+t);if(0>t||t>p.length)throw Error("Assignment outside of array bounds");if(t===p.length&&"\x3d"!==I)throw Error("Invalid Parameter");p[t]=this.assign(K,I,p[t])}else throw Error("Invalid Parameter");else if(p instanceof n){if(!1===b.isString(t))throw Error("Dictionary accessor must be a string");if(!0===p.hasField(t))p.setField(t,this.assign(K,I,p.field(t)));else{if("\x3d"!==I)throw Error("Invalid Parameter");
p.setField(t,this.assign(K,I,null))}}else if(p instanceof F){if(!1===b.isString(t))throw Error("Feature accessor must be a string");if(!0===p.hasField(t))p.setField(t,this.assign(K,I,p.field(t)));else{if("\x3d"!==I)throw Error("Invalid Parameter");p.setField(t,this.assign(K,I,null))}}else{if(b.isImmutableArray(p))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member(p,t){if(null===p)throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","NOTFOUND"));if(p instanceof Z.FeatureSetReader){if(b.isString(t))return p.field(t);throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(p instanceof n||p instanceof F){if(b.isString(t))return p.field(t);throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(p instanceof f){if(b.isString(t))return ua(p,t,"MemberExpression");throw Error(y.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(b.isArray(p)){if(b.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){0>t&&(t=p.length+t);if(t>=p.length||0>t)throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return p[t]}throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(b.isString(p)){if(b.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){0>
t&&(t=p.length+t);if(t>=p.length||0>t)throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return p[t]}throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(b.isImmutableArray(p)&&b.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){0>t&&(t=p.length()+t);if(t>=p.length()||0>t)throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","OUTOFBOUNDS"));return p.get(t)}throw Error(y.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc(p,t,I){return p instanceof b.NativeFunction?p.fn(I,t):p instanceof b.SizzleFunction?p.fn.apply(this,t):p.apply(this,t)}};w.compileScript=function(p,t=null,I=!1){null===t&&(t={vars:{},customfunctions:{}});t={isAsync:I,globalScope:ma(t.vars,I?L:J,t.customfunctions),localScope:null,mangleMap:{},console:A,lrucache:t.lrucache,interceptor:t.interceptor,
services:t.services,symbols:{symbolCounter:0}};p=ba(t,p.body[0].body);""===p&&(p="lc.voidOperation; ");t={lc:b.lc,lang:pa,mangles:t.mangleMap,postProcess(K){K instanceof b.ReturnResult&&(K=K.value);K instanceof b.ImplicitResult&&(K=K.value);K===b.voidOperation&&(K=null);if(K===b.breakResult)throw Error("Cannot return BREAK");if(K===b.continueResult)throw Error("Cannot return CONTINUE");if(b.isFunctionParameter(K))throw Error("Cannot return FUNCTION");return K},prepare(K,P){let ka=K.spatialReference;
if(null===ka||void 0===ka)ka=new D({wkid:102100});{var la=K.vars;var ra=K.customfunctions;const V=P?new da:new R;la||(la={});ra||(ra={});const fa=new n({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});fa.immutable=!1;V._SymbolsMap={textformatting:1,infinity:1,pi:1};V.textformatting=fa;V.infinity=Number.POSITIVE_INFINITY;V.pi=Math.PI;for(const ea in ra)V[ea]=ra[ea],V._SymbolsMap[ea]=1;for(const ea in la)V._SymbolsMap[ea]=1,V[ea]=la[ea]&&"esri.Graphic"===
la[ea].declaredClass?F.createFromGraphic(la[ea]):la[ea];la=V}return{localStack:[],isAsync:P,mangleMap:this.mangles,spatialReference:ka,globalScope:la,abortSignal:void 0===K.abortSignal||null===K.abortSignal?{aborted:!1}:K.abortSignal,localScope:null,services:K.services,console:K.console?K.console:A,lrucache:K.lrucache,interceptor:K.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",I?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
p+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+p+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(t)};w.enableAsyncSupport=function(){return(new Promise(function(p,t){v(["./functions/geomasync"],p,t)})).then(p=>{na([p],"async");
return!0})};w.executeScript=function(p,t){return p(t)};w.extend=na;w.extractFieldLiterals=function(p,t){return y.findFieldLiterals(p)};w.functionHelper=u;w.referencesFunction=function(p,t){return y.referencesFunction(p,t)};w.referencesMember=function(p,t){return y.referencesMember(p,t)};w.validateScript=function(p,t){return y.validateScript(p,t,"sync")};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],
function(v,w){return function(C){function D(f){var e=C.call(this)||this;e.immutable=!1;e.setField("url",f);e.immutable=!0;return e}v._inheritsLoose(D,C);return D}(w)})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(v,w){return function(C){function D(f,e,q,g,l){var h=C.call(this)||this;h.attachmentUrl=l;h.immutable=!1;h.setField("id",f);h.setField("name",e);h.setField("contenttype",q);h.setField("size",g);h.immutable=!0;return h}v._inheritsLoose(D,
C);return D}(w)})},"esri/arcade/functions/array":function(){define(["exports","../../chunks/languageUtils"],function(v,w){v.registerFunctions=function(C,D){C.array=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,1,2);q=w.toNumber(l[0]);if(isNaN(q)||!1===w.isInteger(q))throw Error("Invalid Parameter");l=w.defaultUndefined(l[1],null);q=Array(q);q.fill(l);return q})};C.front=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,1,1);if(w.isImmutableArray(l[0])){if(0>=l[0].length())throw Error("Array is empty");
return l[0].get(0)}if(w.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");return l[0][0]}throw Error("Invalid Parameter");})};C.back=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,1,1);if(w.isImmutableArray(l[0])){if(0>=l[0].length())throw Error("Array is empty");return l[0].get(l[0].length()-1)}if(w.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");return l[0][l[0].length-1]}throw Error("Invalid Parameter");})};C.push=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,
1,2);if(w.isArray(l[0]))return l[0][l[0].length]=l[1],l[0].length;throw Error("Invalid Parameter");})};C.pop=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,1,1);if(w.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");q=l[0][l[0].length-1];--l[0].length;return q}throw Error("Invalid Parameter");})};C.erase=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,2,2);if(w.isArray(l[0])){q=w.toNumber(l[1]);if(isNaN(q)||!1===w.isInteger(q))throw Error("Invalid Parameter");l=l[0];if(0>=
l.length)throw Error("Array is empty");0>q&&(q=l.length+q);if(0>q)throw Error("Element not found");if(q>=l.length)throw Error("Index is greater than array");l.splice(q,1);return w.voidOperation}throw Error("Invalid Parameter");})};C.insert=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,3,3);if(w.isArray(l[0])){q=w.toNumber(l[1]);if(isNaN(q)||!1===w.isInteger(q))throw Error("Invalid Parameter");g=l[2];l=l[0];if(q>l.length)throw Error("Index is greater than array");if(0>q&&q<-1*l.length)throw Error("Index is greater than array");
if(q===l.length)return l[q]=g,w.voidOperation;l.splice(q,0,g);return w.voidOperation}throw Error("Invalid Parameter");})};C.resize=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,2,3);if(w.isArray(l[0])){g=w.toNumber(l[1]);if(isNaN(g)||!1===w.isInteger(g))throw Error("Invalid Parameter");if(0>g)throw Error("Size cannot be negative");q=w.defaultUndefined(l[2],null);l=l[0];if(l.length>=g)return l.length=g,w.voidOperation;const h=l.length;l.length=g;for(g=h;g<l.length;g++)l[g]=q;return w.voidOperation}throw Error("Invalid Parameter");
})};C.includes=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,2,2);if(w.isArray(l[0])){const h=l[1];return-1<l[0].findIndex(m=>w.equalityTest(m,h))?!0:!1}if(w.isImmutableArray(l[0])){const h=l[1];return-1<l[0].toArray().findIndex(m=>w.equalityTest(m,h))?!0:!1}throw Error("Invalid Parameter");})};C.slice=function(f,e){return D(f,e,function(q,g,l){w.pcCheck(l,1,3);if(w.isArray(l[0])){q=w.toNumber(w.defaultUndefined(l[1],0));g=w.toNumber(w.defaultUndefined(l[2],l[0].length));if(isNaN(q)||!1===
w.isInteger(q))throw Error("Invalid Parameter");if(isNaN(g)||!1===w.isInteger(g))throw Error("Invalid Parameter");return l[0].slice(q,g)}if(w.isImmutableArray(l[0])){q=l[0];g=w.toNumber(w.defaultUndefined(l[1],0));l=w.toNumber(w.defaultUndefined(l[2],q.length()));if(isNaN(g)||!1===w.isInteger(g))throw Error("Invalid Parameter");if(isNaN(l)||!1===w.isInteger(l))throw Error("Invalid Parameter");return q.toArray().slice(g,l)}throw Error("Invalid Parameter");})};C.splice=function(f,e){return D(f,e,function(q,
g,l){q=[];for(g=0;g<l.length;g++)w.isArray(l[g])?q.push(...l[g]):w.isImmutableArray(l[g])?q.push(...l[g].toArray()):q.push(l[g]);return q})}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils"],function(v,w){function C(e){e=new Date(e.getTime());const q=e.getFullYear();var g=new Date(0);g.setFullYear(q+1,0,4);g.setHours(0,0,0,0);g=D(g);var l=new Date(0);l.setFullYear(q,0,4);l.setHours(0,0,0,0);l=D(l);return e.getTime()>=
g.getTime()?q+1:e.getTime()>=l.getTime()?q:q-1}function D(e){e=new Date(e.getTime());var q=e.getDay();q=(1>q?7:0)+q-1;e.setDate(e.getDate()-q);e.setHours(0,0,0,0);return e}function f(e){return null===e?e:isNaN(e.getTime())?null:e}v.registerFunctions=function(e,q){e.today=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,0,0);h=new Date;h.setHours(0,0,0,0);return h})};e.now=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,0,0);return new Date})};e.timestamp=function(g,l){return q(g,l,function(h,
m,a){w.pcCheck(a,0,0);h=new Date;return h=new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};e.toutc=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?null:new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};e.tolocal=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);
return null===h?null:w.MomentLibrary.Moment.utc([h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()]).toDate()})};e.day=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getDate()})};e.month=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getMonth()})};e.year=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===
h?NaN:h.getFullYear()})};e.hour=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getHours()})};e.second=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getSeconds()})};e.millisecond=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getMilliseconds()})};e.minute=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===
h?NaN:h.getMinutes()})};e.weekday=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getDay()})};e.isoweekday=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);if(null===h)return NaN;h=h.getDay();0===h&&(h=7);return h})};e.isomonth=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:h.getMonth()+1})};e.isoweek=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);m=w.toDate(a[0]);
if(null===m)return NaN;h=D(m).getTime();m=C(m);a=new Date(0);a.setFullYear(m,0,4);a.setHours(0,0,0,0);m=D(a);h-=m.getTime();return Math.round(h/6048E5)+1})};e.isoyear=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,1,1);h=w.toDate(a[0]);return null===h?NaN:C(h)})};e.date=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,0,7);if(3===a.length)return f(new Date(w.toNumber(a[0]),w.toNumber(a[1]),w.toNumber(a[2]),0,0,0,0));if(4===a.length)return f(new Date(w.toNumber(a[0]),w.toNumber(a[1]),
w.toNumber(a[2]),w.toNumber(a[3]),0,0,0));if(5===a.length)return f(new Date(w.toNumber(a[0]),w.toNumber(a[1]),w.toNumber(a[2]),w.toNumber(a[3]),w.toNumber(a[4]),0,0));if(6===a.length)return f(new Date(w.toNumber(a[0]),w.toNumber(a[1]),w.toNumber(a[2]),w.toNumber(a[3]),w.toNumber(a[4]),w.toNumber(a[5]),0));if(7===a.length)return f(new Date(w.toNumber(a[0]),w.toNumber(a[1]),w.toNumber(a[2]),w.toNumber(a[3]),w.toNumber(a[4]),w.toNumber(a[5]),w.toNumber(a[6])));if(2===a.length){h=w.toString(a[1]);if(""===
h)return null;h=w.standardiseDateFormat(h);a=w.MomentLibrary.Moment(w.toString(a[0]),h,!0);return!0===a.isValid()?a.toDate():null}if(1===a.length){if(w.isString(a[0])){if(""===a[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(a[0]))return w.toDate(a[0]+"-01-01")}h=w.toNumber(a[0]);return!1===isNaN(h)?f(new Date(h)):w.toDate(a[0])}if(0===a.length)return new Date})};e.datediff=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,2,3);h=w.toDateM(a[0]);
m=w.toDateM(a[1]);if(null===h||null===m)return NaN;switch(w.toString(a[2]).toLowerCase()){case "days":case "day":case "d":return h.diff(m,"days",!0);case "months":case "month":return h.diff(m,"months",!0);case "minutes":case "minute":case "m":return"M"===a[2]?h.diff(m,"months",!0):h.diff(m,"minutes",!0);case "seconds":case "second":case "s":return h.diff(m,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return h.diff(m);case "hours":case "hour":case "h":return h.diff(m,"hours",!0);
case "years":case "year":case "y":return h.diff(m,"years",!0);default:return h.diff(m)}})};e.dateadd=function(g,l){return q(g,l,function(h,m,a){w.pcCheck(a,2,3);h=w.toDateM(a[0]);if(null===h)return null;m="milliseconds";switch(w.toString(a[2]).toLowerCase()){case "days":case "day":case "d":m="days";break;case "months":case "month":m="months";break;case "minutes":case "minute":case "m":m="M"===a[2]?"months":"minutes";break;case "seconds":case "second":case "s":m="seconds";break;case "milliseconds":case "millisecond":case "ms":m=
"milliseconds";break;case "hours":case "hour":case "h":m="hours";break;case "years":case "year":case "y":m="years"}h.add(w.toNumber(a[1]),m);return h.toDate()})}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/geometry":function(){define("exports ../../geometry/Geometry ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/support/coordsUtils ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../ImmutablePointArray ../../chunks/languageUtils ../Dictionary ../Feature ./centroid".split(" "),
function(v,w,C,D,f,e,q,g,l,h,m,a,b,n){v.registerFunctions=function(r,H){r.ringisclockwise=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,1,1);u=[];let c=d=!1;if(null===k[0])return!1;if(m.isArray(k[0])){for(const z of k[0])if(z instanceof C)u.push(z.hasZ?z.hasM?[z.x,z.y,z.z,z.m]:[z.x,z.y,z.z]:[z.x,z.y]);else throw Error("Invalid Argument");0<u.length&&(d=k[0][0].hasZ,c=k[0][0].hasM)}else if(k[0]instanceof h)u=k[0]._elements,0<u.length&&(d=k[0]._hasZ,c=k[0]._hasM);else if(m.isImmutableArray(k[0])){for(const z of k[0].toArray())if(z instanceof
C)u.push(z.hasZ?z.hasM?[z.x,z.y,z.z,z.m]:[z.x,z.y,z.z]:[z.x,z.y]);else throw Error("Invalid Argument");0<u.length&&(d=k[0].get(0).hasZ,c=k[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>u.length?!1:e.isClockwise(u,c,d)})};r.polygon=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,1,1);u=null;if(k[0]instanceof a){if(u=m.fixSpatialReference(b.parseGeometryFromDictionary(k[0]),F.spatialReference),!1===u instanceof q)throw Error("Illegal Parameter");}else u=k[0]instanceof q?l.fromJSON(k[0].toJSON()):
m.fixSpatialReference(new q(JSON.parse(k[0])),F.spatialReference);if(null!==u&&!1===u.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(u)})};r.polyline=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,1,1);u=null;if(k[0]instanceof a){if(u=m.fixSpatialReference(b.parseGeometryFromDictionary(k[0]),F.spatialReference),!1===u instanceof g)throw Error("Illegal Parameter");
}else u=k[0]instanceof g?l.fromJSON(k[0].toJSON()):m.fixSpatialReference(new g(JSON.parse(k[0])),F.spatialReference);if(null!==u&&!1===u.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(u)})};r.point=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,1,1);u=null;if(k[0]instanceof a){if(u=m.fixSpatialReference(b.parseGeometryFromDictionary(k[0]),F.spatialReference),
!1===u instanceof C)throw Error("Illegal Parameter");}else u=k[0]instanceof C?l.fromJSON(k[0].toJSON()):m.fixSpatialReference(new C(JSON.parse(k[0])),F.spatialReference);if(null!==u&&!1===u.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(u)})};r.multipoint=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,1,1);u=null;if(k[0]instanceof a){if(u=m.fixSpatialReference(b.parseGeometryFromDictionary(k[0]),
F.spatialReference),!1===u instanceof f)throw Error("Illegal Parameter");}else u=k[0]instanceof f?l.fromJSON(k[0].toJSON()):m.fixSpatialReference(new f(JSON.parse(k[0])),F.spatialReference);if(null!==u&&!1===u.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(u)})};r.extent=function(F,y){return H(F,y,function(u,d,k){k=m.autoCastFeatureToGeometry(k);m.pcCheck(k,1,1);u=null;
k[0]instanceof a?u=m.fixSpatialReference(b.parseGeometryFromDictionary(k[0]),F.spatialReference):k[0]instanceof C?(u={xmin:k[0].x,ymin:k[0].y,xmax:k[0].x,ymax:k[0].y,spatialReference:k[0].spatialReference.toJSON()},k=k[0],k.hasZ?(u.zmin=k.z,u.zmax=k.z):k.hasM&&(u.mmin=k.m,u.mmax=k.m),u=l.fromJSON(u)):u=k[0]instanceof q?l.fromJSON(k[0].extent.toJSON()):k[0]instanceof g?l.fromJSON(k[0].extent.toJSON()):k[0]instanceof f?l.fromJSON(k[0].extent.toJSON()):k[0]instanceof D?l.fromJSON(k[0].toJSON()):m.fixSpatialReference(new D(JSON.parse(k[0])),
F.spatialReference);if(null!==u&&!1===u.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(u)})};r.geometry=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,1,1);u=null;u=k[0]instanceof b?m.fixSpatialReference(k[0].geometry(),F.spatialReference):k[0]instanceof a?m.fixSpatialReference(b.parseGeometryFromDictionary(k[0]),F.spatialReference):m.fixSpatialReference(l.fromJSON(JSON.parse(k[0])),
F.spatialReference);if(null!==u&&!1===u.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(u)})};r.setgeometry=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,2,2);if(k[0]instanceof b){if(!0===k[0].immutable)throw Error("Feature is Immutable");if(k[1]instanceof w||null===k[1])k[0]._geometry=k[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");
return m.voidOperation})};r.feature=function(F,y){return H(F,y,function(u,d,k){if(0===k.length)throw Error("Missing Parameters");u=null;if(1===k.length)if(m.isString(k[0]))u=b.fromJson(JSON.parse(k[0]));else if(k[0]instanceof b)u=b.createFromArcadeFeature(k[0]);else if(k[0]instanceof w)u=b.createFromGraphicLikeObject(k[0],null,null);else if(k[0]instanceof a)u=k[0].hasField("geometry")?k[0].field("geometry"):null,k=k[0].hasField("attributes")?k[0].field("attributes"):null,null!==u&&u instanceof a&&
(u=b.parseGeometryFromDictionary(u)),null!==k&&(k=b.parseAttributesFromDictionary(k)),u=b.createFromGraphicLikeObject(u,k,null);else throw Error("Illegal Argument");else if(2===k.length){d=u=null;if(null!==k[0])if(k[0]instanceof w)u=k[0];else if(u instanceof a)u=b.parseGeometryFromDictionary(k[0]);else throw Error("Illegal Argument");if(null!==k[1])if(k[1]instanceof a)d=b.parseAttributesFromDictionary(k[1]);else throw Error("Illegal Argument");u=b.createFromGraphicLikeObject(u,d,null)}else{u=null;
d={};if(null!==k[0])if(k[0]instanceof w)u=k[0];else if(u instanceof a)u=b.parseGeometryFromDictionary(k[0]);else throw Error("Illegal Argument");for(let c=1;c<k.length;c+=2){const z=m.toString(k[c]),G=k[c+1];if(null===G||void 0===G||m.isString(G)||isNaN(G)||m.isDate(G)||m.isNumber(G)||m.isBoolean(G)){if(m.isFunctionParameter(G)||!1===m.isSimpleType(G))throw Error("Illegal Argument");d[z]=G===m.voidOperation?null:G}else throw Error("Illegal Argument");}u=b.createFromGraphicLikeObject(u,d,null)}u._geometry=
m.fixSpatialReference(u.geometry(),F.spatialReference);u.immutable=!1;return u})};r.dictionary=function(F,y){return H(F,y,function(u,d,k){if(0===k.length)return k=new a,k.immutable=!1,k;if(1===k.length&&m.isString(k[0]))try{var c=JSON.parse(k[0]),z=a.convertObjectToArcadeDictionary(c);z.immutable=!1;return z}catch(G){throw Error("Missing Parameters or Illegal Json");}if(0!==k.length%2)throw Error("Missing Parameters");u={};for(d=0;d<k.length;d+=2)if(c=m.toString(k[d]),z=k[d+1],null===z||void 0===
z||m.isString(z)||isNaN(z)||m.isDate(z)||m.isNumber(z)||m.isBoolean(z)||m.isArray(z)||m.isImmutableArray(z)){if(m.isFunctionParameter(z))throw Error("Illegal Argument");u[c]=z===m.voidOperation?null:z}else throw Error("Illegal Argument");k=new a(u);k.immutable=!1;return k})};r.haskey=function(F,y){return H(F,y,function(u,d,k){m.pcCheck(k,2,2);u=m.toString(k[1]);if(k[0]instanceof b||k[0]instanceof a)return k[0].hasField(u);throw Error("Illegal Argument");})};r.indexof=function(F,y){return H(F,y,function(u,
d,k){m.pcCheck(k,2,2);u=k[1];if(m.isArray(k[0])){for(d=0;d<k[0].length;d++)if(m.equalityTest(u,k[0][d]))return d;return-1}if(m.isImmutableArray(k[0])){d=k[0].length();for(let c=0;c<d;c++)if(m.equalityTest(u,k[0].get(c)))return c;return-1}throw Error("Illegal Argument");})};r.angle=function(F,y){return H(F,y,function(u,d,k){k=m.autoCastFeatureToGeometry(k);m.pcCheck(k,2,3);if(!(k[0]instanceof C))throw Error("Illegal Argument");if(!(k[1]instanceof C))throw Error("Illegal Argument");if(2<k.length&&!(k[2]instanceof
C))throw Error("Illegal Argument");return 2===k.length?n.angle2D(k[0],k[1]):n.angleBetween2D(k[0],k[1],k[2])})};r.bearing=function(F,y){return H(F,y,function(u,d,k){k=m.autoCastFeatureToGeometry(k);m.pcCheck(k,2,3);if(!(k[0]instanceof C))throw Error("Illegal Argument");if(!(k[1]instanceof C))throw Error("Illegal Argument");if(2<k.length&&!(k[2]instanceof C))throw Error("Illegal Argument");return 2===k.length?n.bearing2D(k[0],k[1]):n.bearingBetween2D(k[0],k[1],k[2])})};r.isselfintersecting=function(F,
y){return H(F,y,function(u,d,k){k=m.autoCastFeatureToGeometry(k);m.pcCheck(k,1,1);u=k[0];if(u instanceof q)return u.isSelfIntersecting;if(u instanceof g)return u=u.paths,n.pathsSelfIntersecting(u);if(u instanceof f)for(d=u.points,k=0;k<d.length;k++)for(let c=0;c<d.length;c++)if(c!==k){let z=!0;for(let G=0;G<d[k].length;G++)if(d[k][G]!==d[c][G]){z=!1;break}if(!0===z)return!0}return m.isArray(u)||m.isImmutableArray(u)?(u=m.autoCastArrayOfPointsToPolyline(u,F.spatialReference),null!==u&&(u=u.paths),
n.pathsSelfIntersecting(u)):!1})}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersects"],function(v,w,C){function D(h,m,a){const b={x:0,y:0};m&&(b.z=0);a&&(b.m=0);let n=0;var r=h[0];for(let d=0;d<h.length;d++){const k=h[d];a:if(k.length!==r.length)var H=!1;else{for(H=0;H<k.length;H++)if(k[H]!==r[H]){H=!1;break a}H=!0}if(!1===H){H=f(r,k,m);{var F=k,y=m,u=a;const c={x:(r[0]+F[0])/
2,y:(r[1]+F[1])/2};y&&(c.z=(r[2]+F[2])/2);y&&u?c.m=(r[3]+F[3])/2:u&&(c.m=(r[2]+F[2])/2);r=c}r.x*=H;r.y*=H;b.x+=r.x;b.y+=r.y;m&&(r.z*=H,b.z+=r.z);a&&(r.m*=H,b.m+=r.m);n+=H;r=k}}0<n?(b.x/=n,b.y/=n,m&&(b.z/=n),a&&(b.m/=n)):(b.x=h[0][0],b.y=h[0][1],m&&(b.z=h[0][2]),a&&m?b.m=h[0][3]:a&&(b.m=h[0][2]));return b}function f(h,m,a){const b=m[0]-h[0];h=m[1]-h[1];return a?(m=m[2]-m[2],Math.sqrt(b*b+h*h+m*m)):Math.sqrt(b*b+h*h)}function e(h,m,a=0){for(;h<a;)h+=m;for(a+=m;h>=a;)h-=m;return h}function q(h,m){return Math.atan2(m.y-
h.y,m.x-h.x)}function g(h,m,a){var b=h.x-m.x;h=h.y-m.y;var n=a.x-m.x;m=a.y-m.y;return Math.atan2(b*m-n*h,b*n+h*m)}const l=[0,0];v.angle2D=function(h,m){return e(q(h,m),2*Math.PI)*(180/Math.PI)};v.angleBetween2D=function(h,m,a){return e(g(h,m,a),2*Math.PI)*(180/Math.PI)};v.angleBetweenRad=g;v.angleRad=q;v.bearing2D=function(h,m){return e(Math.PI/2-q(h,m),2*Math.PI)*(180/Math.PI)};v.bearingBetween2D=function(h,m,a){return e(-1*g(h,m,a),2*Math.PI)*(180/Math.PI)};v.centroidMultiPoint=function(h){if(0===
h.points.length)return null;var m=0;let a=0,b=0,n=0;for(let r=0;r<h.points.length;r++){const H=h.getPoint(r);!0===H.hasZ&&(b+=H.z);!0===H.hasM&&(n+=H.m);m+=H.x;a+=H.y;n+=H.m}m={x:m/h.points.length,y:a/h.points.length,spatialReference:null};m.spatialReference=h.spatialReference.toJSON();!0===h.hasZ&&(m.z=b/h.points.length);!0===h.hasM&&(m.m=n/h.points.length);return new w(m)};v.centroidPolyline=function(h){const m={x:0,y:0,spatialReference:h.spatialReference.toJSON()},a={x:0,y:0,spatialReference:h.spatialReference.toJSON()};
let b=0,n=0;for(let F=0;F<h.paths.length;F++)if(0!==h.paths[F].length){a:{var r=h.paths[F];var H=!0===h.hasZ;if(1>=r.length){r=0;break a}let y=0;for(let u=1;u<r.length;u++)y+=f(r[u-1],r[u],H);r=y}0===r?(r=D(h.paths[F],!0===h.hasZ,!0===h.hasM),m.x+=r.x,m.y+=r.y,!0===h.hasZ&&(m.z+=r.z),!0===h.hasM&&(m.m+=r.m),++b):(H=D(h.paths[F],!0===h.hasZ,!0===h.hasM),a.x+=H.x*r,a.y+=H.y*r,!0===h.hasZ&&(a.z+=H.z*r),!0===h.hasM&&(a.m+=H.m*r),n+=r)}return 0<n?(a.x/=n,a.y/=n,!0===h.hasZ&&(a.z/=n),!0===h.hasM&&(a.m/=
n),new w(a)):0<b?(m.x/=b,m.y/=b,!0===h.hasZ&&(a.z/=b),!0===h.hasM&&(m.m/=b),new w(m)):null};v.pathsSelfIntersecting=function(h){for(let y=0;y<h.length;y++){const u=h[y];for(var m=0;m<u.length-1;m++){var a=u[m],b=u[m+1];for(var n=y+1;n<h.length;n++)for(var r=0;r<h[n].length-1;r++){var H=h[n][r],F=h[n][r+1];if(C.segmentIntersects(a,b,H,F,l)&&!(l[0]===a[0]&&l[1]===a[1]||l[0]===H[0]&&l[1]===H[1]||l[0]===b[0]&&l[1]===b[1]||l[0]===F[0]&&l[1]===F[1]))return!0}}m=u.length;if(!(3>m))for(a=0;a<=m-2;a++)for(b=
u[a],n=u[a+1],r=a+2;r<=m-2;r++)if(H=u[r],F=u[r+1],C.segmentIntersects(b,n,H,F,l)&&!(l[0]===b[0]&&l[1]===b[1]||l[0]===H[0]&&l[1]===H[1]||l[0]===n[0]&&l[1]===n[1]||l[0]===F[0]&&l[1]===F[1]))return!0}return!1};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/geomsync":function(){define("exports ../../geometry/Geometry ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../../kernel ../../chunks/languageUtils ./centroid ../kernel".split(" "),
function(v,w,C,D,f,e,q,g,l,h,m,a){function b(r){return 0===l.version.indexOf("4.")?e.fromExtent(r):new e({spatialReference:r.spatialReference,rings:[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]})}let n=null;v.registerFunctions=function(r,H){function F(y){h.pcCheck(y,2,2);if(!(y[0]instanceof w&&y[1]instanceof w||y[0]instanceof w&&null===y[1]||y[1]instanceof w&&null===y[0]||null===y[0]&&null===y[1]))throw Error("Illegal Argument");}r.disjoint=function(y,u){return H(y,
u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?!0:n.disjoint(c[0],c[1])})};r.intersects=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?!1:n.intersects(c[0],c[1])})};r.touches=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?!1:n.touches(c[0],c[1])})};r.crosses=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);
F(c);return null===c[0]||null===c[1]?!1:n.crosses(c[0],c[1])})};r.within=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?!1:n.within(c[0],c[1])})};r.contains=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?!1:n.contains(c[0],c[1])})};r.overlaps=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?!1:n.overlaps(c[0],
c[1])})};r.equals=function(y,u){return H(y,u,function(d,k,c){h.pcCheck(c,2,2);return c[0]===c[1]?!0:c[0]instanceof w&&c[1]instanceof w?n.equals(c[0],c[1]):h.isDate(c[0])&&h.isDate(c[1])?c[0].getTime()===c[1].getTime():!1})};r.relate=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,3,3);if(c[0]instanceof w&&c[1]instanceof w)return n.relate(c[0],c[1],h.toString(c[2]));if(c[0]instanceof w&&null===c[1]||c[1]instanceof w&&null===c[0]||null===c[0]&&null===c[1])return!1;
throw Error("Illegal Argument");})};r.intersection=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]||null===c[1]?null:n.intersect(c[0],c[1])})};r.union=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);d=[];if(0===c.length)throw Error("Function called with wrong number of Parameters");if(1===c.length)if(h.isArray(c[0]))for(c=h.autoCastFeatureToGeometry(c[0]),k=0;k<c.length;k++){if(null!==c[k]){if(!(c[k]instanceof w))throw Error("Illegal Argument");
d.push(c[k])}}else if(h.isImmutableArray(c[0]))for(c=h.autoCastFeatureToGeometry(c[0].toArray()),k=0;k<c.length;k++){if(null!==c[k]){if(!(c[k]instanceof w))throw Error("Illegal Argument");d.push(c[k])}}else{if(c[0]instanceof w)return h.fixSpatialReference(a.cloneGeometry(c[0]),y.spatialReference);if(null===c[0])return null;throw Error("Illegal Argument");}else for(k=0;k<c.length;k++)if(null!==c[k]){if(!(c[k]instanceof w))throw Error("Illegal Argument");d.push(c[k])}return 0===d.length?null:n.union(d)})};
r.difference=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null!==c[0]&&null===c[1]?a.cloneGeometry(c[0]):null===c[0]?null:n.difference(c[0],c[1])})};r.symmetricdifference=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);F(c);return null===c[0]&&null===c[1]?null:null===c[0]?a.cloneGeometry(c[1]):null===c[1]?a.cloneGeometry(c[0]):n.symmetricDifference(c[0],c[1])})};r.clip=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);
h.pcCheck(c,2,2);if(!(c[1]instanceof D)&&null!==c[1])throw Error("Illegal Argument");if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");return null===c[1]?null:n.clip(c[0],c[1])})};r.cut=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,2);if(!(c[1]instanceof q)&&null!==c[1])throw Error("Illegal Argument");if(null===c[0])return[];if(!(c[0]instanceof w))throw Error("Illegal Argument");return null===c[1]?[a.cloneGeometry(c[0])]:
n.cut(c[0],c[1])})};r.area=function(y,u){return H(y,u,function(d,k,c){h.pcCheck(c,1,2);c=h.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(h.isArray(c[0])||h.isImmutableArray(c[0]))return d=h.autoCastArrayOfPointsToPolygon(c[0],y.spatialReference),null===d?0:n.planarArea(d,a.convertSquareUnitsToCode(h.defaultUndefined(c[1],-1)));if(!(c[0]instanceof w))throw Error("Illegal Argument");return n.planarArea(c[0],a.convertSquareUnitsToCode(h.defaultUndefined(c[1],-1)))})};r.areageodetic=function(y,
u){return H(y,u,function(d,k,c){h.pcCheck(c,1,2);c=h.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(h.isArray(c[0])||h.isImmutableArray(c[0]))return d=h.autoCastArrayOfPointsToPolygon(c[0],y.spatialReference),null===d?0:n.geodesicArea(d,a.convertSquareUnitsToCode(h.defaultUndefined(c[1],-1)));if(!(c[0]instanceof w))throw Error("Illegal Argument");return n.geodesicArea(c[0],a.convertSquareUnitsToCode(h.defaultUndefined(c[1],-1)))})};r.length=function(y,u){return H(y,u,function(d,k,c){h.pcCheck(c,
1,2);c=h.autoCastFeatureToGeometry(c);if(null===c[0])return 0;if(h.isArray(c[0])||h.isImmutableArray(c[0]))return d=h.autoCastArrayOfPointsToPolyline(c[0],y.spatialReference),null===d?0:n.planarLength(d,a.convertLinearUnitsToCode(h.defaultUndefined(c[1],-1)));if(!(c[0]instanceof w))throw Error("Illegal Argument");return n.planarLength(c[0],a.convertLinearUnitsToCode(h.defaultUndefined(c[1],-1)))})};r.lengthgeodetic=function(y,u){return H(y,u,function(d,k,c){h.pcCheck(c,1,2);c=h.autoCastFeatureToGeometry(c);
if(null===c[0])return 0;if(h.isArray(c[0])||h.isImmutableArray(c[0]))return d=h.autoCastArrayOfPointsToPolyline(c[0],y.spatialReference),null===d?0:n.geodesicLength(d,a.convertLinearUnitsToCode(h.defaultUndefined(c[1],-1)));if(!(c[0]instanceof w))throw Error("Illegal Argument");return n.geodesicLength(c[0],a.convertLinearUnitsToCode(h.defaultUndefined(c[1],-1)))})};r.distance=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,3);d=c[0];if(h.isArray(c[0])||h.isImmutableArray(c[0]))d=
h.autoCastArrayOfPointsToMultiPoint(c[0],y.spatialReference);k=c[1];if(h.isArray(c[1])||h.isImmutableArray(c[1]))k=h.autoCastArrayOfPointsToMultiPoint(c[1],y.spatialReference);if(!(d instanceof w))throw Error("Illegal Argument");if(!(k instanceof w))throw Error("Illegal Argument");return n.distance(d,k,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1)))})};r.distancegeodetic=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,3);d=c[0];k=c[1];if(!(d instanceof
C))throw Error("Illegal Argument");if(!(k instanceof C))throw Error("Illegal Argument");const z=new q({paths:[],spatialReference:d.spatialReference});z.addPath([d,k]);return n.geodesicLength(z,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1)))})};r.densify=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");d=h.toNumber(c[1]);if(isNaN(d))throw Error("Illegal Argument");
if(0>=d)throw Error("Illegal Argument");return c[0]instanceof e||c[0]instanceof q?n.densify(c[0],d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1))):c[0]instanceof D?n.densify(b(c[0]),d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1))):c[0]})};r.densifygeodetic=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");d=h.toNumber(c[1]);if(isNaN(d))throw Error("Illegal Argument");
if(0>=d)throw Error("Illegal Argument");return c[0]instanceof e||c[0]instanceof q?n.geodesicDensify(c[0],d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1))):c[0]instanceof D?n.geodesicDensify(b(c[0]),d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1))):c[0]})};r.generalize=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,4);if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");d=h.toNumber(c[1]);if(isNaN(d))throw Error("Illegal Argument");
return n.generalize(c[0],d,h.toBoolean(h.defaultUndefined(c[2],!0)),a.convertLinearUnitsToCode(h.defaultUndefined(c[3],-1)))})};r.buffer=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");d=h.toNumber(c[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?a.cloneGeometry(c[0]):n.buffer(c[0],d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1)))})};r.buffergeodetic=
function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,3);if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");d=h.toNumber(c[1]);if(isNaN(d))throw Error("Illegal Argument");return 0===d?a.cloneGeometry(c[0]):n.geodesicBuffer(c[0],d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1)))})};r.offset=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,6);if(null===c[0])return null;if(!(c[0]instanceof
e||c[0]instanceof q))throw Error("Illegal Argument");d=h.toNumber(c[1]);if(isNaN(d))throw Error("Illegal Argument");k=h.toNumber(h.defaultUndefined(c[4],10));if(isNaN(k))throw Error("Illegal Argument");const z=h.toNumber(h.defaultUndefined(c[5],0));if(isNaN(z))throw Error("Illegal Argument");return n.offset(c[0],d,a.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1)),h.toString(h.defaultUndefined(c[3],"round")).toLowerCase(),k,z)})};r.rotate=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);
h.pcCheck(c,2,3);d=c[0];if(null===d)return null;if(!(d instanceof w))throw Error("Illegal Argument");d instanceof D&&(d=e.fromExtent(d));k=h.toNumber(c[1]);if(isNaN(k))throw Error("Illegal Argument");c=h.defaultUndefined(c[2],null);if(null===c)return n.rotate(d,k);if(c instanceof C)return n.rotate(d,k,c);throw Error("Illegal Argument");})};r.centroid=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,1,1);if(null===c[0])return null;d=c[0];if(h.isArray(c[0])||h.isImmutableArray(c[0]))d=
h.autoCastArrayOfPointsToMultiPoint(c[0],y.spatialReference);if(null===d)return null;if(!(d instanceof w))throw Error("Illegal Argument");return d instanceof C?h.fixSpatialReference(a.cloneGeometry(c[0]),y.spatialReference):d instanceof e?d.centroid:d instanceof q?m.centroidPolyline(d):d instanceof f?m.centroidMultiPoint(d):d instanceof D?d.center:null})};r.multiparttosinglepart=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,1,1);k=[];if(null===c[0])return null;
if(!(c[0]instanceof w))throw Error("Illegal Argument");if(c[0]instanceof C||c[0]instanceof D)return[h.fixSpatialReference(a.cloneGeometry(c[0]),y.spatialReference)];d=n.simplify(c[0]);if(d instanceof e){c=[];k=[];for(var z=0;z<d.rings.length;z++)if(d.isClockwise(d.rings[z])){const G=g.fromJSON({rings:[d.rings[z]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()});c.push(G)}else k.push({ring:d.rings[z],pt:d.getPoint(z,0)});for(d=0;d<k.length;d++)for(z=0;z<c.length;z++)if(c[z].contains(k[d].pt)){c[z].addRing(k[d].ring);
break}return c}if(d instanceof q){c=[];for(k=0;k<d.paths.length;k++)z=g.fromJSON({paths:[d.paths[k]],hasZ:!0===d.hasZ,hasM:!0===d.hasM,spatialReference:d.spatialReference.toJSON()}),c.push(z);return c}if(c[0]instanceof f){d=h.fixSpatialReference(a.cloneGeometry(c[0]),y.spatialReference);for(c=0;c<d.points.length;c++)k.push(d.getPoint(c));return k}return null})};r.issimple=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,1,1);if(null===c[0])return!0;if(!(c[0]instanceof
w))throw Error("Illegal Argument");return n.isSimple(c[0])})};r.simplify=function(y,u){return H(y,u,function(d,k,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,1,1);if(null===c[0])return null;if(!(c[0]instanceof w))throw Error("Illegal Argument");return n.simplify(c[0])})}};v.setGeometryEngine=function(r){n=r};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/kernel":function(){define(["exports","../geometry/Extent"],function(v,w){v.cloneGeometry=function(C){if(null===C)return null;
const D=C.clone();void 0!==C.cache._geVersion&&(D.cache._geVersion=C.cache._geVersion);return D};v.convertLinearUnitsToCode=function(C){if(void 0===C)return null;if("number"===typeof C||"number"===typeof C)return C;switch(C.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};v.convertSquareUnitsToCode=function(C){if(void 0===C)return null;if("number"===typeof C)return C;switch(C.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 109404;
case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};
v.sameGeomType=function(C,D){return C===D||"point"===C&&"esriGeometryPoint"===D||"polyline"===C&&"esriGeometryPolyline"===D||"polygon"===C&&"esriGeometryPolygon"===D||"extent"===C&&"esriGeometryEnvelope"===D||"multipoint"===C&&"esriGeometryMultipoint"===D||"point"===D&&"esriGeometryPoint"===C||"polyline"===D&&"esriGeometryPolyline"===C||"polygon"===D&&"esriGeometryPolygon"===C||"extent"===D&&"esriGeometryEnvelope"===C||"multipoint"===D&&"esriGeometryMultipoint"===C?!0:!1};v.shapeExtent=function(C){if(null===
C)return null;switch(C.type){case "polygon":case "multipoint":case "polyline":return C.extent;case "point":return new w({xmin:C.x,ymin:C.y,xmax:C.x,ymax:C.y,spatialReference:C.spatialReference});case "extent":return C}return null};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/maths":function(){define(["exports","../../core/number","../../chunks/languageUtils"],function(v,w,C){function D(f,e,q){if("undefined"===typeof q||0===+q)return Math[f](e);e=+e;q=+q;if(isNaN(e)||
"number"!==typeof q||0!==q%1)return NaN;e=e.toString().split("e");e=Math[f](+(e[0]+"e"+(e[1]?+e[1]-q:-q)));e=e.toString().split("e");return+(e[0]+"e"+(e[1]?+e[1]+q:q))}v.registerFunctions=function(f,e){function q(g,l,h){g=C.toNumber(g);return isNaN(g)?g:isNaN(l)||isNaN(h)||l>h?NaN:g<l?l:g>h?h:g}f.number=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,2);h=a[0];return C.isNumber(h)?h:null===h?0:C.isDate(h)||C.isBoolean(h)?Number(h):C.isArray(h)?NaN:""===h||void 0===h?Number(h):C.isString(h)?
void 0!==a[1]?(a=C.multiReplace(a[1],"\u2030",""),a=C.multiReplace(a,"\u00a4",""),w.parse(h,{pattern:a})):Number(h.trim()):Number(h)})};f.abs=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.abs(C.toNumber(a[0]))})};f.acos=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.acos(C.toNumber(a[0]))})};f.asin=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.asin(C.toNumber(a[0]))})};f.atan=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,
1,1);return Math.atan(C.toNumber(a[0]))})};f.atan2=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,2,2);return Math.atan2(C.toNumber(a[0]),C.toNumber(a[1]))})};f.ceil=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,2);return 2===a.length?(h=C.toNumber(a[1]),isNaN(h)&&(h=0),D("ceil",C.toNumber(a[0]),-1*h)):Math.ceil(C.toNumber(a[0]))})};f.round=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,2);return 2===a.length?(h=C.toNumber(a[1]),isNaN(h)&&(h=0),D("round",C.toNumber(a[0]),
-1*h)):Math.round(C.toNumber(a[0]))})};f.floor=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,2);return 2===a.length?(h=C.toNumber(a[1]),isNaN(h)&&(h=0),D("floor",C.toNumber(a[0]),-1*h)):Math.floor(C.toNumber(a[0]))})};f.cos=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.cos(C.toNumber(a[0]))})};f.isnan=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return"number"===typeof a[0]&&isNaN(a[0])})};f.exp=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,
1,1);return Math.exp(C.toNumber(a[0]))})};f.log=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.log(C.toNumber(a[0]))})};f.pow=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,2,2);return C.toNumber(a[0])**C.toNumber(a[1])})};f.random=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,0,0);return Math.random()})};f.sin=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.sin(C.toNumber(a[0]))})};f.sqrt=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,
1,1);return Math.sqrt(C.toNumber(a[0]))})};f.tan=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return Math.tan(C.toNumber(a[0]))})};f.defaultvalue=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,2,2);return null===a[0]||""===a[0]||void 0===a[0]?a[1]:a[0]})};f.isempty=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return null===a[0]||""===a[0]||void 0===a[0]?!0:!1})};f["boolean"]=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,1,1);return C.toBoolean(a[0])})};
f.constrain=function(g,l){return e(g,l,function(h,m,a){C.pcCheck(a,3,3);h=C.toNumber(a[1]);m=C.toNumber(a[2]);if(C.isArray(a[0])){var b=[];for(var n of a[0])b.push(q(n,h,m));return b}if(C.isImmutableArray(a[0])){n=[];for(b=0;b<a[0].length();b++)n.push(q(a[0].get(b),h,m));return n}return q(a[0],h,m)})}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(v,w,C){function D(f,e,q,g){if(1===
g.length){if(w.isArray(g[0]))return C.calculateStat(f,g[0],-1);if(w.isImmutableArray(g[0]))return C.calculateStat(f,g[0].toArray(),-1)}return C.calculateStat(f,g,-1)}v.registerFunctions=function(f,e){f.stdev=function(q,g){return e(q,g,function(l,h,m){return D("stdev",l,h,m)})};f.variance=function(q,g){return e(q,g,function(l,h,m){return D("variance",l,h,m)})};f.average=function(q,g){return e(q,g,function(l,h,m){return D("mean",l,h,m)})};f.mean=function(q,g){return e(q,g,function(l,h,m){return D("mean",
l,h,m)})};f.sum=function(q,g){return e(q,g,function(l,h,m){return D("sum",l,h,m)})};f.min=function(q,g){return e(q,g,function(l,h,m){return D("min",l,h,m)})};f.max=function(q,g){return e(q,g,function(l,h,m){return D("max",l,h,m)})};f.distinct=function(q,g){return e(q,g,function(l,h,m){return D("distinct",l,h,m)})};f.count=function(q,g){return e(q,g,function(l,h,m){w.pcCheck(m,1,1);if(w.isArray(m[0])||w.isString(m[0]))return m[0].length;if(w.isImmutableArray(m[0]))return m[0].length();throw Error("Invalid Parameters for Count");
})}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(v,w){function C(f){let e=0;for(let q=0;q<f.length;q++)e+=f[q];return e/f.length}function D(f){const e=C(f);let q=0;for(let g=0;g<f.length;g++)q+=(e-f[g])**2;return q/f.length}v.calculateStat=function(f,e,q=1E3){switch(f.toLowerCase()){case "distinct":a:{f=[];const g={},l=[];for(let h=0;h<e.length;h++){if(void 0!==e[h]&&null!==e[h]&&e[h]!==
w.voidOperation){const m=e[h];if(w.isNumber(m)||w.isString(m))void 0===g[m]&&(f.push(m),g[m]=1);else{let a=!1;for(let b=0;b<l.length;b++)!0===w.equalityTest(l[b],m)&&(a=!0);!1===a&&(l.push(m),f.push(m))}}if(f.length>=q&&-1!==q){e=f;break a}}e=f}return e;case "avg":case "mean":return C(w.toNumberArray(e));case "min":return Math.min.apply(Math,w.toNumberArray(e));case "sum":e=w.toNumberArray(e);q=0;for(f=0;f<e.length;f++)q+=e[f];return e=q;case "max":return Math.max.apply(Math,w.toNumberArray(e));case "stdev":case "stddev":return Math.sqrt(D(w.toNumberArray(e)));
case "var":case "variance":return D(w.toNumberArray(e));case "count":return e.length}return 0};v.decodeStatType=function(f){switch(f.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/string":function(){define("exports ../../geometry/SpatialReference ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Polygon ../../geometry/Polyline ../../chunks/languageUtils ../Dictionary ../ArcadePortal ../Attachment ../featureset/support/shared ../Feature ./convertdirection ./hash".split(" "),
function(v,w,C,D,f,e,q,g,l,h,m,a,b,n,r){function H(y,u){if(y.x===u.x&&y.y===u.y){if(y.hasZ){if(y.z!==u.z)return!1}else if(u.hasZ)return!1;if(y.hasM){if(y.m!==u.m)return!1}else if(u.hasM)return!1;return!0}return!1}function F(y,u,d){if(null===y)u.updateUint8Array([0,139]);else if(g.isArray(y)){u.updateUint8Array([61]);if(d.map.has(y))y=d.map.get(y),u.updateIntArray([y^61237541]);else{d.map.set(y,d.currentLength++);for(var k of y)F(k,u,d);d.map.delete(y);d.currentLength--}u.updateUint8Array([199])}else if(g.isImmutableArray(y)){u.updateUint8Array([61]);
if(d.map.has(y))y=d.map.get(y),u.updateIntArray([y^61237541]);else{d.map.set(y,d.currentLength++);for(var c of y.toArray())F(c,u,d);d.map.delete(y);d.currentLength--}u.updateUint8Array([199])}else if(g.isDate(y))u.updateIntArray([y.getTime()]),u.updateUint8Array([241]);else if(g.isString(y))u.updateIntArray([y.length]),u.updateWithString(y),u.updateUint8Array([41]);else if(g.isBoolean(y))u.updateUint8Array([!0===y?1:0,113]);else if(g.isNumber(y))u.updateFloatArray([y]),u.updateUint8Array([173]);else{if(y instanceof
m)throw Error("Type not supported in Hash");if(y instanceof h)throw Error("Type not supported in Hash");if(y instanceof l){u.updateUint8Array([223]);if(d.map.has(y))y=d.map.get(y),u.updateIntArray([y^61237541]);else{d.map.set(y,d.currentLength++);for(var z of y.keys())u.updateIntArray([z.length]),u.updateWithString(z),u.updateUint8Array([251]),k=y.field(z),F(k,u,d),u.updateUint8Array([239]);d.map.delete(y);d.currentLength--}u.updateUint8Array([73])}else{if(y instanceof b)throw Error("Type not supported in Hash");
if(y instanceof C)u.updateIntArray([3833836621]),u.updateIntArray([0]),u.updateFloatArray([y.x]),u.updateIntArray([1]),u.updateFloatArray([y.y]),y.hasZ&&(u.updateIntArray([2]),u.updateFloatArray([y.z])),y.hasM&&(u.updateIntArray([3]),u.updateFloatArray([y.m])),u.updateIntArray([3765347959]),F(y.spatialReference.wkid,u,d);else if(y instanceof e){u.updateIntArray([1266616829]);for(z=0;z<y.rings.length;z++){c=y.rings[z];k=[];var G=null;let S=null;for(let Z=0;Z<c.length;Z++){const U=y.getPoint(z,Z);if(0===
Z)G=U;else if(H(S,U))continue;S=U;Z===c.length-1&&H(G,U)||k.push(U)}u.updateIntArray([1397116793,k.length]);for(c=0;c<k.length;c++)G=k[c],u.updateIntArray([3962308117,c]),F(G,u,d),u.updateIntArray([2716288009]);u.updateIntArray([2278822459])}u.updateIntArray([3878477243]);F(y.spatialReference.wkid,u,d)}else if(y instanceof q){u.updateIntArray([4106883559]);for(z=0;z<y.paths.length;z++){k=y.paths[z];u.updateIntArray([1397116793,k.length]);for(c=0;c<k.length;c++)u.updateIntArray([3962308117,c]),F(y.getPoint(z,
c),u,d),u.updateIntArray([2716288009]);u.updateIntArray([2278822459])}u.updateIntArray([2568784753]);F(y.spatialReference.wkid,u,d)}else if(y instanceof f){u.updateIntArray([588535921,y.points.length]);for(z=0;z<y.points.length;z++)k=y.getPoint(z),u.updateIntArray([z]),F(k,u,d);u.updateIntArray([1700171621]);F(y.spatialReference.wkid,u,d)}else if(y instanceof D)u.updateIntArray([3483648373]),u.updateIntArray([0]),u.updateFloatArray([y.xmax]),u.updateIntArray([1]),u.updateFloatArray([y.xmin]),u.updateIntArray([2]),
u.updateFloatArray([y.ymax]),u.updateIntArray([3]),u.updateFloatArray([y.ymin]),y.hasZ&&(u.updateIntArray([4]),u.updateFloatArray([y.zmax]),u.updateIntArray([5]),u.updateFloatArray([y.zmin])),y.hasM&&(u.updateIntArray([6]),u.updateFloatArray([y.mmax]),u.updateIntArray([7]),u.updateFloatArray([y.mmin])),u.updateIntArray([3622027469]),F(y.spatialReference.wkid,u,d);else if(y instanceof w)u.updateIntArray([14]),void 0!==y.wkid&&null!==y.wkid&&u.updateIntArray([y.wkid]),y.wkt&&u.updateWithString(y.wkt);
else{if(g.isFunctionParameter(y))throw Error("Type not supported in Hash");if(g.isFeatureSet(y))throw Error("Type not supported in Hash");g.isFeatureSetCollection(y);throw Error("Type not supported in Hash");}}}}v.registerFunctions=function(y,u){y.portal=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);return new h(g.toString(G[0]))})};y.trim=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);return g.toString(G[0]).trim()})};y.tohex=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,
1,1);c=g.toNumber(G[0]);return isNaN(c)?c:c.toString(16)})};y.upper=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);return g.toString(G[0]).toUpperCase()})};y.proper=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,2);c=1;2===G.length&&"firstword"===g.toString(G[1]).toLowerCase()&&(c=2);z=/\s/;G=g.toString(G[0]);let S="",Z=!0;for(let U=0;U<G.length;U++){let ja=G[U];z.test(ja)?1===c&&(Z=!0):ja.toUpperCase()!==ja.toLowerCase()&&(Z?(ja=ja.toUpperCase(),Z=!1):ja=ja.toLowerCase());
S+=ja}return S})};y.lower=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);return g.toString(G[0]).toLowerCase()})};y.guid=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,0,1);if(0<G.length)switch(g.toString(G[0]).toLowerCase()){case "digits":return g.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return g.generateUUID();case "digits-hyphen-parentheses":return"("+g.generateUUID()+")"}return"{"+g.generateUUID()+"}"})};y.console=
function(d,k){return u(d,k,function(c,z,G){0!==G.length&&(1===G.length?d.console(g.toString(G[0])):d.console(g.toString(G)));return g.voidOperation})};y.mid=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,3);c=g.toNumber(G[1]);if(isNaN(c))return"";0>c&&(c=0);if(2===G.length)return g.toString(G[0]).substr(c);z=g.toNumber(G[2]);if(isNaN(z))return"";0>z&&(z=0);return g.toString(G[0]).substr(c,z)})};y.find=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,3);c=0;if(2<G.length){c=g.toNumber(g.defaultUndefined(G[2],
0));if(isNaN(c))return-1;0>c&&(c=0)}return g.toString(G[1]).indexOf(g.toString(G[0]),c)})};y.left=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,2);c=g.toNumber(G[1]);if(isNaN(c))return"";0>c&&(c=0);return g.toString(G[0]).substr(0,c)})};y.right=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,2);c=g.toNumber(G[1]);if(isNaN(c))return"";0>c&&(c=0);return g.toString(G[0]).substr(-1*c,c)})};y.split=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,4);c=g.toNumber(g.defaultUndefined(G[2],
-1));z=g.toBoolean(g.defaultUndefined(G[3],!1));-1===c||null===c||!0===z?G=g.toString(G[0]).split(g.toString(G[1])):(isNaN(c)&&(c=-1),-1>c&&(c=-1),G=g.toString(G[0]).split(g.toString(G[1]),c));if(!1===z)return G;z=[];for(let S=0;S<G.length&&!(-1!==c&&z.length>=c);S++)""!==G[S]&&void 0!==G[S]&&z.push(G[S]);return z})};y.text=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,2);return g.toStringExplicit(G[0],G[1])})};y.concatenate=function(d,k){return u(d,k,function(c,z,G){c=[];if(1>G.length)return"";
if(g.isArray(G[0])){z=g.defaultUndefined(G[2],"");for(var S=0;S<G[0].length;S++)c[S]=g.toStringExplicit(G[0][S],z);return 1<G.length?c.join(G[1]):c.join("")}if(g.isImmutableArray(G[0])){z=g.defaultUndefined(G[2],"");for(S=0;S<G[0].length();S++)c[S]=g.toStringExplicit(G[0].get(S),z);return 1<G.length?c.join(G[1]):c.join("")}for(z=0;z<G.length;z++)c[z]=g.toStringExplicit(G[z]);return c.join("")})};y.reverse=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);if(g.isArray(G[0]))return c=G[0].slice(0),
c.reverse(),c;if(g.isImmutableArray(G[0]))return c=G[0].toArray().slice(0),c.reverse(),c;throw Error("Invalid Parameter");})};y.replace=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,3,4);c=g.toString(G[0]);z=g.toString(G[1]);const S=g.toString(G[2]);return(4===G.length?g.toBoolean(G[3]):1)?g.multiReplace(c,z,S):c.replace(z,S)})};y.schema=function(d,k){return u(d,k,function(c,z,G){if(G[0]instanceof b)return(c=G[0].schema())?l.convertObjectToArcadeDictionary(c):null;throw Error("Invalid Parameter");
})};y.subtypes=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);if(G[0]instanceof b)return(c=G[0].subtypes())?l.convertObjectToArcadeDictionary(c):null;throw Error("Invalid Parameter");})};y.subtypecode=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);if(G[0]instanceof b){c=G[0].subtypes();if(!c)return null;if(c.subtypeField&&G[0].hasField(c.subtypeField)){G=G[0].field(c.subtypeField);for(const S of c.subtypes)if(S.code===G)return S.code}return null}throw Error("Invalid Parameter");
})};y.subtypename=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);if(G[0]instanceof b){c=G[0].subtypes();if(!c)return"";if(c.subtypeField&&G[0].hasField(c.subtypeField)){G=G[0].field(c.subtypeField);for(const S of c.subtypes)if(S.code===G)return S.name}return""}throw Error("Invalid Parameter");})};y.gdbversion=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);if(G[0]instanceof b)return G[0].gdbVersion();throw Error("Invalid Parameter");})};y.domain=function(d,k){return u(d,k,
function(c,z,G){g.pcCheck(G,2,3);if(G[0]instanceof b)return(c=G[0].fullDomain(g.toString(G[1]),void 0===G[2]?void 0:g.toNumber(G[2])))&&c.domain?"coded-value"===c.domain.type||"codedValue"===c.domain.type?l.convertObjectToArcadeDictionary({type:"codedValue",name:c.domain.name,dataType:a.layerFieldEsriConstants[c.field.type],codedValues:c.domain.codedValues.map(S=>({name:S.name,code:S.code}))}):l.convertObjectToArcadeDictionary({type:"range",name:c.domain.name,dataType:a.layerFieldEsriConstants[c.field.type],
min:c.domain.min,max:c.domain.max}):null;throw Error("Invalid Parameter");})};y.domainname=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,4);if(G[0]instanceof b)return G[0].domainValueLookup(g.toString(G[1]),G[2],void 0===G[3]?void 0:g.toNumber(G[3]));throw Error("Invalid Parameter");})};y.domaincode=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,2,4);if(G[0]instanceof b)return G[0].domainCodeLookup(g.toString(G[1]),G[2],void 0===G[3]?void 0:g.toNumber(G[3]));throw Error("Invalid Parameter");
})};y.urlencode=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);if(null===G[0])return"";if(G[0]instanceof l){c="";for(const S of G[0].keys())z=G[0].field(S),""!==c&&(c+="\x26"),c=null===z?c+(encodeURIComponent(S)+"\x3d"):c+(encodeURIComponent(S)+"\x3d"+encodeURIComponent(z));return c}return encodeURIComponent(g.toString(G[0]))})};y.hash=function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,1,1);c=new r.XXH(0);F(G[0],c,{map:new Map,currentLength:0});return c.digest()})};y.convertdirection=
function(d,k){return u(d,k,function(c,z,G){g.pcCheck(G,3,3);return n.convertDirection(G[0],G[1],G[2])})}};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/convertdirection":function(){define(["exports","../../chunks/languageUtils","../Dictionary"],function(v,w,C){function D(M){if(!1===w.isString(M))throw Error("Invalid Parameter");return M}function f(M,T){T=10**T;return Math.round(M*T)/T}function e(M){const T=parseFloat(M.toString().replace(Math.trunc(M).toString(),"0"))*
Math.sign(M);return 0>M?{fraction:T,integer:Math.ceil(M)}:{fraction:T,integer:Math.floor(M)}}function q(M,T){switch(M){case 0:return"SHORT"===T?"N":"North";case 1:return"SHORT"===T?"E":"East";case 2:return"SHORT"===T?"S":"South";case 3:return"SHORT"===T?"W":"West"}}function g(M,T,N){for(;M.length<N;)M=T+M;return M}function l(M,T){return M-Math.floor(M/T)*T}function h(M){switch(M){case 6:case 1:return 360;case 4:return ba;case 5:return 400;case 2:return 1296E3;case 7:return 60;case 8:return 60;default:throw Error("Unnexpected evaluations");
}}function m(M){switch(M.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;case "POLAR":return 2;case "QUADRANT":return 3;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw Error("Unsupported direction type");}function a(M){switch(M.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;
case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw Error("Unsupported units");}function b(M,T,N){let Q=null;switch(T){case 1:Q=U(M,3600);break;case 2:Q=M;break;case 5:Q=U(M,3240);break;case 4:Q=U(M,ya);break;default:throw Error("Unnexpected evaluation");}switch(N){case 1:return ja(Q,3600);case 2:return Q;case 5:return ja(Q,3240);case 4:return Q/ya;default:throw Error("Unnexpected evaluation");
}}function n(M){switch(M){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}function r(M){switch(w.toNumber(M)){case 1:return{first:0,second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}function H(M){switch(M.toUpperCase().trim()){case "N":case "NORTH":return 0;case "E":case "EAST":return 1;case "S":case "SOUTH":return 2;case "W":case "WEST":return 3}return null}function F(M){M=parseFloat(M);
if(w.isNumber(M)){if(isNaN(M))throw Error("Invalid conversion");return M}throw Error("Invalid conversion");}function y(M,T,N){const Q=3===N;let X=null;var ca=null;let oa=0;var ia=0;ia=0;if(Q){if(2>M.length)throw Error("Conversion Error");ia=1;(ca=r(w.toString(M[M.length-1])))?(X=ca.first,ca=ca.second):(oa=1,X=H(w.toString(M[0])),ca=H(w.toString(M[M.length-1])));if(null===X||null===ca)throw Error("Invalid Conversion");}switch(T){case 1:case 4:case 5:if(0===M.length)throw Error("Invalid Conversion");
return Q?ha.createFromAngleMeridianAndDirection(ua.createFromAngleAndUnits(F(M[oa]),n(T)),X,ca):ha.createFromAngleAndDirection(ua.createFromAngleAndUnits(F(M[oa]),n(T)),N);case 3:ia=M.length-ia-oa;if(3===ia)return M=ua.createFromDegreesMinutesSeconds(F(M[oa]),F(M[oa+1]),F(M[oa+2])),Q?ha.createFromAngleMeridianAndDirection(M,X,ca):ha.createFromAngleAndDirection(M,N);if(1===ia)return M=F(M[oa]),M=va.number_to_dms(M),M=ua.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),Q?ha.createFromAngleMeridianAndDirection(M,
X,ca):ha.createFromAngleAndDirection(M,N)}throw Error("Conversion Error");}function u(M){const T=[" ","-","/","'",'"',"\\","^","\u00b0",za,"\t","\r","\n","*"];let N="";for(let Q=0;Q<M.length;Q++){const X=M.charAt(Q);N=-1!==T.indexOf(X)?N+"RRSPLITRRSPLITRR":N+X}return N.split("RRSPLITRRSPLITRR").filter(Q=>""!==Q)}function d(M,T,N){const Q={padding:0,rounding:0,newpos:T};let X=!1;for(;T<M.length;){const ca=M[T];if(ca===N)X?Q.rounding++:Q.padding++,T++;else if("."===ca)X=!0,T++;else break}Q.newpos=T-
1;return Q}const k=M=>(T,N,Q)=>{Q=Q||14;return+M(T,N).toFixed(Q)},c=(M,T)=>M+T,z=(M,T)=>M-T,G=(M,T)=>M*T,S=(M,T)=>M/T,Z=(M,T,N)=>k(c)(M,T,N),U=(M,T,N)=>k(G)(M,T,N),ja=(M,T,N)=>k(S)(M,T,N),ba=2*Math.PI,ya=648E3/Math.PI,za=String.fromCharCode(7501);let va=function(){function M(N,Q,X){this.m_degrees=N;this.m_minutes=Q;this.m_seconds=X}var T=M.prototype;T.get_field=function(N){switch(N){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw Error("Unnexpected evaluation");
}};M.seconds_to_DMS=function(N){const Q=e(N).fraction;N=e(N).integer;const X=Math.floor(N/3600);N-=3600*X;const ca=Math.floor(N/60);return new M(X,ca,N-60*ca+Q)};M.number_to_dms=function(N){var Q=e(N).fraction;N=e(N).integer;const X=U(e(100*Q).fraction,100);Q=e(100*Q).integer;return new M(N,Q,X)};T.format=function(N,Q){Q=f(this.m_seconds,Q);let X=this.m_minutes,ca=this.m_degrees;if(2===N||8===N)60<=Q&&(Q-=60,++X),60<=X&&(X=0,++ca),360<=ca&&(ca=0);else if(7===N)Q=0,X=30<=this.m_seconds?this.m_minutes+
1:this.m_minutes,ca=this.m_degrees,60<=X&&(X=0,++ca),360<=ca&&(ca=0);else if(1===N||6===N)N=ja(this.m_seconds,3600),Q=ja(this.m_minutes,60),ca=Math.round(this.m_degrees+Q+N),Q=X=0;return new M(ca,X,Q)};M.DMS_to_seconds=function(N,Q,X){return 3600*N+60*Q+X};return M}(),xa=function(){function M(T,N,Q){this.meridian=T;this.angle=N;this.direction=Q}M.prototype.fetch_azimuth=function(T){return 0===T?this.meridian:this.direction};return M}(),ha=function(){function M(N){this.m_angle=N}M.createFromAngleAndDirection=
function(N,Q){return new M(new ua(M.convertDirectionFormat(N.extract_angular_units(2),Q,1)))};var T=M.prototype;T.getAngle=function(N){const Q=this.m_angle.extract_angular_units(2);switch(N){case 1:case 4:case 2:return new ua(M.convertDirectionFormat(Q,1,N));case 3:return N=M.seconds_north_azimuth_to_quadrant(Q),new ua(N.angle)}};T.getMeridian=function(N){const Q=this.m_angle.extract_angular_units(2);switch(N){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return M.seconds_north_azimuth_to_quadrant(Q).meridian}};
T.getDirection=function(N){const Q=this.m_angle.extract_angular_units(2);switch(N){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return M.seconds_north_azimuth_to_quadrant(Q).direction}};M.seconds_north_azimuth_to_quadrant=function(N){const Q=324E3>=N||972E3<=N?0:2;return new xa(Q,0===Q?Math.min(1296E3-N,N):Math.abs(N-648E3),648E3<N?3:1)};M.createFromAngleMeridianAndDirection=function(N,Q,X){return new M(new ua(M.secondsQuadrantToNorthAzimuth(N.extract_angular_units(2),Q,X)))};M.secondsQuadrantToNorthAzimuth=
function(N,Q,X){return 0===Q?1===X?N:1296E3-N:1===X?648E3-N:648E3+N};M.convertDirectionFormat=function(N,Q,X){let ca=0;switch(Q){case 1:ca=N;break;case 2:ca=324E3-N;break;case 3:throw Error("Unnexpected evaluation");case 4:ca=N+648E3}N=0;switch(X){case 1:N=ca;break;case 2:N=324E3-ca;break;case 3:throw Error("Unnexpected evaluation");case 4:N=ca-648E3}N%=1296E3;return 0>N?1296E3+N:N};return M}(),ua=function(){function M(T){this.m_seconds=T}M.createFromAngleAndUnits=function(T,N){return new M(b(T,N,
2))};M.prototype.extract_angular_units=function(T){return b(this.m_seconds,2,n(T))};M.createFromDegreesMinutesSeconds=function(T,N,Q){return new M(Z(Z(U(T,3600),U(N,60)),Q))};return M}(),Ba=function(){function M(N,Q,X,ca){this.m_view=N;this.m_angle=Q;this.m_merdian=X;this.m_direction=ca;this.m_formatted_dms=this.m_dms=null}M.createFromStringAndBearing=function(N,Q,X){return new M(N,Q.getAngle(X),Q.getMeridian(X),Q.getDirection(X))};var T=M.prototype;T.fetch_angle=function(){return this.m_angle};T.fetch_meridian=
function(){return this.m_merdian};T.fetch_direction=function(){return this.m_direction};T.fetch_m_view=function(){return this.m_view};T.fetch_dms=function(){null===this.m_dms&&this.calculate_dms();return this.m_dms};T.fetch_formatted_dms=function(){null===this.m_formatted_dms&&this.calculate_dms();return this.m_formatted_dms};T.calculate_dms=function(){var N=null;let Q=6,X=0;for(N=0;N<this.m_view.length;N++){const ca=this.m_view[N];switch(ca){case "m":N=d(this.m_view,N,ca);Q=6===Q?7:Q;N=N.newpos;
continue;case "s":N=d(this.m_view,N,ca),Q=8,X=X<N.rounding?N.rounding:X,N=N.newpos}}this.m_dms=va.seconds_to_DMS(this.m_angle.extract_angular_units(2));this.m_formatted_dms=va.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(Q,X)};return M}();v.convertDirection=function(M,T,N){if(!(T instanceof C))throw Error("Invalid Parameter");if(!1===T.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===T.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");
var Q=m(D(T.field("directiontype")));T=a(D(T.field("angletype")));if(w.isNumber(M)){M=w.toNumber(M);if(3===Q)throw Error("Conversion error");3===T?(M=va.number_to_dms(M),Q=ha.createFromAngleAndDirection(ua.createFromDegreesMinutesSeconds(M.m_degrees,M.m_minutes,M.m_seconds),Q)):Q=ha.createFromAngleAndDirection(ua.createFromAngleAndUnits(M,n(T)),Q)}else if(w.isString(M))Q=y(u(M),T,Q);else if(w.isArray(M))Q=y(M,T,Q);else if(w.isImmutableArray(M))Q=y(M.toArray(),T,Q);else throw Error("Conversion Error");
if(!(N instanceof C))throw Error("Invalid Parameter");if(!1===N.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===N.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");M=m(D(N.field("directiontype")));T=N.hasField("angleType")?a(D(N.field("angletype"))):null;var X=D(N.field("outputType")).toUpperCase().trim();if(!M||!X)throw Error("Conversion error");if(!(T||"TEXT"===X&&N.hasField("format")))throw Error("Invalid unit");switch(X){case "VALUE":if(3===
M||3===T)return N=Q.getAngle(M),3===M&&3===T?(N=va.seconds_to_DMS(N.extract_angular_units(2)),Q=[q(Q.getMeridian(M),"SHORT"),N.m_degrees,N.m_minutes,N.m_seconds,q(Q.getDirection(M),"SHORT")]):3===T?(Q=va.seconds_to_DMS(N.extract_angular_units(2)),Q=[Q.m_degrees,Q.m_minutes,Q.m_seconds]):Q=3===M?[q(Q.getMeridian(M),"SHORT"),N.extract_angular_units(T),q(Q.getDirection(M),"SHORT")]:[N.extract_angular_units(T)],Q;if((N=n(T))&&3!==T)Q=Q.getAngle(M).extract_angular_units(N);else throw Error("Conversion Error");
return Q;case "TEXT":X="";N.hasField("format")&&(X=w.toString(N.field("format")));if(null===X||""===X){N="";switch(T){case 1:N=3===M?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:N=3===M?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:N="R.RR";break;case 5:N="GGG.GG"+za;break;default:throw Error("Conversion error");}3===M&&(N="p "+N+" b");X=N}N=X;var ca="",oa=null,ia=null;T=Ba.createFromStringAndBearing(N,Q,M);X={D:1,d:6,m:7,s:8,R:4,G:5};for(ia=0;ia<N.length;ia++){var ma=N[ia];switch(ma){case "[":oa=
N;ma={escaped:"",newpos:ia};for(ia++;ia<oa.length;){var na=oa[ia];ia++;if("]"===na)break;ma.escaped+=na}ma.newpos=ia-1;oa=ma;ca+=oa.escaped;ia=oa.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":oa=d(N,ia,ma);ia=Q.getAngle(M);a:{ma=X[ma];na=oa.padding;var W=oa.rounding,A=T;let B=null;switch(ma){case 1:case 4:case 5:B=l(f(ia.extract_angular_units(ma),W),h(ma));ia=g(B.toFixed(W),"0",na+W+(0<W?1:0));break a;case 6:case 7:B=l(A.fetch_formatted_dms().get_field(ma),h(ma));ia=g(B.toFixed(W),
"0",na+W+(0<W?1:0));break a;case 8:B=l(f(A.fetch_dms().get_field(ma),W),h(ma));ia=g(B.toFixed(W),"0",na+W+(0<W?1:0));break a;default:throw Error("Unnexepected evaluation");}}ca+=ia;ia=oa.newpos;continue;case "P":case "p":ca+=q(T.fetch_meridian(),"p"===ma?"SHORT":"LONG");continue;case "B":case "b":ca+=q(T.fetch_direction(),"b"===ma?"SHORT":"LONG");continue;default:ca+=ma}}return Q=ca;default:throw Error("Invalid Parameter");}};v.preciseAdd=Z;v.preciseDivide=ja;v.preciseMinus=(M,T,N)=>k(z)(M,T,N);v.preciseMultiply=
U;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/functions/hash":function(){define(["exports"],function(v){function w(D){const f=[];for(let e=0,q=D.length;e<q;e++){let g=D.charCodeAt(e);128>g?f.push(g):2048>g?f.push(192|g>>6,128|g&63):55296>g||57344<=g?f.push(224|g>>12,128|g>>6&63,128|g&63):(e++,g=65536+((g&1023)<<10|D.charCodeAt(e)&1023),f.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|g&63))}return new Uint8Array(f)}let C=function(){function D(e){this.seed=e;this.totallen=0;this.bufs=
[];this.init()}var f=D.prototype;f.init=function(){this.bufs=[];this.totallen=0;return this};f.updateFloatArray=function(e){const q=[];for(const g of e)isNaN(g)?q.push("NaN"):Infinity===g?q.push("Infinity"):-Infinity===g?q.push("-Infinity"):0===g?q.push("0"):q.push(g.toString(16));this.update(w(q.join("")))};f.updateIntArray=function(e){e=Int32Array.from(e);this.update(new Uint8Array(e.buffer))};f.updateUint8Array=function(e){this.update(Uint8Array.from(e))};f.updateWithString=function(e){return this.update(w(e))};
f.update=function(e){this.bufs.push(e);this.totallen+=e.length;return this};f.digest=function(){const e=new Uint8Array(this.totallen);let q=0;for(const g of this.bufs)e.set(g,q),q+=g.length;this.init();return this.xxHash32(e,this.seed)};f.xxHash32=function(e,q=0){var g=q+374761393&4294967295;let l=0;if(16<=e.length){g=[q+2654435761+2246822519&4294967295,q+2246822519&4294967295,q+0&4294967295,q-2654435761&4294967295];q=e.length-16;var h=0;for(l=0;(l&4294967280)<=q;l+=4){var m=l;m=g[h]+(2246822519*
(e[m+0]+(e[m+1]<<8))+(2246822519*(e[m+2]+(e[m+3]<<8))<<16))&4294967295;m=m<<13|m>>>19;g[h]=2654435761*(m&65535)+(2654435761*(m>>>16)<<16)&4294967295;h=h+1&3}g=(g[0]<<1|g[0]>>>31)+(g[1]<<7|g[1]>>>25)+(g[2]<<12|g[2]>>>20)+(g[3]<<18|g[3]>>>14)&4294967295}g=g+e.length&4294967295;for(q=e.length-4;l<=q;l+=4)h=l,g=g+(3266489917*(e[h+0]+(e[h+1]<<8))+(3266489917*(e[h+2]+(e[h+3]<<8))<<16))&4294967295,g=g<<17|g>>>15,g=668265263*(g&65535)+(668265263*(g>>>16)<<16)&4294967295;for(;l<e.length;++l)g+=374761393*e[l],
g=g<<11|g>>>21,g=2654435761*(g&65535)+(2654435761*(g>>>16)<<16)&4294967295;g^=g>>>15;g=(2246822519*(g&65535)&4294967295)+(2246822519*(g>>>16)<<16);g^=g>>>13;g=(3266489917*(g&65535)&4294967295)+(3266489917*(g>>>16)<<16);g^=g>>>16;return 0>g?g+4294967296:g};return D}();v.XXH=C;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/FeatureSetReader":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/has ../../../../../core/maybe ../../../../../geometry/support/jsonUtils ../../../../../geometry ../../../../../layers/graphics/OptimizedGeometry ../../../../../layers/graphics/featureConversionUtils ../../../../../layers/graphics/centroid ./StaticBitSet".split(" "),
function(v,w,C,D,f,e,q,g,l,h){let m=0;C=function(){function a(n){this.type="FeatureSetReader";this.seen=!1;this._ty=this._tx=this.instance=0;this._sy=this._sx=1;this._xmin=-1;this._ymax=this._ymin=this._xmax=0;this._deleted=null;this._joined=[];this.instance=n}a.createInstance=function(){m++;return m=65535<m?0:m};var b=a.prototype;b.setArcadeSpatialReference=function(n){this._arcadeSpatialReference=n};b.attachStorage=function(n){this._storage=n};b.getQuantizationTransform=function(){throw Error("Unable to find transform for featureSet");
};b.getStorage=function(){return this._storage};b.getComputedNumeric=function(n){return this.getComputedNumericAtIndex(0)};b.setComputedNumeric=function(n,r){return this.setComputedNumericAtIndex(r,0)};b.getComputedString=function(n){return this.getComputedStringAtIndex(0)};b.setComputedString=function(n,r){return this.setComputedStringAtIndex(0,r)};b.getComputedNumericAtIndex=function(n){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),n)};b.setComputedNumericAtIndex=function(n,
r){this._storage.setComputedNumericAtIndex(this.getDisplayId(),n,r)};b.getComputedStringAtIndex=function(n){return this._storage.getComputedStringAtIndex(this.getDisplayId(),n)};b.setComputedStringAtIndex=function(n,r){return this._storage.setComputedStringAtIndex(this.getDisplayId(),n,r)};b.transform=function(n,r,H,F){const y=this.copy();y._tx+=n;y._ty+=r;y._sx*=H;y._sy*=F;return y};b.extent=function(n,r,H,F){const y=this.copy();y._xmin=n;y._xmax=H;y._ymin=r;y._ymax=F;return y};b.hasFilter=function(){return this._hasFilter};
b.readAttribute=function(n,r=!1){var H=this._readAttribute(n,r);if(void 0!==H)return H;for(const F of this._joined)if(F.setIndex(this.getIndex()),H=F._readAttribute(n,r),void 0!==H)return H};b.readAttributes=function(){return this._readAttributes()};b.joinAttributes=function(n){this._joined.push(n)};b.readArcadeFeature=function(){return this};b.geometry=function(){var n=this.readHydratedGeometry();n=g.convertToGeometry(n,this.geometryType,this.hasZ,this.hasM);n=f.fromJSON(n);n.spatialReference=this._arcadeSpatialReference;
return n};b.field=function(n){return this.readAttribute(n,!0)};b.hasField=function(n){return!0};b.setField=function(n,r){};b.keys=function(){return[]};b.castToText=function(){return""};b.removeAtIndex=function(n){D.isNone(this._deleted)&&(this._deleted=h.StaticBitSet.create(this.getApproximateSize()));this._deleted.set(n)};b._getExists=function(){return D.isNone(this._deleted)||!this._deleted.has(this.getIndex())};b._computeCentroid=function(){if("esriGeometryPolygon"!==this.geometryType)return null;
const n=this.readUnquantizedGeometry();if(!n||n.hasIndeterminateRingOrder)return null;const r=D.unwrapOr(this.getQuantizationTransform(),null);return l.getCentroidOptimizedGeometry(new q,n,this.hasM,this.hasZ,r)};b.copyInto=function(n){n.seen=this.seen;n._storage=this._storage;n._arcadeSpatialReference=this._arcadeSpatialReference;n._joined=this._joined;n._tx=this._tx;n._ty=this._ty;n._sx=this._sx;n._sy=this._sy;n._xmin=this._xmin;n._xmax=this._xmax;n._ymin=this._ymin;n._ymax=this._ymax};w._createClass(a,
[{key:"isEmpty",get:function(){return D.isSome(this._deleted)&&this._deleted.countSet()===this.getApproximateSize()}},{key:"_hasFilter",get:function(){return-1!==this._xmin}}]);return a}();v.FeatureSetReader=C;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports"],function(v){function w(D,f,e,q,g,l,h=1){l=g?l?4:3:l?3:2;let m=e,a=e+l,b=0,n=0,r=e=0,H=0;for(let F=0,y=q-1;F<y;F++,m+=l,a+=l){q=f[m];const u=f[m+1],d=f[m+2],k=f[a],c=f[a+1],z=f[a+
2];let G=q*c-k*u;r+=G;b+=(q+k)*G;n+=(u+c)*G;g&&(G=q*z-k*d,e+=(d+z)*G,H+=G);q<D[0]&&(D[0]=q);q>D[1]&&(D[1]=q);u<D[2]&&(D[2]=u);u>D[3]&&(D[3]=u);g&&(d<D[4]&&(D[4]=d),d>D[5]&&(D[5]=d))}0<r*h&&(r*=-1);0<H*h&&(H*=-1);if(!r)return null;D=[b,n,.5*r];g&&(D[3]=e,D[4]=.5*H);return D}function C(D,f,e,q,g){g=q?g?4:3:g?3:2;let l=f,h=f+g,m=0,a=0,b=0,n=0;for(let y=0,u=e-1;y<u;y++,l+=g,h+=g){var r=D[l];const d=D[l+1],k=D[l+2],c=D[h],z=D[h+1],G=D[h+2];if(q){{var H=c-r;var F=z-d;const S=G-k;H=Math.sqrt(H*H+F*F+S*S)}}else H=
c-r,F=z-d,H=Math.sqrt(H*H+F*F);H&&(m+=H,q?(r=[r+.5*(c-r),d+.5*(z-d),k+.5*(G-k)],a+=H*r[0],b+=H*r[1],n+=H*r[2]):(r=[r+.5*(c-r),d+.5*(z-d)],a+=H*r[0],b+=H*r[1]))}return 0<m?q?[a/m,b/m,n/m]:[a/m,b/m]:0<e?q?[D[f],D[f+1],D[f+2]]:[D[f],D[f+1]]:null}v.getCentroidOptimizedGeometry=function(D,f,e,q,g){if(!f||!f.lengths.length)return null;const l="upperLeft"===(null==g?void 0:g.originPosition)?-1:1;D.lengths.length&&(D.lengths.length=0);D.coords.length&&(D.coords.length=0);g=D.coords;const h=[],m=e?[Number.POSITIVE_INFINITY,
Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:a,coords:b}=f,n=e?q?4:3:q?3:2;let r=0;for(var H of a){const F=w(m,b,r,H,e,q,l);F&&h.push(F);r+=H*n}h.sort((F,y)=>{let u=l*F[2]-l*y[2];0===u&&e&&(u=F[4]-y[4]);return u});h.length&&(H=6*h[0][2],g[0]=h[0][0]/H,g[1]=h[0][1]/H,e&&(H=6*h[0][4],g[2]=0!==H?h[0][3]/H:0),g[0]<
m[0]||g[0]>m[1]||g[1]<m[2]||g[1]>m[3]||e&&(g[2]<m[4]||g[2]>m[5]))&&(g.length=0);if(!g.length)if(f=f.lengths[0]?C(b,0,a[0],e,q):null)g[0]=f[0],g[1]=f[1],e&&2<f.length&&(g[2]=f[2]);else return null;return D};v.lineCentroid=C;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/StaticBitSet":function(){define(["exports"],function(v){let w=function(){function C(f,e){this._mask=0;this._buf=f;this._mask=e}C.fromBuffer=function(f,e){return new C(f,e)};C.create=function(f,
e=4294967295){f=new Uint32Array(Math.ceil(f/32));return new C(f,e)};var D=C.prototype;D._getIndex=function(f){return Math.floor(f/32)};D.has=function(f){f&=this._mask;return!!(this._buf[this._getIndex(f)]&1<<f%32)};D.hasRange=function(f,e){for(;f%32&&f!==e;){if(this.has(f))return!0;f++}for(;e%32&&f!==e;){if(this.has(f))return!0;e--}if(f===e)return!1;for(f/=32;f!==e/32;f++)if(this._buf[f])return!0;return!1};D.set=function(f){f&=this._mask;const e=this._getIndex(f);this._buf[e]|=1<<f%32};D.setRange=
function(f,e){for(;f%32&&f!==e;)this.set(f++);for(;e%32&&f!==e;)this.set(e--);if(f!==e)for(f/=32;f!==e/32;f++)this._buf[f]=4294967295};D.unset=function(f){f&=this._mask;const e=this._getIndex(f);this._buf[e]&=4294967295^1<<f%32};D.resize=function(f){const e=this._buf;f=new Uint32Array(Math.ceil(f/32));f.set(e);this._buf=f};D.or=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]|=f._buf[e];return this};D.and=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]&=f._buf[e];return this};
D.xor=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]^=f._buf[e];return this};D.ior=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~f._buf[e];return this};D.iand=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~f._buf[e];return this};D.ixor=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~f._buf[e];return this};D.any=function(){for(let f=0;f<this._buf.length;f++)if(this._buf[f])return!0;return!1};D.copy=function(f){for(let e=0;e<this._buf.length;e++)this._buf[e]=
f._buf[e];return this};D.clone=function(){return new C(this._buf.slice(),this._mask)};D.clear=function(){for(let f=0;f<this._buf.length;f++)this._buf[f]=0};D.forEachSet=function(f){for(let e=0;e<this._buf.length;e++){let q=this._buf[e],g=32*e;if(q)for(;q;)q&1&&f(g),q>>>=1,g++}};D.countSet=function(){let f=0;this.forEachSet(e=>{f++});return f};return C}();v.StaticBitSet=w;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/arcadeRuntime":function(){define("exports ../geometry/SpatialReference ../geometry/Geometry ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/Polygon ../geometry/Polyline ./FunctionWrapper ./ImmutablePointArray ./ImmutablePathArray ../chunks/languageUtils ./Dictionary ./ArcadePortal ./Attachment ./Feature ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string".split(" "),
function(v,w,C,D,f,e,q,g,l,h,m,a,b,n,r,H,F,y,u,d,k,c,z,G){function S(A,B){const J=[];for(let L=0;L<B.arguments.length;L++)J.push(U(A,B.arguments[L]));return J}function Z(A,B,J){try{return J(A,B,S(A,B))}catch(L){throw L;}}function U(A,B){try{switch(B.type){case "EmptyStatement":return a.voidOperation;case "VariableDeclarator":{let V=null===B.init?null:U(A,B.init);V===a.voidOperation&&(V=null);if("Identifier"!==B.id.type)throw Error("Can only assign a regular variable");const fa=B.id.name.toLowerCase();
null!==A.localScope?A.localScope[fa]={value:V,valueset:!0,node:B.init}:A.globalScope[fa]={value:V,valueset:!0,node:B.init};var J=a.voidOperation}return J;case "VariableDeclaration":for(var L=0;L<B.declarations.length;L++)U(A,B.declarations[L]);return a.voidOperation;case "BlockStatement":a:{let V=a.voidOperation;for(L=0;L<B.body.length;L++)if(V=U(A,B.body[L]),V instanceof a.ReturnResult||V===a.breakResult||V===a.continueResult){var R=V;break a}R=V}return R;case "FunctionDeclaration":{const V=B.id.name.toLowerCase();
A.globalScope[V]={valueset:!0,node:null,value:new l(B,A)};var da=a.voidOperation}return da;case "ReturnStatement":if(null===B.argument)var sa=new a.ReturnResult(a.voidOperation);else{var pa=U(A,B.argument);sa=new a.ReturnResult(pa)}return sa;case "IfStatement":{if("AssignmentExpression"===B.test.type||"UpdateExpression"===B.test.type)throw Error(F.nodeErrorMessage(B.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const V=U(A,B.test);if(!0===V)var p=U(A,B.consequent);else if(!1===V)p=null!==
B.alternate?U(A,B.alternate):a.voidOperation;else throw Error(F.nodeErrorMessage(B,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return p;case "ExpressionStatement":if("AssignmentExpression"===B.expression.type||"UpdateExpression"===B.expression.type)var t=U(A,B.expression);else if("CallExpression"===B.expression.type){const V=U(A,B.expression);t=V===a.voidOperation?a.voidOperation:new a.ImplicitResult(V)}else{{const V=U(A,B.expression);t=V===a.voidOperation?a.voidOperation:new a.ImplicitResult(V)}}return t;
case "AssignmentExpression":{const V=U(A,B.right);L=null;var I="";if("MemberExpression"===B.left.type){L=U(A,B.left.object);!0===B.left.computed?I=U(A,B.left.property):"Identifier"===B.left.property.type&&(I=B.left.property.name);if(a.isArray(L))if(a.isNumber(I)){0>I&&(I=L.length+I);if(0>I||I>L.length)throw Error("Assignment outside of array bounds");if(I===L.length&&"\x3d"!==B.operator)throw Error("Invalid Parameter");L[I]=ba(V,B.operator,L[I],B)}else throw Error("Invalid Parameter");else if(L instanceof
b){if(!1===a.isString(I))throw Error("Dictionary accessor must be a string");if(!0===L.hasField(I))L.setField(I,ba(V,B.operator,L.field(I),B));else{if("\x3d"!==B.operator)throw Error("Invalid Parameter");L.setField(I,ba(V,B.operator,null,B))}}else if(L instanceof H){if(!1===a.isString(I))throw Error("Feature accessor must be a string");if(!0===L.hasField(I))L.setField(I,ba(V,B.operator,L.field(I),B));else{if("\x3d"!==B.operator)throw Error("Invalid Parameter");L.setField(I,ba(V,B.operator,null,B))}}else{if(a.isImmutableArray(L))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var K=a.voidOperation}else if(L=B.left.name.toLowerCase(),null!==A.localScope&&void 0!==A.localScope[L])A.localScope[L]={value:ba(V,B.operator,A.localScope[L].value,B),valueset:!0,node:B.right},K=a.voidOperation;else if(void 0!==A.globalScope[L])A.globalScope[L]={value:ba(V,B.operator,A.globalScope[L].value,B),valueset:!0,node:B.right},K=a.voidOperation;else throw Error("Variable not recognised");}return K;case "UpdateExpression":{let V;L=null;I="";if("MemberExpression"===
B.argument.type){L=U(A,B.argument.object);!0===B.argument.computed?I=U(A,B.argument.property):"Identifier"===B.argument.property.type&&(I=B.argument.property.name);if(a.isArray(L))if(a.isNumber(I)){0>I&&(I=L.length+I);if(0>I||I>=L.length)throw Error("Assignment outside of array bounds");V=a.toNumber(L[I]);L[I]="++"===B.operator?V+1:V-1}else throw Error("Invalid Parameter");else if(L instanceof b){if(!1===a.isString(I))throw Error("Dictionary accessor must be a string");if(!0===L.hasField(I))V=a.toNumber(L.field(I)),
L.setField(I,"++"===B.operator?V+1:V-1);else throw Error("Invalid Parameter");}else if(L instanceof H){if(!1===a.isString(I))throw Error("Feature accessor must be a string");if(!0===L.hasField(I))V=a.toNumber(L.field(I)),L.setField(I,"++"===B.operator?V+1:V-1);else throw Error("Invalid Parameter");}else{if(a.isImmutableArray(L))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var P=!1===B.prefix?V:"++"===B.operator?V+1:V-1}else{L="Identifier"===B.argument.type?B.argument.name.toLowerCase():
"";if(!L)throw Error("Invalid identifier");if(null!==A.localScope&&void 0!==A.localScope[L])V=a.toNumber(A.localScope[L].value),A.localScope[L]={value:"++"===B.operator?V+1:V-1,valueset:!0,node:B},P=!1===B.prefix?V:"++"===B.operator?V+1:V-1;else if(void 0!==A.globalScope[L])V=a.toNumber(A.globalScope[L].value),A.globalScope[L]={value:"++"===B.operator?V+1:V-1,valueset:!0,node:B},P=!1===B.prefix?V:"++"===B.operator?V+1:V-1;else throw Error("Variable not recognised");}}return P;case "BreakStatement":return a.breakResult;
case "ContinueStatement":return a.continueResult;case "TemplateElement":return B.value?B.value.cooked:"";case "TemplateLiteral":var ka;L="";I=0;for(const V of B.quasis)if(L+=V.value?V.value.cooked:"",!1===V.tail){const fa=B.expressions[I]?a.toString(U(A,B.expressions[I])):"";L+=fa;I++}return ka=L;case "ForStatement":null!==B.init&&U(A,B.init);I={testResult:!0,lastAction:a.voidOperation};do b:{K=A;P=B;ka=I;if(null!==P.test){ka.testResult=U(K,P.test);if(!1===ka.testResult)break b;if(!0!==ka.testResult)throw Error(F.nodeErrorMessage(P,
"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}ka.lastAction=U(K,P.body);ka.lastAction===a.breakResult?ka.testResult=!1:ka.lastAction instanceof a.ReturnResult?ka.testResult=!1:null!==P.update&&U(K,P.update)}while(!0===I.testResult);L=I.lastAction instanceof a.ReturnResult?I.lastAction:a.voidOperation;return L;case "ForInStatement":return ja(A,B);case "Identifier":return ua(A,B);case "MemberExpression":return za(A,B);case "Literal":return B.value;case "CallExpression":return Ba(A,B);case "UnaryExpression":return va(A,
B);case "BinaryExpression":return xa(A,B);case "LogicalExpression":return ha(A,B);case "ConditionalExpression":throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{L=[];for(I=0;I<B.elements.length;I++){const V=U(A,B.elements[I]);if(a.isFunctionParameter(V))throw Error(F.nodeErrorMessage(B,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));V===a.voidOperation?L.push(null):L.push(V)}var la=L}catch(V){throw V;}return la;case "ObjectExpression":{L={};for(I=0;I<B.properties.length;I++){const fa=
U(A,B.properties[I]);if(a.isFunctionParameter(fa.value))throw Error("Illegal Argument");if(!1===a.isString(fa.key))throw Error("Illegal Argument");L[fa.key.toString()]=fa.value===a.voidOperation?null:fa.value}const V=new b(L);V.immutable=!1;var ra=V}return ra;case "Property":return{key:"Identifier"===B.key.type?B.key.name:U(A,B.key),value:U(A,B.value)};default:throw Error(F.nodeErrorMessage(B,"RUNTIME","UNREOGNISED"));}}catch(V){throw V;}}function ja(A,B){var J=U(A,B.right);"VariableDeclaration"===
B.left.type&&U(A,B.left);let L=null;var R="";if("VariableDeclaration"===B.left.type){var da=B.left.declarations[0].id;"Identifier"===da.type&&(R=da.name)}else"Identifier"===B.left.type&&(R=B.left.name);if(!R)throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDVARIABLE"));R=R.toLowerCase();null!==A.localScope&&void 0!==A.localScope[R]&&(L=A.localScope[R]);null===L&&void 0!==A.globalScope[R]&&(L=A.globalScope[R]);if(null===L)throw Error(F.nodeErrorMessage(B,"RUNTIME","VARIABLENOTDECLARED"));if(a.isArray(J)||
a.isString(J)){J=J.length;for(R=0;R<J;R++){L.value=R;da=U(A,B.body);if(da===a.breakResult)break;if(da instanceof a.ReturnResult)return da}return a.voidOperation}if(a.isImmutableArray(J)){for(R=0;R<J.length();R++){L.value=R;da=U(A,B.body);if(da===a.breakResult)break;if(da instanceof a.ReturnResult)return da}return a.voidOperation}if(J instanceof b||J instanceof H)for(J=J.keys(),R=0;R<J.length;R++){L.value=J[R];da=U(A,B.body);if(da===a.breakResult)break;if(da instanceof a.ReturnResult)return da}else return a.voidOperation}
function ba(A,B,J,L){switch(B){case "\x3d":return A===a.voidOperation?null:A;case "/\x3d":return a.toNumber(J)/a.toNumber(A);case "*\x3d":return a.toNumber(J)*a.toNumber(A);case "-\x3d":return a.toNumber(J)-a.toNumber(A);case "+\x3d":return a.isString(J)||a.isString(A)?a.toString(J)+a.toString(A):a.toNumber(J)+a.toNumber(A);case "%\x3d":return a.toNumber(J)%a.toNumber(A);default:throw Error(F.nodeErrorMessage(L,"RUNTIME","OPERATORNOTRECOGNISED"));}}function ya(A,B,J){B=B.toLowerCase();switch(B){case "hasz":return A=
A.hasZ,void 0===A?!1:A;case "hasm":return A=A.hasM,void 0===A?!1:A;case "spatialreference":return B=A.spatialReference._arcadeCacheId,void 0===B&&(J=!0,Object.freeze&&Object.isFrozen(A.spatialReference)&&(J=!1),J&&(ma++,B=A.spatialReference._arcadeCacheId=ma)),A=new b({wkt:A.spatialReference.wkt,wkid:A.spatialReference.wkid}),void 0!==B&&(A._arcadeCacheId="SPREF"+B.toString()),A}switch(A.type){case "extent":switch(B){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return A=
A[B],void 0!==A?A:null;case "type":return"Extent"}break;case "polygon":switch(B){case "rings":return B=A.cache._arcadeCacheId,void 0===B&&(ma++,B=ma,A.cache._arcadeCacheId=B),new m(A.rings,A.spatialReference,!0===A.hasZ,!0===A.hasM,B);case "type":return"Polygon"}break;case "point":switch(B){case "x":case "y":case "z":case "m":return void 0!==A[B]?A[B]:null;case "type":return"Point"}break;case "polyline":switch(B){case "paths":return B=A.cache._arcadeCacheId,void 0===B&&(ma++,B=ma,A.cache._arcadeCacheId=
B),new m(A.paths,A.spatialReference,!0===A.hasZ,!0===A.hasM,B);case "type":return"Polyline"}break;case "multipoint":switch(B){case "points":return B=A.cache._arcadeCacheId,void 0===B&&(ma++,B=ma,A.cache._arcadeCacheId=B),new h(A.points,A.spatialReference,!0===A.hasZ,!0===A.hasM,B,1);case "type":return"Multipoint"}}throw Error(F.nodeErrorMessage(J,"RUNTIME","PROPERTYNOTFOUND"));}function za(A,B){try{const J=U(A,B.object);if(null===J)throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTFOUND"));if(!1===B.computed){if("Identifier"===
B.property.type){if(J instanceof b||J instanceof H)return J.field(B.property.name);if(J instanceof C)return ya(J,B.property.name,B)}throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDTYPE"));}{let L=U(A,B.property);if(J instanceof b||J instanceof H){if(a.isString(L))return J.field(L);throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDTYPE"));}if(J instanceof C){if(a.isString(L))return ya(J,L,B);throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDTYPE"));}if(a.isArray(J)){if(a.isNumber(L)&&isFinite(L)&&
Math.floor(L)===L){0>L&&(L=J.length+L);if(L>=J.length||0>L)throw Error(F.nodeErrorMessage(B,"RUNTIME","OUTOFBOUNDS"));return J[L]}throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDTYPE"));}if(a.isString(J)){if(a.isNumber(L)&&isFinite(L)&&Math.floor(L)===L){0>L&&(L=J.length+L);if(L>=J.length||0>L)throw Error(F.nodeErrorMessage(B,"RUNTIME","OUTOFBOUNDS"));return J[L]}throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDTYPE"));}if(a.isImmutableArray(J)&&a.isNumber(L)&&isFinite(L)&&Math.floor(L)===L){0>
L&&(L=J.length()+L);if(L>=J.length()||0>L)throw Error(F.nodeErrorMessage(B,"RUNTIME","OUTOFBOUNDS"));return J.get(L)}throw Error(F.nodeErrorMessage(B,"RUNTIME","INVALIDTYPE"));}}catch(J){throw J;}}function va(A,B){try{const J=U(A,B.argument);if(a.isBoolean(J)){if("!"===B.operator)return!J;if("-"===B.operator)return-1*a.toNumber(J);if("+"===B.operator)return 1*a.toNumber(J);if("~"===B.operator)return~a.toNumber(J);throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===B.operator)return~a.toNumber(J);
if("-"===B.operator)return-1*a.toNumber(J);if("+"===B.operator)return 1*a.toNumber(J);throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(J){throw J;}}function xa(A,B){try{const J=[U(A,B.left),U(A,B.right)],L=J[0],R=J[1];switch(B.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return a.binaryOperator(a.toNumber(L),a.toNumber(R),B.operator);case "\x3d\x3d":return a.equalityTest(L,R);case "!\x3d":return!a.equalityTest(L,R);case "\x3c":return a.greaterThanLessThan(L,
R,B.operator);case "\x3e":return a.greaterThanLessThan(L,R,B.operator);case "\x3c\x3d":return a.greaterThanLessThan(L,R,B.operator);case "\x3e\x3d":return a.greaterThanLessThan(L,R,B.operator);case "+":return a.isString(L)||a.isString(R)?a.toString(L)+a.toString(R):a.toNumber(L)+a.toNumber(R);case "-":return a.toNumber(L)-a.toNumber(R);case "*":return a.toNumber(L)*a.toNumber(R);case "/":return a.toNumber(L)/a.toNumber(R);case "%":return a.toNumber(L)%a.toNumber(R);default:throw Error(F.nodeErrorMessage(B,
"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(J){throw J;}}function ha(A,B){try{if("AssignmentExpression"===B.left.type||"UpdateExpression"===B.left.type)throw Error(F.nodeErrorMessage(B.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===B.right.type||"UpdateExpression"===B.right.type)throw Error(F.nodeErrorMessage(B.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const J=U(A,B.left);if(a.isBoolean(J))switch(B.operator){case "||":if(!0===J)return J;{const L=U(A,
B.right);if(a.isBoolean(L))return L;throw Error(F.nodeErrorMessage(B,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===J)return J;{const L=U(A,B.right);if(a.isBoolean(L))return L;throw Error(F.nodeErrorMessage(B,"RUNTIME","ONLYORORAND"));}default:throw Error(F.nodeErrorMessage(B,"RUNTIME","ONLYORORAND"));}throw Error(F.nodeErrorMessage(B,"RUNTIME","ONLYBOOLEAN"));}catch(J){throw J;}}function ua(A,B){let J;try{const L=B.name.toLowerCase();if(null!==A.localScope&&void 0!==A.localScope[L]){J=A.localScope[L];
if(!0===J.valueset)return J.value;J.value=U(A,J.node);J.valueset=!0;return J.value}if(void 0!==A.globalScope[L]){J=A.globalScope[L];if(!0===J.valueset)return J.value;J.value=U(A,J.node);J.valueset=!0;return J.value}throw Error(F.nodeErrorMessage(B,"RUNTIME","VARIABLENOTFOUND"));}catch(L){throw L;}}function Ba(A,B){try{if("Identifier"!==B.callee.type)throw Error(F.nodeErrorMessage(B,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==A.localScope&&void 0!==A.localScope[B.callee.name.toLowerCase()]){const J=
A.localScope[B.callee.name.toLowerCase()];if(J.value instanceof a.NativeFunction)return J.value.fn(A,B);if(J.value instanceof l)return ca(A,B,J.value.definition);throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTAFUNCTION"));}if(void 0!==A.globalScope[B.callee.name.toLowerCase()]){const J=A.globalScope[B.callee.name.toLowerCase()];if(J.value instanceof a.NativeFunction)return J.value.fn(A,B);if(J.value instanceof l)return ca(A,B,J.value.definition);throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTAFUNCTION"));
}throw Error(F.nodeErrorMessage(B,"RUNTIME","NOTFOUND"));}catch(J){throw J;}}function M(A){return null==A?"":a.isArray(A)||a.isImmutableArray(A)?"Array":a.isDate(A)?"Date":a.isString(A)?"String":a.isBoolean(A)?"Boolean":a.isNumber(A)?"Number":A instanceof r?"Attachment":A instanceof n?"Portal":A instanceof b?"Dictionary":A instanceof H?"Feature":A instanceof D?"Point":A instanceof q?"Polygon":A instanceof g?"Polyline":A instanceof e?"Multipoint":A instanceof f?"Extent":a.isFunctionParameter(A)?"Function":
a.isFeatureSet(A)?"FeatureSet":a.isFeatureSetCollection(A)?"FeatureSetCollection":A===a.voidOperation?"":"number"===typeof A&&isNaN(A)?"Number":"Unrecognised Type"}function T(A,B,J,L){try{const R=U(A,B.arguments[J]);if(a.equalityTest(R,L))return U(A,B.arguments[J+1]);{const da=B.arguments.length-J;return 1===da?U(A,B.arguments[J]):2===da?null:3===da?U(A,B.arguments[J+2]):T(A,B,J+2,L)}}catch(R){throw R;}}function N(A,B,J,L){try{if(!0===L)return U(A,B.arguments[J+1]);if(3===B.arguments.length-J)return U(A,
B.arguments[J+2]);{const R=U(A,B.arguments[J+2]);if(!1===a.isBoolean(R))throw Error("WHEN needs boolean test conditions");return N(A,B,J+2,R)}}catch(R){throw R;}}function Q(A,B){var J=A.length,L=Math.floor(J/2);if(0===J)return[];if(1===J)return[A[0]];var R=Q(A.slice(0,L),B);A=Q(A.slice(L,J),B);for(J=[];0<R.length||0<A.length;)0<R.length&&0<A.length?(L=B(R[0],A[0]),isNaN(L)&&(L=0),0>=L?(J.push(R[0]),R=R.slice(1)):(J.push(A[0]),A=A.slice(1))):0<R.length?(J.push(R[0]),R=R.slice(1)):0<A.length&&(J.push(A[0]),
A=A.slice(1));return B=J}function X(A,B,J){try{const L=A.body;if(J.length!==A.params.length)throw Error("Invalid Parameter calls to function.");for(let da=0;da<J.length;da++)B.localScope[A.params[da].name.toLowerCase()]={value:J[da],valueset:!0,node:null};const R=U(B,L);if(R instanceof a.ReturnResult)return R.value;if(R===a.breakResult)throw Error("Cannot Break from a Function");if(R===a.continueResult)throw Error("Cannot Continue from a Function");return R instanceof a.ImplicitResult?R.value:R}catch(L){throw L;
}}function ca(A,B,J){return Z(A,B,function(L,R,da){L={spatialReference:A.spatialReference,globalScope:A.globalScope,depthCounter:A.depthCounter+1,console:A.console,lrucache:A.lrucache,interceptor:A.interceptor,localScope:{}};if(64<L.depthCounter)throw Error("Exceeded maximum function depth");return X(J,L,da)})}function oa(A){return function(){const B={spatialReference:A.context.spatialReference,console:A.context.console,lrucache:A.context.lrucache,interceptor:A.context.interceptor,localScope:{},depthCounter:A.context.depthCounter+
1,globalScope:A.context.globalScope};if(64<B.depthCounter)throw Error("Exceeded maximum function depth");return X(A.definition,B,arguments)}}function ia(A){console.log(A)}let ma=0;const na={};y.registerFunctions(na,Z);u.registerFunctions(na,Z);G.registerFunctions(na,Z);c.registerFunctions(na,Z);d.registerFunctions(na,Z);z.registerFunctions(na,Z);k.registerFunctions(na,Z);na["typeof"]=function(A,B){return Z(A,B,function(J,L,R){a.pcCheck(R,1,1);J=M(R[0]);if("Unrecognised Type"===J)throw Error("Unrecognised Type");
return J})};na.iif=function(A,B){try{a.pcCheck(null===B.arguments?[]:B.arguments,3,3);const J=U(A,B.arguments[0]);if(!1===a.isBoolean(J))throw Error("IF Function must have a boolean test condition");const L=U(A,B.arguments[1]),R=U(A,B.arguments[2]);return!0===J?L:R}catch(J){throw J;}};na.decode=function(A,B){try{if(2>B.arguments.length)throw Error("Missing Parameters");if(2===B.arguments.length)return U(A,B.arguments[1]);{if(0===(B.arguments.length-1)%2)throw Error("Must have a default value result.");
const J=U(A,B.arguments[0]);return T(A,B,1,J)}}catch(J){throw J;}};na.when=function(A,B){try{if(3>B.arguments.length)throw Error("Missing Parameters");if(0===B.arguments.length%2)throw Error("Must have a default value result.");const J=U(A,B.arguments[0]);if(!1===a.isBoolean(J))throw Error("WHEN needs boolean test conditions");return N(A,B,0,J)}catch(J){throw J;}};na.top=function(A,B){return Z(A,B,function(J,L,R){a.pcCheck(R,2,2);if(a.isArray(R[0]))return a.toNumber(R[1])>=R[0].length?R[0].slice(0):
R[0].slice(0,a.toNumber(R[1]));if(a.isImmutableArray(R[0]))return a.toNumber(R[1])>=R[0].length()?R[0].slice(0):R[0].slice(0,a.toNumber(R[1]));throw Error("Top cannot accept this parameter type");})};na.first=function(A,B){return Z(A,B,function(J,L,R){a.pcCheck(R,1,1);return a.isArray(R[0])?0===R[0].length?null:R[0][0]:a.isImmutableArray(R[0])?0===R[0].length()?null:R[0].get(0):null})};na.sort=function(A,B){return Z(A,B,function(J,L,R){a.pcCheck(R,1,2);J=R[0];a.isImmutableArray(J)&&(J=J.toArray());
if(!1===a.isArray(J))throw Error("Illegal Argument");if(1<R.length){if(!1===a.isFunctionParameter(R[1]))throw Error("Illegal Argument");var da=J;const pa=oa(R[1]);return da=Q(da,function(p,t){return pa(p,t)})}R=J;if(0===R.length)return[];J={};for(L=0;L<R.length;L++){var sa=M(R[L]);""!==sa&&(J[sa]=!0)}if(!0===J.Array||!0===J.Dictionary||!0===J.Feature||!0===J.Point||!0===J.Polygon||!0===J.Polyline||!0===J.Multipoint||!0===J.Extent||!0===J.Function)return R.slice(0);L=0;sa="";for(da in J)L++,sa=da;
return R=1<L||"String"===sa?Q(R,function(pa,p){if(null===pa||void 0===pa||pa===a.voidOperation)return null===p||void 0===p||p===a.voidOperation?0:1;if(null===p||void 0===p||p===a.voidOperation)return-1;pa=a.toString(pa);p=a.toString(p);return pa<p?-1:pa===p?0:1}):"Number"===sa?Q(R,function(pa,p){return pa-p}):"Boolean"===sa?Q(R,function(pa,p){return pa===p?0:p?-1:1}):"Date"===sa?Q(R,function(pa,p){return p-pa}):R.slice(0)})};for(const A in na)na[A]={value:new a.NativeFunction(na[A]),valueset:!0,node:null};
const W=function(){};W.prototype=na;W.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};W.prototype.pi={value:Math.PI,valueset:!0,node:null};y={fixSpatialReference:a.fixSpatialReference,parseArguments:S,standardFunction:Z};v.executeScript=function(A,B){let J=B.spatialReference;if(null===J||void 0===J)J=new w({wkid:102100});{var L=B.vars;var R=B.customfunctions;const da=new W;L||(L={});R||(R={});const sa=new b({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",
backwardslash:"\\"});sa.immutable=!1;da.textformatting={value:sa,valueset:!0,node:null};for(const pa in R)da[pa]={value:new a.NativeFunction(R[pa]),native:!0,valueset:!0,node:null};for(const pa in L)da[pa]=L[pa]&&"esri.Graphic"===L[pa].declaredClass?{value:H.createFromGraphic(L[pa]),valueset:!0,node:null}:{value:L[pa],valueset:!0,node:null};L=da}A=U({spatialReference:J,globalScope:L,localScope:null,console:B.console?B.console:ia,lrucache:B.lrucache,interceptor:B.interceptor,depthCounter:1},A.body[0].body);
A instanceof a.ReturnResult&&(A=A.value);A instanceof a.ImplicitResult&&(A=A.value);A===a.voidOperation&&(A=null);if(A===a.breakResult)throw Error("Cannot return BREAK");if(A===a.continueResult)throw Error("Cannot return CONTINUE");if(A instanceof l)throw Error("Cannot return FUNCTION");if(A instanceof a.NativeFunction)throw Error("Cannot return FUNCTION");return A};v.extend=function(A){const B={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:Z,evaluateIdentifier:ua,arcadeCustomFunctionHandler:oa};
for(let J=0;J<A.length;J++)A[J].registerFunctions(B);for(const J in B.functions)na[J]={value:new a.NativeFunction(B.functions[J]),valueset:!0,node:null},W.prototype[J]=na[J];for(A=0;A<B.signatures.length;A++)F.addFunctionDeclaration(B.signatures[A],"async")};v.extractFieldLiterals=function(A,B){return F.findFieldLiterals(A)};v.findFunctionCalls=function(A){return F.findFunctionCalls(A)};v.functionHelper=y;v.referencesFunction=function(A,B){return F.referencesFunction(A,B)};v.referencesMember=function(A,
B){return F.referencesMember(A,B)};v.validateScript=function(A,B){return F.validateScript(A,B,"simple")};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/esprima"],function(v,w,C){v.extractFieldLiterals=function(D,f){return w.findFieldLiterals(D)};v.parseScript=function(D,f=[]){D=C.parse("function _() { "+D+"\n}");if(null===D.body||void 0===D.body)throw Error("No formula provided.");if(0===D.body.length)throw Error("No formula provided.");
if(0===D.body.length)throw Error("No formula provided.");if("BlockStatement"!==D.body[0].body.type)throw Error("Invalid formula content.");const e=w.validateLanguage(D);if(""!==e)throw Error(e);w.findScriptDependencies(D,f);return D};v.referencesFunction=function(D,f){return w.referencesFunction(D,f)};v.referencesMember=function(D,f){return w.referencesMember(D,f)};v.scriptCheck=function(D,f,e,q,g){const l=[];D="function _() { \n"+D+"\n}";try{const h=C.parse(D,{tolerant:!0,loc:!0,range:!0}),m=h.errors;
if(0<m.length)for(let b=0;b<m.length;b++)l.push({line:m[b].lineNumber-2,character:m[b].column,reason:m[b].description});const a=w.checkScript(h,f,e,q,g);for(f=0;f<a.length;f++)a[f].line-=2,a[f].range&&(a[f].range=[a[f][0]-15,a[f][1]-15]),a[f].loc&&(a[f].loc.start.line-=2,a[f].loc.end.line-=2),l.push(a[f])}catch(h){try{if("Unexpected token }"===h.description){const m=D.split("\n").length;h.lineNumber===m?(h.index=D.length-1,l.push({line:h.lineNumber-4,character:h.column,reason:"Unexpected end of script"})):
(h.index=D.length-1,l.push({line:h.lineNumber-2,character:h.column,reason:"Unexpected end of script"}))}else l.push({line:h.lineNumber-2,character:h.column,reason:h.description})}catch(m){}}return l};v.validateScript=function(D,f,e){return w.validateScript(D,f,e)};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/esprima":function(){define(["exports","./syntax","./comment-handler","./parser","./tokenizer"],function(v,w,C,D,f){function e(q,g,l){let h=null;const m=(n,r)=>{l&&l(n,
r);h&&h.visit(n,r)};let a="function"===typeof l?m:null,b=!1;if(g){b="boolean"===typeof g.comment&&g.comment;const n="boolean"===typeof g.attachComment&&g.attachComment;if(b||n)h=new C.CommentHandler,h.attach=n,g.comment=!0,a=m}q=new D.Parser(q,g,a);g=q.parseScript();b&&h&&(g.comments=h.comments);q.config.tokens&&(g.tokens=q.tokens);q.config.tolerant&&(g.errors=q.errorHandler.errors);return g}v.Syntax=w.Syntax;v.parse=e;v.parseScript=function(q,g,l){g=g||{};g.sourceType="script";return e(q,g,l)};v.tokenize=
function(q,g,l){q=new f.Tokenizer(q,g);g=[];try{for(;;){let h=q.getNextToken();if(!h)break;l&&(h=l(h));g.push(h)}}catch(h){q.errorHandler.tolerate(h)}q.errorHandler.tolerant&&(g.errors=q.errors());return g};v.version="4.0.0-dev";Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/syntax":function(){define(["exports"],function(v){v.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",
BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",
MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"};
Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],function(v,w){let C=function(){function D(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}var f=D.prototype;f.insertInnerComments=function(e,q){if(e.type===w.Syntax.BlockStatement&&0===e.body.length){const g=[];for(let l=this.leading.length-1;0<=l;--l){const h=this.leading[l];q.end.offset>=h.start&&(g.unshift(h.comment),this.leading.splice(l,
1),this.trailing.splice(l,1))}g.length&&(e.innerComments=g)}};f.findTrailingComments=function(e){let q=[];if(0<this.trailing.length){for(var g=this.trailing.length-1;0<=g;--g){var l=this.trailing[g];l.start>=e.end.offset&&q.unshift(l.comment)}this.trailing.length=0;return q}(g=this.stack[this.stack.length-1])&&g.node.trailingComments&&(l=g.node.trailingComments[0])&&l.range[0]>=e.end.offset&&(q=g.node.trailingComments,delete g.node.trailingComments);return q};f.findLeadingComments=function(e){const q=
[];for(var g;0<this.stack.length;){var l=this.stack[this.stack.length-1];if(l&&l.start>=e.start.offset)g=l.node,this.stack.pop();else break}if(g){l=g.leadingComments?g.leadingComments.length:0;for(--l;0<=l;--l){const h=g.leadingComments[l];h.range[1]<=e.start.offset&&(q.unshift(h),g.leadingComments.splice(l,1))}g.leadingComments&&0===g.leadingComments.length&&delete g.leadingComments;return q}for(g=this.leading.length-1;0<=g;--g)l=this.leading[g],l.start<=e.start.offset&&(q.unshift(l.comment),this.leading.splice(g,
1));return q};f.visitNode=function(e,q){if(!(e.type===w.Syntax.Program&&0<e.body.length)){this.insertInnerComments(e,q);var g=this.findTrailingComments(q),l=this.findLeadingComments(q);0<l.length&&(e.leadingComments=l);0<g.length&&(e.trailingComments=g);this.stack.push({node:e,start:q.start.offset})}};f.visitComment=function(e,q){const g="L"===e.type[0]?"Line":"Block",l={type:g,value:e.value};e.range&&(l.range=e.range);e.loc&&(l.loc=e.loc);this.comments.push(l);this.attach&&(q={comment:{type:g,value:e.value,
range:[q.start.offset,q.end.offset]},start:q.start.offset},e.loc&&(q.comment.loc=e.loc),e.type=g,this.leading.push(q),this.trailing.push(q))};f.visit=function(e,q){"LineComment"===e.type?this.visitComment(e,q):"BlockComment"===e.type?this.visitComment(e,q):this.attach&&this.visitNode(e,q)};return D}();v.CommentHandler=C;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/parser":function(){define("exports ./syntax ./assert ./error-handler ./messages ./nodes ./scanner ./token".split(" "),
function(v,w,C,D,f,e,q,g){let l=function(){function h(a,b={},n){this.config={range:"boolean"===typeof b.range&&b.range,loc:"boolean"===typeof b.loc&&b.loc,source:null,tokens:"boolean"===typeof b.tokens&&b.tokens,comment:"boolean"===typeof b.comment&&b.comment,tolerant:"boolean"===typeof b.tolerant&&b.tolerant};this.config.loc&&b.source&&null!==b.source&&(this.config.source=String(b.source));this.delegate=n;this.errorHandler=new D.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=
new q.Scanner(a,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,
allowIn:!0,allowStrictDirective:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var m=h.prototype;m.throwError=function(a,
...b){const n=b.slice();a=a.replace(/%(\d)/g,(r,H)=>{C.assert(H<n.length,"Message reference must be in range");return n[H]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,a);};m.tolerateError=function(a,...b){const n=b.slice();a=a.replace(/%(\d)/g,(r,H)=>{C.assert(H<n.length,"Message reference must be in range");return n[H]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,a)};m.unexpectedTokenError=
function(a,b){let n=b||f.Messages.UnexpectedToken;a?(b||(n=2===a.type?f.Messages.UnexpectedEOS:3===a.type?f.Messages.UnexpectedIdentifier:6===a.type?f.Messages.UnexpectedNumber:8===a.type?f.Messages.UnexpectedString:10===a.type?f.Messages.UnexpectedTemplate:f.Messages.UnexpectedToken,4===a.type&&(this.scanner.isFutureReservedWord(a.value)?n=f.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&(n=f.Messages.StrictReservedWord))),b=a.value):b="ILLEGAL";
n=n.replace("%0",b);return a&&"number"===typeof a.lineNumber?this.errorHandler.createError(a.start,a.lineNumber,a.start-(this.lastMarker.index-this.lastMarker.column)+1,n):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,n)};m.throwUnexpectedToken=function(a,b){throw this.unexpectedTokenError(a,b);};m.tolerateUnexpectedToken=function(a,b){this.errorHandler.tolerate(this.unexpectedTokenError(a,b))};m.collectComments=function(){if(this.config.comment){const a=
this.scanner.scanComments();if(0<a.length&&this.delegate)for(let b=0;b<a.length;++b){const n=a[b],r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])};this.config.range&&(r.range=n.range);this.config.loc&&(r.loc=n.loc);this.delegate(r,{start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}})}}else this.scanner.scanComments()};m.getTokenRaw=function(a){return this.scanner.source.slice(a.start,
a.end)};m.convertToken=function(a){const b={type:g.TokenName[a.type],value:this.getTokenRaw(a)};this.config.range&&(b.range=[a.start,a.end]);this.config.loc&&(b.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===a.type&&(b.regex={pattern:a.pattern,flags:a.flags});return b};m.nextToken=function(){const a=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;
this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const b=this.scanner.lex();this.hasLineTerminator=a.lineNumber!==b.lineNumber;b&&this.context.strict&&3===b.type&&this.scanner.isStrictModeReservedWord(b.value)&&(b.type=4);this.lookahead=b;this.config.tokens&&2!==
b.type&&this.tokens.push(this.convertToken(b));return a};m.nextRegexToken=function(){this.collectComments();const a=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a)));this.lookahead=a;this.nextToken();return a};m.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};m.startNode=function(a,b=0){let n=a.start-a.lineStart,r=a.lineNumber;0>n&&(n+=b,r--);return{index:a.start,line:r,column:n}};
m.finalize=function(a,b){this.config.range&&(b.range=[a.index,this.lastMarker.index]);this.config.loc&&(b.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(b.loc.source=this.config.source));this.delegate&&this.delegate(b,{start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return b};m.expect=function(a){const b=this.nextToken();7===
b.type&&b.value===a||this.throwUnexpectedToken(b)};m.expectCommaSeparator=function(){if(this.config.tolerant){const a=this.lookahead;7===a.type&&","===a.value?this.nextToken():7===a.type&&";"===a.value?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,f.Messages.UnexpectedToken)}else this.expect(",")};m.expectKeyword=function(a){const b=this.nextToken();4===b.type&&b.value.toLowerCase()===a.toLowerCase()||this.throwUnexpectedToken(b)};m.match=function(a){return 7===
this.lookahead.type&&this.lookahead.value===a};m.matchKeyword=function(a){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===a.toLowerCase()};m.matchContextualKeyword=function(a){return 3===this.lookahead.type&&this.lookahead.value===a};m.matchAssign=function(){if(7!==this.lookahead.type)return!1;const a=this.lookahead.value;return"\x3d"===a||"*\x3d"===a||"**\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===
a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a};m.isolateCoverGrammar=function(a){const b=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=b;this.context.isAssignmentTarget=
n;this.context.firstCoverInitializedNameError=r;return a};m.inheritCoverGrammar=function(a){const b=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);this.context.isBindingElement=this.context.isBindingElement&&b;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n;this.context.firstCoverInitializedNameError=
r||this.context.firstCoverInitializedNameError;return a};m.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};m.parsePrimaryExpression=function(){var a=this.createNode();let b,n;switch(this.lookahead.type){case 3:a=this.finalize(a,new e.Identifier(this.nextToken().value));
break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,f.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();n=this.getTokenRaw(b);a=this.finalize(a,new e.Literal(b.value,n));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();n=this.getTokenRaw(b);a=this.finalize(a,new e.Literal("true"===b.value.toLowerCase(),n));break;case 5:this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1;b=this.nextToken();n=this.getTokenRaw(b);a=this.finalize(a,new e.Literal(null,n));break;case 10:a=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;a=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":a=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":a=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:a=this.throwUnexpectedToken(this.nextToken())}break;
case 4:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;a=this.matchKeyword("function")?this.parseFunctionExpression():this.throwUnexpectedToken(this.nextToken());break;default:a=this.throwUnexpectedToken(this.nextToken())}return a};m.parseArrayInitializer=function(){const a=this.createNode(),b=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),b.push(null)):(b.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));
this.expect("]");return this.finalize(a,new e.ArrayExpression(b))};m.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;const b=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;const r=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message);this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,
a.message);this.context.strict=b;this.context.allowStrictDirective=n;return r};m.parsePropertyMethodFunction=function(){const a=this.createNode(),b=this.parseFormalParameters(),n=this.parsePropertyMethod(b);return this.finalize(a,new e.FunctionExpression(null,b.params,n,!1))};m.parseObjectPropertyKey=function(){var a=this.createNode();const b=this.nextToken();switch(b.type){case 8:case 6:{this.context.strict&&b.octal&&this.tolerateUnexpectedToken(b,f.Messages.StrictOctalLiteral);const n=this.getTokenRaw(b);
a=this.finalize(a,new e.Literal(b.value,n));break}case 3:case 1:case 5:case 4:a=this.finalize(a,new e.Identifier(b.value));break;case 7:"["===b.value?(a=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):a=this.throwUnexpectedToken(b);break;default:a=this.throwUnexpectedToken(b)}return a};m.isPropertyKey=function(a,b){return a.type===w.Syntax.Identifier&&a.name===b||a.type===w.Syntax.Literal&&a.value===b};m.parseObjectProperty=function(a){const b=this.createNode();var n=this.lookahead,
r=null;let H=null,F=!1,y=!1,u=!1,d=!1;3===n.type?(r=n.value,this.nextToken(),F=this.match("["),r=(d=!this.hasLineTerminator&&"async"===r&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?this.parseObjectPropertyKey():this.finalize(b,new e.Identifier(r))):this.match("*")?this.nextToken():(F=this.match("["),r=this.parseObjectPropertyKey());r||this.throwUnexpectedToken(this.lookahead);this.match(":")&&!d?(!F&&this.isPropertyKey(r,"__proto__")&&(a.value&&this.tolerateError(f.Messages.DuplicateProtoProperty),
a.value=!0),this.nextToken(),H=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(H=this.parsePropertyMethodFunction(),y=!0):3===n.type?(a=this.finalize(b,new e.Identifier(n.value)),this.match("\x3d")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),u=!0,n=this.isolateCoverGrammar(this.parseAssignmentExpression),H=this.finalize(b,new e.AssignmentPattern(a,n))):(u=!0,H=a)):this.throwUnexpectedToken(this.nextToken());return this.finalize(b,new e.Property("init",
r,F,H,y,u))};m.parseObjectInitializer=function(){const a=this.createNode();this.expect("{");const b=[],n={value:!1};for(;!this.match("}");)b.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new e.ObjectExpression(b))};m.parseTemplateHead=function(){C.assert(this.lookahead.head,"Template literal must start with a template head");const a=this.createNode(),b=this.nextToken();return this.finalize(a,new e.TemplateElement({raw:b.value,
cooked:b.cooked},b.tail))};m.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();const a=this.createNode(),b=this.nextToken();return this.finalize(a,new e.TemplateElement({raw:b.value,cooked:b.cooked},b.tail))};m.parseTemplateLiteral=function(){const a=this.createNode(),b=[],n=[];let r=this.parseTemplateHead();for(n.push(r);!r.tail;)b.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(a,new e.TemplateLiteral(n,b))};m.reinterpretExpressionAsPattern=
function(a){switch(a.type){case w.Syntax.ArrayExpression:a.type=w.Syntax.ArrayPattern;for(var b=0;b<a.elements.length;b++)null!==a.elements[b]&&this.reinterpretExpressionAsPattern(a.elements[b]);break;case w.Syntax.ObjectExpression:a.type=w.Syntax.ObjectPattern;for(b=0;b<a.properties.length;b++)this.reinterpretExpressionAsPattern(a.properties[b].value);break;case w.Syntax.AssignmentExpression:a.type=w.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left)}};m.parseGroupExpression=
function(){this.expect("(");if(this.match(")")){this.nextToken();this.match("\x3d\x3e")||this.expect("\x3d\x3e");var a={type:"ArrowParameterPlaceHolder",params:[],async:!1}}else{var b=this.lookahead;let n=!1;this.context.isBindingElement=!0;a=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){const r=[];this.context.isAssignmentTarget=!1;for(r.push(a);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(a=0;a<r.length;a++)this.reinterpretExpressionAsPattern(r[a]);
n=!0;a={type:"ArrowParameterPlaceHolder",params:r,async:!1}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(a=this.finalize(this.startNode(b),new e.SequenceExpression(r)))}if(!n){this.expect(")");if(this.match("\x3d\x3e")&&(a.type===w.Syntax.Identifier&&"yield"===a.name&&(n=!0,a={type:"ArrowParameterPlaceHolder",params:[a],async:!1}),!n)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(a.type===w.Syntax.SequenceExpression)for(b=0;b<
a.expressions.length;b++)this.reinterpretExpressionAsPattern(a.expressions[b]);else this.reinterpretExpressionAsPattern(a);a={type:"ArrowParameterPlaceHolder",params:a.type===w.Syntax.SequenceExpression?a.expressions:[a],async:!1}}this.context.isBindingElement=!1}}return a};m.parseArguments=function(){this.expect("(");const a=[];if(!this.match(")"))for(;;){const b=this.isolateCoverGrammar(this.parseAssignmentExpression);a.push(b);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");
return a};m.isIdentifierName=function(a){return 3===a.type||4===a.type||1===a.type||5===a.type};m.parseIdentifierName=function(){const a=this.createNode(),b=this.nextToken();this.isIdentifierName(b)||this.throwUnexpectedToken(b);return this.finalize(a,new e.Identifier(b.value))};m.parseLeftHandSideExpressionAllowCall=function(){const a=this.lookahead,b=this.context.allowIn;this.context.allowIn=!0;let n;for(n=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=
!1;this.context.isAssignmentTarget=!0;this.expect(".");var r=this.parseIdentifierName();n=this.finalize(this.startNode(a),new e.StaticMemberExpression(n,r))}else if(this.match("("))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1,r=this.parseArguments(),n=this.finalize(this.startNode(a),new e.CallExpression(n,r));else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),r=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),
n=this.finalize(this.startNode(a),new e.ComputedMemberExpression(n,r));else break;this.context.allowIn=b;return n};m.parseLeftHandSideExpression=function(){C.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const a=this.startNode(this.lookahead);let b=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);
this.expect("]");b=this.finalize(a,new e.ComputedMemberExpression(b,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),b=this.finalize(a,new e.StaticMemberExpression(b,n));else break;return b};m.parseUpdateExpression=function(){let a;var b=this.lookahead;if(this.match("++")||this.match("--")){b=this.startNode(b);var n=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.strict&&
a.type===w.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(f.Messages.StrictLHSPrefix);this.context.isAssignmentTarget||this.tolerateError(f.Messages.InvalidLHSInAssignment);a=this.finalize(b,new e.UpdateExpression(n.value,a,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else a=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.strict&&
a.type===w.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(f.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(f.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,n=this.nextToken().value,a=this.finalize(this.startNode(b),new e.UpdateExpression(n,a,!1)));return a};m.parseUnaryExpression=function(){let a;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||
this.matchKeyword("void")||this.matchKeyword("typeof")){const b=this.startNode(this.lookahead),n=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);a=this.finalize(b,new e.UnaryExpression(n.value,a));this.context.strict&&"delete"===a.operator&&a.argument.type===w.Syntax.Identifier&&this.tolerateError(f.Messages.StrictDelete);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else a=this.parseUpdateExpression();return a};m.parseExponentiationExpression=function(){const a=
this.lookahead;var b=this.inheritCoverGrammar(this.parseUnaryExpression);if(b.type!==w.Syntax.UnaryExpression&&this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;const n=this.isolateCoverGrammar(this.parseExponentiationExpression);b=this.finalize(this.startNode(a),new e.BinaryExpression("**",b,n))}return b};m.binaryPrecedence=function(a){const b=a.value;return 7===a.type?this.operatorPrecedence[b]||0:4===a.type?"instanceof"===b||this.context.allowIn&&
"in"===b?7:0:0};m.parseBinaryExpression=function(){var a=this.lookahead,b=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(0<r){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;a=[a,this.lookahead];var H=this.isolateCoverGrammar(this.parseExponentiationExpression);n=[b,n.value,H];for(var F=[r];;){r=this.binaryPrecedence(this.lookahead);if(0>=r)break;for(;2<n.length&&r<=F[F.length-1];){H=n.pop();const u=
n.pop();F.pop();b=n.pop();a.pop();var y=a[a.length-1];y=this.startNode(y,y.lineStart);n.push(this.finalize(y,new e.BinaryExpression(u,b,H)))}n.push(this.nextToken().value);F.push(r);a.push(this.lookahead);n.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}r=n.length-1;b=n[r];for(F=a.pop();1<r;)H=a.pop(),F=this.startNode(H,F&&F.lineStart),b=this.finalize(F,new e.BinaryExpression(n[r-1],n[r-2],b)),r-=2,F=H}return b};m.parseConditionalExpression=function(){const a=this.lookahead;let b=
this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;const r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n;this.expect(":");n=this.isolateCoverGrammar(this.parseAssignmentExpression);b=this.finalize(this.startNode(a),new e.ConditionalExpression(b,r,n));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return b};m.checkPatternParam=function(a,b){switch(b.type){case w.Syntax.Identifier:this.validateParam(a,
b,b.name);break;case w.Syntax.AssignmentPattern:this.checkPatternParam(a,b.left);break;case w.Syntax.ArrayPattern:for(var n=0;n<b.elements.length;n++)null!==b.elements[n]&&this.checkPatternParam(a,b.elements[n]);break;case w.Syntax.ObjectPattern:for(n=0;n<b.properties.length;n++)this.checkPatternParam(a,b.properties[n].value)}a.simple=a.simple&&b instanceof e.Identifier};m.reinterpretAsCoverFormalsList=function(a){const b=[a],n={simple:!0,paramSet:{}};switch(a.type){case w.Syntax.Identifier:break;
default:return null}for(a=0;a<b.length;++a){const r=b[a];this.checkPatternParam(n,r);b[a]=r}n.message===f.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?n.stricted:n.firstRestricted,n.message);return{simple:n.simple,params:b,stricted:n.stricted,firstRestricted:n.firstRestricted,message:n.message}};m.parseAssignmentExpression=function(){let a;const b=this.lookahead;var n=b;a=this.parseConditionalExpression();if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(f.Messages.InvalidLHSInAssignment);
if(this.context.strict&&a.type===w.Syntax.Identifier){var r=a;this.scanner.isRestrictedWord(r.name)&&this.tolerateUnexpectedToken(n,f.Messages.StrictLHSAssignment);this.scanner.isStrictModeReservedWord(r.name)&&this.tolerateUnexpectedToken(n,f.Messages.StrictReservedWord)}this.match("\x3d")?this.reinterpretExpressionAsPattern(a):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);n=this.nextToken();n=n.value;r=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(this.startNode(b),
new e.AssignmentExpression(n,a,r));this.context.firstCoverInitializedNameError=null}return a};m.parseExpression=function(){const a=this.lookahead;let b=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){const n=[];for(n.push(b);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));b=this.finalize(this.startNode(a),new e.SequenceExpression(n))}return b};m.parseStatementListItem=function(){let a;this.context.isAssignmentTarget=
!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":a=this.parseFunctionDeclaration();break;default:a=this.parseStatement()}else a=this.parseStatement();return a};m.parseBlock=function(){const a=this.createNode();this.expect("{");const b=[];for(;!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new e.BlockStatement(b))};m.parseBlockOrObjectInitialiser=function(){const a=this.createNode();this.expect("{");
if(3===this.lookahead.type||8===this.lookahead.type){var b=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(b);if(7===n.type&&":"===n.value){b=[];for(n={value:!1};!this.match("}");)b.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new e.ObjectExpression(b))}}for(b=[];!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new e.BlockStatement(b))};
m.parseLexicalBinding=function(a,b){const n=this.createNode();a=this.parsePattern([],a);this.context.strict&&a.type===w.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(f.Messages.StrictVarName);let r=null;if(!b.inFor&&a.type!==w.Syntax.Identifier||this.match("\x3d"))this.expect("\x3d"),r=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(n,new e.VariableDeclarator(a,r))};m.parseBindingList=function(a,b){const n=[this.parseLexicalBinding(a,b)];
for(;this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(a,b));return n};m.parseArrayPattern=function(a,b){const n=this.createNode();this.expect("[");const r=[];for(;!this.match("]");)this.match(",")?(this.nextToken(),r.push(null)):(r.push(this.parsePatternWithDefault(a,b)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(n,new e.ArrayPattern(r))};m.parsePropertyPattern=function(a,b){const n=this.createNode();let r=!1,H=!1,F;if(3===this.lookahead.type){var y=
this.lookahead;F=this.parseVariableIdentifier();const u=this.finalize(n,new e.Identifier(y.value));this.match("\x3d")?(a.push(y),H=!0,this.nextToken(),a=this.parseAssignmentExpression(),y=this.finalize(this.startNode(y),new e.AssignmentPattern(u,a))):this.match(":")?(this.expect(":"),y=this.parsePatternWithDefault(a,b)):(a.push(y),H=!0,y=u)}else r=this.match("["),F=this.parseObjectPropertyKey(),this.expect(":"),y=this.parsePatternWithDefault(a,b);return this.finalize(n,new e.Property("init",F,r,y,
!1,H))};m.parseObjectPattern=function(a,b){const n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(a,b)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(n,new e.ObjectPattern(r))};m.parsePattern=function(a,b){this.match("[")?a=this.parseArrayPattern(a,b):this.match("{")?a=this.parseObjectPattern(a,b):(!this.matchKeyword("let")||"const"!==b&&"let"!==b||this.tolerateUnexpectedToken(this.lookahead,f.Messages.LetInLexicalBinding),
a.push(this.lookahead),a=this.parseVariableIdentifier(b));return a};m.parsePatternWithDefault=function(a,b){const n=this.lookahead;a=this.parsePattern(a,b);this.match("\x3d")&&(this.nextToken(),b=this.isolateCoverGrammar(this.parseAssignmentExpression),a=this.finalize(this.startNode(n),new e.AssignmentPattern(a,b)));return a};m.parseVariableIdentifier=function(a){const b=this.createNode(),n=this.nextToken();3!==n.type&&(this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?
this.tolerateUnexpectedToken(n,f.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==a)&&this.throwUnexpectedToken(n));return this.finalize(b,new e.Identifier(n.value))};m.parseVariableDeclaration=function(a){const b=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===w.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(f.Messages.StrictVarName);let r=null;this.match("\x3d")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):
n.type===w.Syntax.Identifier||a.inFor||this.expect("\x3d");return this.finalize(b,new e.VariableDeclarator(n,r))};m.parseVariableDeclarationList=function(a){a={inFor:a.inFor};const b=[];for(b.push(this.parseVariableDeclaration(a));this.match(",");)this.nextToken(),b.push(this.parseVariableDeclaration(a));return b};m.parseVariableStatement=function(){const a=this.createNode();this.expectKeyword("var");const b=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(a,
new e.VariableDeclaration(b,"var"))};m.parseEmptyStatement=function(){const a=this.createNode();this.expect(";");return this.finalize(a,new e.EmptyStatement)};m.parseExpressionStatement=function(){const a=this.createNode(),b=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new e.ExpressionStatement(b))};m.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&this.tolerateError(f.Messages.StrictFunction);return this.parseStatement(!0)};m.parseIfStatement=
function(){const a=this.createNode();let b,n=null;this.expectKeyword("if");this.expect("(");const r=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),b=this.finalize(this.createNode(),new e.EmptyStatement)):(this.expect(")"),b=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause()));return this.finalize(a,new e.IfStatement(r,b,n))};m.parseForStatement=function(){var a=null;let b=null,n=null;let r;const H=
this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){a=this.createNode();this.nextToken();var F=this.context.allowIn;this.context.allowIn=!1;var y=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=F;if(1===y.length&&this.matchKeyword("in")){var u=y[0];u.init&&(u.id.type===w.Syntax.ArrayPattern||u.id.type===w.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(f.Messages.ForInOfLoopInitializer,
"for-in");a=this.finalize(a,new e.VariableDeclaration(y,"var"));this.nextToken();u=a;r=this.parseExpression();a=null}else 1===y.length&&null===y[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new e.VariableDeclaration(y,"var")),this.nextToken(),u=a,r=this.parseAssignmentExpression(),a=null):(a=this.finalize(a,new e.VariableDeclaration(y,"var")),this.expect(";"))}else{y=this.lookahead;F=this.context.isBindingElement;const d=this.context.isAssignmentTarget,k=this.context.firstCoverInitializedNameError,
c=this.context.allowIn;this.context.allowIn=!1;a=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=c;if(this.matchKeyword("in"))this.context.isAssignmentTarget&&a.type!==w.Syntax.AssignmentExpression||this.tolerateError(f.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),u=a,r=this.parseExpression(),a=null;else{this.context.isBindingElement=F;this.context.isAssignmentTarget=d;this.context.firstCoverInitializedNameError=k;if(this.match(",")){for(a=
[a];this.match(",");)this.nextToken(),a.push(this.isolateCoverGrammar(this.parseAssignmentExpression));a=this.finalize(this.startNode(y),new e.SequenceExpression(a))}this.expect(";")}}"undefined"===typeof u&&(this.match(";")||(b=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(n=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),y=this.finalize(this.createNode(),new e.EmptyStatement)):
(this.expect(")"),F=this.context.inIteration,this.context.inIteration=!0,y=this.isolateCoverGrammar(this.parseStatementBlockAllowed),this.context.inIteration=F);return"undefined"===typeof u?this.finalize(H,new e.ForStatement(a,b,n,y)):this.finalize(H,new e.ForInStatement(u,r,y))};m.parseContinueStatement=function(){const a=this.createNode();this.expectKeyword("continue");let b=null;if(3===this.lookahead.type&&!this.hasLineTerminator){const n=this.parseVariableIdentifier();b=n;Object.prototype.hasOwnProperty.call(this.context.labelSet,
"$"+n.name)||this.throwError(f.Messages.UnknownLabel,n.name)}this.consumeSemicolon();null!==b||this.context.inIteration||this.throwError(f.Messages.IllegalContinue);return this.finalize(a,new e.ContinueStatement(b))};m.parseBreakStatement=function(){const a=this.createNode();this.expectKeyword("break");var b=null;3!==this.lookahead.type||this.hasLineTerminator||(b=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+b.name)||this.throwError(f.Messages.UnknownLabel,
b.name));this.consumeSemicolon();null!==b||this.context.inIteration||this.context.inSwitch||this.throwError(f.Messages.IllegalBreak);return this.finalize(a,new e.BreakStatement(b))};m.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(f.Messages.IllegalReturn);const a=this.createNode();this.expectKeyword("return");const b=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();
this.consumeSemicolon();return this.finalize(a,new e.ReturnStatement(b))};m.parseLabelledStatement=function(){const a=this.createNode();var b=this.parseExpression();this.consumeSemicolon();b=new e.ExpressionStatement(b);return this.finalize(a,b)};m.parseStatementBlockAllowed=function(){return this.parseStatement(!0)};m.parseStatement=function(a=!1){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:a=this.parseExpressionStatement();break;case 7:{const b=this.lookahead.value;a=
"{"===b?a?this.parseBlockOrObjectInitialiser():this.parseObjectInitializer():"("===b?this.parseExpressionStatement():";"===b?this.parseEmptyStatement():this.parseExpressionStatement();break}case 3:a=this.parseLabelledStatement();break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":a=this.parseBreakStatement();break;case "continue":a=this.parseContinueStatement();break;case "for":a=this.parseForStatement();break;case "function":a=this.parseFunctionDeclaration();break;case "if":a=this.parseIfStatement();
break;case "return":a=this.parseReturnStatement();break;case "var":a=this.parseVariableStatement();break;default:a=this.parseExpressionStatement()}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a};m.parseFunctionSourceElements=function(){const a=this.createNode();this.expect("{");const b=[],n=this.context.labelSet,r=this.context.inIteration,H=this.context.inSwitch,F=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=
!0;2!==this.lookahead.type&&!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=n;this.context.inIteration=r;this.context.inSwitch=H;this.context.inFunctionBody=F;return this.finalize(a,new e.BlockStatement(b))};m.validateParam=function(a,b,n){const r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(a.stricted=b,a.message=f.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,r)&&(a.stricted=b,a.message=f.Messages.StrictParamDupe)):
a.firstRestricted||(this.scanner.isRestrictedWord(n)?(a.firstRestricted=b,a.message=f.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(a.firstRestricted=b,a.message=f.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,r)&&(a.stricted=b,a.message=f.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(a.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):a.paramSet[r]=!0};m.parseFormalParameter=function(a){const b=
[],n=this.parsePatternWithDefault(b);for(let r=0;r<b.length;r++)this.validateParam(a,b[r],b[r].value);a.simple=a.simple&&n instanceof e.Identifier;a.params.push(n)};m.parseFormalParameters=function(a){a={simple:!0,params:[],firstRestricted:a};this.expect("(");if(!this.match(")"))for(a.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(a);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:a.simple,params:a.params,stricted:a.stricted,firstRestricted:a.firstRestricted,
message:a.message}};m.parseFunctionDeclaration=function(a){const b=this.createNode();this.expectKeyword("function");let n,r=null,H=null;a&&this.match("(")||(a=this.lookahead,r=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,f.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(H=a,n=f.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(H=a,n=f.Messages.StrictReservedWord));var F=this.parseFormalParameters(H);
a=F.params;const y=F.stricted;H=F.firstRestricted;F.message&&(n=F.message);const u=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=F.simple;F=this.parseFunctionSourceElements();this.context.strict&&H&&this.throwUnexpectedToken(H,n);this.context.strict&&y&&this.tolerateUnexpectedToken(y,n);this.context.strict=u;this.context.allowStrictDirective=d;return this.finalize(b,new e.FunctionDeclaration(r,a,F,!1))};m.parseFunctionExpression=function(){const a=this.createNode();
this.expectKeyword("function");let b,n=null,r;if(!this.match("(")){var H=this.lookahead;n=this.parseVariableIdentifier();this.context.strict?this.scanner.isRestrictedWord(H.value)&&this.tolerateUnexpectedToken(H,f.Messages.StrictFunctionName):this.scanner.isRestrictedWord(H.value)?(r=H,b=f.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(H.value)&&(r=H,b=f.Messages.StrictReservedWord)}var F=this.parseFormalParameters(r);H=F.params;const y=F.stricted;r=F.firstRestricted;F.message&&
(b=F.message);const u=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=F.simple;F=this.parseFunctionSourceElements();this.context.strict&&r&&this.throwUnexpectedToken(r,b);this.context.strict&&y&&this.tolerateUnexpectedToken(y,b);this.context.strict=u;this.context.allowStrictDirective=d;return this.finalize(a,new e.FunctionExpression(n,H,F,!1))};m.qualifiedPropertyName=function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===
a.value}return!1};m.isStartOfExpression=function(){let a=!0;const b=this.lookahead.value;switch(this.lookahead.type){case 7:a="["===b||"("===b||"{"===b||"+"===b||"-"===b||"!"===b||"~"===b||"++"===b||"--"===b||"/"===b||"/\x3d"===b;break;case 4:a="class"===b||"delete"===b||"function"===b||"let"===b||"new"===b||"super"===b||"this"===b||"typeof"===b||"void"===b||"yield"===b}return a};m.parseScript=function(){const a=this.createNode(),b=[];for(;2!==this.lookahead.type;)b.push(this.parseStatementListItem());
return this.finalize(a,new e.Script(b))};return h}();v.Parser=l;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/assert":function(){define(["exports"],function(v){v.assert=function(w,C){if(!w)throw Error("ASSERT: "+C);};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(v){let w=function(){function C(){this.errors=[];this.tolerant=!1}var D=C.prototype;D.recordError=function(f){this.errors.push(f)};D.tolerate=
function(f){if(this.tolerant)this.recordError(f);else throw f;};D.constructError=function(f,e){f=Error(f);try{throw f;}catch(q){Object.create&&Object.defineProperty&&(f=Object.create(q),Object.defineProperty(f,"column",{value:e}))}return f};D.createError=function(f,e,q,g){q=this.constructError("Line "+e+": "+g,q);q.index=f;q.lineNumber=e;q.description=g;return q};D.throwError=function(f,e,q,g){throw this.createError(f,e,q,g);};D.tolerateError=function(f,e,q,g){f=this.createError(f,e,q,g);if(this.tolerant)this.recordError(f);
else throw f;};return C}();v.ErrorHandler=w;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/messages":function(){define(["exports"],function(v){v.Messages={BadImportCallArity:"Unexpected token",BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",
DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token \x3d",DefaultRestProperty:"Unexpected token \x3d",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",
IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",
InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",
ParameterAfterRestParameter:"Rest parameter must be last formal parameter",PropertyAfterRestProperty:"Unexpected token",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",
StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",
StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",
UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/nodes":function(){define(["exports","./syntax"],function(v,w){v.ArrayExpression=function(C){this.type=w.Syntax.ArrayExpression;this.elements=C};v.ArrayPattern=function(C){this.type=w.Syntax.ArrayPattern;this.elements=C};v.AssignmentExpression=function(C,D,f){this.type=w.Syntax.AssignmentExpression;this.operator=C;this.left=D;this.right=
f};v.AssignmentPattern=function(C,D){this.type=w.Syntax.AssignmentPattern;this.left=C;this.right=D};v.BinaryExpression=function(C,D,f){this.type="||"===C||"\x26\x26"===C?w.Syntax.LogicalExpression:w.Syntax.BinaryExpression;this.operator=C;this.left=D;this.right=f};v.BlockStatement=function(C){this.type=w.Syntax.BlockStatement;this.body=C};v.BreakStatement=function(C){this.type=w.Syntax.BreakStatement;this.label=C};v.CallExpression=function(C,D){this.type=w.Syntax.CallExpression;this.callee=C;this.arguments=
D};v.ComputedMemberExpression=function(C,D){this.type=w.Syntax.MemberExpression;this.computed=!0;this.object=C;this.property=D};v.ConditionalExpression=function(C,D,f){this.type=w.Syntax.ConditionalExpression;this.test=C;this.consequent=D;this.alternate=f};v.ContinueStatement=function(C){this.type=w.Syntax.ContinueStatement;this.label=C};v.EmptyStatement=function(){this.type=w.Syntax.EmptyStatement};v.ExpressionStatement=function(C){this.type=w.Syntax.ExpressionStatement;this.expression=C};v.ForInStatement=
function(C,D,f){this.type=w.Syntax.ForInStatement;this.left=C;this.right=D;this.body=f;this.each=!1};v.ForStatement=function(C,D,f,e){this.type=w.Syntax.ForStatement;this.init=C;this.test=D;this.update=f;this.body=e};v.FunctionDeclaration=function(C,D,f,e){this.type=w.Syntax.FunctionDeclaration;this.id=C;this.params=D;this.body=f;this.generator=e;this.async=this.expression=!1};v.FunctionExpression=function(C,D,f,e){this.type=w.Syntax.FunctionExpression;this.id=C;this.params=D;this.body=f;this.generator=
e;this.async=this.expression=!1};v.Identifier=function(C){this.type=w.Syntax.Identifier;this.name=C};v.IfStatement=function(C,D,f){this.type=w.Syntax.IfStatement;this.test=C;this.consequent=D;this.alternate=f};v.Literal=function(C,D){this.type=w.Syntax.Literal;this.value=C;this.raw=D};v.MethodDefinition=function(C,D,f,e,q){this.type=w.Syntax.MethodDefinition;this.key=C;this.computed=D;this.value=f;this.kind=e;this.static=q};v.Module=function(C){this.type=w.Syntax.Program;this.body=C;this.sourceType=
"module"};v.ObjectExpression=function(C){this.type=w.Syntax.ObjectExpression;this.properties=C};v.ObjectPattern=function(C){this.type=w.Syntax.ObjectPattern;this.properties=C};v.Property=function(C,D,f,e,q,g){this.type=w.Syntax.Property;this.key=D;this.computed=f;this.value=e;this.kind=C;this.method=q;this.shorthand=g};v.ReturnStatement=function(C){this.type=w.Syntax.ReturnStatement;this.argument=C};v.Script=function(C){this.type=w.Syntax.Program;this.body=C;this.sourceType="script"};v.SequenceExpression=
function(C){this.type=w.Syntax.SequenceExpression;this.expressions=C};v.StaticMemberExpression=function(C,D){this.type=w.Syntax.MemberExpression;this.computed=!1;this.object=C;this.property=D};v.TemplateElement=function(C,D){this.type=w.Syntax.TemplateElement;this.value=C;this.tail=D};v.TemplateLiteral=function(C,D){this.type=w.Syntax.TemplateLiteral;this.quasis=C;this.expressions=D};v.UnaryExpression=function(C,D){this.type=w.Syntax.UnaryExpression;this.operator=C;this.argument=D;this.prefix=!0};
v.UpdateExpression=function(C,D,f){this.type=w.Syntax.UpdateExpression;this.operator=C;this.argument=D;this.prefix=f};v.VariableDeclaration=function(C,D){this.type=w.Syntax.VariableDeclaration;this.declarations=C;this.kind=D};v.VariableDeclarator=function(C,D){this.type=w.Syntax.VariableDeclarator;this.id=C;this.init=D};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./messages","./character"],function(v,w,C,D){let f=function(){function e(g,
l){this.source=g;this.errorHandler=l;this.isModule=this.trackComment=!1;this.length=g.length;this.index=0;this.lineNumber=0<g.length?1:0;this.lineStart=0;this.curlyStack=[]}var q=e.prototype;q.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};q.restoreState=function(g){this.index=g.index;this.lineNumber=g.lineNumber;this.lineStart=g.lineStart;this.curlyStack=g.curlyStack};q.eof=function(){return this.index>=this.length};
q.throwUnexpectedToken=function(g=C.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,g)};q.tolerateUnexpectedToken=function(g=C.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,g)};q.skipSingleLineComment=function(g){let l=[],h,m;this.trackComment&&(l=[],h=this.index-g,m={start:{line:this.lineNumber,column:this.index-this.lineStart-g},end:{}});for(;!this.eof();){const a=
this.source.charCodeAt(this.index);++this.index;if(D.Character.isLineTerminator(a))return this.trackComment&&(m.end={line:this.lineNumber,column:this.index-this.lineStart-1},l.push({multiLine:!1,slice:[h+g,this.index-1],range:[h,this.index-1],loc:m})),13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,l}this.trackComment&&(m.end={line:this.lineNumber,column:this.index-this.lineStart},l.push({multiLine:!1,slice:[h+g,this.index],range:[h,this.index],
loc:m}));return l};q.skipMultiLineComment=function(){let g=[],l,h;this.trackComment&&(g=[],l=this.index-2,h={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});for(;!this.eof();){const m=this.source.charCodeAt(this.index);if(D.Character.isLineTerminator(m))13===m&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===m&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(h.end=
{line:this.lineNumber,column:this.index-this.lineStart},g.push({multiLine:!0,slice:[l+2,this.index-2],range:[l,this.index],loc:h})),g;++this.index}}this.trackComment&&(h.end={line:this.lineNumber,column:this.index-this.lineStart},g.push({multiLine:!0,slice:[l+2,this.index],range:[l,this.index],loc:h}));this.tolerateUnexpectedToken();return g};q.scanComments=function(){let g;this.trackComment&&(g=[]);for(var l=0===this.index;!this.eof();){var h=this.source.charCodeAt(this.index);if(D.Character.isWhiteSpace(h))++this.index;
else if(D.Character.isLineTerminator(h))++this.index,13===h&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,l=!0;else if(47===h)if(h=this.source.charCodeAt(this.index+1),47===h)this.index+=2,l=this.skipSingleLineComment(2),this.trackComment&&(g=g.concat(l)),l=!0;else if(42===h)this.index+=2,h=this.skipMultiLineComment(),this.trackComment&&(g=g.concat(h));else break;else if(l&&45===h)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+
2))this.index+=3,h=this.skipSingleLineComment(3),this.trackComment&&(g=g.concat(h));else break;else if(60!==h||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,h=this.skipSingleLineComment(4),this.trackComment&&(g=g.concat(h));else break}return g};q.isFutureReservedWord=function(g){return!1};q.isStrictModeReservedWord=function(g){return!1};q.isRestrictedWord=function(g){return!1};q.isKeyword=function(g){g=g.toLowerCase();switch(g.length){case 2:return"if"===
g||"in"===g;case 3:return"var"===g||"for"===g;case 4:return"else"===g;case 5:return"break"===g;case 6:return"return"===g;case 8:return"function"===g||"continue"===g;default:return!1}};q.codePointAt=function(g){let l=this.source.charCodeAt(g);55296<=l&&56319>=l&&(g=this.source.charCodeAt(g+1),56320<=g&&57343>=g&&(l=1024*(l-55296)+g-56320+65536));return l};q.scanHexEscape=function(g){g="u"===g?4:2;let l=0;for(let h=0;h<g;++h)if(!this.eof()&&D.Character.isHexDigit(this.source.charCodeAt(this.index)))l=
16*l+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(l)};q.scanUnicodeCodePointEscape=function(){let g=this.source[this.index],l=0;for("}"===g&&this.throwUnexpectedToken();!this.eof();){g=this.source[this.index++];if(!D.Character.isHexDigit(g.charCodeAt(0)))break;l=16*l+"0123456789abcdef".indexOf(g.toLowerCase())}(1114111<l||"}"!==g)&&this.throwUnexpectedToken();return D.Character.fromCodePoint(l)};q.getIdentifier=function(){const g=
this.index++;for(;!this.eof();){const l=this.source.charCodeAt(this.index);if(92===l||55296<=l&&57343>l)return this.index=g,this.getComplexIdentifier();if(D.Character.isIdentifierPart(l))++this.index;else break}return this.source.slice(g,this.index)};q.getComplexIdentifier=function(){let g=this.codePointAt(this.index),l=D.Character.fromCodePoint(g);this.index+=l.length;let h;92===g&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,
h=this.scanUnicodeCodePointEscape()):(h=this.scanHexEscape("u"),null!==h&&"\\"!==h&&D.Character.isIdentifierStart(h.charCodeAt(0))||this.throwUnexpectedToken()),l=h);for(;!this.eof();){g=this.codePointAt(this.index);if(!D.Character.isIdentifierPart(g))break;h=D.Character.fromCodePoint(g);l+=h;this.index+=h.length;92===g&&(l=l.substr(0,l.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,h=this.scanUnicodeCodePointEscape()):
(h=this.scanHexEscape("u"),null!==h&&"\\"!==h&&D.Character.isIdentifierPart(h.charCodeAt(0))||this.throwUnexpectedToken()),l+=h)}return l};q.octalToDecimal=function(g){let l="0"!==g,h="01234567".indexOf(g);!this.eof()&&D.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(l=!0,h=8*h+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(g)&&!this.eof()&&D.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(h=8*h+"01234567".indexOf(this.source[this.index++])));return{code:h,
octal:l}};q.scanIdentifier=function(){let g;const l=this.index,h=92===this.source.charCodeAt(l)?this.getComplexIdentifier():this.getIdentifier();g=1===h.length?3:this.isKeyword(h)?4:"null"===h.toLowerCase()?5:"true"===h.toLowerCase()||"false"===h.toLowerCase()?1:3;if(3!==g&&l+h.length!==this.index){const m=this.index;this.index=l;this.tolerateUnexpectedToken(C.Messages.InvalidEscapedReservedWord);this.index=m}return{type:g,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}};
q.scanPunctuator=function(){const g=this.index;let l=this.source[this.index];switch(l){case "(":case "{":"{"===l&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,l="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:l=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===l?this.index+=4:(l=l.substr(0,
3),"\x3d\x3d\x3d"===l||"!\x3d\x3d"===l||"\x3e\x3e\x3e"===l||"\x3c\x3c\x3d"===l||"\x3e\x3e\x3d"===l||"**\x3d"===l?this.index+=3:(l=l.substr(0,2),"\x26\x26"===l||"||"===l||"\x3d\x3d"===l||"!\x3d"===l||"+\x3d"===l||"-\x3d"===l||"*\x3d"===l||"/\x3d"===l||"++"===l||"--"===l||"\x3c\x3c"===l||"\x3e\x3e"===l||"\x26\x3d"===l||"|\x3d"===l||"^\x3d"===l||"%\x3d"===l||"\x3c\x3d"===l||"\x3e\x3d"===l||"\x3d\x3e"===l||"**"===l?this.index+=2:(l=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(l)&&++this.index)))}this.index===
g&&this.throwUnexpectedToken();return{type:7,value:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};q.scanHexLiteral=function(g){let l="";for(;!this.eof()&&D.Character.isHexDigit(this.source.charCodeAt(this.index));)l+=this.source[this.index++];0===l.length&&this.throwUnexpectedToken();D.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+l,16),lineNumber:this.lineNumber,lineStart:this.lineStart,
start:g,end:this.index}};q.scanBinaryLiteral=function(g){let l="",h;for(;!this.eof();){h=this.source[this.index];if("0"!==h&&"1"!==h)break;l+=this.source[this.index++]}0===l.length&&this.throwUnexpectedToken();this.eof()||(h=this.source.charCodeAt(this.index),(D.Character.isIdentifierStart(h)||D.Character.isDecimalDigit(h))&&this.throwUnexpectedToken());return{type:6,value:parseInt(l,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};q.scanOctalLiteral=function(g,l){let h=
"",m=!1;D.Character.isOctalDigit(g.charCodeAt(0))?(m=!0,h="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&D.Character.isOctalDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];m||0!==h.length||this.throwUnexpectedToken();(D.Character.isIdentifierStart(this.source.charCodeAt(this.index))||D.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(h,8),octal:m,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:l,end:this.index}};q.scanNumericLiteral=function(){const g=this.index;let l=this.source[g];w.assert(D.Character.isDecimalDigit(l.charCodeAt(0))||"."===l,"Numeric literal must start with a decimal digit or a decimal point");let h="";if("."!==l){h=this.source[this.index++];l=this.source[this.index];if("0"===h){if("x"===l||"X"===l)return++this.index,this.scanHexLiteral(g);if("b"===l||"B"===l)return++this.index,this.scanBinaryLiteral(g);if("o"===l||"O"===l)return this.scanOctalLiteral(l,g)}for(;D.Character.isDecimalDigit(this.source.charCodeAt(this.index));)h+=
this.source[this.index++];l=this.source[this.index]}if("."===l){for(h+=this.source[this.index++];D.Character.isDecimalDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];l=this.source[this.index]}if("e"===l||"E"===l){h+=this.source[this.index++];l=this.source[this.index];if("+"===l||"-"===l)h+=this.source[this.index++];if(D.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;D.Character.isDecimalDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];
else this.throwUnexpectedToken()}D.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(h),lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};q.scanStringLiteral=function(){const g=this.index;let l=this.source[g];w.assert("'"===l||'"'===l,"String literal must starts with a quote");++this.index;let h=!1,m="";for(;!this.eof();){var a=this.source[this.index++];if(a===l){l="";break}if("\\"===a)if((a=this.source[this.index++])&&
D.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case "u":"{"===this.source[this.index]?(++this.index,m+=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape(a),null===a&&this.throwUnexpectedToken(),m+=a);break;case "x":a=this.scanHexEscape(a);null===a&&this.throwUnexpectedToken(C.Messages.InvalidHexEscapeSequence);m+=a;break;case "n":m+="\n";break;case "r":m+="\r";break;case "t":m+=
"\t";break;case "b":m+="\b";break;case "f":m+="\f";break;case "v":m+="\x0B";break;case "8":case "9":m+=a;this.tolerateUnexpectedToken();break;default:a&&D.Character.isOctalDigit(a.charCodeAt(0))?(a=this.octalToDecimal(a),h=a.octal||h,m+=String.fromCharCode(a.code)):m+=a}else if(D.Character.isLineTerminator(a.charCodeAt(0)))break;else m+=a}""!==l&&(this.index=g,this.throwUnexpectedToken());return{type:8,value:m,octal:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};q.scanTemplate=
function(){let g="",l=!1;const h=this.index,m="`"===this.source[h];let a=!1,b=2;for(++this.index;!this.eof();){var n=this.source[this.index++];if("`"===n){b=1;l=a=!0;break}if("$"===n){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;l=!0;break}g+=n}else if("\\"===n)if(n=this.source[this.index++],D.Character.isLineTerminator(n.charCodeAt(0)))++this.lineNumber,"\r"===n&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(n){case "n":g+="\n";break;
case "r":g+="\r";break;case "t":g+="\t";break;case "u":if("{"===this.source[this.index])++this.index,g+=this.scanUnicodeCodePointEscape();else{const r=this.index,H=this.scanHexEscape(n);null!==H?g+=H:(this.index=r,g+=n)}break;case "x":n=this.scanHexEscape(n);null===n&&this.throwUnexpectedToken(C.Messages.InvalidHexEscapeSequence);g+=n;break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\v";break;default:"0"===n?(D.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(C.Messages.TemplateOctalLiteral),
g+="\x00"):D.Character.isOctalDigit(n.charCodeAt(0))?this.throwUnexpectedToken(C.Messages.TemplateOctalLiteral):g+=n}else D.Character.isLineTerminator(n.charCodeAt(0))?(++this.lineNumber,"\r"===n&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,g+="\n"):g+=n}l||this.throwUnexpectedToken();m||this.curlyStack.pop();return{type:10,value:this.source.slice(h+1,this.index-b),cooked:g,head:m,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};q.testRegExp=
function(g,l){let h=g;0<=l.indexOf("u")&&(h=h.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(m,a,b)=>{m=parseInt(a||b,16);1114111<m&&this.throwUnexpectedToken(C.Messages.InvalidRegExp);return 65535>=m?String.fromCharCode(m):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(h)}catch(m){this.throwUnexpectedToken(C.Messages.InvalidRegExp)}try{return new RegExp(g,l)}catch(m){return null}};q.scanRegExpBody=function(){let g=this.source[this.index];w.assert("/"===g,"Regular expression literal must start with a slash");
let l=this.source[this.index++],h=!1,m=!1;for(;!this.eof();)if(g=this.source[this.index++],l+=g,"\\"===g)g=this.source[this.index++],D.Character.isLineTerminator(g.charCodeAt(0))&&this.throwUnexpectedToken(C.Messages.UnterminatedRegExp),l+=g;else if(D.Character.isLineTerminator(g.charCodeAt(0)))this.throwUnexpectedToken(C.Messages.UnterminatedRegExp);else if(h)"]"===g&&(h=!1);else{if("/"===g){m=!0;break}"["===g&&(h=!0)}m||this.throwUnexpectedToken(C.Messages.UnterminatedRegExp);return l.substr(1,
l.length-2)};q.scanRegExpFlags=function(){let g="";for(;!this.eof();){var l=this.source[this.index];if(!D.Character.isIdentifierPart(l.charCodeAt(0)))break;++this.index;if("\\"!==l||this.eof())g+=l;else{l=this.source[this.index];if("u"===l){++this.index;l=this.index;const h=this.scanHexEscape("u");if(null!==h)for(g+=h;l<this.index;++l);else this.index=l,g+="u"}this.tolerateUnexpectedToken()}}return g};q.scanRegExp=function(){const g=this.index,l=this.scanRegExpBody(),h=this.scanRegExpFlags(),m=this.testRegExp(l,
h);return{type:9,value:"",pattern:l,flags:h,regex:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};q.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const g=this.source.charCodeAt(this.index);return D.Character.isIdentifierStart(g)?this.scanIdentifier():40===g||41===g||59===g?this.scanPunctuator():39===g||34===g?this.scanStringLiteral():46===g?D.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this.scanNumericLiteral():this.scanPunctuator():D.Character.isDecimalDigit(g)?this.scanNumericLiteral():96===g||125===g&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=g&&57343>g&&D.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return e}();v.Scanner=f;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/character":function(){define(["exports"],function(v){var w=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
C=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const D={fromCodePoint(f){return 65536>f?String.fromCharCode(f):String.fromCharCode(55296+(f-65536>>10))+String.fromCharCode(56320+(f-65536&1023))},isWhiteSpace(f){return 32===f||9===f||11===f||12===f||160===f||5760<=f&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(f)},isLineTerminator(f){return 10===f||13===f||8232===f||8233===f},isIdentifierStart(f){return 36===f||95===f||65<=f&&90>=f||97<=f&&122>=f||92===f||128<=f&&w.test(D.fromCodePoint(f))},isIdentifierPart(f){return 36===
f||95===f||65<=f&&90>=f||97<=f&&122>=f||48<=f&&57>=f||92===f||128<=f&&C.test(D.fromCodePoint(f))},isDecimalDigit(f){return 48<=f&&57>=f},isHexDigit(f){return 48<=f&&57>=f||65<=f&&70>=f||97<=f&&102>=f},isOctalDigit(f){return 48<=f&&55>=f}};v.Character=D;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/token":function(){define(["exports"],function(v){v.TokenName={1:"Boolean",2:"\x3cend\x3e",3:"Identifier",4:"Keyword",5:"Null",6:"Numeric",7:"Punctuator",8:"String",9:"RegularExpression",
10:"Template"};Object.defineProperty(v,"__esModule",{value:!0})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./scanner","./token"],function(v,w,C,D){let f=function(){function q(){this.values=[];this.curly=this.paren=-1}var g=q.prototype;g.beforeFunctionExpression=function(l){return 0<="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d **\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * ** / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ").indexOf(l)};
g.isRegexStart=function(){var l=this.values[this.values.length-1];let h=null!==l;switch(l){case "this":case "]":h=!1;break;case ")":l=this.values[this.paren-1];h="if"===l||"while"===l||"for"===l||"with"===l;break;case "}":h=!0,"function"===this.values[this.curly-3]?h=(l=this.values[this.curly-4])?!this.beforeFunctionExpression(l):!1:"function"===this.values[this.curly-4]&&(h=(l=this.values[this.curly-5])?!this.beforeFunctionExpression(l):!0)}return h};g.push=function(l){7===l.type||4===l.type?("{"===
l.value?this.curly=this.values.length:"("===l.value&&(this.paren=this.values.length),this.values.push(l.value)):this.values.push(null)};return q}(),e=function(){function q(l,h){this.errorHandler=new w.ErrorHandler;this.errorHandler.tolerant=h?"boolean"===typeof h.tolerant&&h.tolerant:!1;this.scanner=new C.Scanner(l,this.errorHandler);this.scanner.trackComment=h?"boolean"===typeof h.comment&&h.comment:!1;this.trackRange=h?"boolean"===typeof h.range&&h.range:!1;this.trackLoc=h?"boolean"===typeof h.loc&&
h.loc:!1;this.buffer=[];this.reader=new f}var g=q.prototype;g.errors=function(){return this.errorHandler.errors};g.getNextToken=function(){if(0===this.buffer.length){var l=this.scanner.scanComments();if(this.scanner.trackComment)for(let m=0;m<l.length;++m){const a=l[m];var h=this.scanner.source.slice(a.slice[0],a.slice[1]);h={type:a.multiLine?"BlockComment":"LineComment",value:h};this.trackRange&&(h.range=a.range);this.trackLoc&&(h.loc=a.loc);this.buffer.push(h)}if(!this.scanner.eof()){let m;this.trackLoc&&
(m={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});let a;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){l=this.scanner.saveState();try{a=this.scanner.scanRegExp()}catch(b){this.scanner.restoreState(l),a=this.scanner.lex()}}else a=this.scanner.lex();this.reader.push(a);l={type:D.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};this.trackRange&&(l.range=[a.start,a.end]);this.trackLoc&&(m.end={line:this.scanner.lineNumber,
column:this.scanner.index-this.scanner.lineStart},l.loc=m);9===a.type&&(l.regex={pattern:a.pattern,flags:a.flags});this.buffer.push(l)}}return this.buffer.shift()};return q}();v.Tokenizer=e;Object.defineProperty(v,"__esModule",{value:!0})})},"esri/intl/moment":function(){define(["require","exports","./locale"],function(v,w,C){const D=new Map([["ar",()=>(new Promise(function(f,e){v(["../chunks/ar"],f,e)})).then(function(f){return f.ar})],["ar-dz",()=>(new Promise(function(f,e){v(["../chunks/ar-dz"],
f,e)})).then(function(f){return f.arDz})],["ar-kw",()=>(new Promise(function(f,e){v(["../chunks/ar-kw"],f,e)})).then(function(f){return f.arKw})],["ar-ly",()=>(new Promise(function(f,e){v(["../chunks/ar-ly"],f,e)})).then(function(f){return f.arLy})],["ar-ma",()=>(new Promise(function(f,e){v(["../chunks/ar-ma"],f,e)})).then(function(f){return f.arMa})],["ar-sa",()=>(new Promise(function(f,e){v(["../chunks/ar-sa"],f,e)})).then(function(f){return f.arSa})],["ar-tn",()=>(new Promise(function(f,e){v(["../chunks/ar-tn"],
f,e)})).then(function(f){return f.arTn})],["bs",()=>(new Promise(function(f,e){v(["../chunks/bs"],f,e)})).then(function(f){return f.bs})],["ca",()=>(new Promise(function(f,e){v(["../chunks/ca"],f,e)})).then(function(f){return f.ca})],["cs",()=>(new Promise(function(f,e){v(["../chunks/cs"],f,e)})).then(function(f){return f.cs})],["da",()=>(new Promise(function(f,e){v(["../chunks/da"],f,e)})).then(function(f){return f.da})],["de",()=>(new Promise(function(f,e){v(["../chunks/de"],f,e)})).then(function(f){return f.de})],
["de-at",()=>(new Promise(function(f,e){v(["../chunks/de-at"],f,e)})).then(function(f){return f.deAt})],["de-ch",()=>(new Promise(function(f,e){v(["../chunks/de-ch"],f,e)})).then(function(f){return f.deCh})],["el",()=>(new Promise(function(f,e){v(["../chunks/el"],f,e)})).then(function(f){return f.el})],["en-au",()=>(new Promise(function(f,e){v(["../chunks/en-au"],f,e)})).then(function(f){return f.enAu})],["en-ca",()=>(new Promise(function(f,e){v(["../chunks/en-ca"],f,e)})).then(function(f){return f.enCa})],
["en-gb",()=>(new Promise(function(f,e){v(["../chunks/en-gb"],f,e)})).then(function(f){return f.enGb})],["en-ie",()=>(new Promise(function(f,e){v(["../chunks/en-ie"],f,e)})).then(function(f){return f.enIe})],["en-il",()=>(new Promise(function(f,e){v(["../chunks/en-il"],f,e)})).then(function(f){return f.enIl})],["en-in",()=>(new Promise(function(f,e){v(["../chunks/en-in"],f,e)})).then(function(f){return f.enIn})],["en-nz",()=>(new Promise(function(f,e){v(["../chunks/en-nz"],f,e)})).then(function(f){return f.enNz})],
["en-sg",()=>(new Promise(function(f,e){v(["../chunks/en-sg"],f,e)})).then(function(f){return f.enSg})],["es",()=>(new Promise(function(f,e){v(["../chunks/es"],f,e)})).then(function(f){return f.es})],["es-do",()=>(new Promise(function(f,e){v(["../chunks/es-do"],f,e)})).then(function(f){return f.esDo})],["es-mx",()=>(new Promise(function(f,e){v(["../chunks/es-mx"],f,e)})).then(function(f){return f.esMx})],["es-us",()=>(new Promise(function(f,e){v(["../chunks/es-us"],f,e)})).then(function(f){return f.esUs})],
["et",()=>(new Promise(function(f,e){v(["../chunks/et"],f,e)})).then(function(f){return f.et})],["fi",()=>(new Promise(function(f,e){v(["../chunks/fi"],f,e)})).then(function(f){return f.fi})],["fr",()=>(new Promise(function(f,e){v(["../chunks/fr"],f,e)})).then(function(f){return f.fr})],["fr-ca",()=>(new Promise(function(f,e){v(["../chunks/fr-ca"],f,e)})).then(function(f){return f.frCa})],["fr-ch",()=>(new Promise(function(f,e){v(["../chunks/fr-ch"],f,e)})).then(function(f){return f.frCh})],["he",
()=>(new Promise(function(f,e){v(["../chunks/he"],f,e)})).then(function(f){return f.he})],["hr",()=>(new Promise(function(f,e){v(["../chunks/hr"],f,e)})).then(function(f){return f.hr})],["hu",()=>(new Promise(function(f,e){v(["../chunks/hu"],f,e)})).then(function(f){return f.hu})],["id",()=>(new Promise(function(f,e){v(["../chunks/id"],f,e)})).then(function(f){return f.id})],["it",()=>(new Promise(function(f,e){v(["../chunks/it"],f,e)})).then(function(f){return f.it})],["it-ch",()=>(new Promise(function(f,
e){v(["../chunks/it-ch"],f,e)})).then(function(f){return f.itCh})],["ja",()=>(new Promise(function(f,e){v(["../chunks/ja"],f,e)})).then(function(f){return f.ja})],["ko",()=>(new Promise(function(f,e){v(["../chunks/ko"],f,e)})).then(function(f){return f.ko})],["lt",()=>(new Promise(function(f,e){v(["../chunks/lt"],f,e)})).then(function(f){return f.lt})],["lv",()=>(new Promise(function(f,e){v(["../chunks/lv"],f,e)})).then(function(f){return f.lv})],["nb",()=>(new Promise(function(f,e){v(["../chunks/nb"],
f,e)})).then(function(f){return f.nb})],["nl",()=>(new Promise(function(f,e){v(["../chunks/nl"],f,e)})).then(function(f){return f.nl})],["nl-be",()=>(new Promise(function(f,e){v(["../chunks/nl-be"],f,e)})).then(function(f){return f.nlBe})],["pl",()=>(new Promise(function(f,e){v(["../chunks/pl"],f,e)})).then(function(f){return f.pl})],["pt",()=>(new Promise(function(f,e){v(["../chunks/pt"],f,e)})).then(function(f){return f.pt})],["pt-br",()=>(new Promise(function(f,e){v(["../chunks/pt-br"],f,e)})).then(function(f){return f.ptBr})],
["ro",()=>(new Promise(function(f,e){v(["../chunks/ro"],f,e)})).then(function(f){return f.ro})],["ru",()=>(new Promise(function(f,e){v(["../chunks/ru"],f,e)})).then(function(f){return f.ru})],["sk",()=>(new Promise(function(f,e){v(["../chunks/sk"],f,e)})).then(function(f){return f.sk})],["sl",()=>(new Promise(function(f,e){v(["../chunks/sl"],f,e)})).then(function(f){return f.sl})],["sr",()=>(new Promise(function(f,e){v(["../chunks/sr"],f,e)})).then(function(f){return f.sr})],["sr-cyrl",()=>(new Promise(function(f,
e){v(["../chunks/sr-cyrl"],f,e)})).then(function(f){return f.srCyrl})],["sv",()=>(new Promise(function(f,e){v(["../chunks/sv"],f,e)})).then(function(f){return f.sv})],["th",()=>(new Promise(function(f,e){v(["../chunks/th"],f,e)})).then(function(f){return f.th})],["tr",()=>(new Promise(function(f,e){v(["../chunks/tr"],f,e)})).then(function(f){return f.tr})],["uk",()=>(new Promise(function(f,e){v(["../chunks/uk"],f,e)})).then(function(f){return f.uk})],["vi",()=>(new Promise(function(f,e){v(["../chunks/vi"],
f,e)})).then(function(f){return f.vi})],["zh-cn",()=>(new Promise(function(f,e){v(["../chunks/zh-cn"],f,e)})).then(function(f){return f.zhCn})],["zh-hk",()=>(new Promise(function(f,e){v(["../chunks/zh-hk"],f,e)})).then(function(f){return f.zhHk})],["zh-mo",()=>(new Promise(function(f,e){v(["../chunks/zh-mo"],f,e)})).then(function(f){return f.zhMo})],["zh-tw",()=>(new Promise(function(f,e){v(["../chunks/zh-tw"],f,e)})).then(function(f){return f.zhTw})]]);w.loadMoment=async function(f=C.getLocale()){const e=
(await (new Promise(function(g,l){v(["../chunks/moment"],g,l)})).then(function(g){return g.moment})).default;let q=D.has(f);if(!q){const g=f.split("-");1<g.length&&D.has(g[0])&&(f=g[0],q=!0)}q?await D.get(f)():f="en";f!==e.locale()&&e.locale(f);return e};Object.defineProperty(w,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../core/lang ../renderers/visualVariables/support/sizeVariableUtils ../arcade/Dictionary ../arcade/Feature ../chunks/arcade".split(" "),function(v,w,C,D,f,e){function q(m){if(!m)return null;try{return e.parseScript(m)}catch(a){}return null}function g(m){m=q(m);return!!m&&e.scriptUsesGeometryEngine(m)}const l=/^\$feature\./i,h={vars:{$feature:"any",$view:"any"},spatialReference:null};v.Dictionary=D;v.arcadeFeature=f;v.arcade=e.arcade;v.convertFeatureLayerToFeatureSet=function(m,a){if(null===
m)return null;const b=e.featureSetUtils();return b?b.constructFeatureSet(m,a):null};v.convertMapToFeatureSetCollection=function(m){if(null===m||null===m.map)return null;const a=e.featureSetUtils();return a?a.createFeatureSetCollectionFromMap(m.map,m.spatialReference):null};v.convertServiceUrlToWorkspace=function(m,a){const b=e.featureSetUtils();return b?b.createFeatureSetCollectionFromService(m,a):null};v.createExecContext=function(m,a){return{vars:{$feature:null==m?new f:f.createFromGraphic(m),$view:a&&
a.view},spatialReference:a&&a.sr}};v.createFeature=function(m,a,b){return f.createFromGraphicLikeObject(a,m,b)};v.createFunction=function(m,a){m="string"===typeof m?q(m):m;if(!m)return null;try{return a=a||w.clone(h),e.compileScript(m,a)}catch(b){}return null};v.createSyntaxTree=q;v.dependsOnView=function(m){return e.referencesMember(m,"$view")};v.enableFeatureSetOperations=function(){return e.enableFeatureSetSupport()};v.enableGeometryOperations=function(){return e.enableGeometrySupport()};v.evalSyntaxTree=
function(m,a){let b;try{b=e.executeScript(m,a)}catch(n){b=null}return b};v.executeAsyncFunction=function(m,a){try{return m?m(a):Promise.resolve(null)}catch(b){return Promise.resolve(null)}};v.executeFunction=function(m,a){let b;try{b=m?m(a):null}catch(n){b=null}return b};v.extractFieldNames=function(m){if(!m)return[];m="string"===typeof m?q(m):m;if(!m)return[];const a=[];e.extractFieldLiterals(m).forEach(b=>{l.test(b)&&(b=b.replace(l,""),a.push(b))});a.sort();return a.filter((b,n)=>0===n||a[n-1]!==
b)};v.getViewInfo=function(m){if(m&&(null!=m.spatialReference||null!=m.scale&&null!=m.viewingMode))return{view:m.viewingMode&&null!=m.scale?new D({viewingMode:m.viewingMode,scale:m.scale}):null,sr:m.spatialReference}};v.hasGeometryOperations=function(m){if(!m)return!1;if("string"===typeof m)return g(m);if("simple"===m.type||"class-breaks"===m.type||"unique-value"===m.type||"dot-density"===m.type||"dictionary"===m.type){if("dot-density"===m.type){var a=m.attributes.some(b=>g(b.valueExpression));if(a)return a}a=
m.visualVariables;a=!!a&&a.some(b=>{let n=g(b.valueExpression);"size"===b.type&&(C.isSizeVariable(b.minSize)&&(n=n||g(b.minSize.valueExpression)),C.isSizeVariable(b.maxSize)&&(n=n||g(b.maxSize.valueExpression)));return n});return"valueExpression"in m&&g(m.valueExpression)?!0:a}return"esri.layers.support.LabelClass"===m.declaredClass?(m=m.labelExpressionInfo&&m.labelExpressionInfo.expression,!(!m||!g(m))||!1):"esri.PopupTemplate"===m.declaredClass?!!m.expressionInfos&&m.expressionInfos.some(b=>g(b.expression)):
!1};v.hasVariable=function(m,a){return m?e.referencesMember(m,a):!1};v.loadScriptDependencies=function(m,a,b=[]){return e.loadScriptDependencies(m,a,b)};v.updateExecContext=function(m,a){m.vars.$feature=a};Object.defineProperty(v,"__esModule",{value:!0})});