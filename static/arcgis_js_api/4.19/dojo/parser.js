//>>built
define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(G,B,y,C,M,N,O,P,K,Q,R,H,D,L,S,T){function I(a){return eval("("+a+")")}function U(a){var b=a._nameCaseMap,f=a.prototype;if(!b||b._extendCnt<E){b=a._nameCaseMap={};for(var h in f)"_"!==h.charAt(0)&&(b[h.toLowerCase()]=h);b._extendCnt=E}return b}function J(a,b){b||(b=G);var f=b._dojoParserCtorMap||(b._dojoParserCtorMap=
{}),h=a.join();if(!f[h]){for(var g=[],c=0,n=a.length;c<n;c++){var r=a[c];g[g.length]=f[r]=f[r]||y.getObject(r)||~r.indexOf("/")&&b(r)}a=g.shift();f[h]=g.length?a.createSubclass?a.createSubclass(g):a.extend.apply(a,g):a}return f[h]}new Date("X");var E=0;K.after(y,"extend",function(){E++},!0);D={_clearCache:function(){E++;_ctorMap={}},_functionFromScript:function(a,b){var f="",h="",g=a.getAttribute(b+"args")||a.getAttribute("args");b=a.getAttribute("with");g=(g||"").split(/\s*,\s*/);b&&b.length&&C.forEach(b.split(/\s*,\s*/),
function(c){f+="with("+c+"){";h+="}"});return new Function(g,f+a.innerHTML+h)},instantiate:function(a,b,f){b=b||{};f=f||{};var h=(f.scope||B._scopeName)+"Type",g="data-"+(f.scope||B._scopeName)+"-",c=g+"type",n=g+"mixins",r=[];C.forEach(a,function(q){var t=h in b?b[h]:q.getAttribute(c)||q.getAttribute(h);if(t){var k=q.getAttribute(n);t=k?[t].concat(k.split(/\s*,\s*/)):[t];r.push({node:q,types:t})}});return this._instantiate(r,b,f)},_instantiate:function(a,b,f,h){function g(c){b._started||f.noStart||
C.forEach(c,function(n){"function"!==typeof n.startup||n._started||n.startup()});return c}a=C.map(a,function(c){var n=c.ctor||J(c.types,f.contextRequire);if(!n)throw Error("Unable to resolve constructor for: '"+c.types.join()+"'");return this.construct(n,c.node,b,f,c.scripts,c.inherited)},this);return h?Q(a).then(g):g(a)},construct:function(a,b,f,h,g,c){function n(A){v&&y.setObject(v,A);for(e=0;e<p.length;e++)K[p[e].advice||"after"](A,p[e].method,y.hitch(A,p[e].func),!0);for(e=0;e<x.length;e++)x[e].call(A);
for(e=0;e<z.length;e++)A.watch(z[e].prop,z[e].func);for(e=0;e<F.length;e++)S(A,F[e].event,F[e].func);return A}var r=a&&a.prototype;h=h||{};var q={};h.defaults&&y.mixin(q,h.defaults);c&&y.mixin(q,c);var t=b.attributes;var k=h.scope||B._scopeName;c="data-"+k+"-";var d={};"dojo"!==k&&(d[c+"props"]="data-dojo-props",d[c+"type"]="data-dojo-type",d[c+"mixins"]="data-dojo-mixins",d[k+"type"]="dojotype",d[c+"id"]="data-dojo-id");var e=0,l;k=[];for(var v,w;l=t[e++];){var u=l.name,m=u.toLowerCase();l=l.value;
switch(d[m]||m){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":w=l;break;case "data-dojo-id":case "jsid":v=l;break;case "data-dojo-attach-point":case "dojoattachpoint":q.dojoAttachPoint=l;break;case "data-dojo-attach-event":case "dojoattachevent":q.dojoAttachEvent=l;break;case "class":q["class"]=b.className;break;case "style":q.style=b.style&&b.style.cssText;break;default:if(u in r||(u=U(a)[m]||u),u in r)switch(typeof r[u]){case "string":q[u]=l;break;case "number":q[u]=
l.length?Number(l):NaN;break;case "boolean":q[u]="false"!=l.toLowerCase();break;case "function":""===l||-1!=l.search(/[^\w\.]+/i)?q[u]=new Function(l):q[u]=y.getObject(l,!1)||new Function(l);k.push(u);break;default:m=r[u],q[u]=m&&"length"in m?l?l.split(/\s*,\s*/):[]:m instanceof Date?""==l?new Date(""):"now"==l?new Date:R.fromISOString(l):m instanceof P?B.baseUrl+l:I(l)}else q[u]=l}}for(t=0;t<k.length;t++)d=k[t].toLowerCase(),b.removeAttribute(d),b[d]=null;if(w)try{w=I.call(h.propsThis,"{"+w+"}"),
y.mixin(q,w)}catch(A){throw Error(A.toString()+" in data-dojo-props\x3d'"+w+"'");}y.mixin(q,f);g||(g=a&&(a._noScript||r._noScript)?[]:L("\x3e script[type^\x3d'dojo/']",b));var p=[],x=[],z=[],F=[];if(g)for(e=0;e<g.length;e++)d=g[e],b.removeChild(d),f=d.getAttribute(c+"event")||d.getAttribute("event"),h=d.getAttribute(c+"prop"),w=d.getAttribute(c+"method"),k=d.getAttribute(c+"advice"),t=d.getAttribute("type"),d=this._functionFromScript(d,c),f?"dojo/connect"==t?p.push({method:f,func:d}):"dojo/on"==t?
F.push({event:f,func:d}):q[f]=d:"dojo/aspect"==t?p.push({method:w,advice:k,func:d}):"dojo/watch"==t?z.push({prop:h,func:d}):x.push(d);a=(g=a.markupFactory||r.markupFactory)?g(q,b,a):new a(q,b);return a.then?a.then(n):n(a)},scan:function(a,b){function f(m){if(!m.inherited){m.inherited={};var p=m.node,x=f(m.parent);p={dir:p.getAttribute("dir")||x.dir,lang:p.getAttribute("lang")||x.lang,textDir:p.getAttribute(t)||x.textDir};for(var z in p)p[z]&&(m.inherited[z]=p[z])}return m.inherited}var h=[],g=[],
c={},n=(b.scope||B._scopeName)+"Type",r="data-"+(b.scope||B._scopeName)+"-",q=r+"type",t=r+"textdir";r+="mixins";var k=a.firstChild,d=b.inherited;if(!d){d=function z(p,x){return p.getAttribute&&p.getAttribute(x)||p.parentNode&&z(p.parentNode,x)};d={dir:d(a,"dir"),lang:d(a,"lang"),textDir:d(a,t)};for(var e in d)d[e]||delete d[e]}e={inherited:d};for(var l,v;;)if(k)if(1!=k.nodeType)k=k.nextSibling;else if(l&&"script"==k.nodeName.toLowerCase())(d=k.getAttribute("type"))&&/^dojo\/\w/i.test(d)&&l.push(k),
k=k.nextSibling;else if(v)k=k.nextSibling;else if(d=k.getAttribute(q)||k.getAttribute(n),a=k.firstChild,d||a&&(3!=a.nodeType||a.nextSibling)){v=null;if(d){var w=k.getAttribute(r);l=w?[d].concat(w.split(/\s*,\s*/)):[d];try{v=J(l,b.contextRequire)}catch(m){}v||C.forEach(l,function(m){~m.indexOf("/")&&!c[m]&&(c[m]=!0,g[g.length]=m)});w=v&&!v.prototype._noScript?[]:null;e={types:l,ctor:v,parent:e,node:k,scripts:w};e.inherited=f(e);h.push(e)}else e={node:k,scripts:l,parent:e};l=w;v=k.stopParser||v&&v.prototype.stopParser&&
!b.template;k=a}else k=k.nextSibling;else{if(!e||!e.node)break;k=e.node.nextSibling;v=!1;e=e.parent;l=e.scripts}var u=new H;g.length?(b.contextRequire||G)(g,function(){u.resolve(C.filter(h,function(m){if(!m.ctor)try{m.ctor=J(m.types,b.contextRequire)}catch(z){}for(var p=m.parent;p&&!p.types;)p=p.parent;var x=m.ctor&&m.ctor.prototype;m.instantiateChildren=!(x&&x.stopParser&&!b.template);m.instantiate=!p||p.instantiate&&p.instantiateChildren;return m.instantiate}))}):u.resolve(h);return u.promise},
_require:function(a,b){a=I("{"+a.innerHTML+"}");var f=[],h=[],g=new H;b=b&&b.contextRequire||G;for(var c in a)f.push(c),h.push(a[c]);b(h,function(){for(var n=0;n<f.length;n++)y.setObject(f[n],arguments[n]);g.resolve(arguments)});return g.promise},_scanAmd:function(a,b){var f=new H,h=f.promise;f.resolve(!0);var g=this;L("script[type\x3d'dojo/require']",a).forEach(function(c){h=h.then(function(){return g._require(c,b)});c.parentNode.removeChild(c)});return h},parse:function(a,b){!a||"string"==typeof a||
"nodeType"in a||(b=a,a=b.rootNode);var f=a?N.byId(a):O.body();b=b||{};var h=b.template?{template:!0}:{},g=[],c=this;a=this._scanAmd(f,b).then(function(){return c.scan(f,b)}).then(function(n){return c._instantiate(n,h,b,!0)}).then(function(n){return g=g.concat(n)}).otherwise(function(n){console.error("dojo/parser::parse() error",n);throw n;});y.mixin(g,a);return g}};B.parser=D;M.parseOnLoad&&T(100,D,"parse");return D});