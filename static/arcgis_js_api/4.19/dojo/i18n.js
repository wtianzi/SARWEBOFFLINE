//>>built
define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./has!host-browser?./_base/xhr ./json module".split(" "),function(t,q,A,F,P,p,y,Q,R){A.add("dojo-preload-i18n-Api",1);y=t.i18n={};var S=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,T=function(a,b,d,c){var f=[d+c];b=b.split("-");for(var k="",l=0;l<b.length;l++)if(k+=(k?"-":"")+b[l],!a||a[k])f.push(d+k+"/"+c),f.specificity=k;return f},m={},K=function(a,b,d){d=d?d.toLowerCase():t.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,
"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},U=t.getL10nName=function(a,b,d){return a=R.id+"!"+K(a,b,d)},V=function(a,b,d,c,f,k){a([b],function(l){var g=p.clone(l.root||l.ROOT),e=T(!l._v1x&&l,f,d,c);a(e,function(){for(var h=1;h<e.length;h++)g=p.mixin(p.clone(g),arguments[h]);m[b+"/"+f]=g;g.$locale=e.specificity;k()})})},W=function(a){var b=P.extraLocale||[];b=p.isArray(b)?b:[b];b.push(a);return b},H=function(a,b,d){var c=S.exec(a),f=c[1]+"/",k=c[5]||c[4],l=f+k,g=(c=c[5]&&c[4])||t.locale||
"",e=l+"/"+g;c=c?[g]:W(g);var h=c.length,B=function(){--h||d(p.delegate(m[e]))};g=a.split("*");var u="preload"==g[1];if(A("dojo-preload-i18n-Api")){if(u&&(m[a]||(m[a]=1,X(g[2],Q.parse(g[3]),1,b)),d(1)),(g=u)||(v&&G.push([a,b,d]),g=v&&!m[e]),g)return}else if(u){d(1);return}F.forEach(c,function(w){var n=l+"/"+w;A("dojo-preload-i18n-Api")&&L(n);m[n]?B():V(b,l,f,k,w,B)})};A("dojo-preload-i18n-Api");var Y=y.normalizeLocale=function(a){a=a?a.toLowerCase():t.locale;return"root"==a?"ROOT":a},v=0,G=[],X=y._preloadLocalizations=
function(a,b,d,c){function f(e,h){c([e],h)}function k(e,h){for(e=e.split("-");e.length;){if(h(e.join("-")))return;e.pop()}h("ROOT")}function l(){for(--v;!v&&G.length;)H.apply(null,G.shift())}function g(e){e=Y(e);k(e,function(h){if(0<=F.indexOf(b,h)){var B=a.replace(/\./g,"/")+"_"+h;v++;f(B,function(u){for(var w in u){var n=u[w],x=w.match(/(.+)\/([^\/]+)$/);if(x){var M=x[2];x=x[1]+"/";if(n._localized){var I;if("ROOT"===h){var N=I=n._localized;delete n._localized;N.root=n;m[q.toAbsMid(w)]=N}else I=
n._localized,m[q.toAbsMid(x+M+"/"+h)]=n;h!==e&&function(C,D,z,Z){var E=[],O=[];k(e,function(r){Z[r]&&(E.push(q.toAbsMid(C+r+"/"+D)),O.push(q.toAbsMid(C+D+"/"+r)))});E.length?(v++,c(E,function(){for(var r=E.length-1;0<=r;r--)z=p.mixin(p.clone(z),arguments[r]),m[O[r]]=z;m[q.toAbsMid(C+D+"/"+e)]=p.clone(z);l()})):m[q.toAbsMid(C+D+"/"+e)]=z}(x,M,n,I)}}}l()});return!0}return!1})}c=c||q;g();F.forEach(t.config.extraLocale,g)},L=function(){},J={};L=function(a){for(var b,d=a.split("/"),c=t.global[d[0]],f=
1;c&&f<d.length-1;c=c[d[f++]]);c&&((b=c[d[f]])||(b=c[d[f].replace(/-/g,"_")]),b&&(m[a]=b));return b};y.getLocalization=function(a,b,d){var c,f=K(a,b,d);if(J[f])return J[f];H(f,q,function(k){c=J[f]=k});return c};return p.mixin(y,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:H,cache:m,getL10nName:U})});