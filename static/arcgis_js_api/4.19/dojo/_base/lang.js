//>>built
define(["./kernel","../has","../sniff"],function(g,n){var k=function(a,b,c){c||(c=a[0]&&g.scopeMap[a[0]]?g.scopeMap[a.shift()][1]:g.global);try{for(var d=0;d<a.length;d++){var f=a[d];if(!(f in c))if(b)c[f]={};else return;c=c[f]}return c}catch(h){}},l=Object.prototype.toString,m=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},p=/\{([^\}]+)\}/g,e={_extraNames:[],_mixin:function(a,b,c){var d,f={};for(d in b){var h=b[d];d in a&&(a[d]===h||d in f&&f[d]===h)||(a[d]=c?c(h):h)}return a},
mixin:function(a,b){a||(a={});for(var c=1,d=arguments.length;c<d;c++)e._mixin(a,arguments[c]);return a},setObject:function(a,b,c){var d=a.split(".");a=d.pop();return(c=k(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,b,c){return a?k(a.split("."),b,c):c},exists:function(a,b){return void 0!==e.getObject(a,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||function(a){return"[object Array]"==l.call(a)},isFunction:function(a){return"[object Function]"===
l.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||e.isArray(a)||e.isFunction(a))},isArrayLike:function(a){return!!a&&!e.isString(a)&&!e.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(e.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!e.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,b){for(var c=1,d=arguments.length;c<d;c++)e._mixin(a.prototype,arguments[c]);return a},_hitchArgs:function(a,b){var c=e._toArray(arguments,
2),d=e.isString(b);return function(){var f=e._toArray(arguments),h=d?(a||g.global)[b]:b;return h&&h.apply(a||this,c.concat(f))}},hitch:function(a,b){if(2<arguments.length)return e._hitchArgs.apply(g,arguments);b||(b=a,a=null);if(e.isString(b)){a=a||g.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return a?function(){return b.apply(a,arguments||[])}:b},delegate:function(){function a(){}return function(b,
c){a.prototype=b;b=new a;a.prototype=null;c&&e._mixin(b,c);return b}}(),_toArray:n("ie")?function(){function a(b,c,d){d=d||[];for(c=c||0;c<b.length;c++)d.push(b[c]);return d}return function(b){return(b.item?a:m).apply(this,arguments)}}():m,partial:function(a){return e.hitch.apply(g,[null].concat(e._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||e.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof
RegExp)return new RegExp(a);var b;if(e.isArray(a)){var c=[];var d=0;for(b=a.length;d<b;++d)d in a&&(c[d]=e.clone(a[d]))}else c=a.constructor?new a.constructor:{};return e._mixin(c,a,e.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||p,e.isFunction(b)?b:function(d,f){return e.getObject(f,!1,b)})}};e.mixin(g,e);return e});