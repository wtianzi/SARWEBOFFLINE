/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
import{_ as r}from"./tslib.es6.js";import"../core/lang.js";import{L as e}from"./Logger.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import"./ensureType.js";import{subclass as t}from"../core/accessorSupport/decorators/subclass.js";import s from"../core/Collection.js";import{c as i,r as n}from"./collectionUtils.js";import"../core/urlUtils.js";import"./resourceExtension.js";import l from"../Graphic.js";const a=s.ofType(l);e.getLogger("esri.support.GraphicsCollection");let c=class extends a{constructor(r){super(r),this.on("before-add",(r=>{r.item||r.preventDefault()})),this.on("after-add",(r=>this._own(r.item))),this.on("after-remove",(({item:r})=>{r.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get("owner")}set owner(r){r!==this._get("owner")&&(this._unownAll(),this._set("owner",r),this._ownAll())}_createNewInstance(r){return new a(r)}_ownAll(){this.items.forEach((r=>this._own(r)))}_own(r){r.layer&&"remove"in r.layer&&r.layer!==this.owner&&r.layer.remove(r),r.layer=this.owner}_unownAll(){this.items.forEach((r=>this._unown(r)))}_unown(r){r.layer===this.owner&&(r.layer=null)}};r([o()],c.prototype,"owner",null),c=r([t("esri.support.GraphicsCollection")],c);const p=(r="graphics")=>({type:c,cast:i,set(e){const o=n(e,this._get(r),c);o.owner=this,this._set(r,o)}});var h=c;export{h as G,c as a,p as g};
