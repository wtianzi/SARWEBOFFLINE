var RemoteClient=function(e){self.webpackChunkRemoteClient=function(t,r){for(var s in r)e[s]=r[s];for(;t.length;)n[t.pop()]=1};var t={},n={24:1};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.e=function(e){var t=[];return t.push(Promise.resolve().then((function(){n[e]||importScripts(r.p+"chunks/"+{0:"921f990496ef970aab33",1:"fc5c8d63fa724fb8b993",2:"632a2f37fb79b7f6be8c",3:"5f19f7fad7e7b45b4422",4:"63c481506dafedc46b6d",5:"ba193c302b87795eacb8",6:"14fa919f1386ff712104",7:"7dbdf36a07626b1af48b",8:"53df126aa86391f131ec",9:"b9a1ee9e429023663a4d",10:"a2fb4d49d2a76e57924d",11:"f015e0f1cc0ccca030bf",12:"708a0a8aeee8dbd330b5",13:"66b13c9c5fa27bb52d29",14:"b6222c809eda9edf6158",15:"999b1996270f3b5751f5",16:"25c9da27ac8cf79126f6",17:"6dfe3793c0d261f85071",18:"64a840bd0c5e6db65af9",19:"53fd0e1cd1d5d2716627",20:"8065bb166cd95f914e47",21:"55363aa7b8456dd20848",22:"654bb8ee1797b8532562",23:"f0ed48ef33753f659a2b",25:"8baad6b69c70e93aef6c",26:"babd1b720dcf375b5804",27:"a32d9b20c114af5f58f9",28:"30d450f33cd47262ca3f",29:"70df0f8f105fee09d8b2",30:"9eece12d89a2d561cfa3",31:"e9ad5555eed53949db24",32:"e4cd974bc39d37a239ad",33:"1b76b431bfb033e074ad",34:"33cd0647b484ad1749c2",35:"d40aa8266140c38854f9",36:"1c066f9a24fe414f9d3a",37:"f0e9aff52700440db52f",38:"dc99d37a6e899262f709",39:"c205a4825cd856d12344",40:"9048523b9b67c80713a5",41:"8530d1e2e66201d5143a",42:"bcff9afd4da5d8569501",43:"90e683805b1d425e8121",44:"b747f2f68cd5d71136da",45:"5b321860bb6615c43ccf",46:"261eb44a8c285f2fb959",47:"5d8f0a62d2c12e554fae",48:"e2e1be619084282ad0b1",49:"3c8ef8cf510a828d66bf",50:"889bbb95920806ff2d97",51:"54893f65ce0a0625bbdb",52:"f1008004d186800e5e05",53:"b30f12855b39a067d4ef",54:"69c8a27fe849f24b3fb2",55:"104b524ae7550970b37a",56:"d2b8d7a2ab9215458948",57:"02b12a2a4a785be3ccae",58:"91e1ff5a885b3dcb9451",59:"f6753634f7446ae0d364",60:"b38b7c12736f3d684963",61:"fcd03edc14c3254e5fd4",62:"3240cccce174af197a66",63:"c0d73e517b25b56e6140",64:"88a3995757746263fa58",65:"5b7ebfd742ca4021b2be",66:"053f356903fdf3f7a6be",67:"255e9362663df3579f44",68:"25e9dd2a32f252fc28de",69:"5b3111f23f8effa55c26",70:"dbd13fb0b8bd5d4ba6a2",71:"ee0bc4c409d9f849b11d",72:"88ba23a1fa271d951fad",73:"f6ef624bdf53da578e6d",74:"7f2e93b0261a7d1fc30c",75:"ae7a628e8776f2417789",76:"bcd9d7a83ece7256b054",77:"aacdb10ded928d769226",78:"367783457a693857d504",79:"4a4e30e56434c18c5fd8",80:"8c9409beee8d6adb9fcd",81:"51511c55a5bced1e0ff2",82:"4f6dc499a28ed73f5ebd",83:"3a462702e20893426428",84:"7de863047bc308521513",85:"5f433f8d7689b3fe4065",86:"71e837cafea3bb53770e",87:"3abb9b6cca0f082984d4",88:"d7000056ad07c65d9aea",89:"c82370595b0d5b7c7658",90:"0a9eac6614a211c0b90c",91:"2bf4973d83ecfbfe3697",92:"edf6fb1d767ae5c69461",93:"05c0d597830ca97ca0d9",94:"fd56e6c73e861ecb80d5",95:"c66ce036ad84a5658f4b",96:"09313be375a0bc984270",97:"d51b0bdc28d02e6ad83a",98:"79248b250f40db8c5d91",99:"76894b8b3df2a431d9e9",100:"2c4e122b9c1663cd9e6c",101:"6894ae37c49403c93c2e",102:"d15916e03e3798e9c38b",103:"4a0bafd56c611502ea9e",104:"b4dcaf22b42284710239",105:"a78b462fcaef34a2207c",106:"9bc634690f88e9abc7dc",107:"76f07eb2cf1d7802de15",108:"6f59658440866ba46deb",109:"b7852ed965b6b9ab9e2d",110:"6b5352e23541ee0e3a7f",111:"94e58a8ff785f41a03d7",112:"9d83f94bdd0e4d360cf7",113:"0697178b7d1a37f6fb27",114:"141cc1d137b29afdc8ad",115:"3581df638b00d6139860",116:"dd31e9ee0c6a2a7f26c4",117:"2c88f9bef62ca04dbaf3",118:"7d593cdeabf645e917d5",119:"3904ffd7f2aac0c6a32f",120:"c40dd467fa41c84cf383",121:"ad31f89b1d1da18b9e76",122:"2f0e28e47e1e0d7aeb1e",123:"2f04d42b29ec890e7975",124:"451153f9871d2d1282b6",125:"b0e441b78a9565c5c581",126:"f242493f2c3cb5e77aa0",127:"6f22ef0d360ebfc687a3",128:"63c2910d5f6776db1f5a",129:"81ace8634abf331a8113",130:"c0ef4b81ba6f237f3dfe",131:"a5519f54ea6c2cd5d5a9",132:"1c17f8c0fde643e4bc80",133:"34ea29221240853b0933",134:"436ccde4dded2741897f",135:"8676fe37b00e0b6fd9f9",136:"4eb43dd62ecf576444e6",137:"bac968a6b0c8b109ea74",138:"2c95989b75f632591ee7",139:"42ad1bba6c310b4fa97d",140:"e496ffd66947c9b5c9d9",141:"7324c7451e337afbfd7b",142:"c84532c970c11dfc7eac",143:"f6db301498a66be907f2",144:"b6c0077a53690893a74b",145:"19aeb48581a6b6f0fc45",146:"556c96be6898409b9a0d",147:"40ae6c69ab792114983e",148:"d1400762076cbc3fffac",149:"cd36f4d806863302e3f6",150:"8bcab60d80a4e29ca5c4",151:"3c068cf1574da3227bc6",152:"5584f0459d8e7f677686",153:"b22e19bceedb2e26bfac",154:"65b39c9f94f8522ed4e3",155:"f57571a3a70fed8759c5",156:"59ff65a367b29ceed725",157:"07b314c786cc92131bd5",158:"1bc67117bacf557ebcfa",159:"37fe6571d03a3ab2cb6d",160:"93bc8d5dfc37ede53e77",161:"00bf3c17ca08ecd6a556",162:"ee9065974ad70d5b9427",163:"36bd39ac8cdad093a9b6"}[e]+".js")}))),Promise.all(t)},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=25)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return a}));n(1);var r=n(6),s=n(9);function o(e){return null!=e}function i(e){return null==e}function c(e){return void 0===e}function a(e){return e}function u(e,t){return o(e)?e:"function"==typeof t?t():t}function l(e){return o(e)&&e.destroy(),null}function f(e){return o(e)&&e.dispose(),null}function d(e){return o(e)&&e.remove(),null}function h(e){return null}function p(e,t){const n=new Array;for(const r of e)n.push(b(r,null,t));return n}function g(e,t){for(const n of e)b(n,null,t)}function b(e,t,n){return o(e)?n(e):t}function _(e,t){return o(e)?t(e):null}function y(e,...t){let n=e,r=0;for(;r<t.length&&n;)n=n[t[r++]];return n}function m(e){return e}const v={info:0,warn:1,error:2,none:3};class O{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,O._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=O.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=O._loggers;return O._loggers=e,t},set throttlingDisabled(e){O._throttlingDisabled=e}}}static getLogger(e){let t=O._loggers[e];return t||(t=new O({module:e})),t}_log(e,t,...n){if(this._matchLevel(e)){if("always"!==t&&!O._throttlingDisabled){const r=this._argsToKey(n),s=this._loggedMessages[e].get(r);if("once"===t&&null!=s||"oncePerTick"===t&&s&&s>=O._tickCounter)return;this._loggedMessages[e].set(r,O._tickCounter),O._scheduleTickCounterIncrement()}for(const t of r.a.log.interceptors)if(t(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,t){let n=this;for(;o(n);){const t=n[e];if(o(t))return t;n=n.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...n){console[e](`[${t}]`,...n)}_matchLevel(e){const t=r.a.log.level?r.a.log.level:"warn";return v[this._parentWithMember("level",t)]<=v[e]}_argsToKey(...e){return Object(s.b)(JSON.stringify(e,(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]"))}static _scheduleTickCounterIncrement(){O._tickCounterScheduled||(O._tickCounterScheduled=!0,Promise.resolve().then(()=>{O._tickCounter++,O._tickCounterScheduled=!1}))}}O._loggers={},O._tickCounter=0,O._tickCounterScheduled=!1,O._throttlingDisabled=!1},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return f}));const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0;var s,o;let i;var c,a;function u(e){return"function"==typeof i[e]?i[e]=i[e](r):i[e]}function l(e,t){if(e.forEach)e.forEach(t);else for(let n=0;n<e.length;n++)t(e[n],n,e)}function f(e,t,n){if(e.slice)return e.slice(t,n);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===n?n=e.length:(n<0&&(n+=e.length),n=Math.min(e.length,Math.max(0,n)));const r=Math.max(0,n-t),s=new(0,e.constructor)(r);for(let n=0;n<r;n++)s[n]=e[t+n];return s}function d(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function h(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function p(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function g(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function b(e){return e?128+e.buffer.byteLength+64:0}function _(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&_(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function y(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;if((t=e)instanceof Int8Array||t&&t.constructor&&"Int8Array"===t.constructor.name||h(e)||function(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}(e)||function(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}(e)||p(e)||function(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}(e)||g(e)||function(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}(e)||function(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}(e))return f(e);var t;if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((e,n)=>{t.set(n,y(e))}),t}if(e instanceof Set){const t=new Set;return e.forEach(e=>{t.add(y(e))}),t}let n;const r=e;if("function"==typeof r.clone)n=r.clone();else if("function"==typeof r.map&&"function"==typeof r.forEach)n=r.map(y);else if("function"==typeof r.notifyChange&&"function"==typeof r.watch)n=r.clone();else{n={};for(const t of Object.getOwnPropertyNames(e))n[t]=y(e[t])}return n}function m(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}i=null!=(s=r.dojoConfig)&&s.has||null!=(o=r.esriConfig)&&o.has?{...null==(c=r.dojoConfig)?void 0:c.has,...null==(a=r.esriConfig)?void 0:a.has}:{},u.add=(e,t,n,r)=>((r||void 0===i[e])&&(i[e]=t),n&&u(e)),u.cache=i,u.add("esri-deprecation-warnings",!0),(()=>{u.add("host-webworker",void 0!==r.WorkerGlobalScope&&self instanceof r.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(u.add("host-browser",e),u.add("host-node","object"==typeof r.process&&r.process.versions&&r.process.versions.node&&r.process.versions.v8),u.add("dom",e),u("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(u.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),u.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),u.add("khtml",n.indexOf("Konqueror")>=0?r:void 0),u.add("edge",parseFloat(t.split("Edge/")[1])||void 0),u.add("opr",parseFloat(t.split("OPR/")[1])||void 0),u.add("webkit",!u("wp")&&!u("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),u.add("chrome",!u("edge")&&!u("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),u.add("android",!u("wp")&&parseFloat(t.split("Android ")[1])||void 0),u.add("safari",!(n.indexOf("Safari")>=0)||u("wp")||u("chrome")||u("android")||u("edge")||u("opr")?void 0:parseFloat(n.split("Version/")[1])),u.add("mac",n.indexOf("Macintosh")>=0),u.add("quirks","BackCompat"===document.compatMode),!u("wp")&&t.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),n=t.match(/OS ([\d_]+)/)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replace(/_/g,""));u.add(e,r),u.add("ios",r)}u.add("trident",parseFloat(n.split("Trident/")[1])||void 0),u.add("svg","undefined"!=typeof SVGAngle),u("webkit")||(t.indexOf("Opera")>=0&&u.add("opera",r>=9.8&&parseFloat(t.split("Version/")[1])||r),!(t.indexOf("Gecko")>=0)||u("wp")||u("khtml")||u("trident")||u("edge")||u.add("mozilla",r),u("mozilla")&&u.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(r.navigator){const e=navigator.userAgent,t=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),n=e.match(/iPhone/i);t&&u.add("esri-mobile",t),n&&u.add("esri-iPhone",n),u.add("esri-geolocation",!!navigator.geolocation)}u.add("esri-canvas-svg-support",!u("trident")),u.add("esri-wasm","WebAssembly"in r),u.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in r,t=!1===r.crossOriginIsolated;return e&&!t}),u.add("esri-atomics","Atomics"in r),u.add("esri-workers","Worker"in r),u.add("esri-text-decoder","TextDecoder"in r),u.add("esri-text-encoder","TextEncoder"in r),u.add("featurelayer-snapshot-enabled",!0),u.add("featurelayer-snapshot-point-min-threshold",8e4),u.add("featurelayer-snapshot-point-max-threshold",4e5),u.add("featurelayer-snapshot-point-coverage",.1),u.add("featurelayer-advanced-symbols",!1),u.add("featurelayer-pbf",!0),u.add("featurelayer-pbf-statistics",!1),u.add("feature-layers-workers",!0),u.add("mapview-transitions-duration",200),u.add("mapserver-pbf-enabled",!1),u("host-webworker")||u("host-browser")&&(u.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),u.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{u.add("esri-image-decode",!0,!0,!0)}).catch(()=>{u.add("esri-image-decode",!1,!0,!0)})}return!1}),u.add("esri-url-encodes-apostrophe",()=>{const e=r.document.createElement("a");return e.href="?'",e.href.indexOf("?%27")>-1}),u.add("vectortilelayer-max-buffers",()=>u("ff")?160:Number.POSITIVE_INFINITY))})()}).call(this,n(24))},function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return u})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return g})),n.d(t,"w",(function(){return m})),n.d(t,"x",(function(){return R})),n.d(t,"y",(function(){return w}));var r,s=n(1),o=(n(4),n(6),n(0)),i=(n(9),n(10),n(8)),c=(r=s.h,{setTimeout:(e,t)=>{const n=r.setTimeout(e,t);return{remove:()=>r.clearTimeout(n)}}});function a(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function u(e,t,n){if(!a(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,n);if(Array.isArray(t)){const r=t.slice();for(const t of r)e.addEventListener(t,n);return{remove(){for(const t of r)e.removeEventListener(t,n)}}}return e.addEventListener(t,n),{remove(){e.removeEventListener(t,n)}}}function l(e,t,n){if(!a(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const r=u(e,t,t=>{r.remove(),n.call(e,t)});return{remove(){r.remove()}}}function f(e){return Promise.all(e)}function d(e){return new Promise((t,n)=>{try{e(t,n)}catch(e){Promise.resolve().then(()=>n(e))}})}function h(e="Aborted"){return new i.a("AbortError",e)}function p(){return new AbortController}function g(e){if(_(e))throw h()}function b(e){return Object(o.h)(e)?"aborted"in e?e:e.signal:e}function _(e){const t=b(e);return Object(o.h)(t)&&t.aborted}function y(e){if(E(e))throw e}function m(e){if(!E(e))throw e}function v(e,t){const n=b(e);if(!Object(o.c)(n)){if(!n.aborted)return l(n,"abort",()=>t());t()}}function O(e,t){const n=b(e);if(!Object(o.c)(n))return g(n),l(n,"abort",()=>t(h()))}function w(e,t){const n=b(t);return Object(o.c)(n)?e:new Promise((n,r)=>{let s=v(t,()=>r(h()));const i=()=>s=Object(o.n)(s);e.then(i,i),e.then(n,r)})}function E(e){return e&&"AbortError"===e.name}function A(e){return e.catch(e=>{if(!E(e))throw e})}function j(){let e=null;const t=new Promise((t,n)=>{e={promise:void 0,resolve:t,reject:n}});return e.promise=t,e}function T(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return T(t.map(t=>e[t])).then(e=>{const n={};return t.forEach((t,r)=>n[t]=e[r]),n})}const t=e;return d(e=>{const n=[];let r=t.length;0===r&&e(n),t.forEach(t=>{const s={promise:t||Promise.resolve(t)};n.push(s),s.promise.then(e=>{s.value=e}).catch(e=>{s.error=e}).then(()=>{--r,0===r&&e(n)})})})}function S(e){return Promise.reject(e)}function k(e){return Promise.resolve(e)}function I(e,t,n){const r=p();return v(n,()=>r.abort()),new Promise((n,s)=>{let o=setTimeout(()=>{o=0,n(t)},e);v(r,()=>{o&&(clearTimeout(o),s(h()))})})}function P(e){return e&&"function"==typeof e.then}function R(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function C(e,t=-1){let n,r,s,i,c=null;const a=(...u)=>{if(n){r=u,i&&i.reject(h()),i=j();const e=Object(o.b)(i.promise);if(c){const e=c;c=null,e.abort()}return e}if(s=i||j(),i=null,t>0){const r=p();n=R(e(...u,r.signal));const s=n;I(t).then(()=>{n===s&&(i?r.abort():c=r)})}else n=1,n=R(e(...u));const l=()=>{const e=r;r=s=n=c=null,null!=e&&a(...e)},f=n,d=s;return f.then(l,l),f.then(d.resolve,d.reject),Object(o.b)(d.promise)};return a}function N(){let e,t;const n=new Promise((n,r)=>{e=n,t=r}),r=t=>{e(t)};return r.resolve=t=>e(t),r.reject=e=>t(e),r.timeout=(e,t)=>c.setTimeout(()=>r.reject(t),e),r.promise=n,r}function x(e){let t=p();const n=e(t.signal);let r={promise:n,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const s=()=>{r&&(r.finished=!0,r=null),t=null};return n.then(s,s),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return d}));var r=n(1),s=n(0);function o(e){return i(()=>e.forEach(e=>Object(s.h)(e)&&e.remove()))}function i(e){return{remove:()=>{e&&(e(),e=void 0)}}}function c(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function a(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function u(e,t,n){return l(e,t,n?{policy:n,path:""}:null)}function l(e,t,n){return t?Object.keys(t).reduce((function(e,o){let i=null,c="merge";if(n&&(i=n.path?`${n.path}.${o}`:o,c=n.policy(i)),"replace"===c)return e[o]=t[o],e;if(void 0===e[o])return e[o]=Object(r.b)(t[o]),e;let a=e[o],u=t[o];if(a===u)return e;if(Array.isArray(u)||Array.isArray(e))a=a?Array.isArray(a)?e[o]=a.concat():e[o]=[a]:e[o]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(e=>{-1===a.indexOf(e)&&a.push(e)}));else if(u&&"object"==typeof u)if(n){const t=n.path;n.path=Object(s.b)(i),e[o]=l(a,u,n),n.path=t}else e[o]=l(a,u,null);else e.hasOwnProperty(o)&&!t.hasOwnProperty(o)||(e[o]=u);return e}),e||{}):e}function f(e){return e?"string"==typeof e&&-1===e.indexOf(".")?e:d(e):e}function d(e){return Array.isArray(e)?e:e.split(".")}function h(e){return e.indexOf(",")>-1?e.split(",").map(e=>e.trim()):[e.trim()]}function p(e,t,n,r){const s=function(e){if(Array.isArray(e)){const t=[];for(const n of e)t.push(...h(n));return t}return h(e)}(t);return 1!==s.length?o(s.map(t=>r(e,t,n))):r(e,s[0],n)}function g(e){let t=!1;return()=>{t||(t=!0,e())}}class b{constructor(e){this.autoDestroy=!1,this.properties=e}}function _(e){let t=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!n){const n=Object.create(t.properties),s=t.autoDestroy;for(const e in n)n[e]=Object(r.b)(n[e]);t=new b(n),t.autoDestroy=s,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new b({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return Object(s.b)(e.constructor.__accessorMetadata__)}function y(e,t){const n=function(e){return _(e).properties}(e);let r=n[t];return r||(r=n[t]={}),r}function m(e,t){return u(e,t,O)}const v=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function O(e){return v.test(e)?"replace":"merge"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n(1);function s(e,t,n=!1){return function e(t,n,s){return n?Object.keys(n).reduce((function(t,o){let i=t[o],c=n[o];return i===c?t:void 0===i?(t[o]=Object(r.b)(c),t):(Array.isArray(c)||Array.isArray(t)?(i=i?Array.isArray(i)?t[o]=i.concat():t[o]=[i]:t[o]=[],c&&(Array.isArray(c)||(c=[c]),s?c.forEach(e=>{-1===i.indexOf(e)&&i.push(e)}):t[o]=c.concat())):c&&"object"==typeof c?t[o]=e(i,c,s):t.hasOwnProperty(o)&&!n.hasOwnProperty(o)||(t[o]=c),t)}),t||{}):t}(e,t,n)}function o(e,t){if(null!=t)return t[e]||c(e.split("."),!1,t)}function i(e,t,n){const r=e.split("."),s=r.pop(),o=c(r,!0,n);o&&s&&(o[s]=t)}function c(e,t,n){let r=n;for(const n of e){if(null==r)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return S}));n(1);const r=n(0).a.getLogger("esri.core.Accessor");function s(e){return null==e?e:new Date(e)}function o(e){return null==e?e:!!e}function i(e){return null==e?e:e.toString()}function c(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function a(e){return null==e?e:Math.round(parseFloat(e))}function u(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function l(e,t){return null!=t&&e&&!(t instanceof e)}function f(e){return e&&"isCollection"in e}function d(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function h(e,t){return!!u(t)&&(r.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+g(e)+"'"),!0)}function p(e,t){return null==t?t:f(e)?function(e,t){if(!t||!t.constructor||!f(t.constructor))return h(e,t)?t:new e(t);const n=d(e.prototype.itemType),r=d(t.constructor.prototype.itemType);return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(h(e,t),t):new e(t):t}(e,t):l(e,t)?h(e,t)?t:new e(t):t}function g(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function b(e){switch(e){case Number:return c;case T:return a;case Boolean:return o;case String:return i;case Date:return s;default:return p.bind(null,e)}}function _(e,t){const n=b(e);return 1===arguments.length?n:n(t)}function y(e,t,n){return 1===arguments.length?y.bind(null,e):t?Array.isArray(t)?t.map(t=>e(t,n)):[e(t,n)]:t}function m(e,t){return 1===arguments.length?y(_.bind(null,e)):y(_.bind(null,e),t)}function v(e,t,n){return 0!==t&&Array.isArray(n)?n.map(n=>v(e,t-1,n)):e(n)}function O(e,t,n){if(2===arguments.length)return O.bind(null,e,t);if(!n)return n;let r=t,s=n=v(e,t,n);for(;r>0&&Array.isArray(s);)r--,s=s[0];if(void 0!==s)for(let e=0;e<r;e++)n=[n];return n}function w(e,t,n){return 2===arguments.length?O(_.bind(null,e),t):O(_.bind(null,e),t,n)}function E(e){return!!Array.isArray(e)&&!e.some(t=>{const n=typeof t;return!("string"===n||"number"===n||"function"===n&&e.length>1)})}function A(e,t){if(2===arguments.length)return A(e).call(null,t);const n=new Set,s=e.filter(e=>"function"!=typeof e),o=e.filter(e=>"function"==typeof e);for(const t of e)"string"!=typeof t&&"number"!=typeof t||n.add(t);let i=null,c=null;return(e,t)=>{if(null==e)return e;const a=typeof e,u="string"===a||"number"===a;return u&&(n.has(e)||o.some(e=>"string"===a&&e===String||"number"===a&&e===Number))||"object"===a&&o.some(t=>!l(e,t))?e:(u&&s.length?(i||(i=s.map(e=>"string"==typeof e?`'${e}'`:""+e).join(", ")),r.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${i}`)):"object"==typeof e&&o.length?(c||(c=o.map(e=>g(e)).join(", ")),r.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${c}`)):r.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function j(e,t){if(2===arguments.length)return j(e).call(null,t);const n={},s=[],o=[];for(const t in e.typeMap){const r=e.typeMap[t];n[t]=_(r),s.push(g(r)),o.push(t)}const i=()=>`'${s.join("', '")}'`,c=()=>`'${o.join("', '")}'`,a="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!l(e.base,t))return t;if(null==t)return t;const s=a(t)||e.defaultKeyValue,o=n[s];if(!o)return r.error("Accessor#set",`Invalid property value, value needs to be one of ${i()}, or a plain object that can autocast (having .type = ${c()})`),null;if(!l(e.typeMap[s],t))return t;if("string"==typeof e.key&&!u(t)){const n={};for(const r in t)r!==e.key&&(n[r]=t[r]);return o(n)}return o(t)}}class T{}const S={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function k(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function I(e){switch(e.type){case"native":return _(e.value);case"array":return y(I(e.value));case"one-of":return function(e){let t=null;return(n,s)=>function e(t,n){if(null==t)return!0;switch(n.type){case"native":switch(n.value){case Number:case T:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof n.value;case"array":return!!Array.isArray(t)&&!t.some(t=>!e(t,n.value));case"one-of":return n.values.some(n=>e(t,n))}}(n,e)?n:(null==t&&(t=function e(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case T:return"integer";case Date:return"date";default:return g(t.value)}case"array":return"array of "+e(t.value);case"one-of":{const n=t.values.map(t=>e(t));return`one of ${n.slice(0,n.length-1)} or ${n[n.length-1]}`}}return"unknown"}(e)),r.error("Accessor#set","Invalid property value, value needs to be of type "+t),s&&(s.valid=!1),null)}(e);default:return null}}},function(e,t,n){"use strict";var r=n(1),s=n(4);const o={apiKey:void 0,applicationUrl:r.h.location&&r.h.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(r.h.esriConfig&&(Object(s.a)(o,r.h.esriConfig,!0),delete o.has),!o.assetsPath){const e="";o.assetsPath=e.slice(0,e.indexOf("@arcgis/"))}o.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(o,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),o.request.corsEnabledServers=[],o.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c}));n(1),n(4),n(6);var r=n(0),s=(n(9),n(3)),o=n(5);function i(e,t){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const r=Object(s.g)(t);return Object(s.i)(r,n)?r.get(n):t[n]}function c(e,t,n=0){return"string"==typeof t&&-1===t.indexOf(".")?i(t,e):function e(t,n,r){if(null==t)return t;const s=i(n[r],t);return!s&&r<n.length-1?void 0:r===n.length-1?s:e(s,n,r+1)}(e,Object(s.l)(t),n)}function a(e,t){return c(e,t)}function u(e,t){return void 0!==c(t,e)}function l(e,t,n){if(e&&t)if("object"==typeof t)for(const n of Object.getOwnPropertyNames(t))l(e,n,t[n]);else{if(-1!==t.indexOf(".")){const r=t.split("."),s=r.splice(r.length-1,1)[0];return void l(a(e,r),s,n)}e[t]=n}}r.a.getLogger("esri.core.accessorSupport.set");const f=r.a.getLogger("esri.core.accessorSupport.decorators.property");function d(e={}){return(t,n,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`);const i=Object(s.a)(t,n);r&&(r.get||r.set?(i.get=r.get||i.get,i.set=r.set||i.set):"value"in r&&("value"in e&&f.warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=r.value)),null!=e.readOnly&&(i.readOnly=e.readOnly);const c=e.aliasOf;if(c){const e="string"==typeof c?c:c.source,t="string"==typeof c?null:!0===c.overridable;let r;i.dependsOn=[e],i.get=function(){let t=a(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const n=a(this,r);n&&(t=t.bind(n))}return t},i.readOnly||(i.set=t?function(e){void 0!==e?this._override(n,e):this._clearOverride(n)}:function(t){l(this,e,t)})}const u=e.type,d=e.types;i.cast||(u?i.cast=function(e){let t=0,n=e;if(Object(o.j)(e))return Object(o.d)(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const r=n;if(Object(o.e)(r))return 0===t?Object(o.g)(r):Object(o.h)(Object(o.g)(r),t);if(1===t)return Object(o.i)(r);if(t>1)return Object(o.k)(r,t);const s=e;return s.from?s.from:Object(o.f)(s)}(u):d&&(Array.isArray(d)?i.cast=Object(o.c)(Object(o.b)(d[0])):i.cast=Object(o.b)(d))),e.range&&(i.cast=p(i.cast,e.range)),Object(s.b)(i,e)}}function h(e,t,n){const r=Object(s.a)(e,n);r.json||(r.json={});let o=r.json;return void 0!==t&&(o.origins||(o.origins={}),o.origins[t]||(o.origins[t]={}),o=o.origins[t]),o}function p(e,t){return n=>{let r=+e(n);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}},function(e,t,n){"use strict";var r=n(1),s=(n(4),n(6),n(0)),o=(n(9),n(10));class i extends o.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof i))return new i(e,t,n)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(r.b)(t)}catch(e){return"[object]"}}))}}catch(e){throw s.a.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new i(e.name,e.message,e.details)}}i.prototype.type="error",t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u}));var r=n(4);const s=/\{([^\}]+)\}/g;function o(e){return null==e?"":e}function i(e,t){return e.replace(s,"object"==typeof t?(e,n)=>o(Object(r.b)(n,t)):(e,n)=>o(t(n)))}function c(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,e=>t&&-1!==t.indexOf(e)?e:"\\"+e)}function a(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}function u(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4);class s{constructor(e,t,n){var o;this.name=e,this.details=n,this.message=void 0,this instanceof s&&(this.message=t&&(o=n,t.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,t){if(""===t)return"$";const n=Object(r.b)(t,o),s=null==n?"":n;if(void 0===s)throw new Error(`could not find key "${t}" in template`);return s.toString()})))||"")}toString(){return"["+this.name+"]: "+this.message}}},function(e,t,n){"use strict";function r(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return $}));var r=n(1),s=(n(4),n(6),n(0)),o=(n(9),n(2));n(10),n(8);const i=r.h.queueMicrotask?r.h.queueMicrotask:e=>{r.h.Promise.resolve().then(e)},c=[];let a=[];function u(e){c.push(e),1===c.length&&i(()=>{for(const e of a)e();const e=c.slice();c.length=0;for(const t of e)t()})}(u||(u={})).before=function(e){return a.push(e),{remove(){a=a.filter(t=>t!==e)}}};var l=u;class f{constructor(e,t=29){this.name=e,this._counter=0,this._items=new Array(t)}record(e){this._items[++this._counter%this._items.length]=e}get median(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((e,t)=>e+t,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}class d{constructor(e=1){this._seed=e}set seed(e){this._seed=null==e?Math.random()*d._m:e}getInt(){return this._seed=(d._a*this._seed+d._c)%d._m,this._seed}getFloat(){return this.getInt()/(d._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const n=t-e;return e+this.getInt()/d._m*n}}function h(e,t,n){if(Object(s.c)(e)&&Object(s.c)(t))return!0;if(Object(s.c)(e)||Object(s.c)(t)||e.length!==t.length)return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}d._m=2147483647,d._a=48271,d._c=0;const p=!!Array.prototype.fill;function g(e,t){if(p)return new Array(e).fill(t);const n=new Array(e);for(let r=0;r<e;r++)n[r]=t;return n}function b(e,t){void 0===t&&(t=e,e=0);const n=new Array(t-e);for(let r=e;r<t;r++)n[r-e]=r;return n}class _{constructor(){this.last=0}}const y=new _;function m(e,t,n,r){r=r||y;const s=Math.max(0,r.last-10);for(let o=s;o<n;++o)if(e[o]===t)return r.last=o,o;const o=Math.min(s,n);for(let n=0;n<o;++n)if(e[n]===t)return r.last=n,n;return-1}function v(e,t,n,r){const s=null==n?e.length:n,o=m(e,t,s,r);if(-1!==o)return e[o]=e[s-1],null==n&&e.pop(),t}const O=new Set;new d;function w(e,t){const n=e.indexOf(t);return-1!==n?(e.splice(n,1),t):null}var E;!function(e){const t=(e,t,n,r)=>{let s=t,o=t;const i=n>>>1,c=e[s-1];for(;o<=i;){o=s<<1,o<n&&r(e[o-1],e[o])<0&&++o;const t=e[o-1];if(r(t,c)<=0)break;e[s-1]=t,s=o}e[s-1]=c},n=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,r,s,o){void 0===r&&(r=0),void 0===s&&(s=e.length),void 0===o&&(o=n);for(let n=s>>>1;n>r;n--)t(e,n,s,o);const i=r+1;for(let n=s-1;n>r;n--){const s=e[r];e[r]=e[n],e[n]=s,t(e,i,n,o)}},e.iterableSort=function*(e,r,s,o){void 0===r&&(r=0),void 0===s&&(s=e.length),void 0===o&&(o=n);for(let n=s>>>1;n>r;n--)t(e,n,s,o),yield;const i=r+1;for(let n=s-1;n>r;n--){const s=e[r];e[r]=e[n],e[n]=s,t(e,i,n,o),yield}}}(E||(E={}));var A=E;class j{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new _,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>T(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(e){if(!(e<0||e>=this._length))return this.data[e]}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,T(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=m(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){const t=v(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),this._shrink(),t}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=function(e,t,n=e.length,r=t.length,s,o){if(0===r||0===n)return n;O.clear();for(let e=0;e<r;++e)O.add(t[e]);s=s||y;const i=Math.max(0,s.last-10);for(let t=i;t<n;++t)if(O.has(e[t])&&(o&&o.push(e[t]),O.delete(e[t]),e[t]=e[n-1],--n,--t,0===O.size||0===n))return O.clear(),n;for(let t=0;t<i;++t)if(O.has(e[t])&&(o&&o.push(e[t]),O.delete(e[t]),e[t]=e[n-1],--n,--t,0===O.size||0===n))return O.clear(),n;return O.clear(),n}(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){e>=this.length||t>=this.length||e===t||([this.data[e],this.data[t]]=[this.data[t],this.data[e]])}sort(e){A.sort(this.data,0,this.length,e)}iterableSort(e){return A.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0;return!1}filterInPlace(e,t){let n=0;for(let r=0;r<this._length;++r){const s=this.data[r];e.call(t,s,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let e=n;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=n,this._shrink(),this}forAll(e,t){const n=this.length,r=this.data;for(let s=0;s<n;++s)e.call(t,r[s],s,r)}map(e,t){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data);return n}reduce(e,t){let n=t;for(let t=0;t<this.length;++t)n=e(n,this.data[t],t,this.data);return n}has(e){const t=this.length,n=this.data;for(let r=0;r<t;++r)if(n[r]===e)return!0;return!1}}function T(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}class S{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let k=0,I=0;const P={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},R=["prepare","preRender","render","postRender","update"],C=[],N=new j;const x={frameTasks:N,willDispatch:!1,clearFrameTasks:function(e=!1){N.forAll(e=>{e.removed=!0}),e&&U()},dispatch:F,executeFrameTasks:function(e){const t=e-k;k=e;const n=I>0?I:1e3/60,r=Math.max(0,t-n);for(let s=0;s<R.length;s++){const o=performance.now(),i=R[s];N.forAll(o=>{var c;o.paused||o.removed||(0===s&&o.ticks++,o.phases[i]&&(P.time=e,P.deltaTime=0===o.ticks?0:t,P.elapsedFrameTime=performance.now()-e,P.frameDuration=n-r,null==(c=o.phases[i])||c.call(o,P)))}),D[s].record(performance.now()-o)}U(),q.record(performance.now()-e)}};function M(e){const t=new S(e);return C.push(t),x.willDispatch||(x.willDispatch=!0,l(F)),t}const L=new j;function U(){N.forAll(e=>{e.removed&&L.push(e)}),N.removeUnorderedMany(L.data,L.length),L.clear()}function F(){for(;C.length;){const e=Object(s.b)(C.shift());e.isActive&&e.callback()}x.willDispatch=!1}function $(e=1,t){const n=Object(o.g)(),r=()=>{Object(o.n)(t)?n.reject(Object(o.e)()):0===e?n():(--e,l(()=>r()))};return r(),n.promise}const D=R.map(e=>new f(e)),q=new f("total")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return N}));n(1);var r=n(4),s=(n(6),n(0)),o=(n(9),n(3)),i=n(10),c=n(5);class a extends i.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof a))return new a(e,t,n)}}function u(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}a.prototype.type="warning";const l=s.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function f(e,t,n){var s,o,i;e&&(!n&&!t.read||null!=(s=t.read)&&s.reader||!1===(null==(o=t.read)?void 0:o.enabled)||("types"in(i=e)?y(i.types):_(i.type))&&Object(r.c)("read.reader",d(e),t))}function d(e){var t;const n=null!=(t=e.ndimArray)?t:0;if(n>1)return function(e){var t;const n=h(e),r=p.bind(null,n),s=null!=(t=e.ndimArray)?t:0;return(e,t,n)=>{if(null==e)return e;e=r(e,n,s);let o=s,i=e;for(;o>0&&Array.isArray(i);)o--,i=i[0];if(void 0!==i)for(let t=0;t<o;t++)e=[e];return e}}(e);if(1===n)return g(e);if("type"in e&&b(e.type)){var r,s;const t=null==(r=e.type.prototype)||null==(s=r.itemType)?void 0:s.Type,n=g("function"==typeof t?{type:t}:{types:t});return(t,r,s)=>{const o=n(t,r,s);return o?new e.type(o):o}}return h(e)}function h(e){return"type"in e?function(e){return e.prototype.read?(t,n,r)=>{if(null==t)return t;const s=typeof t;if("object"!==s)return void l.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const o=new e;return o.read(t,r),o}:e.fromJSON}(e.type):function(e){var t;let n=null;const r=null!=(t=e.errorContext)?t:"type";return(t,s,i)=>{if(null==t)return t;const c=typeof t;if("object"!==c)return void l.error(`Expected JSON value of type 'object' to deserialize, but got '${c}'`);n||(n=function(e){const t={};for(const s in e.typeMap){var n,r;const i=e.typeMap[s],c=Object(o.c)(i.prototype);if("function"==typeof e.key)continue;const a=c.properties[e.key];if(!a)continue;null!=(n=a.json)&&n.type&&Array.isArray(a.json.type)&&1===a.json.type.length&&"string"==typeof a.json.type[0]&&(t[a.json.type[0]]=i);const u=null==(r=a.json)?void 0:r.write;if(!u||!u.writer){t[s]=i;continue}const l=u.target,f="string"==typeof l?l:e.key,d={};u.writer(s,d,f),d[f]&&(t[d[f]]=i)}return t}(e));const u=e.key;if("string"!=typeof u)return;const f=t[u],d=f?n[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const e=`Type '${f||"unknown"}' is not supported`;return i&&i.messages&&t&&i.messages.push(new a(r+":unsupported",e,{definition:t,context:i})),void l.error(e)}const h=new d;return h.read(t,i),h}}(e.types)}function p(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map(t=>p(e,t,n,r-1)):e(t,void 0,n)}function g(e){const t=h(e);return(e,n,r)=>{if(null==e)return e;if(Array.isArray(e)){const n=[];for(const s of e){const e=t(s,void 0,r);void 0!==e&&n.push(e)}return n}const s=t(e,void 0,r);return void 0!==s?[s]:void 0}}function b(e){if(!u(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?_(t.Type):y(t.Type))}function _(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||b(e))}function y(e){for(const t in e.typeMap)if(!_(e.typeMap[t]))return!1;return!0}function m(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function v(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function O(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}function w(e,t){var n;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const s=null!=(n=null==e?void 0:e.ndimArray)?n:0;var o;e&&(1===s||"type"in e&&u(e.type))?t.write.writer=T:t.write.writer=s>1?(o=s,function(e,t,n,s){let i;if(null===e)i=null;else{i=function e(t,n,r){return 0!==r&&Array.isArray(t)?t.map(t=>e(t,n,r-1)):A(t,n)}(e,s,o);let t=o,n=i;for(;t>0&&Array.isArray(n);)t--,n=n[0];if(void 0!==n)for(let e=0;e<t;e++)i=[i]}Object(r.c)(n,i,t)}):E}function E(e,t,n,s){Object(r.c)(n,A(e,s),t)}function A(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?j(e):e}function j(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function T(e,t,n,s){let o;null===e?o=null:e&&"function"==typeof e.map?(o=e.map(e=>A(e,s)),"function"==typeof o.toArray&&(o=o.toArray())):o=[A(e,s)],Object(r.c)(n,o,t)}function S(e,t){return I(e,"read",t)}function k(e,t){return I(e,"write",t)}function I(e,t,n){let r=e&&e.json;if(e&&e.json&&e.json.origins&&n){const s=e.json.origins[n.origin];s&&("any"===t||t in s)&&(r=s)}return r}const P=[{processPrototypePropertyMetadata(e,t){(function(e){if(e.json||(e.json={}),v(e.json),O(e.json),m(e.json),e.json.origins)for(const t in e.json.origins)v(e.json.origins[t]),O(e.json.origins[t]),m(e.json.origins[t]);return!0})(t)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]};for(const e in n)if(t[e]){const r=t[e];n[e].forEach(e=>{t[e]=r}),delete t[e]}}}(t),function(e){const t=function(e){return e.type?function(e){if(!e.type)return;let t=0,n=e.type;for(;Array.isArray(n)&&!Object(c.e)(n);)n=n[0],t++;return{type:n,ndimArray:t}}(e):function(e){if(!e.types)return;let t=0,n=e.types;for(;Array.isArray(n);)n=n[0],t++;return{types:n,ndimArray:t}}(e)}(e);if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n];f(t,r,!1),w(t,r)}f(t,e.json,!0),w(t,e.json)}(t))}}],R=new Set,C=new Set;function N(e){return t=>{t.prototype.declaredClass=e,function(e,t){for(const n of P)if(n.processPrototypePropertyMetadata)for(const r in e){const s=e[r];n.processPrototypePropertyMetadata(r,s,e,t)}}(Object(o.c)(t.prototype).properties,e),function(e){const t=e.prototype,n=t.declaredClass,r=Object(o.c)(t).properties;!function(e,t){for(const n of P)if(n.processClassPropertyMetadata)for(const r in e){const s=e[r];n.processClassPropertyMetadata(r,s,e,t)}}(r,n);const s={};for(const e of Object.getOwnPropertyNames(r)){const t=r[e];s[e]={enumerable:!0,configurable:!0,get:x(e,t),set(n){const r=this.__accessor__;if(void 0!==r){if(!Object.isFrozen(this)){if(r.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${e}' of ${this.declaredClass}`);if(2===r.lifecycle&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${e}' of ${this.declaredClass}`);r.set(e,n)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}}}Object.defineProperties(e.prototype,s)}(t);const n=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!R.has(s.initialize)&&(R.add(s.initialize),n.push(s.initialize)),s.hasOwnProperty("destroy")&&!C.has(s.destroy)&&(C.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);R.clear(),C.clear();class i extends t{constructor(...e){if(super(...e),this.constructor===i&&"function"==typeof this.postscript){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),r.length){let e=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0;for(let e=0;e<r.length;e++)r[e].call(this)}}})}this.postscript(...e)}}}return i.__accessorMetadata__=Object(o.c)(t.prototype),i.prototype.declaredClass=e,i}}function x(e,t){return null==t.get?function(){return this.__accessor__.getterStatic(e)}:function(){return this.__accessor__.getterComputed(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return ce})),n.d(t,"e",(function(){return ae})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return se})),n.d(t,"i",(function(){return H})),n.d(t,"j",(function(){return z})),n.d(t,"k",(function(){return ne})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return ue})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return G})),n.d(t,"t",(function(){return W})),n.d(t,"u",(function(){return V})),n.d(t,"v",(function(){return Y})),n.d(t,"w",(function(){return L})),n.d(t,"x",(function(){return q})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return Q})),n.d(t,"A",(function(){return $})),n.d(t,"B",(function(){return D})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return w})),n.d(t,"E",(function(){return te})),n.d(t,"F",(function(){return ie})),n.d(t,"G",(function(){return re})),n.d(t,"H",(function(){return X})),n.d(t,"I",(function(){return O}));n(1),n(4);var r=n(6),s=n(0),o=(n(9),n(10),n(8));const i=s.a.getLogger("esri.core.urlUtils"),c=r.a.request,a="esri/config: esriConfig.request.proxyUrl is not set.",u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,l=/^\s*http:/i,f=/^\s*https:/i,d=/^\s*file:/i,h=/:\d+$/,p=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,g=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),b=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class _{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=Object(s.b)(this.uri.match(g));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=Object(s.b)(this.authority.match(b)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const y=new _(r.a.applicationUrl),m={},v=(()=>{const e=Object(s.b)(y.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${y.scheme}://${y.host}${null!=y.port?":"+y.port:""}${t}`})();function O(e){const t={path:null,query:null},n=new _(e),r=e.indexOf("?");return null===n.query?t.path=e:(t.path=e.substring(0,r),t.query=w(n.query)),n.fragment&&(t.hash=n.fragment,null===n.query&&(t.path=t.path.substring(0,t.path.length-(n.fragment.length+1)))),t}function w(e){const t=e.split("&"),n={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let r,s;t<0?(r=decodeURIComponent(e),s=""):(r=decodeURIComponent(e.slice(0,t)),s=decodeURIComponent(e.slice(t+1)));let o=n[r];"string"==typeof o&&(o=n[r]=[o]),Array.isArray(o)?o.push(s):n[r]=s}return n}function E(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function A(e,t){return e?t&&"function"==typeof t?Object.keys(e).map(n=>encodeURIComponent(n)+"="+encodeURIComponent(t(n,e[n]))).join("&"):Object.keys(e).map(n=>{const r=e[n];if(null==r)return"";const s=encodeURIComponent(n)+"=",o=t&&t[n];return o?s+encodeURIComponent(o(r)):Array.isArray(r)?r.map(e=>E(e)?s+encodeURIComponent(JSON.stringify(e)):s+encodeURIComponent(e)).join("&"):E(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(e=>e).join("&"):""}function j(e=!1){let t,n=c.proxyUrl;if("string"==typeof e){r=e,t=f.test(r)||"https"===y.scheme&&Y(r);const s=R(e);s&&(n=s.proxyUrl)}else t=!!e;var r;if(!n)throw i.warn(a),new o.a("urlutils:proxy-not-set",a);return t&&Z()&&(n=X(n)),O(n)}function T(e){const t=R(e);let n,r;if(t){const e=k(t.proxyUrl);n=e.path,r=e.query?w(e.query):null}if(n){const t=O(e);e=n+"?"+t.path;const s=A({...r,...t.query});s&&(e=`${e}?${s}`)}return e}const S={path:"",query:""};function k(e){const t=e.indexOf("?");return-1!==t?(S.path=e.slice(0,t),S.query=e.slice(t+1)):(S.path=e,S.query=null),S}function I(e){return(e=ee(e=function(e){return e&&"/"===e[e.length-1]?e:e+"/"}(e=k(e).path),!0)).toLowerCase()}function P(e){const t={proxyUrl:e.proxyUrl,urlPrefix:I(e.urlPrefix)},n=c.proxyRules,r=t.urlPrefix;let s=n.length;for(let e=0;e<n.length;e++){const t=n[e].urlPrefix;if(0===r.indexOf(t)){if(r.length===t.length)return-1;s=e;break}0===t.indexOf(r)&&(s=e+1)}return n.splice(s,0,t),s}function R(e){const t=c.proxyRules,n=I(e);for(let e=0;e<t.length;e++)if(0===n.indexOf(t[e].urlPrefix))return t[e]}function C(e,t){return e=N(e),t=N(t),ee(e)===ee(t)}function N(e){const t=(e=D(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function x(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),n=c.interceptors;if(n)for(const e of n)if(Array.isArray(e.urls)){if(e.urls.some(t))return e}else if(t(e.urls))return e;return null}function M(e,t,n=!1){const r=oe(e),s=oe(t);return!(!n&&r.scheme!==s.scheme)&&null!=r.host&&null!=s.host&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function L(e){if("string"==typeof e){if(!G(e))return!0;e=oe(e)}if(M(e,y))return!0;const t=c.trustedServers||[];for(let n=0;n<t.length;n++){const r=U(t[n]);for(let t=0;t<r.length;t++)if(M(e,r[t]))return!0}return!1}function U(e){return m[e]||(K(e)||Y(e)?m[e]=[new _(F(e))]:m[e]=[new _("http://"+e),new _("https://"+e)]),m[e]}function F(e,t=v,n){return Y(e)?n&&n.preserveProtocolRelative?e:"http"===y.scheme&&y.authority===B(e).slice(2)?"http:"+e:"https:"+e:K(e)?e:Object(s.b)(q("/"===e[0]?function(e){const t=e.indexOf("//"),n=e.indexOf("/",t+2);return-1===n?e:e.slice(0,n)}(t):t,e))}function $(e,t=v,n){if(!G(e))return e;const r=D(e),s=r.toLowerCase(),o=D(t).toLowerCase().replace(/\/+$/,""),i=n?D(n).toLowerCase().replace(/\/+$/,""):null;if(i&&0!==o.indexOf(i))return e;const c=(e,t,n)=>-1===(n=e.indexOf(t,n))?e.length:n;let a=c(s,"/",s.indexOf("//")+2),u=-1;for(;s.slice(0,a+1)===o.slice(0,a)+"/"&&(u=a+1,a!==s.length);)a=c(s,"/",a+1);if(-1===u)return e;if(i&&u<i.length)return e;e=r.slice(u);const l=o.slice(u-1).replace(/[^/]+/g,"").length;if(l>0)for(let t=0;t<l;t++)e="../"+e;else e="./"+e;return e}function D(e){return function(e){const t=c.httpsDomains;if(!function(e){return l.test(e)||"http"===y.scheme&&Y(e)}(e))return e;const n=e.indexOf("/",7);let r;if(r=-1===n?e:e.slice(0,n),r=r.toLowerCase().slice(7),h.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"!==y.scheme||r!==y.authority||p.test(e)?((Z()&&r===y.authority||t&&t.some(e=>r===e||r.endsWith("."+e))||Z()&&!R(e))&&(e=X(e)),e):e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=k(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?"+t.query)}return e}(e=F(e=e.trim()))))}function q(...e){const t=e.filter(s.h);if(!t||!t.length)return;const n=[];if(G(t[0])){const e=t[0],s=e.indexOf("//");-1!==s&&(n.push(e.slice(0,s+1)),r=t[0],d.test(r)&&(n[0]+="/"),t[0]=e.slice(s+2))}else"/"===t[0][0]&&n.push("");var r;const o=t.reduce((e,t)=>t?e.concat(t.split("/")):e,[]);for(let e=0;e<o.length;e++){const t=o[e];".."===t&&n.length>0&&".."!==n[n.length-1]?n.pop():(!t&&e===o.length-1||t&&("."!==t||0===n.length))&&n.push(t)}return n.join("/")}function B(e,t=!1){if(W(e)||V(e))return null;let n=e.indexOf("://");if(-1===n&&Y(e))n=2;else{if(-1===n)return null;n+=3}const r=e.indexOf("/",n);return-1!==r&&(e=e.slice(0,r)),t&&(e=ee(e,!0)),e}function G(e){return Y(e)||K(e)}function W(e){return null!=e&&"blob:"===e.slice(0,5)}function V(e){return"data:"===e.slice(0,5)}function z(e){const t=H(e);if(!t||!t.isBase64)return null;const n=atob(t.data),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r.buffer}const J=/^data:(.*?)(;base64)?,(.*)$/;function H(e){const t=e.match(J);if(!t)return null;const[,n,r,s]=t;return{mediaType:n,isBase64:!!r,data:s}}function Q(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function Y(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function K(e){return u.test(e)}function X(e){return Y(e)?"https:"+e:e.replace(l,"https:")}function Z(){return"https"===y.scheme}function ee(e,t=!1){return Y(e)?e.slice(2):(e=e.replace(u,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function te(e){let t=0;if(G(e)){const n=e.indexOf("//");-1!==n&&(t=n+2)}const n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function ne(e,t){if(!e)return"";const n=O(e).path.replace(/\/+$/,""),r=n.substring(n.lastIndexOf("/")+1);if(null==t||!t.length)return r;const s=new RegExp(`.(${t.join("|")})$`,"ig");return r.replace(s,"")}function re(e){return e.replace(/\/+$/,"")}function se(e,t,n){if(!(t&&n&&e&&G(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),o=e.indexOf(":",r+2),i=Math.min(s<0?e.length:s,o<0?e.length:o);return e.slice(r+2,i).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${n}${e.slice(i)}`}function oe(e){return"string"==typeof e?new _(F(e)):(e.scheme||(e.scheme=y.scheme),e)}function ie(e,t){const n=O(e),r=Object.keys(n.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function ce(e,t,n){const r=O(e),s=r.query||{};return s[t]=String(n),`${r.path}?${A(s)}`}function ae(e,t){const n=O(e),r=n.query||{};for(const e in t)r[e]=t[e];const s=A(r);return s?`${n.path}?${s}`:n.path}function ue(e){if(Object(s.c)(e))return null;const t=e.match(le);return t?t[1]:null}const le=/.*?\.([^\/]*)$/},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return v}));var r=n(17),s=n(1),o=n(19),i=(n(4),n(6),n(0)),c=(n(9),n(3)),a=n(7),u=n(16),l=n(12),f=(n(2),n(10),n(8),n(5),n(13));class d{constructor(e,t){this._observers=e,this._observer=t}remove(){this._observers.delete(this._observer)}}let h=!1;function p(e){return void 0!==e.flags}class g{constructor(e,t,n){this.host=e,this.propertyName=t,this.metadata=n,this.flags=1,this._observers=null,this._accessed=null,this._handles=[],this.flags=1|(n.nonNullable?8:0)|(n.hasOwnProperty("value")?16:0)|(void 0===n.get?32:0)|(void 0===n.dependsOn?64:0)}destroy(){this._accessed&&(this._accessed.clear(),this._accessed=null),this._observers&&(this._observers.clear(),this._observers=null),this._clearObservationHandles()}onObservableAccessed(e){e!==this&&(null===this._accessed&&(this._accessed=new Set),this._accessed.add(e))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const e=this._accessed;if(null===e)return;const t=this._handles;for(const n of e)t.push(n.observe(this));e.clear()}observe(e){return null===this._observers&&(this._observers=new Set),new d(this._observers.add(e),e)}notify(){2&~this.flags&&(this.flags|=1),this._notifyObservers()}invalidate(){this.notify()}commit(){this.flags&=-2,this._notifyObservers()}_notifyObservers(){if(null===this._observers)return;const e=this._observers.size,t=new Array(e);let n=e-1;for(const e of this._observers)t[n--]=e;const r=!h;for(;t.length;){const e=t.pop();if(p(e)){if(2&~e.flags&&(e.flags|=1),null===e._observers)continue;for(const n of e._observers)t.push(n)}else r&&e.notify()}}_clearObservationHandles(){for(const e of this._handles)e.remove();this._handles.length=0}}class b{constructor(){this._values=new Map}clone(e){const t=new b;return this._values.forEach((n,r)=>{e&&e.has(r)||t.set(r,Object(s.b)(n))}),t}get(e){return this._values.get(e)}originOf(){return 6}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}let _,y=[];const m=i.a.getLogger("esri.core.Accessor");function v(e){void 0!==_&&_.onObservableAccessed(e)}let O=!1,w=!1;function E(e,t,n){if(O)return A(e,t,n);j(e);const r=t.call(n);return T(),r}function A(e,t,n){const r=O;O=!0,j(e);let s=null;try{s=t.call(n)}catch(e){w&&m.error(e)}return T(),O=r,s}function j(e){_=e,y.push(e)}function T(){const e=y.pop();_=y.length>0?y[y.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function S(e,t){if(32&t.flags)return;const n=w;w=!1,64&t.flags?A(t,t.metadata.get,e):I(e,t),w=n}const k=[];function I(e,t){128&t.flags||(t.flags|=128,A(t,()=>{const n=t.metadata.dependsOn||k;for(const t of n)if("string"==typeof t&&-1===t.indexOf("."))P(e,t,!1);else{const n=Object(c.l)(t);for(let t=0,r=e;t<n.length&&null!=r&&"object"==typeof r;++t)r=P(r,n[t],t!==n.length-1)}}),t.flags&=-129)}function P(e,t,n){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const s=Object(c.g)(e),o=null==s?void 0:s.properties.get(r);return o&&(v(o),S(e,o)),n?e[r]:void 0}function R(e,t,n){return void 0!==e}function C(e,t,n,r){return!(void 0===e||null==n&&8&e.flags&&(r.lifecycle,1))}i.a.getLogger("esri.core.accessorSupport.Properties");class N{constructor(e){this.host=e,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new b,this._origin=6;const t=this.host.constructor.__accessorMetadata__,n=t.properties;for(const t in n){const r=new g(e,t,n[t]);this.properties.set(t,r)}this.metadatas=n,this._autoDestroy=t.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,n]of this.properties){const r=this.internalGet(t);r&&(e=r)&&"function"==typeof e.destroy&&(r.destroy(),8&~n.flags&&this._internalSet(n,null)),n.destroy()}else for(const[e,t]of this.properties)t.destroy();var e}get initialized(){return 0!==this.lifecycle}get(e){return this.properties.get(e).metadata.get?this.getterComputed(e):this.getterStatic(e)}getterStatic(e){const t=this.properties.get(e);if(void 0!==t)return v(t),this.store.has(e)?this.store.get(e):t.metadata.value}getterComputed(e){const t=this.properties.get(e);v(t);const n=this.store,r=t.flags,s=this.store.get(e);if(4&r)return s;if(n.has(e)&&(1&~r||h))return s;let o;t.flags|=4;const i=t.metadata.get;64&r?o=E(t,i,this.host):(I(this.host,t),o=i.call(this.host)),n.set(e,o,1);const c=this.store.get(e);return c===s?t.flags&=-2:t.commit(),t.flags&=-5,c}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.properties.get(e);if(void 0!==t&&16&t.flags)return"defaults"}return Object(u.b)(t)}has(e){return!!this.properties.has(e)&&this.store.has(e)}keys(){return[...this.properties.keys()]}internalGet(e){const t=this.properties.get(e);if(R(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.properties.get(e);R(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.properties.get(t);if(!R(r))return"";const s=new Set,o=E({onObservableAccessed:e=>s.add(e),onTrackingEnd:()=>{}},()=>{var t;return null==(t=r.metadata.get)?void 0:t.call(e)});let i=`${n}${e.declaredClass.split(".").pop()}.${t}: ${o}\n`;if(0===s.size)return i;n+="  ";for(const e of s){if(!(e instanceof g))continue;const t=e.host,r=e.propertyName,s=Object(c.g)(t);i+=s?s.getDependsInfo(t,r,n):`${n}${r}: undefined\n`}return i}setAtOrigin(e,t,n){const r=this.properties.get(e);if(R(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.properties.get(e);return void 0!==t&&!!(2&t.flags)}clearOverride(e){const t=this.properties.get(e);void 0!==t&&2&t.flags&&(t.flags&=-3,t.invalidate())}override(e,t){const n=this.properties.get(e);if(!C(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:s}=e;if(x.release(e),!n)return;t=s}n.flags|=2,this._internalSet(n,t)}set(e,t){const n=this.properties.get(e);if(!C(n,0,t,this))return;const r=n.metadata.cast;if(r){const e=this._cast(r,t),{valid:n,value:s}=e;if(x.release(e),!n)return;t=s}const s=n.metadata.set;s?s.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=Object(u.d)(e)}getDefaultOrigin(){return Object(u.b)(this._origin)}propertyInvalidated(e){const t=this.properties.get(e);void 0!==t&&t.invalidate()}propertyCommitted(e){const t=this.properties.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const n=0!==this.lifecycle?this._origin:0;this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,o=e.propertyName;r.has(o,n)&&Object(s.e)(t,r.get(o))&&2&~e.flags&&n===r.originOf(o)||(h=!0,e.invalidate(),h=!1,r.set(o,t,n),e.commit(),S(this.host,e))}_cast(e,t){const n=x.acquire();return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}}const x=new r.b(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});class M extends r.b{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Object(i.j)(this._set)}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}class L{constructor(e){this.notify=e,this._accessed=new Set,this._handles=[]}destroy(){this._accessed.clear(),this.clear()}onObservableAccessed(e){this._accessed.add(e)}onTrackingEnd(){for(const e of this._accessed)this._handles.push(e.observe(this));this._accessed.clear()}clear(){for(const e of this._handles)e.remove();this._handles.length=0}}const U={runImmediately:!1};function F(e,t,n=U){let r=new L((function(){if(!r||o)return;const n=s;r.clear(),o=!0,s=E(r,e),o=!1,t(s,n)})),s=null,o=!1;return o=!0,s=E(r,e),o=!1,n.runImmediately&&t(s,s),{remove:function(){r&&(r.destroy(),r=null,s=null)}}}class ${constructor(){this.uid=0,this.target=null,this.path=null,this.oldValue=null,this.callback=null,this.getValue=null,this.removed=!1,this.propertyPath=null}acquire(e,t,n,r,s){this.target=e,this.path=t,this.oldValue=n,this.callback=r,this.getValue=s,this.propertyPath=Object(c.d)(t),this.uid=++$.uid,this.removed=!1}release(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++$.uid,this.removed=!0}}$.pool=new M($),$.uid=0;const D=new r.a,q=new Set;let B,G=D.acquire();function W(e){q.has(e)?G.splice(G.indexOf(e),1):q.add(e),G.push(e),B||(B=Object(l.l)(J))}function V(e){if(e.removed)return;const{callback:t,path:n,oldValue:r,target:s}=e,o=e.getValue();z(r,o)&&(e.oldValue=o,t.call(s,o,r,n,s))}function z(e,t){return!Object(s.e)(e,t)}function J(){let e=10;for(;B&&e--;){B=null;const e=G;G=D.acquire(),q.clear();const t=D.acquire();for(const n of e){const e=n.uid;V(n),e===n.uid&&n.removed&&t.push(n)}for(let e=0;e<G.length;e++){const n=G[e];n.removed&&(t.push(n),q.delete(n),G.splice(e,1),e-=1)}for(let e=0;e<t.length;e++)$.pool.release(t[e]);D.release(e),D.release(t),H.forEach(e=>e())}}const H=new Set;function Q(e,t,n,r=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:r?function(e,t,n){const r=Object(c.e)(e,t,n,(e,t,n)=>{let s=!1;return F(()=>Object(a.g)(e,t),(o,i)=>{e.__accessor__.destroyed?r.remove():s||(s=!0,z(i,o)&&n.call(e,o,i,t,e),s=!1)})});return r}(e,t,n):function(e,t,n){let r=Object(c.e)(e,t,n,(e,t,n)=>{let s,o,i=function(e,t){let n=new L((function(){t(r,s)})),r=null;function s(){return n?(n.clear(),r=E(n,e),r):null}return s(),{remove:function(){n&&(n.destroy(),n=null),r=null}}}(()=>Object(a.g)(e,t),(i,c)=>{e.__accessor__.destroyed||s&&s.uid!==o?r.remove():(s||(s=$.pool.acquire(e,t,i,n,c),o=s.uid),W(s))});return{remove:Object(c.k)((function(){i.remove(),s&&(s.uid!==o||s.removed||(s.removed=!0,W(s)),s=null),r=i=null}))}});return r}(e,t,n)}function Y(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class K{constructor(...e){if(this.constructor===K)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new N(this)}),e.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,e))}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:n,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}Object(c.c)(o.prototype);for(const t in e){const n=e[t];o.prototype[t]="function"==typeof n?function(...e){const r=this.inherited;let o;this.inherited=function(...e){if(s.prototype[t])return s.prototype[t].apply(this,e)};try{o=n.apply(this,e)}catch(e){throw this.inherited=r,e}return this.inherited=r,o}:e[t]}for(const e in t){const n=Y(t[e]);Object(a.d)(n)(o.prototype,e)}return Object(f.g)(n)(o)}postscript(e){const t=this.__accessor__,n=t.ctorArgs||e;t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(function(e){for(let t=0;t<G.length;t++){const n=G[t];n.target===e&&(n.removed=!0)}}(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return Object(a.c)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}isInstanceOf(e){return Object(o.b)(i.a.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return Object(a.f)(this,e,t),this}watch(e,t,n){return Q(this,e,t,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_override(e,t){return this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.propertyInvalidated(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}t.d=K},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o}));var r=n(0);const s=7;function o(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function i(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(r.b)(void 0)}function c(e){return i(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));class r{constructor(e,t,n,r=1,s=0){if(this.ctor=e,this.acquireFunction=t,this.releaseFunction=n,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s,this.ctor)for(let e=0;e<s;e++)this._pool[e]=new this.ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let t;if(r.test.disabled)t=new this.ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this.ctor}t=this._pool.pop()}return this.acquireFunction?this.acquireFunction(t,...e):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!r.test.disabled&&(this.releaseFunction?this.releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}r.test={disabled:!1};const s=Array.prototype.splice;function o(e){e.length=0}class i{constructor(e=50,t=50){this._pool=new r(Array,void 0,o,t,e)}acquire(){return this._pool.acquire()}copy(e){const t=this.acquire();return e.unshift(0,0),s.apply(t,e),e.splice(0,2),t}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return c.acquire()}static copy(e){return c.copy(e)}static release(e){return c.release(e)}static prune(){c.prune()}}const c=new i(100)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a}));var r=n(1),s=(n(4),n(6),n(0),n(9),n(10),n(8),n(14));const o="20210506",i="b02ca94fa7b6dac5fa148245a7cdc7caae582829",c="4.19",a={request:(e,t)=>n.e(163).then(n.bind(null,27)).then((function(e){return e.r})).then(({default:n})=>{const r=e.options||{};return r.responseType="array-buffer",r.signal=null==t?void 0:t.signal,n(e.url,r)}).then(e=>({result:{data:e.data,ssl:e.ssl},transferList:[e.data]}))};let u;function l(e){u=e}function f(e){const t=u&&u.findCredential(e);return t&&t.token?Object(s.d)(e,"token",t.token):e}Object(r.i)("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript 4.19 [Date: 20210506, Revision: ${i.slice(0,8)}]`),(Object(r.i)("edge")||Object(r.i)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(1);const s=new Set;function o(e,t,n={}){if(Object(r.i)("esri-deprecation-warnings")){const{moduleName:r}=n;i(e,"Function: "+((r?r+"::":"")+t+"()"),n)}}function i(e,t,n={}){if(Object(r.i)("esri-deprecation-warnings")){const{replacement:r,version:o,see:i,warnOnce:c}=n;let a=t;r&&(a+="\n\t🛠️ Replacement: "+r),o&&(a+="\n\t⚙️ Version: "+o),i&&(a+=`\n\t🔗 See ${i} for more details.`),function(e,t,n=!1){n&&s.has(t)||(n&&s.add(t),e.warn("🛑 DEPRECATED - "+t))}(e,a,c)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return o}));n(1),n(4),n(6),n(0),n(9);var r=n(2);n(10),n(8);function s(e,t,n,r,s){const o=e.watch(t,(t,s,o,i)=>{n&&!n(t)||null==r||r.call(e,t,s,o,i)},s);if(Array.isArray(t))for(const s of t){const o=e.get(s);n&&n(o)&&(null==r||r.call(e,o,o,t,e))}else{const s=e.get(t);n&&n(s)&&(null==r||r.call(e,s,s,t,e))}return o}function o(e,t,n,o,i){const c="function"==typeof o?o:null,a="object"==typeof o?o:null;"boolean"==typeof o&&(i=o);let u,l=!1;function f(){u&&(u.remove(),u=null)}const d=Object(r.f)();Object(r.q)(a,()=>{f(),d.reject(Object(r.e)())});const h={then:d.promise.then.bind(d.promise),catch:d.promise.catch.bind(d.promise),remove:f};return Object.freeze(h),u=s(e,t,n,(t,n,r,s)=>{l=!0,f(),c&&c.call(e,t,n,r,s),d.resolve({value:t,oldValue:n,propertyName:r,target:s})},i),l&&f(),h}function i(e){return!!e}function c(e){return!e}function a(e){return!0===e}function u(e){return!1===e}const l=/\?(\.|$)/g;function f(e,t,n,r){const s=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],o=function(e,t,n,r){return e.watch(t,n,r)}(e,t,n,r);for(const t of s){const r=t.trim().replace(l,"$1"),s=e.get(r);n.call(e,s,s,r,e)}return o}function d(e,t,n,r){return o(e,t,i,n,r)}function h(e,t,n,r){return o(e,t,c,n,r)}function p(e,t,n,r){return o(e,t,a,n,r)}function g(e,t,n,r){return o(e,t,u,n,r)}function b(e,t,n,s,o,i,c){const a={};function u(t){const r=a[t];r&&(i&&i(r.target,t,e,n),r.handle.remove(),delete a[t])}const l=f(e,t,(t,i,c)=>{u(c),Object(r.k)(t)&&(a[c]={handle:Object(r.p)(t,n,s),target:t},o&&o(t,c,e,n))},c);return{remove(){l.remove();for(const e in a)u(e)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(1),s=n(14);function o(){const e=i.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const i=r.h.crypto||r.h.msCrypto;function c(e){return a[function(e){return e instanceof Blob?e.type:function(e){const t=Object(s.n)(e);return f[t]||u}(e.url)}(e)]||l}const a={},u="text/plain",l=a[u],f={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const e in f)a[f[e]]=e},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(11),s=(n(1),n(0)),o=n(7),i=n(15),c=n(12),a=n(2),u=(n(5),n(13)),l=(n(14),n(21),n(20));class f{constructor(){this._tasks=new Array}get length(){return this._tasks.length}push(e,t){return new Promise((n,r)=>this._tasks.push(new d(n,r,e,t)))}unshift(e,t){return new Promise((n,r)=>this._tasks.unshift(new d(n,r,e,t)))}process(){if(0===this._tasks.length)return!1;const e=this._tasks.shift();try{Object(a.v)(e.signal);const t=e.callback();t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then?t.then(e.resolve,e.reject):e.resolve(t)}catch(t){e.reject(t)}return!0}cancelAll(){const e=Object(a.e)();for(const t of this._tasks)t.reject(e);this._tasks.length=0}}class d{constructor(e,t,n,r){this.resolve=e,this.reject=t,this.callback=n,this.signal=r}}let h=class extends i.d{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};Object(r.a)([Object(o.d)()],h.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),Object(r.a)([Object(o.d)()],h.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),h=Object(r.a)([Object(u.g)("esri.views.support.DebugFlags")],h);const p=new h,g=s.a.getLogger("esri.views.support.Scheduler");var b,_;(_=b||(b={})).REMOTE_CLIENT="worker messages",_.SLIDE="slide",_.STAGE="stage",_.STREAM_DATA_LOADER="stream loader",_.ELEVATION_QUERY="elevation query",_.TERRAIN_SURFACE="terrain",_.SURFACE_GEOMETRY_UPDATES="surface geometry updates",_.GRAPHICS_CORE="Graphics3D",_.I3S_CONTROLLER="I3S",_.POINT_CLOUD_LAYER="point cloud",_.FEATURE_TILE_FETCHER="feature fetcher",_.LABELER="labeler",_.GRAPHICS_DECONFLICTOR="graphics deconflictor",_.FILTER_VISIBILITY="Graphics3D filter visibility",_.FEATURE_QUERY_ENGINE="feature query",_.SCALE_VISIBILITY="Graphics3D scale visibility",_.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",_.POINT_OF_INTEREST_FREQUENT="POI frequent",_.POINT_OF_INTEREST_INFREQUENT="POI infrequent",_.FEATURE_TILE_TREE="feature tile tree",_.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",_.ELEVATION_ALIGNMENT="elevation alignment",_.TEXT_TEXTURE_ATLAS="text texture atlas",_.TEXTURE_UNLOAD="texture unload",_.OVERLAY_MANAGER="overlay manager",_.LINE_OF_SIGHT_TOOL="line of sight tool",_.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",_.ELEVATION_PROFILE="elevation profile",_.SNAPPING="snapping",_[_.TEST_PRIO=1]="TEST_PRIO";const y={[b.REMOTE_CLIENT]:0,[b.SLIDE]:0,[b.STREAM_DATA_LOADER]:0,[b.ELEVATION_QUERY]:0,[b.STAGE]:1,[b.TERRAIN_SURFACE]:1,[b.SURFACE_GEOMETRY_UPDATES]:1,[b.GRAPHICS_CORE]:2,[b.I3S_CONTROLLER]:2,[b.POINT_CLOUD_LAYER]:2,[b.FEATURE_TILE_FETCHER]:2,[b.LABELER]:8,[b.GRAPHICS_DECONFLICTOR]:4,[b.FILTER_VISIBILITY]:4,[b.FEATURE_QUERY_ENGINE]:8,[b.SCALE_VISIBILITY]:4,[b.FRUSTUM_VISIBILITY]:4,[b.POINT_OF_INTEREST_FREQUENT]:6,[b.POINT_OF_INTEREST_INFREQUENT]:30,[b.FEATURE_TILE_TREE]:16,[b.FEATURE_TILE_TREE_ACTIVE]:0,[b.ELEVATION_ALIGNMENT]:12,[b.TEXT_TEXTURE_ATLAS]:12,[b.TEXTURE_UNLOAD]:12,[b.OVERLAY_MANAGER]:12,[b.LINE_OF_SIGHT_TOOL]:16,[b.LINE_OF_SIGHT_TOOL_INTERACTIVE]:0,[b.SNAPPING]:0};function m(e){return e in y?y[e]:"number"==typeof e?e:1}var v,O;!function(e){let t=class extends i.d{constructor(e){super(e),this.updating=!0,this.performanceInfo={total:new c.c("total"),tasks:new Array},this._budget=null,this._state=1,this._tasks=new c.a,this._runQueue=new c.a,this._load=0,this._idleStateCallbacks=new c.a,this._idleUpdatesStartFired=!1,this._maxReschedule=A,this._forceTask=!1,this._debug=!1,this._debugHandle=Object(l.a)(p,"SCHEDULER_LOG_SLOW_TASKS",e=>this._debug=e),this._budget=new a(e.nowFunc),T.length=0;for(const e in b)j.set(b[e],this.performanceInfo.tasks.length),this.performanceInfo.tasks.push(new c.c(b[e])),T.push(0);let t;const n=this;this._test={get state(){return Object(s.c)(t)?n._state:t},set state(e){t=e},FRAME_SAFETY_BUDGET:6.5,INTERACTING_BUDGET:33.333333333333336,IDLE_BUDGET:100,get budget(){return n._budget.budget},usedBudget:0,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove()}registerTask(e,t,r){const s=m(e),o=new n(this,e,t,r,s);return this._tasks.push(o),o}registerIdleStateCallbacks(e,t){const n={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(n),2===this.state&&this._idleUpdatesStartFired&&n.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(n),set idleBegin(e){r._idleUpdatesStartFired&&(n.idleEnd(),2===r._state&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}}get now(){return this.nowFunc()}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(e=>e.idleEnd())))}get state(){return Object(s.c)(this._test.state)?this._state:this._test.state}updateBudget(e){this._test.usedBudget=0;let t=6.5,n=e.frameDuration,r=1;switch(this.state){case 2:t=0,n=Math.max(100,e.frameDuration),r=30;break;case 1:n=Math.max(33.333333333333336,e.frameDuration)}return n-=e.elapsedFrameTime+t,2!==this.state&&n<1&&!this._forceTask?(this._forceTask=!0,!1):(n=Math.max(n,r),this._budget.reset(n,this.state),this._maxReschedule=A,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(e=>e.idleBegin())),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}_updateTask(e){this._tasks.forAll(t=>{t.name===e&&t.setPriority(e)})}_getState(e){if(this._runQueue.some(t=>t.name===e))return O.SCHEDULED;let t=O.IDLE;return this._tasks.forAll(n=>{n.name===e&&n.needsUpdate&&(n.schedulePriority<=1?t=O.READY:t!==O.READY&&(t=O.WAITING))}),t}_getRuntime(e){let t=0;return this._tasks.forAll(n=>{n.name===e&&(t+=n.runtime)}),t}_resetRuntimes(){this._tasks.forAll(e=>e.runtime=0)}_getRunning(){const e=new Map;if(this._tasks.forAll(t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)}),0===e.size)return null;let t="";return e.forEach((e,n)=>{t+=e>1?` ${e}x ${n}`:" "+n}),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((e,t)=>t.needsUpdate?++e:e,0);this._load=.9*this._load+e*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(e=>!!e.needsUpdate||(e.schedulePriority=e.priority,!1)),this._tasks.forAll(e=>{0===e.priority&&e.needsUpdate&&!this._runQueue.some(t=>t===e)&&this._runQueue.unshift(e)});0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll(n=>{if(n.needsUpdate&&0!==n.schedulePriority&&0!==n.priority)switch(e=!0,t=Math.max(t,n.priority),n.schedulePriority){case 1:n.schedulePriority=0,this._runQueue.push(n);break;default:--n.schedulePriority}}),!e)return this.updating=!1,!1;this._maxReschedule===A&&(this._maxReschedule=t),--this._maxReschedule}return this.updating=!0,!0}_run(){const e=this._budget.now();for(let e=0;e<T.length;++e)T[e]=0;do{for(;this._runQueue.length>0;){const t=this._budget.now(),n=this._runQueue.pop();this._budget.resetProgress();try{n.update(this._budget)}catch(e){g.error(`Exception in task "${n.name}"`,e)}n.schedulePriority=n.priority;const r=this._budget.now()-t;if(n.runtime+=r,T[j.get(n.task)]+=r,this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",n.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(T,this._budget.now()-e)}}while(this._schedule());this._recordFrameTaskTimes(T,this._budget.now()-e)}_recordFrameTaskTimes(e,t){for(let t=0;t<e.length;++t)this.performanceInfo.tasks[t].record(e[t]);this.performanceInfo.total.record(t)}get test(){return this._test}};Object(r.a)([Object(o.d)()],t.prototype,"updating",void 0),Object(r.a)([Object(o.d)()],t.prototype,"nowFunc",void 0),t=Object(r.a)([Object(u.g)("esri.views.support.Scheduler")],t),e.Scheduler=t;let n=class extends i.d{constructor(e,t,n,r,s){super({}),this._scheduler=e,this.name=t,this.update=n,this._needsUpdateCB=r,this._priority=s,this.runtime=0,this._queue=new f,this.updating=!1,this.schedulePriority=this._priority}normalizeCtorArgs(){return{}}remove(){this.processQueue(w),this._scheduler.removeTask(this),this.schedule=E.schedule,this.reschedule=E.reschedule}get priority(){return this._priority}setPriority(e){this.name=e;const t=m(e);0!==this._priority&&0===this.schedulePriority||(this.schedulePriority=t),this._priority=t}get task(){return this.name}set task(e){this.setPriority(e)}get needsUpdate(){return this.updating||this._needsUpdateCB()}schedule(e,t){return this.updating=!0,this._queue.push(e,t)}reschedule(e,t){return this.updating=!0,this._queue.unshift(e,t)}processQueue(e){for(;!e.done&&this._queue.process();)e.madeProgress();this.updating=this._queue.length>0}};Object(r.a)([Object(o.d)()],n.prototype,"updating",void 0),n=Object(r.a)([Object(u.g)("esri.views.support.SchedulerTask")],n);class a{constructor(e){this.now=e,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=a}(v||(v={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(O||(O={}));const w=(()=>{const e=new v.Budget(()=>performance.now());return e.enabled=!1,e})(),E=new class{remove(){}processQueue(){}schedule(e){return Object(a.x)(e())}reschedule(e){return Object(a.x)(e())}},A=Number.MAX_SAFE_INTEGER,j=new Map,T=new Array},function(e,t,n){"use strict";n.r(t),n.d(t,"M",(function(){return l})),n.d(t,"n",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return b})),n.d(t,"t",(function(){return p}));n(11),n(17);var r=n(1),s=(n(19),n(4),n(18)),o=(n(6),n(0)),i=(n(9),n(3),n(7),n(15),n(16),n(12),n(2)),c=(n(10),n(8)),a=(n(5),n(13),n(14),n(21),n(20),n(22));const u={geometryEngineWorker:()=>Promise.all([n.e(7),n.e(75)]).then(n.bind(null,28)),CSVSourceWorker:()=>Promise.all([n.e(5),n.e(6),n.e(8),n.e(57)]).then(n.bind(null,29)),EdgeProcessingWorker:()=>n.e(49).then(n.bind(null,38)).then((function(e){return e.b})),ElevationSamplerWorker:()=>n.e(74).then(n.bind(null,30)),GeoJSONSourceWorker:()=>Promise.all([n.e(5),n.e(6),n.e(8),n.e(16),n.e(83)]).then(n.bind(null,31)),LercWorker:()=>n.e(84).then(n.bind(null,32)),MemorySourceWorker:()=>Promise.all([n.e(5),n.e(6),n.e(8),n.e(16),n.e(85)]).then(n.bind(null,33)),PBFDecoderWorker:()=>Promise.all([n.e(5),n.e(29)]).then(n.bind(null,41)),Pipeline:()=>Promise.all([n.e(5),n.e(6),n.e(8),n.e(17),n.e(25)]).then(n.bind(null,39)),PointCloudWorker:()=>Promise.all([n.e(5),n.e(6),n.e(38)]).then(n.bind(null,37)),RasterWorker:()=>Promise.all([n.e(5),n.e(12),n.e(56)]).then(n.bind(null,34)),SceneLayerWorker:()=>n.e(79).then(n.bind(null,35)),WorkerTileHandler:()=>Promise.all([n.e(19),n.e(20),n.e(65)]).then(n.bind(null,40)),FeatureServiceSnappingSourceWorker:()=>Promise.all([n.e(5),n.e(6),n.e(8),n.e(17),n.e(33)]).then(n.bind(null,36))};var l,f;(f=l||(l={}))[f.HANDSHAKE=0]="HANDSHAKE",f[f.OPEN=1]="OPEN",f[f.OPENED=2]="OPENED",f[f.RESPONSE=3]="RESPONSE",f[f.INVOKE=4]="INVOKE",f[f.ABORT=5]="ABORT",f[f.CLOSE=6]="CLOSE",f[f.OPEN_PORT=7]="OPEN_PORT",f[f.ON=8]="ON";let d=0;function h(){return d++}function p(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function g(e,t,n,r){if(t.type===l.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==l.INVOKE&&t.type!==l.RESPONSE)return void e.postMessage(t);let s;var o;(o=n)&&"object"==typeof o&&("result"in o||"transferList"in o)?(s=_(n.transferList),t.data=n.result):(s=_(r),t.data=n),s?e.postMessage(t,s):e.postMessage(t)}function b(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function _(e){if(!e||!e.length)return null;if(Object(r.i)("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(e=>{return!((t=e)instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name);var t});return t.length?t:null}const{CLOSE:y,ABORT:m,INVOKE:v,RESPONSE:O,OPEN_PORT:w,ON:E}=l;class A{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===l.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class j{constructor(e,t){this._port=e,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new A(e=>this._onInvokeMessage(e)),this._messageQueue=new Array,this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,Object(o.h)(t.scheduler)&&(this._frameTask=t.scheduler.registerTask(a.b.REMOTE_CLIENT,e=>this._update(e),()=>this._messageQueue.length>0)),this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(e){const t=new MessageChannel;let n;n="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const r=new j(t.port1,{channel:t,client:n});return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=r),j.clients.set(r,n),t.port2}static loadWorker(e){const t=u[e];return t?t():Promise.resolve(null)}close(){this._post({type:y}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,n){const r=n&&n.signal,s=n&&n.transferList;if(!this._port)return Promise.reject(new c.a("worker:port-closed",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const o=h();return new Promise((n,c)=>{const a=Object(i.r)(r,()=>{var e;const t=this._outJobs.get(o);t&&(this._outJobs.delete(o),null==(e=t.abortHandle)||e.remove(),this._post({type:m,jobId:o}),c(Object(i.e)()))}),u={resolve:n,reject:c,abortHandle:a,debugInfo:e};this._outJobs.set(o,u),this._post({type:v,jobId:o,methodName:e,abortable:null!=r},t,s)})}on(e,t){const n=new MessageChannel;function r(e){t(e.data)}return this._port.postMessage({type:l.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove(){n.port1.postMessage({type:l.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}}openPort(){const e=new MessageChannel;return this._post({type:w,port:e.port2}),e.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{var t;null==(t=e.abortHandle)||t.remove(),e.reject(Object(i.e)(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=null,this._frameTask=Object(o.n)(this._frameTask)}_onMessage(e){Object(o.h)(this._frameTask)?this._messageQueue.push(e):this._processMessage(e)}_processMessage(e){const t=b(e);if(t)switch(t.type){case O:this._onResponseMessage(t);break;case v:this._invokeQueue.push(t);break;case m:this._onAbortMessage(t);break;case y:this._onCloseMessage();break;case w:this._onOpenPortMessage(t);break;case E:this._onOnMessage(t)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&j.clients.get(this)===e&&e.destroy(),j.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r,abortable:s}=e,o=s?Object(i.d)():null,c=this._inJobs;let a,u=this._client,l=u[t];try{if(!l&&t&&-1!==t.indexOf(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)u=u[e[t]],l=u[e[t+1]]}if("function"!=typeof l)throw new TypeError(t+" is not a function");a=l.call(u,r,{client:this,signal:o?o.signal:null})}catch(e){return void this._post({type:O,jobId:n,error:p(e)})}Object(i.o)(a)?(c.set(n,{controller:o,promise:a}),a.then(e=>{c.has(n)&&(c.delete(n),this._post({type:O,jobId:n},e))},e=>{c.has(n)&&(c.delete(n),Object(i.m)(e)||this._post({type:O,jobId:n,error:p(e||{message:"Error encountered at method "+t})}))})):this._post({type:O,jobId:n},a)}_onOpenPortMessage(e){new j(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,n=this._client.on(e.eventType,e=>{t.postMessage(e)}),r=Object(i.p)(e.port,"message",e=>{b(e).type===l.CLOSE&&(r.remove(),n.remove(),t.close())})}_onResponseMessage(e){var t;const{jobId:n,error:r,data:s}=e,o=this._outJobs;if(!o.has(n))return;const i=o.get(n);o.delete(n),null==(t=i.abortHandle)||t.remove(),r?i.reject(c.a.fromJSON(JSON.parse(r))):i.resolve(s)}_update(e){for(;!e.done&&this._messageQueue.length>0;)this._processMessage(this._messageQueue.shift()),e.madeProgress()}_post(e,t,n){return g(this._port,e,t,n)}}j.kernelInfo={revision:s.d,version:s.f,buildDate:s.b},j.clients=new Map,t.default=j},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(26),e.exports=n(23)},function(e,t,n){n.p=self.esriConfig.assetsPath+"/esri/core/workers/"}]);