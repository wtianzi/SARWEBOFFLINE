self.webpackChunkRemoteClient([79,163],{27:function(e,t,r){"use strict";r.r(t),r.d(t,"l",(function(){return f})),r.d(t,"r",(function(){return S}));var n=r(1),o=(r(4),r(18)),s=r(6),a=r(0),i=(r(9),r(2)),c=(r(10),r(8)),u=r(14);const l=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function f(e,t,r=!1,o){return new Promise((s,c)=>{if(Object(i.n)(o))return void c(d());let u=()=>{h(),c(new Error("Unable to load "+t))},l=()=>{const t=e;h(),s(t)},f=()=>{if(!e)return;const t=e;h(),t.src="",c(d())};const h=()=>{Object(n.i)("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",l)),u=null,l=null,e=null,Object(a.h)(o)&&o.removeEventListener("abort",f),f=null,r&&URL.revokeObjectURL(t)};Object(a.h)(o)&&o.addEventListener("abort",f),Object(n.i)("esri-image-decode")?e.decode().then(l,u):(e.addEventListener("error",u),e.addEventListener("load",l))})}function d(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function h(e,t){const f=Object(u.u)(e),d=Object(u.t)(e);d||f||(e=Object(u.B)(e));const y={url:e,requestOptions:{...Object(a.p)(t)}};let w=Object(u.l)(e);if(w){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(e){r=E("request:interceptor",e,t)}if((n instanceof Error||n instanceof c.a)&&(r=E("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}(w,y);if(null!=e)return{data:e,getHeader:g,requestOptions:y.requestOptions,url:y.url};w.after||w.error||(w=null)}if(e=y.url,"image"===(t=y.requestOptions).responseType){if(Object(n.i)("host-webworker")||Object(n.i)("host-node"))throw E("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),y)}else if(f)throw E("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),y);if("head"===t.method){if(t.body)throw E("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),y);if(f||d)throw E("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),y)}if(await async function(){Object(n.i)("host-webworker")?b||(b=await r.e(143).then(r.bind(null,438))):h._abortableFetch||(h._abortableFetch=n.h.fetch.bind(n.h))}(),b)return b.execute(e,t);const O=Object(i.d)();Object(i.q)(t,()=>O.abort());const q={controller:O,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:w,params:y,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},x=await async function(e){let t,r;await async function(e){const t=e.params.url,r=e.params.requestOptions,a=e.controller.signal,c=r.body;let f=null,d=null,b=null;if(p&&"HTMLFormElement"in n.h&&(c instanceof FormData?f=c:c instanceof HTMLFormElement&&(d=c,f=new FormData(d))),"string"==typeof c&&(b=c),e.fetchOptions={cache:r.cacheBust&&!h._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:a},(f||b)&&(e.fetchOptions.body=f||b),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||f&&f.get&&f.get("token")||d&&d.elements.token),!e.hasToken&&s.a.apiKey&&function(e){const t=Object(u.m)(e,!0);return t&&t.endsWith(".arcgis.com")&&!l.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}(t)&&(r.query||(r.query={}),r.query.token=s.a.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!T(t)&&!Object(i.n)(a)){let n;"immediate"===r.authMode?(await j(),n=await o.c.getCredential(t,{signal:a}),e.credential=n):"no-prompt"===r.authMode?(await j(),n=await o.c.getCredential(t,{prompt:!1,signal:a}).catch(()=>{}),e.credential=n):o.c&&(n=o.c.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[t,r]=await L(e)}while(!await v(e,t,r))}catch(r){const n=E("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const a=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)&&!e.hasToken&&!e.credentialToken&&r&&r.user&&r.user.username&&!Object(u.w)(a)){const e=Object(u.m)(a,!0);e&&m.trustedServers.push(e)}const c=e.credential;if(c&&o.c){const e=o.c.findServerInfo(c.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=o.c.findCredential(t,c.userId);e&&-1===o.c._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t.headers.get(e):g,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(q);return w&&w.after&&w.after(x),x}let b;const m=s.a.request,p="FormData"in n.h,y=[499,498,403,401],w=["COM_0056","COM_0057","SB_0008"],O=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],g=()=>null;function E(e,t,r,o){let s="Error";const a={url:r.url,requestOptions:r.requestOptions,getHeader:g,ssl:!1};if(t instanceof c.a)return t.details?(t.details=Object(n.b)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=a,t;if(t){const e=o&&(e=>o.headers.get(e)),r=o&&o.status,n=t.message;n&&(s=n),e&&(a.getHeader=e),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details}return Object(i.m)(t)?Object(i.e)():new c.a(e,s,a)}async function j(){o.c||await r.e(44).then(r.bind(null,449))}function T(e){return O.some(t=>t.test(e))}async function L(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions,a=Object(u.t)(t)||Object(u.u)(t),c=r.responseType||"json",l=a?0:null!=r.timeout?r.timeout:m.timeout;let f=!1;if(!a){e.useSSL&&(t=Object(u.H)(t)),r.cacheBust&&"default"===s.cache&&(t=Object(u.d)(t,"request.preventCache",Date.now()));let a={...r.query};e.credentialToken&&(a.token=e.credentialToken);let i=Object(u.C)(a);Object(n.i)("esri-url-encodes-apostrophe")&&(i=i.replace(/'/g,"%27"));const c=t.length+1+i.length;let l;f="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||c>m.maxUrlLength;const d=r.useProxy||!!Object(u.o)(t);if(d){const e=Object(u.p)(t);l=e.path,!f&&l.length+1+c>m.maxUrlLength&&(f=!0),e.query&&(a={...e.query,...a})}if("HEAD"===s.method&&(f||d)){if(f){if(c>m.maxUrlLength)throw E("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw E("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw E("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(f?(s.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=Object(u.e)(t,a):(s.body=Object(u.C)(a),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Object(u.e)(t,a),d&&(e.useProxy=!0,t=`${l}?${t}`),a.token&&p&&s.body instanceof FormData){const e=s.body;e.set?e.set("token",a.token):e.append("token",a.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!Object(u.q)(t,u.g))if(Object(u.w)(t))e.withCredentials=!0;else if(o.c){const r=o.c.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include")}let d,b,y=0,w=!1;l>0&&(y=setTimeout(()=>{w=!0,e.controller.abort()},l));try{if("image"!==r.responseType||"default"!==s.cache||"GET"!==s.method||f||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!a&&!e.useProxy&&m.proxyUrl&&!function(e){const t=Object(u.m)(e);return!t||t.endsWith(".arcgis.com")||-1!==h._corsServers.indexOf(t)||Object(u.w)(t)}(t)){if(d=await h._abortableFetch(t,s),e.useProxy||function(e){if(Object(u.t)(e)||Object(u.u)(e))return;const t=Object(u.m)(e);t&&-1===h._corsServers.indexOf(t)&&h._corsServers.push(t)}(t),d.ok&&"HEAD"!==s.method){switch(c){case"array-buffer":b=await d.arrayBuffer();break;case"blob":case"image":b=await d.blob();break;default:b=await d.text()}if(y&&(clearTimeout(y),y=0),"json"===c||"xml"===c||"document"===c)if(b)switch(c){case"json":b=JSON.parse(b);break;case"xml":b=q(b,"application/xml");break;case"document":b=q(b,"text/html")}else b=null;if(b){if("array-buffer"===c||"blob"===c){const e=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&b["blob"===c?"size":"byteLength"]<=750)try{const e=await new Response(b).json();e.error&&(b=e)}catch{}}"image"===c&&b instanceof Blob&&(b=await x(URL.createObjectURL(b),e,!0))}}}else b=await x(t,e)}catch(n){if("AbortError"===n.name){if(w)throw new Error("Timeout exceeded");throw Object(i.e)("Request canceled")}if(!(!d&&n instanceof TypeError&&m.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy)throw n;e.redoRequest=!0,Object(u.c)({proxyUrl:m.proxyUrl,urlPrefix:Object(u.E)(Object(u.I)(t).path)})}finally{y&&clearTimeout(y)}return[d,b]}function q(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function v(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;if(!t)return!0;if(!t.ok)throw new Error(`Unable to load ${t.url} status: ${t.status}`);let n,s,a,i;r&&r.error&&(n=Object.assign(new Error,r.error)),n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,i=n.messageCode,i=i&&i.toUpperCase());const c=e.params.requestOptions.authMode;if(403===s&&(4===a||n.message&&n.message.toLowerCase().indexOf("ssl")>-1&&-1===n.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===s)&&-1!==y.indexOf(s)&&!T(e.params.url)&&(403!==s||-1===w.indexOf(i)&&(null==a||2===a&&e.credentialToken))){await j();try{const t=await o.c.getCredential(e.params.url,{error:E("request:server",n,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===c)return e.credential=null,e.credentialToken=null,!1;n=t}}if(n)throw n;return!0}function x(e,t,r=!1){const n=t.controller.signal,o=new Image;return t.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.src=e,f(o,e,r,n)}h._abortableFetch=null,h._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var S=Object.freeze({__proto__:null,default:h});t.default=h},35:function(e,t,r){"use strict";r.r(t),r.d(t,"destroyContext",(function(){return m})),r.d(t,"dracoDecompressPointCloudData",(function(){return f})),r.d(t,"filterObbsForModifications",(function(){return d})),r.d(t,"filterObbsForModificationsSync",(function(){return O})),r.d(t,"initialize",(function(){return j})),r.d(t,"interpretObbModificationResults",(function(){return w})),r.d(t,"process",(function(){return l})),r.d(t,"setLegacySchema",(function(){return b})),r.d(t,"setModifications",(function(){return h})),r.d(t,"setModificationsSync",(function(){return p})),r.d(t,"test",(function(){return T}));var n=r(1),o=(r(4),r(18),r(6),r(0)),s=(r(9),r(2),r(10),r(8),r(14),r(27),r(69));function a(e){return Object(s.a)("esri/libs/i3s/"+e)}let i,c,u;async function l(e){await j();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function f(e){var t;await j();const r=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,a=u._malloc(s),i=new Uint8Array(u.HEAPU8.buffer,a,s);i.set(new Uint8Array(o));const c=u.dracoDecompressPointCloudData(a,i.byteLength);if(u._free(a),c.error.length>0)throw"i3s.wasm: "+c.error;const l=(null==(t=c.featureIds)?void 0:t.length)>0?Object(n.l)(c.featureIds):null,f=Object(n.l)(c.positions);return l&&r.push(l.buffer),r.push(f.buffer),{result:{positions:f,featureIds:l},transferList:r}}async function d(e){await j(),O(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function h(e){await j(),p(e)}async function b(e){await j(),u.setLegacySchema(e.context,e.jsonSchema)}function m(e){g(e)}function p(e){const t=e.modifications,r=u._malloc(8*t.length),n=new Float64Array(u.HEAPU8.buffer,r,t.length);for(let e=0;e<t.length;++e)n[e]=t[e];u.setModifications(e.context,r,t.length,e.isGeodetic),u._free(r)}function y(e,t){if(!u)return null;const{context:r,localOrigin:s,globalTrafo:a,mbs:i,obb:c,elevationOffset:l,geometryBuffer:f,geometryDescriptor:d,indexToVertexProjector:h,vertexToRenderProjector:b}=e,m=u._malloc(f.byteLength),p=u._malloc(33*Float64Array.BYTES_PER_ELEMENT),y=new Uint8Array(u.HEAPU8.buffer,m,f.byteLength);y.set(new Uint8Array(f));const w=new Float64Array(u.HEAPU8.buffer,p,33);E(w,s);let O=w.byteOffset+3*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O);E(g,a),O+=16*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O),E(g,i),O+=4*w.BYTES_PER_ELEMENT,Object(o.h)(c)&&(g=new Float64Array(w.buffer,O),E(g,c.center),O+=3*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O),E(g,c.halfSize),O+=3*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O),E(g,c.quaternion));const j=d,T={isDraco:!1,isLegacy:!1,color:e.layouts.some(e=>e.some(e=>"color"===e.name)),normal:e.needNormals&&e.layouts.some(e=>e.some(e=>"normalCompressed"===e.name)),uv0:e.layouts.some(e=>e.some(e=>"uv0"===e.name)),uvRegion:e.layouts.some(e=>e.some(e=>"uvRegion"===e.name)),featureIndex:j.featureIndex},L=u.process(r,!!e.obb,m,y.byteLength,j,T,p,l,h,b,e.normalReferenceFrame);if(u._free(p),u._free(m),L.error.length>0)throw"i3s.wasm: "+L.error;if(L.discarded)return null;const q=L.componentOffsets.length>0?Object(n.l)(L.componentOffsets):null,v=L.featureIds.length>0?Object(n.l)(L.featureIds):null,x=Object(n.l)(L.interleavedVertedData).buffer,S=1===L.indicesType?Object(n.l)(new Uint16Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/2)):Object(n.l)(new Uint32Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/4)),k=Object(n.l)(L.positions),_=1===L.positionIndicesType?Object(n.l)(new Uint16Array(L.positionIndices.buffer,L.positionIndices.byteOffset,L.positionIndices.byteLength/2)):Object(n.l)(new Uint32Array(L.positionIndices.buffer,L.positionIndices.byteOffset,L.positionIndices.byteLength/4)),P={layout:e.layouts[0],interleavedVertexData:x,indices:S,hasColors:L.hasColors,hasModifications:L.hasModifications,positionData:{data:k,indices:_}};return v&&t.push(v.buffer),q&&t.push(q.buffer),t.push(x),t.push(S.buffer),t.push(k.buffer),t.push(_.buffer),{componentOffsets:q,featureIds:v,transformedGeometry:P,obb:L.obb}}function w(e){return 0===e?0:1===e?1:2===e?2:3}function O(e){const{context:t,buffer:r}=e,n=u._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(u.HEAPU8.buffer,n,o),a=new Float64Array(r);s.set(a),u.filterOBBs(t,n,o),a.set(s),u._free(n)}function g(e){u&&u.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function j(){return u?Promise.resolve():(c||(c=(i||(i=new Promise(e=>r.e(77).then(r.bind(null,463)).then((function(e){return e.i})).then(({default:t})=>{const r=t({locateFile:a,onRuntimeInitialized:()=>e(r)});delete r.then})).catch(e=>Promise.reject(e))),i).then(e=>{u=e,c=null})),c)}const T={transform:y,destroy:g}},69:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(6),o=r(0),s=r(8),a=r(14);r(27);const i=o.a.getLogger("esri.assets");function c(e){if(!n.a.assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.a("assets:path-not-set","config.assetsPath is not set");return Object(a.x)(n.a.assetsPath,e)}}});