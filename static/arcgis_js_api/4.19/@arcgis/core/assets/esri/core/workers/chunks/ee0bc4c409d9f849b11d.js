self.webpackChunkRemoteClient([71],{181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return i}));var a=n(2);function r(e,t,n){return Object(a.j)(e.map((e,a)=>t.apply(n,[e,a])))}function l(e,t,n){return Object(a.j)(e.map((e,a)=>t.apply(n,[e,a]))).then(e=>e.map(e=>e.value))}function i(e){return e.then(e=>({ok:!0,value:e})).catch(e=>({ok:!1,error:e}))}function u(e){return e.then(e=>({ok:!0,value:e})).catch(e=>(Object(a.u)(e),{ok:!1,error:e}))}},282:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(13),l=n(181);async function i(e,t,n){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&"unique-value"===i.type&&i.styleOrigin){const u=await Object(l.d)(i.populateFromStyle());if(Object(a.v)(n),!1===u.ok){const n=u.error;t&&t.messages&&t.messages.push(new r.a("renderer:style-reference","Failed to create unique value renderer from style reference: "+n.message,{error:n,context:t})),e.clear("renderer",t.origin)}}}},297:function(e,t,n){"use strict";n.r(t),n.d(t,"load",(function(){return s}));n(11),n(17),n(1),n(19),n(4),n(18),n(6),n(0),n(9),n(3),n(7),n(15),n(16),n(12),n(2),n(10);var a=n(8),r=(n(5),n(13),n(42),n(73),n(74),n(181),n(14),n(48),n(43),n(45),n(44),n(21),n(46),n(57),n(58),n(77),n(27)),l=(n(69),n(51),n(52),n(49),n(54),n(50),n(84),n(88),n(86),n(85),n(87),n(75)),i=n(282),u=n(444),o=n(347);async function s(e,t){const n=e.instance.portalItem;return n&&n.id?(await n.load(t),function(e){const t=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(t.type))throw new a.a("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:t.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,t){const n=e.instance,l=n.portalItem,{url:s,title:d}=l,p=Object(u.a)(l);if("group"===n.type)return n.read({title:d},p),function(e,t){let n;const l=e.portalItem.type;switch(l){case"Feature Service":n=o.a.FeatureLayer;break;case"Stream Service":n=o.a.StreamLayer;break;case"Scene Service":n=o.a.SceneLayer;break;case"Feature Collection":n=o.a.FeatureLayer;break;default:throw new a.a("portal:unsupported-item-type-as-group",`The item type '${l}' is not supported as a 'GroupLayer'`)}let i;return n().then(e=>(i=e,y(t))).then(t=>f(t)>0?c(e,i,t):function(e,t){if(!e.portalItem.url)return Promise.resolve();return Object(r.default)(e.portalItem.url,{responseType:"json",query:{f:"json"}}).then(n=>{var a,r;const l=n.data;function i(e){return{id:e.id,name:e.name}}l&&c(e,t,{layers:null==(a=l.layers)?void 0:a.map(i),tables:null==(r=l.tables)?void 0:r.map(i)})})}(e,i))}(n,e);s&&n.read({url:s},p);const h=await y(e,t);return h&&n.read(h,p),n.resourceReferences={portalItem:l,paths:p.readResourcePaths},n.read({title:d},p),Object(i.a)(n,p)}(e,t)):Promise.resolve()}function c(e,t,n){let a=n.layers||[];const r=n.tables||[];"Feature Collection"===e.portalItem.type&&(a.forEach(e=>{var t;"Table"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&r.push(e)}),a=a.filter(e=>{var t;return"Table"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)})),a.reverse().forEach(a=>{const r=d(e,t,n,a);e.add(r)}),r.reverse().forEach(a=>{const r=d(e,t,n,a);e.tables.add(r)})}function d(e,t,n,a){const r=new t({portalItem:e.portalItem.clone(),layerId:a.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const t={origin:"portal-item",portal:e.portalItem.portal||l.a.getDefault()};r.read(a,t);const i=n.showLegend;null!=i&&r.read({showLegend:i},t)}return r}function y(e,t){if(!1===e.supportsData)return Promise.resolve(void 0);const n=e.instance;return n.portalItem.fetchData("json",t).catch(()=>null).then(e=>{const t=e;let a;if(function(e){return"stream"!==e.type&&"layerId"in e}(n)){let r=!0;return e&&f(t)>0&&(null==n.layerId&&(n.layerId=function(e){const t=e.layers;if(t&&t.length)return t[0].id;const n=e.tables;return n&&n.length?n[0].id:null}(t)),a=function(e,t){const n=e.layers;if(n)for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];const a=e.tables;if(a)for(let e=0;e<a.length;e++)if(a[e].id===t)return a[e];return null}(t,n.layerId),a&&(1===f(t)&&(r=!1),null!=e.showLegend&&(a.showLegend=e.showLegend))),r&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),a}return e})}function f(e){var t,n,a,r;return(null!=(t=null==e||null==(n=e.layers)?void 0:n.length)?t:0)+(null!=(a=null==e||null==(r=e.tables)?void 0:r.length)?a:0)}},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BingMapsLayer:async()=>(await n.e(40).then(n.bind(null,426))).default,BuildingSceneLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(34)]).then(n.bind(null,417))).default,CSVLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(59)]).then(n.bind(null,403))).default,ElevationLayer:async()=>(await n.e(15).then(n.bind(null,358)).then((function(e){return e.E}))).default,FeatureLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(62)]).then(n.bind(null,277))).default,GroupLayer:async()=>(await n.e(37).then(n.bind(null,370))).default,GeoRSSLayer:async()=>(await n.e(41).then(n.bind(null,404))).default,ImageryLayer:async()=>(await Promise.all([n.e(1),n.e(12),n.e(14),n.e(42)]).then(n.bind(null,416))).default,ImageryTileLayer:async()=>(await Promise.all([n.e(1),n.e(12),n.e(14),n.e(67)]).then(n.bind(null,419))).default,IntegratedMeshLayer:async()=>(await n.e(31).then(n.bind(null,420))).default,KMLLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(35)]).then(n.bind(null,423))).default,MapImageLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(11),n.e(45)]).then(n.bind(null,388))).default,MapNotesLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(52)]).then(n.bind(null,424))).default,OpenStreetMapLayer:async()=>(await Promise.all([n.e(10),n.e(161)]).then(n.bind(null,409))).default,PointCloudLayer:async()=>(await n.e(28).then(n.bind(null,418))).default,RouteLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(58)]).then(n.bind(null,410))).default,SceneLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(36)]).then(n.bind(null,411))).default,StreamLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(39)]).then(n.bind(null,412))).default,TileLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(11),n.e(48)]).then(n.bind(null,413))).default,UnknownLayer:async()=>(await n.e(69).then(n.bind(null,414))).default,UnsupportedLayer:async()=>(await n.e(70).then(n.bind(null,415))).default,VectorTileLayer:async()=>(await Promise.all([n.e(20),n.e(30)]).then(n.bind(null,425)).then((function(e){return e.V}))).default,WebTileLayer:async()=>(await n.e(10).then(n.bind(null,369)).then((function(e){return e.a}))).default,WMSLayer:async()=>(await n.e(32).then(n.bind(null,421))).default,WMTSLayer:async()=>(await Promise.all([n.e(10),n.e(162)]).then(n.bind(null,422))).default}},444:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(14),r=n(75);function l(e){return{origin:"portal-item",url:Object(a.I)(e.itemUrl),portal:e.portal||r.a.getDefault(),portalItem:e,readResourcePaths:[]}}}});