self.webpackChunkRemoteClient([39],{145:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(49),n=i(90);const a={inches:Object(n.f)(1,"meters","inches"),feet:Object(n.f)(1,"meters","feet"),"us-feet":Object(n.f)(1,"meters","us-feet"),yards:Object(n.f)(1,"meters","yards"),miles:Object(n.f)(1,"meters","miles"),"nautical-miles":Object(n.f)(1,"meters","nautical-miles"),millimeters:Object(n.f)(1,"meters","millimeters"),centimeters:Object(n.f)(1,"meters","centimeters"),decimeters:Object(n.f)(1,"meters","decimeters"),meters:Object(n.f)(1,"meters","meters"),kilometers:Object(n.f)(1,"meters","kilometers"),"decimal-degrees":1/Object(n.l)(1,"meters",r.b.radius)}},171:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i(1);function r(e){}},175:function(e,t,i){"use strict";function r(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function n(e){return null!=e&&!isNaN(e)&&isFinite(e)}function a(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function s(e,t){const i=t||a(e),r=e.valueUnit||"unknown";return"unknown"===i?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===r?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r}))},181:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s}));var r=i(2);function n(e,t,i){return Object(r.j)(e.map((e,r)=>t.apply(i,[e,r])))}function a(e,t,i){return Object(r.j)(e.map((e,r)=>t.apply(i,[e,r]))).then(e=>e.map(e=>e.value))}function s(e){return e.then(e=>({ok:!0,value:e})).catch(e=>({ok:!1,error:e}))}function o(e){return e.then(e=>({ok:!0,value:e})).catch(e=>(Object(r.u)(e),{ok:!1,error:e}))}},189:function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return b})),i.d(t,"c",(function(){return f})),i.d(t,"d",(function(){return y})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return v})),i.d(t,"g",(function(){return p}));i(11),i(17),i(1),i(19),i(4),i(18),i(6);var r=i(0),n=(i(9),i(3),i(7),i(15),i(16),i(12),i(2),i(10),i(8),i(171)),a=(i(5),i(13),i(68),i(72),i(101),i(42),i(73),i(74),i(14),i(103),i(48),i(43),i(47),i(45),i(44),i(21),i(76),i(46),i(57),i(58),i(77),i(27),i(69),i(51),i(52),i(49),i(54),i(50),i(84),i(88),i(86),i(85),i(87),i(75),i(53),i(56),i(55)),s=(i(65),i(63),i(62),i(60),i(61),i(67),i(59),i(64),i(78),i(71),i(79),i(80),i(82),i(95),i(89),i(105),i(139),i(150),i(125),i(140),i(151),i(141),i(106),i(118),i(119),i(120),i(152),i(153),i(142),i(154),i(155),i(156),i(143),i(144),i(160),i(161),i(162),i(157),i(163),i(93),i(158),i(164),i(165),i(166),i(83),i(146),i(91),i(66),i(70),i(81),i(94),i(96),i(97),i(100),i(92),i(108),i(121),i(122),i(107),i(130),i(109),i(110),i(98),i(102),i(99),i(111),i(112),i(113),i(114),i(115),i(116),i(117),i(104),i(124),i(123),i(131),i(135),i(136),i(132),i(147),i(148),i(149),i(137),i(138),i(133),i(126),i(127),i(128),i(134),i(159),i(167),i(168)),o=i(175),l=(i(90),i(145));const c=r.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=new s.a,d=Math.PI,p=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function b(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"color"===e.type)[0]:e;if(!n)return;if("esri.renderers.visualVariables.ColorVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof t,o=s?null:t,l=o&&o.attributes;let u=s?t:null;const d=n.field,{ipData:p,hasExpression:b}=n.cache;let f=n.cache.compiledFunc;if(!d&&!b){const e=n.stops;return e&&e[0]&&e[0].color}if("number"!=typeof u)if(b){if(!Object(r.h)(i)||!Object(r.h)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,a=t.getViewInfo(e),s=t.createExecContext(o,a);if(!f){const e=t.createSyntaxTree(n.valueExpression);f=t.createFunction(e),n.cache.compiledFunc=f}u=t.executeFunction(f,s)}else l&&(u=l[d]);const y=n.normalizationField,m=l?parseFloat(l[y]):void 0;if(null!=u&&(!y||s||!isNaN(m)&&0!==m)){isNaN(m)||s||(u/=m);const e=h(u,p);if(e){const t=e[0],s=e[1],o=t===s?n.stops[t].color:a.a.blendColors(n.stops[t].color,n.stops[s].color,e[2],Object(r.h)(i)?i.color:void 0);return new a.a(o)}}}function f(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"opacity"===e.type)[0]:e;if(!n)return;if("esri.renderers.visualVariables.OpacityVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const a="number"==typeof t,s=a?null:t,o=s&&s.attributes;let l=a?t:null;const u=n.field,{ipData:d,hasExpression:p}=n.cache;let b=n.cache.compiledFunc;if(!u&&!p){const e=n.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(p){if(Object(r.c)(i)||Object(r.c)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,a=t.getViewInfo(e),o=t.createExecContext(s,a);if(!b){const e=t.createSyntaxTree(n.valueExpression);b=t.createFunction(e),n.cache.compiledFunc=b}l=t.executeFunction(b,o)}else o&&(l=o[u]);const f=n.normalizationField,y=o?parseFloat(o[f]):void 0;if(null!=l&&(!f||a||!isNaN(y)&&0!==y)){isNaN(y)||a||(l/=y);const e=h(l,d);if(e){const t=e[0],i=e[1];if(t===i)return n.stops[t].opacity;{const r=n.stops[t].opacity;return r+(n.stops[i].opacity-r)*e[2]}}}}function y(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"rotation"===e.type)[0]:e;if(!n)return;if("esri.renderers.visualVariables.RotationVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const a=n.axis||"heading",s="heading"===a&&"arithmetic"===n.rotationType?90:0,o="heading"===a&&"arithmetic"===n.rotationType?-1:1,l="number"==typeof t?null:t,u=l&&l.attributes,d=n.field,{hasExpression:p}=n.cache;let b=n.cache.compiledFunc,f=0;if(!d&&!p)return f;if(p){if(Object(r.c)(i)||Object(r.c)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},t=i.arcade.arcadeUtils,a=t.getViewInfo(e),s=t.createExecContext(l,a);if(!b){const e=t.createSyntaxTree(n.valueExpression);b=t.createFunction(e),n.cache.compiledFunc=b}f=t.executeFunction(b,s)}else u&&(f=u[d]||0);return f="number"!=typeof f||isNaN(f)?null:s+o*f,f}function m(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter(e=>"size"===e.type)[0]:e;if(!n)return;if("esri.renderers.visualVariables.SizeVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const a=function(e,t,i,n,a){switch(t.transformationType){case"additive":return function(e,t,i,r){return e+(j(t.minSize,i,r)||t.minDataValue)}(e,t,i,n);case"constant":return function(e,t,i){const r=e.stops;let n=r&&r.length&&r[0].size;return null==n&&(n=e.minSize),j(n,t,i)}(t,i,n);case"clamped-linear":return function(e,t,i,n){const a=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=j(t.minSize,i,n),o=j(t.maxSize,i,n),l=Object(r.h)(n)?n.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&l){const e="circle"===l,t=e?d*(s/2)**2:s*s,i=t+a*((e?d*(o/2)**2:o*o)-t);return e?2*Math.sqrt(i/d):Math.sqrt(i)}return s+a*(o-s)}(e,t,i,n);case"proportional":return function(e,t,i,n){const a=Object(r.h)(n)?n.shape:void 0,s=e/t.minDataValue,o=j(t.minSize,i,n),l=j(t.maxSize,i,n);let c=null;return c="circle"===a?2*Math.sqrt(s*(o/2)**2):"square"===a||"diamond"===a||"image"===a?Math.sqrt(s*o**2):s*o,O(c,o,l)}(e,t,i,n);case"stops":return function(e,t,i,r,n){const[a,s,o]=h(e,n);if(a===s)return j(t.stops[a].size,i,r);{const e=j(t.stops[a].size,i,r);return e+(j(t.stops[s].size,i,r)-e)*o}}(e,t,i,n,a);case"real-world-size":return function(e,t,i,n){const a=(Object(r.h)(n)&&n.resolution?n.resolution:1)*l.a[t.valueUnit],s=j(t.minSize,i,n),o=j(t.maxSize,i,n),{valueRepresentation:c}=t;let u=null;return u="area"===c?2*Math.sqrt(e/d)/a:"radius"===c||"distance"===c?2*e/a:e/a,O(u,s,o)}(e,t,i,n);case"identity":return e;case"unknown":return null}}(function(e,t,i){const n="number"==typeof t,a=n?null:t,s=a&&a.attributes;let l=n?t:null;const{isScaleDriven:u}=e.cache;let d=e.cache.compiledFunc;if(u){const t=Object(r.h)(i)?i.scale:void 0,n=Object(r.h)(i)?i.view:void 0;l=null==t||"3d"===n?function(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}(e):t}else if(!n)switch(e.inputValueType){case"expression":{if(Object(r.c)(i)||Object(r.c)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,s=n.getViewInfo(t),o=n.createExecContext(a,s);if(!d){const t=n.createSyntaxTree(e.valueExpression);d=n.createFunction(t),e.cache.compiledFunc=d}l=n.executeFunction(d,o);break}case"field":s&&(l=s[e.field]);break;case"unknown":l=null}if(!Object(o.b)(l))return null;if(n||!e.normalizationField)return l;const p=s?parseFloat(s[e.normalizationField]):null;return Object(o.b)(p)&&0!==p?l/p:null}(n,t,i),n,t,i,n.cache.ipData);return null==a||isNaN(a)?0:a}function j(e,t,i){return null==e?null:Object(o.d)(e)?m(e,t,i):Object(o.b)(e)?e:null}function O(e,t,i){return Object(o.b)(i)&&e>i?i:Object(o.b)(t)&&e<t?t:e}function v(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&"3d"===i||t))return null;const n={scale:t,view:i};let a=j(e.minSize,u,n),s=j(e.maxSize,u,n);if(null!=a||null!=s){if(a>s){const e=s;s=a,a=e}return{minSize:a,maxSize:s}}}function h(e,t){if(!t)return;let i=0,r=t.length-1;return t.some((t,n)=>e<t?(r=n,!0):(i=n,!1)),[i,r,(e-t[i])/(t[r]-t[i])]}function g(e,t,i){const r=["proportional","proportional","proportional"];for(const a of e){const e=a.useSymbolValue?"symbol-value":m(a,t,i);switch(a.axis){case"width":r[0]=e;break;case"depth":r[1]=e;break;case"height":r[2]=e;break;case"width-and-depth":r[0]=e,r[1]=e;break;case"all":case void 0:case null:r[0]=e,r[1]=e,r[2]=e;break;default:Object(n.a)(a.axis)}}return r}},209:function(e,t,i){"use strict";var r,n=i(11),a=(i(17),i(1),i(19),i(4),i(6),i(0),i(9),i(3),i(7)),s=(i(15),i(16),i(12),i(2),i(10),i(8),i(5),i(13)),o=i(42),l=(i(14),i(43),i(21),i(172));let c=r=class extends o.b{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return this.value*l.b[this.unit]}clone(){return new r({value:this.value,unit:this.unit})}};Object(n.a)([Object(a.d)({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0),Object(n.a)([Object(a.d)({type:l.a.apiValues,json:{type:l.a.jsonValues,read:l.a.read,write:l.a.write},nonNullable:!0})],c.prototype,"unit",void 0),c=r=Object(n.a)([Object(s.g)("esri.TimeInterval")],c);var u=c;t.a=u},235:function(e,t,i){"use strict";var r,n=i(11),a=(i(17),i(1)),s=(i(19),i(4),i(6),i(0),i(9),i(3),i(7)),o=(i(15),i(16),i(12),i(2),i(10),i(8),i(5),i(13)),l=i(42),c=(i(14),i(43),i(45)),u=i(44),d=(i(21),i(172)),p=i(169),b=i(209);let f=r=class extends l.b{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new r({respectsDaylightSaving:e,timezone:t})}};Object(n.a)([Object(s.d)({type:Boolean,json:{write:!0}})],f.prototype,"respectsDaylightSaving",void 0),Object(n.a)([Object(c.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],f.prototype,"readRespectsDaylightSaving",null),Object(n.a)([Object(s.d)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],f.prototype,"timezone",void 0),f=r=Object(n.a)([Object(o.g)("esri.layers.support.TimeReference")],f);var y,m=f;let j=y=class extends l.b{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const i=new Date(t.timeExtent[0]),r=new Date(t.timeExtent[1]);return new p.a({start:i,end:r})}writeFullTimeExtent(e,t){e&&e.start&&e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new b.a({value:t.timeInterval,unit:d.a.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new b.a({value:t.defaultTimeInterval,unit:d.a.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const i=e.toJSON();t.timeInterval=i.value,t.timeIntervalUnits=i.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:i,interval:r,startField:n,timeReference:s,fullTimeExtent:o,trackIdField:l,useTime:c}=this;return new y({cumulative:e,endField:t,hasLiveData:i,interval:r,startField:n,timeReference:Object(a.b)(s),fullTimeExtent:Object(a.b)(o),trackIdField:l,useTime:c})}};Object(n.a)([Object(s.d)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],j.prototype,"cumulative",void 0),Object(n.a)([Object(s.d)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],j.prototype,"endField",void 0),Object(n.a)([Object(s.d)({type:p.a,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"fullTimeExtent",void 0),Object(n.a)([Object(c.a)("fullTimeExtent",["timeExtent"])],j.prototype,"readFullTimeExtent",null),Object(n.a)([Object(u.a)("fullTimeExtent")],j.prototype,"writeFullTimeExtent",null),Object(n.a)([Object(s.d)({type:Boolean,json:{write:!0}})],j.prototype,"hasLiveData",void 0),Object(n.a)([Object(s.d)({type:b.a,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"interval",void 0),Object(n.a)([Object(c.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],j.prototype,"readInterval",null),Object(n.a)([Object(u.a)("interval")],j.prototype,"writeInterval",null),Object(n.a)([Object(s.d)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],j.prototype,"startField",void 0),Object(n.a)([Object(s.d)({type:m,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"timeReference",void 0),Object(n.a)([Object(s.d)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],j.prototype,"trackIdField",void 0),Object(n.a)([Object(s.d)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],j.prototype,"useTime",void 0),j=y=Object(n.a)([Object(o.g)("esri.layers.support.TimeInfo")],j);var O=j;t.a=O},269:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i(11),n=(i(1),i(0),i(7)),a=(i(5),i(13)),s=(i(14),i(45)),o=(i(21),i(89)),l=i(172),c=i(169),u=i(209),d=i(235);const p=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const i=t.timeInfo.exportOptions;if(!i)return null;const r=i.timeOffset,n=l.a.fromJSON(i.timeOffsetUnits);return r&&n?new u.a({value:r,unit:n}):null}set timeInfo(e){Object(o.f)(e,this.fields),this._set("timeInfo",e)}};return Object(r.a)([Object(n.d)({type:c.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(r.a)([Object(n.d)({type:u.a})],t.prototype,"timeOffset",void 0),Object(r.a)([Object(s.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(r.a)([Object(n.d)({value:null,type:d.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(r.a)([Object(n.d)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(r.a)([Object(a.g)("esri.layers.mixins.TemporalLayer")],t),t}},282:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i(2),n=i(13),a=i(181);async function s(e,t,i){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(s&&"unique-value"===s.type&&s.styleOrigin){const o=await Object(a.d)(s.populateFromStyle());if(Object(r.v)(i),!1===o.ok){const i=o.error;t&&t.messages&&t.messages.push(new n.a("renderer:style-reference","Failed to create unique value renderer from style reference: "+i.message,{error:i,context:t})),e.clear("renderer",t.origin)}}}},303:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i(11),n=(i(17),i(1),i(19),i(4),i(6),i(0),i(9),i(3),i(7)),a=(i(15),i(16),i(12),i(2),i(10),i(8),i(5),i(13)),s=i(42);i(14),i(21);let o=class extends s.b{constructor(){super(...arguments),this.type=null}};Object(r.a)([Object(n.d)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=Object(r.a)([Object(a.g)("esri.layers.support.FeatureReduction")],o);var l,c=o;let u=l=class extends c{constructor(e){super(e),this.type="selection"}clone(){return new l}};Object(r.a)([Object(n.d)({type:["selection"]})],u.prototype,"type",void 0),u=l=Object(r.a)([Object(a.g)("esri.layers.support.FeatureReductionSelection")],u);var d=u;t.b=d},304:function(e,t,i){"use strict";var r,n=i(11),a=(i(17),i(1)),s=(i(19),i(4),i(18),i(6),i(0),i(9),i(3),i(7)),o=(i(15),i(16),i(12),i(2),i(10),i(8),i(5),i(13)),l=(i(68),i(72),i(101),i(42)),c=(i(73),i(74),i(14),i(103),i(48),i(43),i(47),i(45),i(44),i(21),i(76),i(46),i(57),i(58),i(77),i(27),i(69),i(51),i(52),i(49),i(54),i(50),i(84),i(88),i(86),i(85),i(87),i(75),i(53),i(56),i(55),i(65),i(63),i(62),i(60),i(61),i(67),i(59),i(64),i(78),i(71),i(79),i(80),i(82),i(95),i(89),i(105),i(139),i(150),i(125),i(140),i(151),i(141),i(106),i(118),i(119),i(120),i(152),i(153),i(142),i(154),i(155),i(156),i(143),i(144),i(160),i(161),i(162),i(157),i(163),i(93),i(158),i(164),i(165),i(166)),u=(i(83),i(146),i(91),i(66)),d=(i(70),i(81),i(94),i(96),i(97),i(100),i(92),i(108),i(121),i(122),i(107),i(130),i(109),i(110),i(98),i(102),i(99),i(111),i(112),i(113),i(114),i(115),i(116),i(117),i(104),i(124),i(123),i(131),i(135),i(136),i(132),i(147),i(148),i(149),i(137),i(138),i(133),i(126),i(127),i(128),i(134),i(159)),p=(i(90),i(145),i(215),i(207),i(172),i(169),i(179),i(180),i(176)),b=(i(268),i(276));i(219),i(256);let f=r=class extends l.b{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new r({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};Object(n.a)([Object(s.d)({type:String,json:{write:!0}})],f.prototype,"statisticType",void 0),Object(n.a)([Object(s.d)({type:String,json:{write:!0}})],f.prototype,"onStatisticField",void 0),Object(n.a)([Object(s.d)({type:String,json:{write:!0}})],f.prototype,"onStatisticValueExpression",void 0),f=r=Object(n.a)([Object(o.g)("esri.layers.support.OutStatistic")],f);var y,m=f;let j=y=class extends l.b{constructor(){super(...arguments),this.name=null}clone(){return new y({name:this.name,outStatistic:this.outStatistic.clone()})}};Object(n.a)([Object(s.d)({type:String,json:{write:!0}})],j.prototype,"name",void 0),Object(n.a)([Object(s.d)({type:m,json:{write:!0}})],j.prototype,"outStatistic",void 0),j=y=Object(n.a)([Object(o.g)("esri.layers.support.AggregateField")],j);var O,v=j;let h=O=class extends l.b{constructor(e){super(e),this.type="cluster",this.clusterRadius=Object(u.e)("80px"),this.clusterMinSize=Object(u.e)("12px"),this.clusterMaxSize=Object(u.e)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new O({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(a.b)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(a.b)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(a.b)(this.popupTemplate)})}};Object(n.a)([Object(s.d)({type:["cluster"],readOnly:!0,json:{write:!0}})],h.prototype,"type",void 0),Object(n.a)([Object(s.d)({type:Number,cast:e=>"auto"===e?e:Object(u.e)(e),json:{write:!0}})],h.prototype,"clusterRadius",void 0),Object(n.a)([Object(s.d)({type:Number,cast:u.e,json:{write:!0}})],h.prototype,"clusterMinSize",void 0),Object(n.a)([Object(s.d)({type:Number,cast:u.e,json:{write:!0}})],h.prototype,"clusterMaxSize",void 0),Object(n.a)([Object(s.d)(p.k)],h.prototype,"popupEnabled",void 0),Object(n.a)([Object(s.d)({type:c.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],h.prototype,"popupTemplate",void 0),Object(n.a)([Object(s.d)({types:d.f})],h.prototype,"symbol",void 0),Object(n.a)([Object(s.d)({type:[b.a],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],h.prototype,"labelingInfo",void 0),Object(n.a)([Object(s.d)(p.h)],h.prototype,"labelsVisible",void 0),Object(n.a)([Object(s.d)({type:[v],json:{write:!0}})],h.prototype,"fields",void 0),h=O=Object(n.a)([Object(o.g)("esri.layers.support.FeatureReductionCluster")],h);var g=h;t.a=g},320:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return c}));var r=i(4),n=i(8),a=i(303),s=i(304);const o={key:"type",base:a.a,typeMap:{selection:a.b}};function l(e,t){const i=(t=t.layerDefinition||t).featureReduction;if(i)switch(i.type){case"selection":return a.b.fromJSON(i);case"cluster":return s.a.fromJSON(i)}return null}function c(e,t,i,a){const s=function(e,t,i){return e?"selection"!==e.type?(i.messages&&i.messages.push(new n.a("featureReduction:unsupported",`FeatureReduction of type '${e.declaredClass}' are not supported in scenes.`,{featureReduction:e,context:i})),null):e.write({},i):null}(e,0,a);s&&Object(r.c)(i,s,t)}},322:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(276);const n=/\[([^\[\]]+)\]/gi;function a(e,t,i){return e?e.map(e=>{const a=new r.a;if(a.read(e,i),a.labelExpression){const e=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;a.labelExpression=a.labelExpression.replace(n,(t,i)=>`[${function(e,t){if(!t)return e;const i=e.toLowerCase();for(let e=0;e<t.length;e++){const r=t[e].name;if(r.toLowerCase()===i)return r}return e}(i,e)}]`)}return a}):null}},412:function(e,t,i){"use strict";i.r(t);var r,n=i(11),a=(i(17),i(1)),s=(i(19),i(4),i(18),i(6),i(0)),o=(i(9),i(3),i(7)),l=(i(15),i(16),i(12),i(2),i(10),i(8)),c=(i(171),i(5)),u=i(13),d=(i(68),i(72),i(101),i(42)),p=(i(73),i(74),i(181),i(14),i(103),i(48),i(43)),b=(i(47),i(45)),f=i(44),y=(i(21),i(76),i(46)),m=(i(57),i(58),i(77),i(27)),j=(i(69),i(51),i(52),i(49),i(54),i(50)),O=(i(84),i(88),i(86),i(85),i(87),i(75),i(186),i(187),i(174),i(53),i(56),i(55),i(65),i(63),i(62),i(60),i(61),i(67),i(59),i(64),i(78),i(71),i(79),i(80),i(82),i(95),i(89)),v=(i(105),i(139),i(150),i(125),i(140),i(151),i(141),i(106),i(118),i(119),i(120),i(152),i(153),i(142),i(154),i(155),i(156),i(143),i(144),i(160),i(161),i(162),i(157),i(163),i(93),i(158),i(164),i(165),i(166)),h=(i(83),i(146),i(91),i(66),i(70),i(81),i(94),i(96),i(97),i(100),i(92),i(108),i(121),i(122),i(107),i(130),i(109),i(110),i(98),i(102),i(99),i(111),i(112),i(113),i(114),i(115),i(116),i(117),i(104),i(124),i(123),i(131),i(135),i(136),i(132),i(147),i(148),i(149),i(137),i(138),i(133),i(126),i(127),i(128),i(134),i(159)),g=(i(167),i(168),i(184)),w=(i(191),i(208),i(220),i(221),i(205),i(206),i(210),i(214),i(226),i(217),i(231),i(232),i(233),i(234),i(227),i(228),i(175),i(90),i(145),i(189),i(236),i(215),i(207),i(245),i(241),i(242),i(225),i(248),i(238),i(239),i(243)),S=(i(198),i(222),i(260),i(261),i(262),i(263),i(264),i(265)),x=i(266),I=(i(172),i(169),i(209),i(178),i(188)),F=(i(204),i(173),i(193)),T=i(179),V=(i(180),i(176)),D=i(170),R=i(249),E=i(203),z=i(192),N=i(229),k=i(194),U=(i(235),i(269)),M=(i(303),i(304),i(268),i(276)),C=(i(219),i(256),i(320)),L=i(211),P=i(322),q=(i(212),i(282)),A=i(270),J=i(197);i(213);let _=r=class extends d.b{constructor(){super(...arguments),this.age=null,this.ageReceived=null,this.displayCount=null,this.maxObservations=1}clone(){return new r({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})}};Object(n.a)([Object(o.d)({type:Number,json:{write:!0}})],_.prototype,"age",void 0),Object(n.a)([Object(o.d)({type:Number,json:{write:!0}})],_.prototype,"ageReceived",void 0),Object(n.a)([Object(o.d)({type:Number,json:{write:!0}})],_.prototype,"displayCount",void 0),Object(n.a)([Object(o.d)({type:Number,json:{write:!0}})],_.prototype,"maxObservations",void 0),_=r=Object(n.a)([Object(u.g)("esri.layers.support.PurgeOptions")],_);var G=_;const W=s.a.getLogger("esri.layers.StreamLayer"),B=new p.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});let $=class extends(Object(E.a)(Object(U.a)(Object(k.a)(Object(N.a)(Object(R.a)(Object(F.a)(Object(z.a)(Object(I.a)(g.a))))))))){constructor(...e){super(...e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.geometryDefinition=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.maxReconnectionAttempts=0,this.maxReconnectionInterval=20,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.operationalLayerType="ArcGISStreamLayer",this.popupEnabled=!0,this.popupTemplate=null,this.purgeOptions=new G,this.screenSizePerspectiveEnabled=!0,this.sourceJSON=null,this.spatialReference=y.f.WGS84,this.type="stream",this.url=null,this.updateInterval=300,this.webSocketUrl=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){if(!("WebSocket"in a.h))return this.addResolvingPromise(Promise.reject(new l.a("stream-layer:websocket-unsupported","WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service."))),Promise.resolve(this);const t=Object(s.h)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Stream Service"]},e).catch(e=>e).then(()=>this._fetchService(t))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}readFeatureReduction(e,t){return Object(C.b)(e,t)}writeWebSceneFeatureReduction(e,t,i,r){Object(C.c)(e,t,"layerDefinition.featureReduction",r)}get fieldsIndex(){return new L.a(this.fields)}set renderer(e){Object(O.e)(e,this.fields),this._set("renderer",e)}readRenderer(e,t,i){const r=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(r){const e=Object(x.c)(r,t,i)||void 0;return e||W.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),e}if(t.defaultSymbol)return t.types&&t.types.length?new w.a({defaultSymbol:Z(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map(e=>({id:e.id,symbol:Z(e.symbol,e,i)}))}):new S.a({symbol:Z(t.defaultSymbol,t,i)})}writeRenderer(e,t,i,r){Object(x.e)(e,t,i,r)}writeWebSceneRenderer(e,t,i,r){Object(x.e)(e,t,"layerDefinition.drawingInfo.renderer",r)}createPopupTemplate(e){return Object(A.a)(this,e)}createQuery(){const e=new J.b;return e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1",e}getFieldDomain(e,t){if(!this.fields)return null;let i=null;return this.fields.some(t=>(t.name===e&&(i=t.domain),!!i)),i}getField(e){return this.fieldsIndex.get(e)}async _fetchService(e){var t;if(this.webSocketUrl){var i;if(null==(i=this.timeInfo)||!i.trackIdField)throw new l.a("stream-layer:missing-metadata","The stream layer trackIdField must be specified.");if(!this.objectIdField)throw new l.a("stream-layer:missing-metadata","The stream layer objectIdField must be specified.");if(!this.fields)throw new l.a("stream-layer:missing-metadata","The stream layer fields must be specified.");if(!this.geometryType)throw new l.a("stream-layer:missing-metadata","The stream layer geometryType must be specified.");this.url=this.webSocketUrl}else if(!this.sourceJSON){const{data:t}=await Object(m.default)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query},responseType:"json",signal:e});this.sourceJSON=t}return this.sourceJSON={...null!=(t=this.sourceJSON)?t:{},objectIdField:"__esri_stream_id__"},this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl}),Object(O.e)(this.renderer,this.fields),Object(O.f)(this.timeInfo,this.fields),Object(q.a)(this,{origin:"service"})}};Object(n.a)([Object(o.d)({type:String})],$.prototype,"copyright",void 0),Object(n.a)([Object(o.d)({readOnly:!0})],$.prototype,"defaultPopupTemplate",null),Object(n.a)([Object(o.d)({type:String,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],$.prototype,"definitionExpression",void 0),Object(n.a)([Object(o.d)({type:String})],$.prototype,"displayField",void 0),Object(n.a)([Object(o.d)({type:T.a})],$.prototype,"elevationInfo",void 0),Object(n.a)([Object(b.a)("featureReduction",["layerDefinition.featureReduction"])],$.prototype,"readFeatureReduction",null),Object(n.a)([Object(f.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:C.a}})],$.prototype,"writeWebSceneFeatureReduction",null),Object(n.a)([Object(o.d)({type:[D.a]})],$.prototype,"fields",void 0),Object(n.a)([Object(o.d)({readOnly:!0})],$.prototype,"fieldsIndex",null),Object(n.a)([Object(o.d)({type:j.b})],$.prototype,"geometryDefinition",void 0),Object(n.a)([Object(o.d)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:B.read}}})],$.prototype,"geometryType",void 0),Object(n.a)([Object(o.d)(V.h)],$.prototype,"labelsVisible",void 0),Object(n.a)([Object(o.d)({type:[M.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:P.a},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],$.prototype,"labelingInfo",void 0),Object(n.a)([Object(o.d)(V.b)],$.prototype,"legendEnabled",void 0),Object(n.a)([Object(o.d)({type:["show","hide"]})],$.prototype,"listMode",void 0),Object(n.a)([Object(o.d)({type:c.a})],$.prototype,"maxReconnectionAttempts",void 0),Object(n.a)([Object(o.d)({type:c.a})],$.prototype,"maxReconnectionInterval",void 0),Object(n.a)([Object(o.d)(V.c)],$.prototype,"maxScale",void 0),Object(n.a)([Object(o.d)(V.i)],$.prototype,"minScale",void 0),Object(n.a)([Object(o.d)({type:String})],$.prototype,"objectIdField",void 0),Object(n.a)([Object(o.d)({value:"ArcGISStreamLayer",type:["ArcGISStreamLayer"]})],$.prototype,"operationalLayerType",void 0),Object(n.a)([Object(o.d)(V.k)],$.prototype,"popupEnabled",void 0),Object(n.a)([Object(o.d)({type:v.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],$.prototype,"popupTemplate",void 0),Object(n.a)([Object(o.d)({type:G})],$.prototype,"purgeOptions",void 0),Object(n.a)([Object(o.d)({types:x.b,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}}},write:{target:"layerDefinition.drawingInfo.renderer"}}})],$.prototype,"renderer",null),Object(n.a)([Object(b.a)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Object(b.a)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],$.prototype,"readRenderer",null),Object(n.a)([Object(f.a)("renderer")],$.prototype,"writeRenderer",null),Object(n.a)([Object(f.a)("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:x.d}})],$.prototype,"writeWebSceneRenderer",null),Object(n.a)([Object(o.d)(V.d)],$.prototype,"screenSizePerspectiveEnabled",void 0),Object(n.a)([Object(o.d)({type:y.f,json:{origins:{service:{read:{source:"spatialReference"}}}}})],$.prototype,"spatialReference",void 0),Object(n.a)([Object(o.d)({json:{read:!1}})],$.prototype,"type",void 0),Object(n.a)([Object(o.d)(V.n)],$.prototype,"url",void 0),Object(n.a)([Object(o.d)({type:Number})],$.prototype,"updateInterval",void 0),Object(n.a)([Object(o.d)({type:String})],$.prototype,"webSocketUrl",void 0),$=Object(n.a)([Object(u.g)("esri.layers.StreamLayer")],$);const Z=Object(u.d)({types:h.i});var Q=$;t.default=Q}});